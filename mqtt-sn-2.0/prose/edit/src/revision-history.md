<!--
---
toc:
  auto: false
  label: Revision History
  enumerate: Appendix D.
---
-->
# Revision History

| Revision | Date               | Editor                                      | Changes Made                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|:---------|:-------------------|:--------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| WD-01    | 27th February 2020 | Andrew Banks                                | Merge Initial Document and Input Specification                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| WD-02    | 4th April 2020     | Andrew Banks, Rahul Gupta                   | Terminology, DataTypes, CONNECT packet, Specification Diagrams                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| WD-05    | 21st February 2021 | Simon Johnson                               | Packet Diagrams, Bit Tables, Field Definitions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| WD-06    | 10th March 2021    | Simon Johnson                               | Sleeping client operational behavior, Terminology changes, 13 JIRA resolutions added to specification, Section numbering changes                                                                                                                                                                                                                                                                                                                                                                                                             |
| WD-07    | 15th March 2021    | Simon Johnson                               | Added 4 byte (32 bit) integer description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| WD-08    | 26th March 2021    | Simon Johnson                               | Added max packet size to CONNECT, Added Session Expiry Interval to CONNACK, Removed ZigBee references, Removed capabilities flag from CONNECT, AUTH packet added along with Authentication operational behavior. Standardized page margins                                                                                                                                                                                                                                                                                                   |
| WD-09    | 05th May 2021      | Simon Johnson                               | Added long topic type to topicIdTypes, updated PUBLISH to accommodate new topic type, added topic type matrix                                                                                                                                                                                                                                                                                                                                                                                                                                |
| WD-10    | October 2021       | Simon Johnson                               | Document format aligned with core specification, removal of introduction, addition of packet ID table, adding error code                                                                                                                                                                                                                                                                                                                                                                                                                     |
| WD-11    | October 2021       | Simon Johnson                               | MQTT-SN Architecture moved into operational behavior, removal of variable integer definition, addition of session state section, normative comments added to sleeping client operational behaviour                                                                                                                                                                                                                                                                                                                                           |
| WD-12    | November 2021      | Andrew Banks                                | Rework 1.5 Background                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| WD-13    | November 2021      | Simon Johnson                               | Move Authentication and Retained messages into operational behavior, rationalized tables and figures, separated packet definitions of similar structures into distinct sections.                                                                                                                                                                                                                                                                                                                                                             |
| WD-14    | Decmeber 2021      | Simon Johnson                               | First implementation attempt, Fixed table references, Fixed PingResp packet                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| WD-15    | December 2021      | Simon Johnson                               | Tara added as editor, return code additions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| WD-15    | February 2022      | Tara Walker                                 | Changed Return Code nomenclature to be more consistent w/5.0. Added Reason Codes to each control packet type                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| WD-16    | March 2022         | Tara Walker                                 | Updated WILL\* Types to correct Packet Type. Added Global Flags Table to Section 2. Updated each Control Packet Flags in Section 3 adding missing Flag Sections. Formatting: Auto update of Table numbering, Auto update of WD Revision numbering for footer.                                                                                                                                                                                                                                                                                |
| WD-17    | April 2022         | Simon Johnson                               | Updated use of topic name and topic filter to be aligned with MQTT 5. Topic alias becomes topic alias type. Added quality of service protocol flow as it differed to MQTT 5 (inflight). Conformance references removed as these will need to be wholly owned OR externally referenced.                                                                                                                                                                                                                                                       |
| WD-18    | June 2022          | Tara Walker                                 | Updated items based upon the feedback from Alex Kritikos.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| WD-19    | August 2022        | Simon Johnson                               | Remove change tracking as document was becoming unworkable.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| WD-20    | September 2022     | Simon Johnson                               | Integrate feedback from committee meeting relating to the work by Miroslav Prymek. Added resolution of CONNACK session present per MQTT 585                                                                                                                                                                                                                                                                                                                                                                                                  |
| WD-21    | October 2022       | Simon Johnson                               | Client States section added to describe the 5 states. Updated the state transition diagram to accommodate new disconnect field and new transitions between Awake -> Lost and Asleep -> Disconnected. Security section added. Figure 2 – MQTT-SN Architecture diagram updated. Font updated to Arial from bespoke font. QoS -1 – Section added to the QoS chapter (NOTE: updated text to allow for bi-directional -1 PUBLISHING). Introduction of Exponential backoff algorithm. Applied issue issue 587 (max messages set in CONNECT flags). |
| WD-22    | November 2022      | Simon Johnson                               | Integrate MQTT 591 (sleep behavior). Replace instances of "return code" to "reason code". PINGREQ timeout aligned with Tretry (15 seconds) from the ill defined "reasonable amount of time". Exponential Algo fix (using the factor n assuming it was the product!). Client Identifier size clarification. Publish variants added; distinguish variant based on QoS field to save 2 bytes for single flight PUBLISH packets. Incorporated B4. Into retry timer.                                                                              |
| WD-23    | December 2022      | Simon Johnson                               | CONNECT Client Identifier Informative and Normative définition update. CONNACK Client Identifier Informative and Normative définition update. CONNACK reason codes updated. KeepAlive boundary specified removing 0 as an option per the committee call. Added Session Expiry "reasonable" setting statement. Added sequence diagrams for CONNECT, CONNECT with WILL, CONNECT with AUTH. Network Connection Section (IANA Omitted but we need to add this to agenda)                                                                         |
| WD-24    | December 2022      | Simon Johnson, Davide Lenzarini, Ian Craggs | Removal of Network Connection references. Modified PUBLISH -1 and 0 tables to remove topic length field. Modified PUBLISH 1 and 2 tables to remove topic length field. Changed Data field description on the former. Updated sleeping device section. Ensured the references to the Packet Length and type section was consistent in all packet types.                                                                                                                                                                                       |
| WD-25    | January 2023       | Simon Johnson                               | Broken out PUBLISH -1 into its own packet type. Disconnect flags field moved and added existence flags for optional fields. Introduction titles changed to better sign post where the information resides in the document.                                                                                                                                                                                                                                                                                                                   |
| WD-26    | May 2023           | Simon Johnson, Davide Lenzarini             | Backwards compatible PUBLISH -1, new OOS Publish message to repace it. Removal of security section to allow to rewrite.                                                                                                                                                                                                                                                                                                                                                                                                                      |
| WD-27    | November 2023      | Simon Johnson, Davide Lenzarini             | Network Transport Layer chapter updated to define the impact of lower layers features on the MQTT-SN protocol. Replaced the term MQTT-SN "connection" with the term "Virtual Connection".                                                                                                                                                                                                                                                                                                                                                    |
| WD-28    | December 2023      | Davide Lenzarini, Stefan Hagen              | Ensured document structure is intact and replaced table footnotes with simple text tags and a subsequent notes listing.                                                                                                                                                                                                                                                                                                                                                                                                                      |
|          | February 2024      | Ian Craggs, Simon Johnson                   | Issue 560 resolution - full reason code table and add reason code fields to PUBREC, PUBREL and PUBCOMP. Duplicate reason code tables removed from packet descriptions. Will Data Sent in CONNECT. Auth Data Sent in CONNECT and CONNACK. Suback granted QoS 0,1,2 now reason codes not flags. Moved PUBLISH -1 to new Backward compatibility appendix.                                                                                                                                                                                       |


-------
