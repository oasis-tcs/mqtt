<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=cXxCiXacHPaqkz2Db3A6gDkoSpMNqERXUQJVKxk4yX3-SYK_Ln3uQOimoUBe-l5o);.lst-kix_list_2-1>li{counter-increment:lst-ctn-kix_list_2-1}ul.lst-kix_6d2m9fwaddjh-3{list-style-type:none}ul.lst-kix_6d2m9fwaddjh-4{list-style-type:none}ul.lst-kix_6d2m9fwaddjh-5{list-style-type:none}ul.lst-kix_6d2m9fwaddjh-6{list-style-type:none}ul.lst-kix_6d2m9fwaddjh-7{list-style-type:none}ul.lst-kix_6d2m9fwaddjh-8{list-style-type:none}ul.lst-kix_list_9-3{list-style-type:none}ul.lst-kix_list_9-4{list-style-type:none}ul.lst-kix_list_9-1{list-style-type:none}ul.lst-kix_list_9-2{list-style-type:none}ul.lst-kix_list_9-7{list-style-type:none}ul.lst-kix_list_9-8{list-style-type:none}ul.lst-kix_list_9-5{list-style-type:none}ul.lst-kix_list_9-6{list-style-type:none}ol.lst-kix_list_2-3.start{counter-reset:lst-ctn-kix_list_2-3 0}ul.lst-kix_list_9-0{list-style-type:none}.lst-kix_6d2m9fwaddjh-5>li:before{content:"\0025a0   "}.lst-kix_6d2m9fwaddjh-7>li:before{content:"\0025cb   "}.lst-kix_6d2m9fwaddjh-6>li:before{content:"\0025cf   "}.lst-kix_6d2m9fwaddjh-1>li:before{content:"\0025cb   "}.lst-kix_6d2m9fwaddjh-0>li:before{content:"\0025cf   "}.lst-kix_6d2m9fwaddjh-8>li:before{content:"\0025a0   "}.lst-kix_list_29-8>li{counter-increment:lst-ctn-kix_list_29-8}ul.lst-kix_6d2m9fwaddjh-0{list-style-type:none}ul.lst-kix_6d2m9fwaddjh-1{list-style-type:none}.lst-kix_6d2m9fwaddjh-2>li:before{content:"\0025a0   "}ul.lst-kix_6d2m9fwaddjh-2{list-style-type:none}.lst-kix_list_18-8>li{counter-increment:lst-ctn-kix_list_18-8}.lst-kix_6d2m9fwaddjh-3>li:before{content:"\0025a0   "}ol.lst-kix_list_26-7.start{counter-reset:lst-ctn-kix_list_26-7 0}.lst-kix_6d2m9fwaddjh-4>li:before{content:"\0025a0   "}.lst-kix_list_32-8>li{counter-increment:lst-ctn-kix_list_32-8}.lst-kix_list_24-7>li:before{content:"o  "}ul.lst-kix_list_27-0{list-style-type:none}ul.lst-kix_list_27-1{list-style-type:none}.lst-kix_list_24-8>li:before{content:"\0025aa   "}ul.lst-kix_list_27-2{list-style-type:none}.lst-kix_list_24-2>li:before{content:"\0025aa   "}.lst-kix_list_24-3>li:before{content:"\0025cf   "}li.li-bullet-13:before{margin-left:-14.2pt;white-space:nowrap;display:inline-block;min-width:14.2pt}.lst-kix_list_24-4>li:before{content:"o  "}ul.lst-kix_list_27-3{list-style-type:none}.lst-kix_list_24-5>li:before{content:"\0025aa   "}ul.lst-kix_list_27-4{list-style-type:none}ul.lst-kix_list_27-5{list-style-type:none}ul.lst-kix_list_27-6{list-style-type:none}ul.lst-kix_list_27-7{list-style-type:none}ul.lst-kix_list_27-8{list-style-type:none}.lst-kix_list_24-6>li:before{content:"\0025cf   "}.lst-kix_list_23-6>li:before{content:"\0025cf   "}.lst-kix_j09mzo5bjkyy-2>li{counter-increment:lst-ctn-kix_j09mzo5bjkyy-2}.lst-kix_list_6-5>li{counter-increment:lst-ctn-kix_list_6-5}.lst-kix_list_23-3>li:before{content:"\0025cf   "}.lst-kix_list_23-7>li:before{content:"o  "}.lst-kix_list_23-2>li:before{content:"\0025aa   "}ul.lst-kix_list_16-2{list-style-type:none}ul.lst-kix_list_16-1{list-style-type:none}ul.lst-kix_list_16-0{list-style-type:none}.lst-kix_list_23-0>li:before{content:"\0025cf   "}.lst-kix_list_23-8>li:before{content:"\0025aa   "}.lst-kix_list_3-6>li{counter-increment:lst-ctn-kix_list_3-6}.lst-kix_list_23-1>li:before{content:"o  "}.lst-kix_list_24-1>li:before{content:"o  "}ul.lst-kix_list_16-8{list-style-type:none}ul.lst-kix_list_16-7{list-style-type:none}ul.lst-kix_list_16-6{list-style-type:none}.lst-kix_list_2-8>li{counter-increment:lst-ctn-kix_list_2-8}ul.lst-kix_list_16-5{list-style-type:none}.lst-kix_list_24-0>li:before{content:"\0025cf   "}ul.lst-kix_list_16-4{list-style-type:none}ul.lst-kix_list_16-3{list-style-type:none}ol.lst-kix_list_26-2.start{counter-reset:lst-ctn-kix_list_26-2 0}.lst-kix_list_23-4>li:before{content:"o  "}.lst-kix_list_23-5>li:before{content:"\0025aa   "}ol.lst-kix_list_31-2.start{counter-reset:lst-ctn-kix_list_31-2 -1}.lst-kix_list_22-2>li:before{content:"\0025aa   "}.lst-kix_list_22-6>li:before{content:"\0025cf   "}.lst-kix_list_22-0>li:before{content:"\0025cf   "}.lst-kix_list_22-8>li:before{content:"\0025aa   "}ol.lst-kix_list_3-0.start{counter-reset:lst-ctn-kix_list_3-0 0}.lst-kix_list_22-4>li:before{content:"o  "}ol.lst-kix_list_32-8.start{counter-reset:lst-ctn-kix_list_32-8 0}ol.lst-kix_list_29-2.start{counter-reset:lst-ctn-kix_list_29-2 0}.lst-kix_list_25-5>li:before{content:"\0025aa   "}.lst-kix_list_25-7>li:before{content:"o  "}.lst-kix_list_3-5>li{counter-increment:lst-ctn-kix_list_3-5}ol.lst-kix_list_18-3.start{counter-reset:lst-ctn-kix_list_18-3 0}ol.lst-kix_list_18-7{list-style-type:none}ol.lst-kix_list_18-8{list-style-type:none}ol.lst-kix_list_18-3{list-style-type:none}ol.lst-kix_list_18-4{list-style-type:none}.lst-kix_list_6-4>li{counter-increment:lst-ctn-kix_list_6-4}ol.lst-kix_list_18-5{list-style-type:none}ol.lst-kix_list_18-6{list-style-type:none}ul.lst-kix_ax9goacoh25q-7{list-style-type:none}ul.lst-kix_ax9goacoh25q-6{list-style-type:none}ol.lst-kix_list_18-0{list-style-type:none}ul.lst-kix_ax9goacoh25q-5{list-style-type:none}ol.lst-kix_list_18-1{list-style-type:none}ul.lst-kix_ax9goacoh25q-4{list-style-type:none}ol.lst-kix_list_18-2{list-style-type:none}ul.lst-kix_ax9goacoh25q-3{list-style-type:none}ul.lst-kix_ax9goacoh25q-2{list-style-type:none}ul.lst-kix_ax9goacoh25q-1{list-style-type:none}ul.lst-kix_ax9goacoh25q-0{list-style-type:none}ol.lst-kix_list_2-8.start{counter-reset:lst-ctn-kix_list_2-8 0}ul.lst-kix_ax9goacoh25q-8{list-style-type:none}ol.lst-kix_list_29-8{list-style-type:none}ol.lst-kix_list_29-7{list-style-type:none}.lst-kix_i3m7qsdqkcat-3>li:before{content:"\0025cf   "}ol.lst-kix_list_29-4{list-style-type:none}.lst-kix_i3m7qsdqkcat-5>li:before{content:"\0025a0   "}ol.lst-kix_list_29-3{list-style-type:none}ol.lst-kix_list_29-6{list-style-type:none}ol.lst-kix_list_29-5{list-style-type:none}ol.lst-kix_list_29-0{list-style-type:none}.lst-kix_i3m7qsdqkcat-7>li:before{content:"\0025cb   "}ol.lst-kix_list_29-2{list-style-type:none}ol.lst-kix_list_29-1{list-style-type:none}ol.lst-kix_list_6-0.start{counter-reset:lst-ctn-kix_list_6-0 0}ol.lst-kix_list_3-1{list-style-type:none}ol.lst-kix_list_3-2{list-style-type:none}ol.lst-kix_list_3-3{list-style-type:none}ol.lst-kix_list_3-4.start{counter-reset:lst-ctn-kix_list_3-4 0}ol.lst-kix_list_3-4{list-style-type:none}ol.lst-kix_j09mzo5bjkyy-8.start{counter-reset:lst-ctn-kix_j09mzo5bjkyy-8 0}ol.lst-kix_list_3-0{list-style-type:none}ul.lst-kix_list_5-7{list-style-type:none}ul.lst-kix_list_5-8{list-style-type:none}ul.lst-kix_list_5-5{list-style-type:none}ul.lst-kix_list_5-6{list-style-type:none}ol.lst-kix_list_32-4.start{counter-reset:lst-ctn-kix_list_32-4 0}.lst-kix_list_21-8>li:before{content:"\0025aa   "}.lst-kix_list_26-5>li:before{content:"" counter(lst-ctn-kix_list_26-5,lower-roman) ". "}ul.lst-kix_list_5-0{list-style-type:none}ol.lst-kix_list_18-2.start{counter-reset:lst-ctn-kix_list_18-2 0}ul.lst-kix_list_5-3{list-style-type:none}ol.lst-kix_list_3-5{list-style-type:none}ul.lst-kix_list_5-4{list-style-type:none}ol.lst-kix_list_3-6{list-style-type:none}.lst-kix_list_26-8>li:before{content:"" counter(lst-ctn-kix_list_26-8,lower-roman) ". "}ul.lst-kix_list_5-1{list-style-type:none}ol.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_5-2{list-style-type:none}ol.lst-kix_list_3-8{list-style-type:none}ol.lst-kix_j09mzo5bjkyy-2.start{counter-reset:lst-ctn-kix_j09mzo5bjkyy-2 0}.lst-kix_ax9goacoh25q-6>li:before{content:"\0025cf   "}.lst-kix_ax9goacoh25q-5>li:before{content:"\0025a0   "}.lst-kix_list_21-0>li:before{content:"\0025cf   "}.lst-kix_list_26-1>li:before{content:"" counter(lst-ctn-kix_list_26-1,lower-latin) ". "}.lst-kix_i3m7qsdqkcat-1>li:before{content:"\0025cb   "}.lst-kix_list_21-1>li:before{content:"o  "}.lst-kix_i3m7qsdqkcat-0>li:before{content:"\0025cf   "}.lst-kix_ax9goacoh25q-2>li:before{content:"\0025a0   "}.lst-kix_list_26-4>li:before{content:"" counter(lst-ctn-kix_list_26-4,lower-latin) ". "}.lst-kix_ax9goacoh25q-1>li:before{content:"\0025cb   "}.lst-kix_list_21-5>li:before{content:"\0025aa   "}.lst-kix_list_21-4>li:before{content:"o  "}.lst-kix_list_26-0>li:before{content:"" counter(lst-ctn-kix_list_26-0,decimal) ") "}.lst-kix_list_31-4>li{counter-increment:lst-ctn-kix_list_31-4}ul.lst-kix_list_23-0{list-style-type:none}ul.lst-kix_list_23-1{list-style-type:none}ul.lst-kix_list_23-2{list-style-type:none}ul.lst-kix_list_23-3{list-style-type:none}ul.lst-kix_list_23-4{list-style-type:none}.lst-kix_list_31-2>li{counter-increment:lst-ctn-kix_list_31-2}ul.lst-kix_list_23-5{list-style-type:none}ul.lst-kix_list_23-6{list-style-type:none}ol.lst-kix_list_26-3.start{counter-reset:lst-ctn-kix_list_26-3 0}.lst-kix_hbgswhx4wjqh-0>li:before{content:"\0025cf   "}.lst-kix_list_25-1>li:before{content:"o  "}ul.lst-kix_list_23-7{list-style-type:none}.lst-kix_list_25-0>li:before{content:"\0025cf   "}ul.lst-kix_list_23-8{list-style-type:none}ol.lst-kix_list_31-1.start{counter-reset:lst-ctn-kix_list_31-1 -1}.lst-kix_hbgswhx4wjqh-7>li:before{content:"\0025cb   "}.lst-kix_hbgswhx4wjqh-8>li:before{content:"\0025a0   "}ul.lst-kix_list_12-6{list-style-type:none}ul.lst-kix_list_12-5{list-style-type:none}ul.lst-kix_list_12-4{list-style-type:none}ul.lst-kix_list_12-3{list-style-type:none}ul.lst-kix_list_12-2{list-style-type:none}ul.lst-kix_list_12-1{list-style-type:none}ul.lst-kix_list_12-0{list-style-type:none}ul.lst-kix_list_12-8{list-style-type:none}ul.lst-kix_list_12-7{list-style-type:none}.lst-kix_hbgswhx4wjqh-3>li:before{content:"\0025cf   "}ol.lst-kix_j09mzo5bjkyy-7.start{counter-reset:lst-ctn-kix_j09mzo5bjkyy-7 0}.lst-kix_hbgswhx4wjqh-4>li:before{content:"\0025cb   "}.lst-kix_list_2-2>li{counter-increment:lst-ctn-kix_list_2-2}.lst-kix_buzsf0a169o4-4>li:before{content:"\0025a0   "}.lst-kix_list_3-7>li{counter-increment:lst-ctn-kix_list_3-7}.lst-kix_list_26-2>li{counter-increment:lst-ctn-kix_list_26-2}.lst-kix_list_22-5>li:before{content:"\0025aa   "}.lst-kix_buzsf0a169o4-0>li:before{content:"\0025cf   "}.lst-kix_buzsf0a169o4-8>li:before{content:"\0025a0   "}.lst-kix_list_22-1>li:before{content:"o  "}.lst-kix_list_27-4>li:before{content:"o  "}.lst-kix_list_6-6>li{counter-increment:lst-ctn-kix_list_6-6}ul.lst-kix_list_7-5{list-style-type:none}ul.lst-kix_list_7-6{list-style-type:none}ul.lst-kix_list_7-3{list-style-type:none}ul.lst-kix_list_7-4{list-style-type:none}ul.lst-kix_list_7-7{list-style-type:none}ul.lst-kix_list_7-8{list-style-type:none}ol.lst-kix_list_26-8.start{counter-reset:lst-ctn-kix_list_26-8 0}ul.lst-kix_list_7-1{list-style-type:none}ul.lst-kix_list_7-2{list-style-type:none}.lst-kix_list_27-0>li:before{content:"\0025cf   "}ul.lst-kix_list_7-0{list-style-type:none}li.li-bullet-3:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_32-0>li{counter-increment:lst-ctn-kix_list_32-0}ol.lst-kix_list_2-2.start{counter-reset:lst-ctn-kix_list_2-2 0}ul.lst-kix_8ejhqyejklgr-1{list-style-type:none}.lst-kix_list_25-4>li:before{content:"o  "}ul.lst-kix_8ejhqyejklgr-2{list-style-type:none}ul.lst-kix_8ejhqyejklgr-3{list-style-type:none}ul.lst-kix_8ejhqyejklgr-4{list-style-type:none}ul.lst-kix_8ejhqyejklgr-0{list-style-type:none}.lst-kix_list_25-8>li:before{content:"\0025aa   "}ul.lst-kix_8ejhqyejklgr-5{list-style-type:none}ul.lst-kix_8ejhqyejklgr-6{list-style-type:none}ul.lst-kix_8ejhqyejklgr-7{list-style-type:none}ul.lst-kix_8ejhqyejklgr-8{list-style-type:none}ul.lst-kix_list_25-0{list-style-type:none}ul.lst-kix_list_25-1{list-style-type:none}ul.lst-kix_list_25-2{list-style-type:none}ol.lst-kix_list_26-6.start{counter-reset:lst-ctn-kix_list_26-6 0}ul.lst-kix_list_25-3{list-style-type:none}ul.lst-kix_list_25-4{list-style-type:none}li.li-bullet-8:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_20-5>li:before{content:"\0025aa   "}.lst-kix_list_28-8>li:before{content:"\0025aa   "}ul.lst-kix_list_25-5{list-style-type:none}ul.lst-kix_list_25-6{list-style-type:none}.lst-kix_list_20-1>li:before{content:"o  "}ul.lst-kix_list_25-7{list-style-type:none}ul.lst-kix_list_25-8{list-style-type:none}ol.lst-kix_j09mzo5bjkyy-3.start{counter-reset:lst-ctn-kix_j09mzo5bjkyy-3 0}.lst-kix_list_28-4>li:before{content:"o  "}ol.lst-kix_list_3-5.start{counter-reset:lst-ctn-kix_list_3-5 0}.lst-kix_i3m7qsdqkcat-4>li:before{content:"\0025cb   "}ul.lst-kix_list_14-4{list-style-type:none}ul.lst-kix_list_14-3{list-style-type:none}ul.lst-kix_list_14-2{list-style-type:none}ol.lst-kix_list_32-3.start{counter-reset:lst-ctn-kix_list_32-3 0}ul.lst-kix_list_14-1{list-style-type:none}ul.lst-kix_list_14-0{list-style-type:none}ul.lst-kix_list_14-8{list-style-type:none}ul.lst-kix_list_14-7{list-style-type:none}.lst-kix_list_18-1>li{counter-increment:lst-ctn-kix_list_18-1}.lst-kix_i3m7qsdqkcat-8>li:before{content:"\0025a0   "}ul.lst-kix_list_14-6{list-style-type:none}ul.lst-kix_list_14-5{list-style-type:none}.lst-kix_list_28-0>li:before{content:"\0025cf   "}.lst-kix_list_32-7>li{counter-increment:lst-ctn-kix_list_32-7}.lst-kix_list_27-8>li:before{content:"\0025aa   "}.lst-kix_list_29-1>li{counter-increment:lst-ctn-kix_list_29-1}ol.lst-kix_list_32-7.start{counter-reset:lst-ctn-kix_list_32-7 0}.lst-kix_list_19-1>li:before{content:"o  "}ul.lst-kix_list_1-0{list-style-type:none}.lst-kix_list_19-4>li:before{content:"o  "}.lst-kix_list_31-5>li{counter-increment:lst-ctn-kix_list_31-5}.lst-kix_list_19-3>li:before{content:"\0025cf   "}ol.lst-kix_list_6-6.start{counter-reset:lst-ctn-kix_list_6-6 0}.lst-kix_list_32-6>li{counter-increment:lst-ctn-kix_list_32-6}ol.lst-kix_list_29-6.start{counter-reset:lst-ctn-kix_list_29-6 0}ul.lst-kix_list_1-3{list-style-type:none}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}.lst-kix_list_26-7>li{counter-increment:lst-ctn-kix_list_26-7}.lst-kix_list_19-6>li:before{content:"\0025cf   "}.lst-kix_list_32-2>li{counter-increment:lst-ctn-kix_list_32-2}ol.lst-kix_list_31-8{list-style-type:none}ol.lst-kix_list_31-5{list-style-type:none}ol.lst-kix_list_31-4{list-style-type:none}ol.lst-kix_list_31-7{list-style-type:none}ol.lst-kix_list_31-6{list-style-type:none}ol.lst-kix_list_31-1{list-style-type:none}ol.lst-kix_list_31-3{list-style-type:none}ol.lst-kix_list_31-2{list-style-type:none}.lst-kix_list_18-3>li{counter-increment:lst-ctn-kix_list_18-3}.lst-kix_list_18-0>li:before{content:"" counter(lst-ctn-kix_list_18-0,decimal) ". "}.lst-kix_list_3-0>li{counter-increment:lst-ctn-kix_list_3-0}.lst-kix_list_18-2>li:before{content:"" counter(lst-ctn-kix_list_18-2,lower-roman) ". "}.lst-kix_list_26-0>li{counter-increment:lst-ctn-kix_list_26-0}li.li-bullet-2:before{margin-left:-47.2pt;white-space:nowrap;display:inline-block;min-width:47.2pt}.lst-kix_list_27-1>li:before{content:"o  "}.lst-kix_list_27-3>li:before{content:"\0025cf   "}.lst-kix_buzsf0a169o4-5>li:before{content:"\0025a0   "}.lst-kix_buzsf0a169o4-7>li:before{content:"\0025cb   "}.lst-kix_list_18-8>li:before{content:"" counter(lst-ctn-kix_list_18-8,lower-roman) ". "}.lst-kix_j09mzo5bjkyy-4>li{counter-increment:lst-ctn-kix_j09mzo5bjkyy-4}.lst-kix_list_10-7>li:before{content:"o  "}.lst-kix_list_10-5>li:before{content:"\0025aa   "}ol.lst-kix_list_18-6.start{counter-reset:lst-ctn-kix_list_18-6 0}.lst-kix_list_29-3>li{counter-increment:lst-ctn-kix_list_29-3}.lst-kix_list_9-2>li:before{content:"\0025aa   "}.lst-kix_list_31-1>li{counter-increment:lst-ctn-kix_list_31-1}.lst-kix_list_9-0>li:before{content:"\002022   "}ul.lst-kix_list_21-1{list-style-type:none}ul.lst-kix_list_21-2{list-style-type:none}ul.lst-kix_list_21-3{list-style-type:none}ul.lst-kix_list_21-4{list-style-type:none}ul.lst-kix_list_21-5{list-style-type:none}ul.lst-kix_list_21-6{list-style-type:none}ul.lst-kix_list_21-7{list-style-type:none}ul.lst-kix_list_21-8{list-style-type:none}.lst-kix_list_11-3>li:before{content:"\0025cf   "}ul.lst-kix_list_21-0{list-style-type:none}.lst-kix_list_6-3>li{counter-increment:lst-ctn-kix_list_6-3}ol.lst-kix_list_18-4.start{counter-reset:lst-ctn-kix_list_18-4 0}ol.lst-kix_list_29-1.start{counter-reset:lst-ctn-kix_list_29-1 0}.lst-kix_list_29-1>li:before{content:"" counter(lst-ctn-kix_list_29-1,decimal) ". "}.lst-kix_list_20-4>li:before{content:"o  "}ol.lst-kix_list_6-1.start{counter-reset:lst-ctn-kix_list_6-1 0}.lst-kix_list_29-3>li:before{content:"" counter(lst-ctn-kix_list_29-3,decimal) ". "}.lst-kix_list_20-2>li:before{content:"\0025aa   "}.lst-kix_list_9-8>li:before{content:"\0025aa   "}ul.lst-kix_list_10-0{list-style-type:none}.lst-kix_list_28-7>li:before{content:"o  "}ul.lst-kix_list_10-8{list-style-type:none}.lst-kix_list_1-7>li:before{content:" "}ul.lst-kix_list_10-7{list-style-type:none}ul.lst-kix_list_10-6{list-style-type:none}ul.lst-kix_list_10-5{list-style-type:none}ul.lst-kix_list_10-4{list-style-type:none}.lst-kix_list_1-5>li:before{content:" "}ul.lst-kix_list_10-3{list-style-type:none}.lst-kix_list_28-5>li:before{content:"\0025aa   "}ul.lst-kix_list_10-2{list-style-type:none}ul.lst-kix_list_10-1{list-style-type:none}.lst-kix_list_2-1>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) "." counter(lst-ctn-kix_list_2-1,decimal) " "}.lst-kix_list_2-3>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) "." counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) " "}.lst-kix_list_30-4>li:before{content:"o  "}.lst-kix_list_3-2>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) "." counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) " "}.lst-kix_list_26-7>li:before{content:"" counter(lst-ctn-kix_list_26-7,lower-latin) ". "}.lst-kix_list_8-1>li:before{content:"o  "}.lst-kix_list_6-0>li{counter-increment:lst-ctn-kix_list_6-0}.lst-kix_list_3-5>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) "." counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) "." counter(lst-ctn-kix_list_3-5,decimal) " "}.lst-kix_list_18-0>li{counter-increment:lst-ctn-kix_list_18-0}.lst-kix_list_30-7>li:before{content:"o  "}.lst-kix_ax9goacoh25q-4>li:before{content:"\0025cb   "}.lst-kix_list_8-6>li:before{content:"\002022   "}.lst-kix_list_26-2>li:before{content:"" counter(lst-ctn-kix_list_26-2,lower-roman) ". "}.lst-kix_list_21-6>li:before{content:"\0025cf   "}.lst-kix_list_21-3>li:before{content:"\0025cf   "}ol.lst-kix_j09mzo5bjkyy-8{list-style-type:none}ol.lst-kix_list_18-7.start{counter-reset:lst-ctn-kix_list_18-7 0}ol.lst-kix_j09mzo5bjkyy-6{list-style-type:none}ol.lst-kix_j09mzo5bjkyy-7{list-style-type:none}ol.lst-kix_j09mzo5bjkyy-4{list-style-type:none}ol.lst-kix_j09mzo5bjkyy-5{list-style-type:none}ol.lst-kix_list_29-4.start{counter-reset:lst-ctn-kix_list_29-4 0}ol.lst-kix_j09mzo5bjkyy-2{list-style-type:none}ol.lst-kix_j09mzo5bjkyy-3{list-style-type:none}ol.lst-kix_list_6-4.start{counter-reset:lst-ctn-kix_list_6-4 0}ol.lst-kix_j09mzo5bjkyy-0{list-style-type:none}ol.lst-kix_j09mzo5bjkyy-1{list-style-type:none}.lst-kix_list_17-1>li:before{content:"o  "}.lst-kix_list_31-8>li{counter-increment:lst-ctn-kix_list_31-8}.lst-kix_list_25-3>li:before{content:"\0025cf   "}.lst-kix_list_32-3>li{counter-increment:lst-ctn-kix_list_32-3}li.li-bullet-10:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_list_16-2>li:before{content:"\0025aa   "}.lst-kix_list_26-6>li{counter-increment:lst-ctn-kix_list_26-6}.lst-kix_list_16-5>li:before{content:"\0025aa   "}.lst-kix_9jv7sz9hgk8-8>li:before{content:"\0025a0   "}.lst-kix_j09mzo5bjkyy-8>li{counter-increment:lst-ctn-kix_j09mzo5bjkyy-8}.lst-kix_9jv7sz9hgk8-5>li:before{content:"\0025a0   "}ol.lst-kix_list_18-8.start{counter-reset:lst-ctn-kix_list_18-8 0}ol.lst-kix_list_29-3.start{counter-reset:lst-ctn-kix_list_29-3 0}.lst-kix_list_3-3>li{counter-increment:lst-ctn-kix_list_3-3}.lst-kix_hbgswhx4wjqh-2>li:before{content:"\0025a0   "}ol.lst-kix_list_6-3.start{counter-reset:lst-ctn-kix_list_6-3 0}ul.lst-kix_9jv7sz9hgk8-8{list-style-type:none}ul.lst-kix_9jv7sz9hgk8-7{list-style-type:none}ul.lst-kix_9jv7sz9hgk8-6{list-style-type:none}ul.lst-kix_9jv7sz9hgk8-5{list-style-type:none}ul.lst-kix_9jv7sz9hgk8-0{list-style-type:none}.lst-kix_list_17-6>li:before{content:"\0025cf   "}ul.lst-kix_9jv7sz9hgk8-4{list-style-type:none}.lst-kix_hbgswhx4wjqh-5>li:before{content:"\0025a0   "}ul.lst-kix_9jv7sz9hgk8-3{list-style-type:none}ul.lst-kix_9jv7sz9hgk8-2{list-style-type:none}.lst-kix_9jv7sz9hgk8-0>li:before{content:"\0025cf   "}ul.lst-kix_9jv7sz9hgk8-1{list-style-type:none}.lst-kix_list_2-6>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) "." counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) "." counter(lst-ctn-kix_list_2-5,decimal) "." counter(lst-ctn-kix_list_2-6,decimal) " "}.lst-kix_8ejhqyejklgr-7>li:before{content:"\0025cb   "}.lst-kix_list_7-5>li:before{content:"\0025aa   "}.lst-kix_list_27-6>li:before{content:"\0025cf   "}.lst-kix_list_22-7>li:before{content:"o  "}.lst-kix_list_18-5>li:before{content:"" counter(lst-ctn-kix_list_18-5,lower-roman) ". "}.lst-kix_list_13-6>li:before{content:"\0025cf   "}.lst-kix_list_6-7>li{counter-increment:lst-ctn-kix_list_6-7}.lst-kix_list_26-3>li{counter-increment:lst-ctn-kix_list_26-3}ul.lst-kix_list_30-3{list-style-type:none}ul.lst-kix_list_30-4{list-style-type:none}ul.lst-kix_list_30-5{list-style-type:none}.lst-kix_list_15-6>li:before{content:"\0025cf   "}ul.lst-kix_list_30-6{list-style-type:none}.lst-kix_list_29-0>li{counter-increment:lst-ctn-kix_list_29-0}ul.lst-kix_list_30-7{list-style-type:none}ul.lst-kix_list_30-8{list-style-type:none}.lst-kix_list_31-3>li:before{content:" "}li.li-bullet-15:before{margin-left:-14.2pt;white-space:nowrap;display:inline-block;min-width:14.2pt}ul.lst-kix_list_30-0{list-style-type:none}ol.lst-kix_list_6-8.start{counter-reset:lst-ctn-kix_list_6-8 0}.lst-kix_list_10-2>li:before{content:"\0025aa   "}ul.lst-kix_list_30-1{list-style-type:none}ul.lst-kix_list_30-2{list-style-type:none}.lst-kix_list_20-7>li:before{content:"o  "}ol.lst-kix_list_6-5.start{counter-reset:lst-ctn-kix_list_6-5 0}.lst-kix_list_4-6>li:before{content:" "}ol.lst-kix_list_29-8.start{counter-reset:lst-ctn-kix_list_29-8 0}.lst-kix_buzsf0a169o4-2>li:before{content:"\0025a0   "}.lst-kix_list_25-6>li:before{content:"\0025cf   "}ol.lst-kix_list_29-5.start{counter-reset:lst-ctn-kix_list_29-5 0}ol.lst-kix_list_6-7.start{counter-reset:lst-ctn-kix_list_6-7 0}.lst-kix_list_9-5>li:before{content:"\0025aa   "}.lst-kix_list_29-6>li:before{content:"" counter(lst-ctn-kix_list_29-6,decimal) ". "}li.li-bullet-5:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_list_12-2>li:before{content:"\0025aa   "}.lst-kix_j09mzo5bjkyy-1>li{counter-increment:lst-ctn-kix_j09mzo5bjkyy-1}.lst-kix_list_11-6>li:before{content:"\0025cf   "}.lst-kix_list_32-7>li:before{content:"" counter(lst-ctn-kix_list_32-0,decimal) "." counter(lst-ctn-kix_list_32-1,decimal) "." counter(lst-ctn-kix_list_32-2,decimal) "." counter(lst-ctn-kix_list_32-3,decimal) "." counter(lst-ctn-kix_list_32-4,decimal) "." counter(lst-ctn-kix_list_32-5,decimal) "." counter(lst-ctn-kix_list_32-6,decimal) "." counter(lst-ctn-kix_list_32-7,decimal) " "}.lst-kix_j09mzo5bjkyy-6>li:before{content:"" counter(lst-ctn-kix_j09mzo5bjkyy-6,decimal) ". "}.lst-kix_list_1-2>li:before{content:" "}.lst-kix_i3m7qsdqkcat-2>li:before{content:"\0025a0   "}.lst-kix_ax9goacoh25q-7>li:before{content:"\0025cb   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ol.lst-kix_list_29-7.start{counter-reset:lst-ctn-kix_list_29-7 0}.lst-kix_list_18-7>li{counter-increment:lst-ctn-kix_list_18-7}.lst-kix_list_29-7>li{counter-increment:lst-ctn-kix_list_29-7}.lst-kix_list_28-2>li:before{content:"\0025aa   "}.lst-kix_list_14-1>li:before{content:"o  "}.lst-kix_list_14-3>li:before{content:"\002022   "}ul.lst-kix_list_28-0{list-style-type:none}ul.lst-kix_list_28-1{list-style-type:none}.lst-kix_list_14-0>li:before{content:"\002022   "}.lst-kix_list_14-4>li:before{content:"o  "}ol.lst-kix_list_18-5.start{counter-reset:lst-ctn-kix_list_18-5 0}.lst-kix_list_6-1>li{counter-increment:lst-ctn-kix_list_6-1}.lst-kix_list_14-5>li:before{content:"\0025aa   "}.lst-kix_list_14-7>li:before{content:"o  "}.lst-kix_list_14-6>li:before{content:"\002022   "}ol.lst-kix_j09mzo5bjkyy-5.start{counter-reset:lst-ctn-kix_j09mzo5bjkyy-5 0}ul.lst-kix_list_28-2{list-style-type:none}ul.lst-kix_list_28-3{list-style-type:none}ul.lst-kix_list_28-4{list-style-type:none}ul.lst-kix_list_28-5{list-style-type:none}ul.lst-kix_list_28-6{list-style-type:none}ul.lst-kix_list_28-7{list-style-type:none}ul.lst-kix_list_28-8{list-style-type:none}.lst-kix_list_14-2>li:before{content:"\0025aa   "}ol.lst-kix_list_32-1.start{counter-reset:lst-ctn-kix_list_32-1 0}ol.lst-kix_list_26-7{list-style-type:none}ol.lst-kix_list_26-6{list-style-type:none}ol.lst-kix_list_26-8{list-style-type:none}ol.lst-kix_list_26-3{list-style-type:none}ul.lst-kix_list_17-1{list-style-type:none}ol.lst-kix_list_26-2{list-style-type:none}ul.lst-kix_list_17-0{list-style-type:none}ol.lst-kix_list_26-5{list-style-type:none}ol.lst-kix_list_26-4{list-style-type:none}ol.lst-kix_list_26-1{list-style-type:none}ol.lst-kix_list_26-0{list-style-type:none}.lst-kix_list_32-2>li:before{content:"" counter(lst-ctn-kix_list_32-0,decimal) "." counter(lst-ctn-kix_list_32-1,decimal) "." counter(lst-ctn-kix_list_32-2,decimal) " "}ul.lst-kix_list_17-8{list-style-type:none}.lst-kix_list_32-1>li:before{content:"" counter(lst-ctn-kix_list_32-0,decimal) "." counter(lst-ctn-kix_list_32-1,decimal) " "}.lst-kix_list_32-3>li:before{content:"" counter(lst-ctn-kix_list_32-0,decimal) "." counter(lst-ctn-kix_list_32-1,decimal) "." counter(lst-ctn-kix_list_32-2,decimal) "." counter(lst-ctn-kix_list_32-3,decimal) " "}ul.lst-kix_list_17-7{list-style-type:none}ul.lst-kix_list_17-6{list-style-type:none}ul.lst-kix_list_17-5{list-style-type:none}ol.lst-kix_list_3-7.start{counter-reset:lst-ctn-kix_list_3-7 0}ul.lst-kix_list_17-4{list-style-type:none}ul.lst-kix_list_17-3{list-style-type:none}.lst-kix_list_14-8>li:before{content:"\0025aa   "}ul.lst-kix_list_17-2{list-style-type:none}.lst-kix_list_31-7>li{counter-increment:lst-ctn-kix_list_31-7}.lst-kix_list_32-0>li:before{content:"" counter(lst-ctn-kix_list_32-0,decimal) " "}.lst-kix_list_3-2>li{counter-increment:lst-ctn-kix_list_3-2}.lst-kix_list_5-0>li:before{content:"\0025cf   "}ol.lst-kix_list_6-0{list-style-type:none}ol.lst-kix_list_6-1{list-style-type:none}.lst-kix_list_5-3>li:before{content:"\0025cf   "}.lst-kix_list_5-2>li:before{content:"\0025aa   "}.lst-kix_list_5-1>li:before{content:"o  "}ol.lst-kix_list_18-0.start{counter-reset:lst-ctn-kix_list_18-0 0}.lst-kix_list_5-7>li:before{content:"o  "}ul.lst-kix_list_8-4{list-style-type:none}ul.lst-kix_list_8-5{list-style-type:none}.lst-kix_list_5-6>li:before{content:"\0025cf   "}.lst-kix_list_5-8>li:before{content:"\0025aa   "}ul.lst-kix_list_8-2{list-style-type:none}ul.lst-kix_list_8-3{list-style-type:none}ul.lst-kix_list_8-8{list-style-type:none}ul.lst-kix_list_8-6{list-style-type:none}ul.lst-kix_list_8-7{list-style-type:none}ol.lst-kix_list_6-6{list-style-type:none}ol.lst-kix_list_6-7{list-style-type:none}.lst-kix_list_5-4>li:before{content:"o  "}ol.lst-kix_list_6-8{list-style-type:none}.lst-kix_list_5-5>li:before{content:"\0025aa   "}ol.lst-kix_list_6-2{list-style-type:none}ul.lst-kix_list_8-0{list-style-type:none}ol.lst-kix_list_6-3{list-style-type:none}ul.lst-kix_list_8-1{list-style-type:none}ol.lst-kix_list_6-4{list-style-type:none}ol.lst-kix_list_6-5{list-style-type:none}.lst-kix_j09mzo5bjkyy-5>li{counter-increment:lst-ctn-kix_j09mzo5bjkyy-5}.lst-kix_list_6-1>li:before{content:"" counter(lst-ctn-kix_list_6-0,upper-latin) "." counter(lst-ctn-kix_list_6-1,decimal) " "}.lst-kix_list_6-3>li:before{content:"" counter(lst-ctn-kix_list_6-0,upper-latin) "." counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) " "}ol.lst-kix_list_32-6.start{counter-reset:lst-ctn-kix_list_32-6 0}.lst-kix_list_6-8>li{counter-increment:lst-ctn-kix_list_6-8}.lst-kix_list_6-0>li:before{content:"Appendix " counter(lst-ctn-kix_list_6-0,upper-latin) ". "}.lst-kix_list_6-4>li:before{content:"" counter(lst-ctn-kix_list_6-0,upper-latin) "." counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) " "}ul.lst-kix_buzsf0a169o4-1{list-style-type:none}ul.lst-kix_buzsf0a169o4-2{list-style-type:none}ol.lst-kix_j09mzo5bjkyy-0.start{counter-reset:lst-ctn-kix_j09mzo5bjkyy-0 0}ul.lst-kix_buzsf0a169o4-0{list-style-type:none}.lst-kix_list_6-2>li:before{content:"" counter(lst-ctn-kix_list_6-0,upper-latin) "." counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) " "}ul.lst-kix_buzsf0a169o4-7{list-style-type:none}ul.lst-kix_buzsf0a169o4-8{list-style-type:none}ul.lst-kix_buzsf0a169o4-5{list-style-type:none}.lst-kix_list_2-5>li{counter-increment:lst-ctn-kix_list_2-5}ol.lst-kix_list_3-2.start{counter-reset:lst-ctn-kix_list_3-2 0}ul.lst-kix_buzsf0a169o4-6{list-style-type:none}ul.lst-kix_buzsf0a169o4-3{list-style-type:none}.lst-kix_list_6-8>li:before{content:"" counter(lst-ctn-kix_list_6-0,upper-latin) "." counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) "." counter(lst-ctn-kix_list_6-5,decimal) "." counter(lst-ctn-kix_list_6-6,decimal) "." counter(lst-ctn-kix_list_6-7,decimal) "." counter(lst-ctn-kix_list_6-8,decimal) " "}ul.lst-kix_buzsf0a169o4-4{list-style-type:none}.lst-kix_list_6-5>li:before{content:"" counter(lst-ctn-kix_list_6-0,upper-latin) "." counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) "." counter(lst-ctn-kix_list_6-5,decimal) " "}.lst-kix_list_6-7>li:before{content:"" counter(lst-ctn-kix_list_6-0,upper-latin) "." counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) "." counter(lst-ctn-kix_list_6-5,decimal) "." counter(lst-ctn-kix_list_6-6,decimal) "." counter(lst-ctn-kix_list_6-7,decimal) " "}.lst-kix_list_6-6>li:before{content:"" counter(lst-ctn-kix_list_6-0,upper-latin) "." counter(lst-ctn-kix_list_6-1,decimal) "." counter(lst-ctn-kix_list_6-2,decimal) "." counter(lst-ctn-kix_list_6-3,decimal) "." counter(lst-ctn-kix_list_6-4,decimal) "." counter(lst-ctn-kix_list_6-5,decimal) "." counter(lst-ctn-kix_list_6-6,decimal) " "}.lst-kix_list_7-4>li:before{content:"o  "}.lst-kix_list_7-6>li:before{content:"\002022   "}.lst-kix_list_18-5>li{counter-increment:lst-ctn-kix_list_18-5}ol.lst-kix_list_6-2.start{counter-reset:lst-ctn-kix_list_6-2 0}.lst-kix_8ejhqyejklgr-8>li:before{content:"\0025a0   "}.lst-kix_list_7-2>li:before{content:"\0025aa   "}.lst-kix_8ejhqyejklgr-6>li:before{content:"\0025cf   "}.lst-kix_list_31-0>li:before{content:"%1  "}.lst-kix_8ejhqyejklgr-0>li:before{content:"\0025cf   "}.lst-kix_8ejhqyejklgr-4>li:before{content:"\0025cb   "}.lst-kix_list_13-7>li:before{content:"o  "}.lst-kix_list_7-8>li:before{content:"\0025aa   "}.lst-kix_8ejhqyejklgr-2>li:before{content:"\0025a0   "}ol.lst-kix_list_2-5.start{counter-reset:lst-ctn-kix_list_2-5 0}.lst-kix_list_15-5>li:before{content:"\0025aa   "}.lst-kix_list_31-6>li:before{content:" "}.lst-kix_list_31-8>li:before{content:" "}ol.lst-kix_list_26-0.start{counter-reset:lst-ctn-kix_list_26-0 0}.lst-kix_list_4-1>li:before{content:" "}.lst-kix_list_31-2>li:before{content:" "}.lst-kix_list_31-4>li:before{content:" "}.lst-kix_list_15-7>li:before{content:"o  "}ul.lst-kix_list_19-7{list-style-type:none}ul.lst-kix_list_19-6{list-style-type:none}.lst-kix_list_4-3>li:before{content:" "}.lst-kix_list_4-5>li:before{content:" "}ul.lst-kix_list_19-5{list-style-type:none}ul.lst-kix_list_19-4{list-style-type:none}ul.lst-kix_list_19-3{list-style-type:none}ul.lst-kix_list_19-2{list-style-type:none}ul.lst-kix_list_19-1{list-style-type:none}ul.lst-kix_list_19-0{list-style-type:none}.lst-kix_list_15-1>li:before{content:"o  "}.lst-kix_list_15-3>li:before{content:"\0025cf   "}ul.lst-kix_list_19-8{list-style-type:none}.lst-kix_list_32-4>li:before{content:"" counter(lst-ctn-kix_list_32-0,decimal) "." counter(lst-ctn-kix_list_32-1,decimal) "." counter(lst-ctn-kix_list_32-2,decimal) "." counter(lst-ctn-kix_list_32-3,decimal) "." counter(lst-ctn-kix_list_32-4,decimal) " "}.lst-kix_list_26-5>li{counter-increment:lst-ctn-kix_list_26-5}.lst-kix_list_12-3>li:before{content:"\0025cf   "}ol.lst-kix_list_31-4.start{counter-reset:lst-ctn-kix_list_31-4 -1}.lst-kix_j09mzo5bjkyy-5>li:before{content:"" counter(lst-ctn-kix_j09mzo5bjkyy-5,lower-roman) ". "}.lst-kix_list_32-6>li:before{content:"" counter(lst-ctn-kix_list_32-0,decimal) "." counter(lst-ctn-kix_list_32-1,decimal) "." counter(lst-ctn-kix_list_32-2,decimal) "." counter(lst-ctn-kix_list_32-3,decimal) "." counter(lst-ctn-kix_list_32-4,decimal) "." counter(lst-ctn-kix_list_32-5,decimal) "." counter(lst-ctn-kix_list_32-6,decimal) " "}.lst-kix_list_12-1>li:before{content:"o  "}.lst-kix_list_32-8>li:before{content:"" counter(lst-ctn-kix_list_32-0,decimal) "." counter(lst-ctn-kix_list_32-1,decimal) "." counter(lst-ctn-kix_list_32-2,decimal) "." counter(lst-ctn-kix_list_32-3,decimal) "." counter(lst-ctn-kix_list_32-4,decimal) "." counter(lst-ctn-kix_list_32-5,decimal) "." counter(lst-ctn-kix_list_32-6,decimal) "." counter(lst-ctn-kix_list_32-7,decimal) "." counter(lst-ctn-kix_list_32-8,decimal) " "}.lst-kix_j09mzo5bjkyy-7>li:before{content:"" counter(lst-ctn-kix_j09mzo5bjkyy-7,lower-latin) ". "}.lst-kix_list_13-3>li:before{content:"\0025cf   "}li.li-bullet-4:before{margin-left:-14.1pt;white-space:nowrap;display:inline-block;min-width:14.1pt}.lst-kix_j09mzo5bjkyy-3>li:before{content:"" counter(lst-ctn-kix_j09mzo5bjkyy-3,decimal) ". "}.lst-kix_list_13-5>li:before{content:"\0025aa   "}.lst-kix_list_12-5>li:before{content:"\0025aa   "}.lst-kix_list_18-4>li{counter-increment:lst-ctn-kix_list_18-4}.lst-kix_list_29-4>li{counter-increment:lst-ctn-kix_list_29-4}.lst-kix_list_12-7>li:before{content:"o  "}.lst-kix_j09mzo5bjkyy-1>li:before{content:"" counter(lst-ctn-kix_j09mzo5bjkyy-1,lower-latin) ". "}.lst-kix_list_32-4>li{counter-increment:lst-ctn-kix_list_32-4}ol.lst-kix_list_29-0.start{counter-reset:lst-ctn-kix_list_29-0 0}.lst-kix_list_13-1>li:before{content:"o  "}.lst-kix_list_32-5>li{counter-increment:lst-ctn-kix_list_32-5}ul.lst-kix_list_24-0{list-style-type:none}.lst-kix_list_30-5>li:before{content:"\0025aa   "}ul.lst-kix_list_24-1{list-style-type:none}ul.lst-kix_list_24-2{list-style-type:none}ul.lst-kix_list_24-3{list-style-type:none}ul.lst-kix_list_24-4{list-style-type:none}ul.lst-kix_list_24-5{list-style-type:none}.lst-kix_list_30-1>li:before{content:"o  "}ol.lst-kix_list_2-6.start{counter-reset:lst-ctn-kix_list_2-6 0}.lst-kix_list_3-0>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) " "}.lst-kix_list_30-2>li:before{content:"\0025aa   "}.lst-kix_list_31-6>li{counter-increment:lst-ctn-kix_list_31-6}ul.lst-kix_list_24-6{list-style-type:none}ul.lst-kix_list_24-7{list-style-type:none}.lst-kix_list_3-4>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) "." counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) " "}ul.lst-kix_list_24-8{list-style-type:none}.lst-kix_list_3-3>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) "." counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) " "}.lst-kix_list_8-0>li:before{content:"\002022   "}.lst-kix_list_30-6>li:before{content:"\0025cf   "}.lst-kix_list_8-7>li:before{content:"o  "}.lst-kix_list_3-8>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) "." counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) "." counter(lst-ctn-kix_list_3-5,decimal) "." counter(lst-ctn-kix_list_3-6,decimal) "." counter(lst-ctn-kix_list_3-7,decimal) "." counter(lst-ctn-kix_list_3-8,decimal) " "}.lst-kix_list_8-3>li:before{content:"\002022   "}ul.lst-kix_list_13-5{list-style-type:none}ul.lst-kix_list_13-4{list-style-type:none}ul.lst-kix_list_13-3{list-style-type:none}ul.lst-kix_list_13-2{list-style-type:none}.lst-kix_list_3-7>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) "." counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) "." counter(lst-ctn-kix_list_3-5,decimal) "." counter(lst-ctn-kix_list_3-6,decimal) "." counter(lst-ctn-kix_list_3-7,decimal) " "}ul.lst-kix_list_13-1{list-style-type:none}ul.lst-kix_list_13-0{list-style-type:none}.lst-kix_list_8-4>li:before{content:"o  "}ol.lst-kix_list_26-4.start{counter-reset:lst-ctn-kix_list_26-4 0}ul.lst-kix_list_13-8{list-style-type:none}.lst-kix_list_11-1>li:before{content:"o  "}ul.lst-kix_list_13-7{list-style-type:none}ul.lst-kix_list_13-6{list-style-type:none}.lst-kix_list_11-0>li:before{content:"\0025cf   "}.lst-kix_list_8-8>li:before{content:"\0025aa   "}ol.lst-kix_list_2-2{list-style-type:none}.lst-kix_list_16-8>li:before{content:"\0025aa   "}ol.lst-kix_list_2-3{list-style-type:none}ol.lst-kix_list_2-4{list-style-type:none}.lst-kix_list_16-7>li:before{content:"o  "}ol.lst-kix_list_2-5{list-style-type:none}ol.lst-kix_list_2-0{list-style-type:none}ol.lst-kix_list_2-1{list-style-type:none}.lst-kix_list_4-8>li:before{content:" "}.lst-kix_list_4-7>li:before{content:" "}.lst-kix_list_17-0>li:before{content:"\0025cf   "}li.li-bullet-7:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}ul.lst-kix_list_4-8{list-style-type:none}.lst-kix_list_16-0>li:before{content:"\0025cf   "}ul.lst-kix_hbgswhx4wjqh-8{list-style-type:none}ul.lst-kix_list_4-6{list-style-type:none}ul.lst-kix_list_4-7{list-style-type:none}ul.lst-kix_hbgswhx4wjqh-5{list-style-type:none}ul.lst-kix_hbgswhx4wjqh-4{list-style-type:none}ul.lst-kix_hbgswhx4wjqh-7{list-style-type:none}ul.lst-kix_hbgswhx4wjqh-6{list-style-type:none}ul.lst-kix_list_4-0{list-style-type:none}.lst-kix_list_16-4>li:before{content:"o  "}ul.lst-kix_list_4-1{list-style-type:none}ol.lst-kix_list_3-3.start{counter-reset:lst-ctn-kix_list_3-3 0}.lst-kix_list_16-3>li:before{content:"\0025cf   "}ul.lst-kix_list_4-4{list-style-type:none}ol.lst-kix_list_2-6{list-style-type:none}ul.lst-kix_list_4-5{list-style-type:none}ol.lst-kix_list_2-7{list-style-type:none}ul.lst-kix_list_4-2{list-style-type:none}ol.lst-kix_list_2-8{list-style-type:none}ul.lst-kix_list_4-3{list-style-type:none}ol.lst-kix_list_18-1.start{counter-reset:lst-ctn-kix_list_18-1 0}.lst-kix_9jv7sz9hgk8-7>li:before{content:"\0025cb   "}.lst-kix_9jv7sz9hgk8-6>li:before{content:"\0025cf   "}.lst-kix_list_17-7>li:before{content:"o  "}.lst-kix_9jv7sz9hgk8-3>li:before{content:"\0025cf   "}.lst-kix_list_17-8>li:before{content:"\0025aa   "}.lst-kix_list_17-3>li:before{content:"\0025cf   "}.lst-kix_list_17-4>li:before{content:"o  "}.lst-kix_9jv7sz9hgk8-2>li:before{content:"\0025a0   "}.lst-kix_list_7-0>li:before{content:"\002022   "}.lst-kix_list_2-4>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) "." counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) " "}.lst-kix_list_2-8>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) "." counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) "." counter(lst-ctn-kix_list_2-5,decimal) "." counter(lst-ctn-kix_list_2-6,decimal) "." counter(lst-ctn-kix_list_2-7,decimal) "." counter(lst-ctn-kix_list_2-8,decimal) " "}.lst-kix_8ejhqyejklgr-5>li:before{content:"\0025a0   "}ol.lst-kix_j09mzo5bjkyy-1.start{counter-reset:lst-ctn-kix_j09mzo5bjkyy-1 0}.lst-kix_list_7-3>li:before{content:"\002022   "}.lst-kix_list_10-0>li:before{content:"\0025cf   "}.lst-kix_8ejhqyejklgr-1>li:before{content:"\0025cb   "}.lst-kix_list_13-8>li:before{content:"\0025aa   "}.lst-kix_list_31-1>li:before{content:" "}.lst-kix_list_18-3>li:before{content:"" counter(lst-ctn-kix_list_18-3,decimal) ". "}.lst-kix_list_18-7>li:before{content:"" counter(lst-ctn-kix_list_18-7,lower-latin) ". "}.lst-kix_list_18-6>li{counter-increment:lst-ctn-kix_list_18-6}ol.lst-kix_list_3-8.start{counter-reset:lst-ctn-kix_list_3-8 0}.lst-kix_list_7-7>li:before{content:"o  "}.lst-kix_list_15-4>li:before{content:"o  "}.lst-kix_list_31-5>li:before{content:" "}.lst-kix_list_10-4>li:before{content:"o  "}.lst-kix_list_10-8>li:before{content:"\0025aa   "}.lst-kix_list_4-0>li:before{content:"\002013   "}ul.lst-kix_list_15-3{list-style-type:none}ul.lst-kix_list_15-2{list-style-type:none}.lst-kix_list_15-0>li:before{content:"\0025cf   "}ul.lst-kix_list_15-1{list-style-type:none}.lst-kix_list_15-8>li:before{content:"\0025aa   "}ul.lst-kix_list_15-0{list-style-type:none}.lst-kix_list_4-4>li:before{content:" "}ul.lst-kix_list_15-8{list-style-type:none}ul.lst-kix_list_15-7{list-style-type:none}ul.lst-kix_list_15-6{list-style-type:none}.lst-kix_list_9-3>li:before{content:"\002022   "}ul.lst-kix_list_15-5{list-style-type:none}ul.lst-kix_list_15-4{list-style-type:none}ol.lst-kix_list_32-5.start{counter-reset:lst-ctn-kix_list_32-5 0}.lst-kix_list_9-7>li:before{content:"o  "}.lst-kix_list_2-4>li{counter-increment:lst-ctn-kix_list_2-4}.lst-kix_list_29-4>li:before{content:"" counter(lst-ctn-kix_list_29-4,decimal) ". "}.lst-kix_list_29-8>li:before{content:"" counter(lst-ctn-kix_list_29-8,decimal) ". "}ol.lst-kix_list_3-6.start{counter-reset:lst-ctn-kix_list_3-6 0}ol.lst-kix_list_32-2.start{counter-reset:lst-ctn-kix_list_32-2 0}.lst-kix_list_32-5>li:before{content:"" counter(lst-ctn-kix_list_32-0,decimal) "." counter(lst-ctn-kix_list_32-1,decimal) "." counter(lst-ctn-kix_list_32-2,decimal) "." counter(lst-ctn-kix_list_32-3,decimal) "." counter(lst-ctn-kix_list_32-4,decimal) "." counter(lst-ctn-kix_list_32-5,decimal) " "}.lst-kix_list_11-4>li:before{content:"o  "}.lst-kix_list_12-4>li:before{content:"o  "}li.li-bullet-12:before{margin-left:-14.2pt;white-space:nowrap;display:inline-block;min-width:14.2pt}.lst-kix_j09mzo5bjkyy-4>li:before{content:"" counter(lst-ctn-kix_j09mzo5bjkyy-4,lower-latin) ". "}.lst-kix_j09mzo5bjkyy-7>li{counter-increment:lst-ctn-kix_j09mzo5bjkyy-7}.lst-kix_list_29-0>li:before{content:"" counter(lst-ctn-kix_list_29-0,decimal) ". "}.lst-kix_list_1-0>li:before{content:"\0025cf   "}.lst-kix_j09mzo5bjkyy-8>li:before{content:"" counter(lst-ctn-kix_j09mzo5bjkyy-8,lower-roman) ". "}.lst-kix_list_11-8>li:before{content:"\0025aa   "}ol.lst-kix_list_2-0.start{counter-reset:lst-ctn-kix_list_2-0 0}.lst-kix_list_12-0>li:before{content:"\0025cf   "}.lst-kix_list_1-4>li:before{content:" "}.lst-kix_list_13-0>li:before{content:"\0025cf   "}.lst-kix_list_13-4>li:before{content:"o  "}ol.lst-kix_list_26-5.start{counter-reset:lst-ctn-kix_list_26-5 0}.lst-kix_list_2-0>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) " "}ol.lst-kix_list_2-1.start{counter-reset:lst-ctn-kix_list_2-1 0}ol.lst-kix_j09mzo5bjkyy-4.start{counter-reset:lst-ctn-kix_j09mzo5bjkyy-4 0}.lst-kix_list_1-8>li:before{content:" "}.lst-kix_j09mzo5bjkyy-0>li:before{content:"" counter(lst-ctn-kix_j09mzo5bjkyy-0,decimal) ". "}.lst-kix_list_12-8>li:before{content:"\0025aa   "}ul.lst-kix_list_20-2{list-style-type:none}ul.lst-kix_list_20-3{list-style-type:none}.lst-kix_list_19-0>li:before{content:"\0025cf   "}ul.lst-kix_list_20-4{list-style-type:none}ul.lst-kix_list_20-5{list-style-type:none}ul.lst-kix_list_20-6{list-style-type:none}ul.lst-kix_list_20-7{list-style-type:none}ul.lst-kix_list_20-8{list-style-type:none}ol.lst-kix_list_26-1.start{counter-reset:lst-ctn-kix_list_26-1 0}.lst-kix_list_19-2>li:before{content:"\0025aa   "}ol.lst-kix_list_3-1.start{counter-reset:lst-ctn-kix_list_3-1 0}ul.lst-kix_list_20-0{list-style-type:none}ul.lst-kix_list_20-1{list-style-type:none}.lst-kix_list_29-6>li{counter-increment:lst-ctn-kix_list_29-6}ul.lst-kix_i3m7qsdqkcat-1{list-style-type:none}ul.lst-kix_i3m7qsdqkcat-2{list-style-type:none}ul.lst-kix_i3m7qsdqkcat-0{list-style-type:none}ol.lst-kix_list_31-3.start{counter-reset:lst-ctn-kix_list_31-3 -1}.lst-kix_list_2-3>li{counter-increment:lst-ctn-kix_list_2-3}.lst-kix_list_19-8>li:before{content:"\0025aa   "}.lst-kix_j09mzo5bjkyy-0>li{counter-increment:lst-ctn-kix_j09mzo5bjkyy-0}.lst-kix_list_19-5>li:before{content:"\0025aa   "}ul.lst-kix_i3m7qsdqkcat-7{list-style-type:none}ul.lst-kix_i3m7qsdqkcat-8{list-style-type:none}ul.lst-kix_i3m7qsdqkcat-5{list-style-type:none}ul.lst-kix_i3m7qsdqkcat-6{list-style-type:none}.lst-kix_list_19-7>li:before{content:"o  "}ul.lst-kix_i3m7qsdqkcat-3{list-style-type:none}ul.lst-kix_i3m7qsdqkcat-4{list-style-type:none}li.li-bullet-6:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}ol.lst-kix_j09mzo5bjkyy-6.start{counter-reset:lst-ctn-kix_j09mzo5bjkyy-6 0}ol.lst-kix_list_31-8.start{counter-reset:lst-ctn-kix_list_31-8 -1}.lst-kix_list_18-1>li:before{content:"" counter(lst-ctn-kix_list_18-1,lower-latin) ". "}ul.lst-kix_list_31-0{list-style-type:none}ol.lst-kix_list_32-0.start{counter-reset:lst-ctn-kix_list_32-0 0}ol.lst-kix_list_2-4.start{counter-reset:lst-ctn-kix_list_2-4 0}ul.lst-kix_list_22-0{list-style-type:none}.lst-kix_list_2-7>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) "." counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) "." counter(lst-ctn-kix_list_2-5,decimal) "." counter(lst-ctn-kix_list_2-6,decimal) "." counter(lst-ctn-kix_list_2-7,decimal) " "}.lst-kix_list_2-7>li{counter-increment:lst-ctn-kix_list_2-7}ul.lst-kix_list_22-1{list-style-type:none}ul.lst-kix_list_22-2{list-style-type:none}ul.lst-kix_list_22-3{list-style-type:none}ul.lst-kix_list_22-4{list-style-type:none}.lst-kix_list_2-5>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) "." counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) "." counter(lst-ctn-kix_list_2-3,decimal) "." counter(lst-ctn-kix_list_2-4,decimal) "." counter(lst-ctn-kix_list_2-5,decimal) " "}ul.lst-kix_list_22-5{list-style-type:none}ul.lst-kix_list_22-6{list-style-type:none}.lst-kix_buzsf0a169o4-1>li:before{content:"\0025cb   "}ul.lst-kix_list_22-7{list-style-type:none}ol.lst-kix_list_32-8{list-style-type:none}ol.lst-kix_list_32-7{list-style-type:none}.lst-kix_list_27-5>li:before{content:"\0025aa   "}ol.lst-kix_list_32-4{list-style-type:none}ol.lst-kix_list_32-3{list-style-type:none}ol.lst-kix_list_32-6{list-style-type:none}ol.lst-kix_list_32-5{list-style-type:none}ol.lst-kix_list_32-0{list-style-type:none}.lst-kix_list_18-6>li:before{content:"" counter(lst-ctn-kix_list_18-6,decimal) ". "}ol.lst-kix_list_32-2{list-style-type:none}ol.lst-kix_list_32-1{list-style-type:none}.lst-kix_list_10-1>li:before{content:"o  "}.lst-kix_list_18-4>li:before{content:"" counter(lst-ctn-kix_list_18-4,lower-latin) ". "}ul.lst-kix_list_22-8{list-style-type:none}li.li-bullet-1:before{margin-left:-21.6pt;white-space:nowrap;display:inline-block;min-width:21.6pt}.lst-kix_list_10-3>li:before{content:"\0025cf   "}ul.lst-kix_list_11-7{list-style-type:none}ul.lst-kix_hbgswhx4wjqh-1{list-style-type:none}.lst-kix_list_2-6>li{counter-increment:lst-ctn-kix_list_2-6}ul.lst-kix_list_11-6{list-style-type:none}ul.lst-kix_hbgswhx4wjqh-0{list-style-type:none}ul.lst-kix_list_11-5{list-style-type:none}ul.lst-kix_hbgswhx4wjqh-3{list-style-type:none}ul.lst-kix_list_11-4{list-style-type:none}ul.lst-kix_hbgswhx4wjqh-2{list-style-type:none}ul.lst-kix_list_11-3{list-style-type:none}ul.lst-kix_list_11-2{list-style-type:none}ul.lst-kix_list_11-1{list-style-type:none}ul.lst-kix_list_11-0{list-style-type:none}.lst-kix_list_26-4>li{counter-increment:lst-ctn-kix_list_26-4}.lst-kix_j09mzo5bjkyy-3>li{counter-increment:lst-ctn-kix_j09mzo5bjkyy-3}ul.lst-kix_list_11-8{list-style-type:none}.lst-kix_list_20-8>li:before{content:"\0025aa   "}.lst-kix_buzsf0a169o4-3>li:before{content:"\0025a0   "}.lst-kix_list_3-4>li{counter-increment:lst-ctn-kix_list_3-4}.lst-kix_list_29-7>li:before{content:"" counter(lst-ctn-kix_list_29-7,decimal) ". "}.lst-kix_list_29-5>li:before{content:"" counter(lst-ctn-kix_list_29-5,decimal) ". "}.lst-kix_list_20-0>li:before{content:"\0025cf   "}.lst-kix_list_9-6>li:before{content:"\002022   "}li.li-bullet-9:before{margin-left:-14.1pt;white-space:nowrap;display:inline-block;min-width:14.1pt}.lst-kix_list_9-4>li:before{content:"o  "}.lst-kix_list_20-6>li:before{content:"\0025cf   "}li.li-bullet-11:before{margin-left:-14.2pt;white-space:nowrap;display:inline-block;min-width:14.2pt}.lst-kix_list_11-5>li:before{content:"\0025aa   "}.lst-kix_list_1-1>li:before{content:" "}.lst-kix_list_11-7>li:before{content:"o  "}.lst-kix_list_1-3>li:before{content:" "}.lst-kix_ax9goacoh25q-8>li:before{content:"\0025a0   "}.lst-kix_list_28-3>li:before{content:"\0025cf   "}li.li-bullet-16:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}ol.lst-kix_list_2-7.start{counter-reset:lst-ctn-kix_list_2-7 0}ol.lst-kix_list_31-5.start{counter-reset:lst-ctn-kix_list_31-5 -1}.lst-kix_list_27-7>li:before{content:"o  "}.lst-kix_list_28-1>li:before{content:"o  "}.lst-kix_list_3-1>li{counter-increment:lst-ctn-kix_list_3-1}.lst-kix_list_30-3>li:before{content:"\0025cf   "}.lst-kix_list_26-8>li{counter-increment:lst-ctn-kix_list_26-8}.lst-kix_list_30-8>li:before{content:"\0025aa   "}.lst-kix_list_3-1>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) "." counter(lst-ctn-kix_list_3-1,decimal) " "}.lst-kix_list_26-6>li:before{content:"" counter(lst-ctn-kix_list_26-6,decimal) ". "}.lst-kix_list_8-2>li:before{content:"\0025aa   "}ol.lst-kix_list_31-6.start{counter-reset:lst-ctn-kix_list_31-6 -1}.lst-kix_list_21-2>li:before{content:"\0025aa   "}.lst-kix_list_8-5>li:before{content:"\0025aa   "}.lst-kix_list_2-0>li{counter-increment:lst-ctn-kix_list_2-0}.lst-kix_list_26-3>li:before{content:"" counter(lst-ctn-kix_list_26-3,decimal) ". "}.lst-kix_list_3-6>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) "." counter(lst-ctn-kix_list_3-1,decimal) "." counter(lst-ctn-kix_list_3-2,decimal) "." counter(lst-ctn-kix_list_3-3,decimal) "." counter(lst-ctn-kix_list_3-4,decimal) "." counter(lst-ctn-kix_list_3-5,decimal) "." counter(lst-ctn-kix_list_3-6,decimal) " "}.lst-kix_ax9goacoh25q-3>li:before{content:"\0025cf   "}.lst-kix_list_21-7>li:before{content:"o  "}.lst-kix_list_11-2>li:before{content:"\0025aa   "}.lst-kix_ax9goacoh25q-0>li:before{content:"\0025cf   "}ol.lst-kix_list_31-7.start{counter-reset:lst-ctn-kix_list_31-7 -1}.lst-kix_list_16-6>li:before{content:"\0025cf   "}.lst-kix_list_25-2>li:before{content:"\0025aa   "}.lst-kix_list_18-2>li{counter-increment:lst-ctn-kix_list_18-2}.lst-kix_list_29-5>li{counter-increment:lst-ctn-kix_list_29-5}.lst-kix_list_16-1>li:before{content:"o  "}li.li-bullet-14:before{margin-left:-14.2pt;white-space:nowrap;display:inline-block;min-width:14.2pt}.lst-kix_hbgswhx4wjqh-6>li:before{content:"\0025cf   "}.lst-kix_hbgswhx4wjqh-1>li:before{content:"\0025cb   "}.lst-kix_9jv7sz9hgk8-4>li:before{content:"\0025cb   "}.lst-kix_list_17-2>li:before{content:"\0025aa   "}.lst-kix_list_30-0>li:before{content:"\0025cf   "}.lst-kix_9jv7sz9hgk8-1>li:before{content:"\0025cb   "}.lst-kix_list_17-5>li:before{content:"\0025aa   "}.lst-kix_list_6-2>li{counter-increment:lst-ctn-kix_list_6-2}.lst-kix_list_27-2>li:before{content:"\0025aa   "}.lst-kix_list_22-3>li:before{content:"\0025cf   "}.lst-kix_list_7-1>li:before{content:"o  "}.lst-kix_list_29-2>li{counter-increment:lst-ctn-kix_list_29-2}.lst-kix_buzsf0a169o4-6>li:before{content:"\0025cf   "}.lst-kix_8ejhqyejklgr-3>li:before{content:"\0025cf   "}.lst-kix_list_31-7>li:before{content:" "}.lst-kix_list_3-8>li{counter-increment:lst-ctn-kix_list_3-8}.lst-kix_list_4-2>li:before{content:" "}.lst-kix_j09mzo5bjkyy-6>li{counter-increment:lst-ctn-kix_j09mzo5bjkyy-6}.lst-kix_list_15-2>li:before{content:"\0025aa   "}.lst-kix_list_26-1>li{counter-increment:lst-ctn-kix_list_26-1}.lst-kix_list_9-1>li:before{content:"o  "}.lst-kix_list_10-6>li:before{content:"\0025cf   "}.lst-kix_list_31-3>li{counter-increment:lst-ctn-kix_list_31-3}.lst-kix_list_20-3>li:before{content:"\0025cf   "}.lst-kix_list_29-2>li:before{content:"" counter(lst-ctn-kix_list_29-2,decimal) ". "}.lst-kix_list_28-6>li:before{content:"\0025cf   "}.lst-kix_list_1-6>li:before{content:" "}.lst-kix_i3m7qsdqkcat-6>li:before{content:"\0025cf   "}.lst-kix_j09mzo5bjkyy-2>li:before{content:"" counter(lst-ctn-kix_j09mzo5bjkyy-2,lower-roman) ". "}.lst-kix_list_12-6>li:before{content:"\0025cf   "}.lst-kix_list_2-2>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) "." counter(lst-ctn-kix_list_2-1,decimal) "." counter(lst-ctn-kix_list_2-2,decimal) " "}.lst-kix_list_32-1>li{counter-increment:lst-ctn-kix_list_32-1}.lst-kix_list_13-2>li:before{content:"\0025aa   "}ol{margin:0;padding:0}table td,table th{padding:0}.c16{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cfe2f3;border-left-style:solid;border-bottom-width:1pt;width:45.8pt;border-top-color:#000000;border-bottom-style:solid}.c159{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#d9d9d9;border-left-style:solid;border-bottom-width:1pt;width:7.6pt;border-top-color:#000000;border-bottom-style:solid}.c31{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#d9d9d9;border-left-style:solid;border-bottom-width:1pt;width:407.1pt;border-top-color:#000000;border-bottom-style:solid}.c189{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#d9d9d9;border-left-style:solid;border-bottom-width:1pt;width:91.9pt;border-top-color:#000000;border-bottom-style:solid}.c95{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cccccc;border-left-style:solid;border-bottom-width:1pt;width:43.4pt;border-top-color:#000000;border-bottom-style:solid}.c127{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cccccc;border-left-style:solid;border-bottom-width:1pt;width:1.3pt;border-top-color:#000000;border-bottom-style:solid}.c151{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:99pt;border-top-color:#000000;border-bottom-style:solid}.c205{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:80.2pt;border-top-color:#000000;border-bottom-style:solid}.c155{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.4pt;border-top-color:#000000;border-bottom-style:solid}.c71{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63.5pt;border-top-color:#000000;border-bottom-style:solid}.c166{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:28.4pt;border-top-color:#000000;border-bottom-style:solid}.c98{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.8pt;border-top-color:#000000;border-bottom-style:solid}.c263{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57.1pt;border-top-color:#000000;border-bottom-style:solid}.c405{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:194.8pt;border-top-color:#000000;border-bottom-style:solid}.c157{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:80.8pt;border-top-color:#000000;border-bottom-style:solid}.c75{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c450{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:312.3pt;border-top-color:#000000;border-bottom-style:solid}.c511{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.6pt;border-top-color:#000000;border-bottom-style:solid}.c190{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.1pt;border-top-color:#000000;border-bottom-style:solid}.c236{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42pt;border-top-color:#000000;border-bottom-style:solid}.c519{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99pt;border-top-color:#000000;border-bottom-style:solid}.c335{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.8pt;border-top-color:#000000;border-bottom-style:solid}.c19{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:5.2pt;border-top-color:#000000;border-bottom-style:solid}.c165{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.8pt;border-top-color:#000000;border-bottom-style:solid}.c264{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:78.3pt;border-top-color:#000000;border-bottom-style:solid}.c378{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:413.8pt;border-top-color:#000000;border-bottom-style:solid}.c105{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57.5pt;border-top-color:#000000;border-bottom-style:solid}.c177{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:410.7pt;border-top-color:#000000;border-bottom-style:solid}.c382{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.7pt;border-top-color:#000000;border-bottom-style:solid}.c89{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:80.4pt;border-top-color:#000000;border-bottom-style:solid}.c431{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c32{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:411.9pt;border-top-color:#000000;border-bottom-style:solid}.c330{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:87.6pt;border-top-color:#000000;border-bottom-style:solid}.c223{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:149.4pt;border-top-color:#000000;border-bottom-style:solid}.c483{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:100pt;border-top-color:#000000;border-bottom-style:solid}.c472{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:67.5pt;border-top-color:#000000;border-bottom-style:solid}.c514{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.7pt;border-top-color:#000000;border-bottom-style:solid}.c283{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:25.8pt;border-top-color:#000000;border-bottom-style:solid}.c477{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.6pt;border-top-color:#000000;border-bottom-style:solid}.c442{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:90.6pt;border-top-color:#000000;border-bottom-style:solid}.c507{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:41pt;border-top-color:#000000;border-bottom-style:solid}.c21{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.5pt;border-top-color:#000000;border-bottom-style:solid}.c107{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.6pt;border-top-color:#000000;border-bottom-style:solid}.c301{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:229.5pt;border-top-color:#000000;border-bottom-style:solid}.c329{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.4pt;border-top-color:#000000;border-bottom-style:solid}.c360{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:82.2pt;border-top-color:#000000;border-bottom-style:solid}.c15{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.7pt;border-top-color:#000000;border-bottom-style:solid}.c30{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.7pt;border-top-color:#000000;border-bottom-style:solid}.c78{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:212.6pt;border-top-color:#000000;border-bottom-style:solid}.c101{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.5pt;border-top-color:#000000;border-bottom-style:solid}.c362{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.9pt;border-top-color:#000000;border-bottom-style:solid}.c488{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c392{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:61.7pt;border-top-color:#000000;border-bottom-style:solid}.c199{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.1pt;border-top-color:#000000;border-bottom-style:solid}.c93{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:412.6pt;border-top-color:#000000;border-bottom-style:solid}.c252{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.4pt;border-top-color:#000000;border-bottom-style:solid}.c359{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:7.1pt;border-top-color:#000000;border-bottom-style:solid}.c158{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.8pt;border-top-color:#000000;border-bottom-style:solid}.c262{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:3.9pt;border-top-color:#000000;border-bottom-style:solid}.c275{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.3pt;border-top-color:#000000;border-bottom-style:solid}.c173{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50pt;border-top-color:#000000;border-bottom-style:solid}.c268{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c504{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:90.8pt;border-top-color:#000000;border-bottom-style:solid}.c363{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:61.5pt;border-top-color:#000000;border-bottom-style:solid}.c476{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:35.4pt;border-top-color:#000000;border-bottom-style:solid}.c440{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:85pt;border-top-color:#000000;border-bottom-style:solid}.c272{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:327pt;border-top-color:#000000;border-bottom-style:solid}.c211{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:89.2pt;border-top-color:#000000;border-bottom-style:solid}.c164{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.7pt;border-top-color:#000000;border-bottom-style:solid}.c391{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:155.9pt;border-top-color:#000000;border-bottom-style:solid}.c84{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:119.2pt;border-top-color:#000000;border-bottom-style:solid}.c214{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.3pt;border-top-color:#000000;border-bottom-style:solid}.c357{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99.2pt;border-top-color:#000000;border-bottom-style:solid}.c303{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:7.6pt;border-top-color:#000000;border-bottom-style:solid}.c23{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:33pt;border-top-color:#000000;border-bottom-style:solid}.c27{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2pt;border-top-color:#000000;border-bottom-style:solid}.c534{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c266{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c99{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.8pt;border-top-color:#000000;border-bottom-style:solid}.c397{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:126pt;border-top-color:#000000;border-bottom-style:solid}.c136{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:173.1pt;border-top-color:#000000;border-bottom-style:solid}.c222{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:4.8pt;border-top-color:#000000;border-bottom-style:solid}.c366{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.1pt;border-top-color:#000000;border-bottom-style:solid}.c410{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:114pt;border-top-color:#000000;border-bottom-style:solid}.c317{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:376.9pt;border-top-color:#000000;border-bottom-style:solid}.c411{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:69pt;border-top-color:#000000;border-bottom-style:solid}.c509{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:28.4pt;border-top-color:#000000;border-bottom-style:solid}.c261{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44pt;border-top-color:#000000;border-bottom-style:solid}.c111{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.7pt;border-top-color:#000000;border-bottom-style:solid}.c273{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.4pt;border-top-color:#000000;border-bottom-style:solid}.c441{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.7pt;border-top-color:#000000;border-bottom-style:solid}.c463{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c516{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57.9pt;border-top-color:#000000;border-bottom-style:solid}.c154{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.8pt;border-top-color:#000000;border-bottom-style:solid}.c170{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.6pt;border-top-color:#000000;border-bottom-style:solid}.c465{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c539{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:107.2pt;border-top-color:#000000;border-bottom-style:solid}.c201{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:7.1pt;border-top-color:#000000;border-bottom-style:solid}.c492{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:154.8pt;border-top-color:#000000;border-bottom-style:solid}.c186{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:113.4pt;border-top-color:#000000;border-bottom-style:solid}.c215{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:40.8pt;border-top-color:#000000;border-bottom-style:solid}.c380{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.4pt;border-top-color:#000000;border-bottom-style:solid}.c540{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:94.2pt;border-top-color:#000000;border-bottom-style:solid}.c530{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.1pt;border-top-color:#000000;border-bottom-style:solid}.c260{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.5pt;border-top-color:#000000;border-bottom-style:solid}.c239{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:420.1pt;border-top-color:#000000;border-bottom-style:solid}.c97{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:93.3pt;border-top-color:#000000;border-bottom-style:solid}.c305{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.4pt;border-top-color:#000000;border-bottom-style:solid}.c70{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:87.8pt;border-top-color:#000000;border-bottom-style:solid}.c224{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.4pt;border-top-color:#000000;border-bottom-style:solid}.c296{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:41.5pt;border-top-color:#000000;border-bottom-style:solid}.c354{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:311.9pt;border-top-color:#000000;border-bottom-style:solid}.c313{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:482.4pt;border-top-color:#000000;border-bottom-style:solid}.c180{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:407.1pt;border-top-color:#000000;border-bottom-style:solid}.c302{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.2pt;border-top-color:#000000;border-bottom-style:solid}.c140{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.8pt;border-top-color:#000000;border-bottom-style:solid}.c202{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99.2pt;border-top-color:#000000;border-bottom-style:solid}.c218{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53pt;border-top-color:#000000;border-bottom-style:solid}.c86{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:3.5pt;border-top-color:#000000;border-bottom-style:solid}.c510{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:9.2pt;border-top-color:#000000;border-bottom-style:solid}.c128{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.8pt;border-top-color:#000000;border-bottom-style:solid}.c18{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.6pt;border-top-color:#000000;border-bottom-style:solid}.c244{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:148.5pt;border-top-color:#000000;border-bottom-style:solid}.c344{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.6pt;border-top-color:#000000;border-bottom-style:solid}.c343{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:34.5pt;border-top-color:#000000;border-bottom-style:solid}.c479{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:36.8pt;border-top-color:#000000;border-bottom-style:solid}.c340{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:233.8pt;border-top-color:#000000;border-bottom-style:solid}.c520{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.9pt;border-top-color:#000000;border-bottom-style:solid}.c412{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:389.7pt;border-top-color:#000000;border-bottom-style:solid}.c294{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:8.8pt;border-top-color:#000000;border-bottom-style:solid}.c183{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:72pt;border-top-color:#000000;border-bottom-style:solid}.c235{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:3.5pt;border-top-color:#000000;border-bottom-style:solid}.c386{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.9pt;border-top-color:#000000;border-bottom-style:solid}.c525{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.8pt;border-top-color:#000000;border-bottom-style:solid}.c278{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.3pt;border-top-color:#000000;border-bottom-style:solid}.c304{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.9pt;border-top-color:#000000;border-bottom-style:solid}.c501{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:322.6pt;border-top-color:#000000;border-bottom-style:solid}.c203{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:46pt;border-top-color:#000000;border-bottom-style:solid}.c502{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.4pt;border-top-color:#000000;border-bottom-style:solid}.c143{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.9pt;border-top-color:#000000;border-bottom-style:solid}.c87{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:100.5pt;border-top-color:#000000;border-bottom-style:solid}.c500{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:148.8pt;border-top-color:#000000;border-bottom-style:solid}.c245{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.5pt;border-top-color:#000000;border-bottom-style:solid}.c241{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:153pt;border-top-color:#000000;border-bottom-style:solid}.c13{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52pt;border-top-color:#000000;border-bottom-style:solid}.c342{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.7pt;border-top-color:#000000;border-bottom-style:solid}.c523{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:97.2pt;border-top-color:#000000;border-bottom-style:solid}.c92{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:5.8pt;border-top-color:#000000;border-bottom-style:solid}.c532{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57.8pt;border-top-color:#000000;border-bottom-style:solid}.c12{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:135pt;border-top-color:#000000;border-bottom-style:solid}.c299{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63.8pt;border-top-color:#000000;border-bottom-style:solid}.c221{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.2pt;border-top-color:#000000;border-bottom-style:solid}.c168{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.2pt;border-top-color:#000000;border-bottom-style:solid}.c42{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:141.8pt;border-top-color:#000000;border-bottom-style:solid}.c114{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:166.5pt;border-top-color:#000000;border-bottom-style:solid}.c515{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:174.8pt;border-top-color:#000000;border-bottom-style:solid}.c63{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c332{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:374.2pt;border-top-color:#000000;border-bottom-style:solid}.c162{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.1pt;border-top-color:#000000;border-bottom-style:solid}.c121{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:0.8pt;border-top-color:#000000;border-bottom-style:solid}.c102{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.2pt;border-top-color:#000000;border-bottom-style:solid}.c324{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:72pt;border-top-color:#000000;border-bottom-style:solid}.c290{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:85.5pt;border-top-color:#000000;border-bottom-style:solid}.c14{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:413.2pt;border-top-color:#000000;border-bottom-style:solid}.c212{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:9.2pt;border-top-color:#000000;border-bottom-style:solid}.c172{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.2pt;border-top-color:#000000;border-bottom-style:solid}.c471{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:78.3pt;border-top-color:#000000;border-bottom-style:solid}.c33{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:37.1pt;border-top-color:#000000;border-bottom-style:solid}.c314{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:185.9pt;border-top-color:#000000;border-bottom-style:solid}.c146{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.6pt;border-top-color:#000000;border-bottom-style:solid}.c59{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:67.6pt;border-top-color:#000000;border-bottom-style:solid}.c297{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.3pt;border-top-color:#000000;border-bottom-style:solid}.c60{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.1pt;border-top-color:#000000;border-bottom-style:solid}.c430{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:164.3pt;border-top-color:#000000;border-bottom-style:solid}.c521{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83.5pt;border-top-color:#000000;border-bottom-style:solid}.c385{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:194.8pt;border-top-color:#000000;border-bottom-style:solid}.c383{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c531{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:91.9pt;border-top-color:#000000;border-bottom-style:solid}.c44{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:128.2pt;border-top-color:#000000;border-bottom-style:solid}.c375{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.3pt;border-top-color:#000000;border-bottom-style:solid}.c320{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:37.5pt;border-top-color:#000000;border-bottom-style:solid}.c409{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.1pt;border-top-color:#000000;border-bottom-style:solid}.c250{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41pt;border-top-color:#000000;border-bottom-style:solid}.c141{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60pt;border-top-color:#000000;border-bottom-style:solid}.c316{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.4pt;border-top-color:#000000;border-bottom-style:solid}.c277{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:8.8pt;border-top-color:#000000;border-bottom-style:solid}.c325{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:407.4pt;border-top-color:#000000;border-bottom-style:solid}.c389{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:428.2pt;border-top-color:#000000;border-bottom-style:solid}.c188{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60.4pt;border-top-color:#000000;border-bottom-style:solid}.c74{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.3pt;border-top-color:#000000;border-bottom-style:solid}.c76{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:74.2pt;border-top-color:#000000;border-bottom-style:solid}.c289{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c455{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47pt;border-top-color:#000000;border-bottom-style:solid}.c225{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.6pt;border-top-color:#000000;border-bottom-style:solid}.c309{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.7pt;border-top-color:#000000;border-bottom-style:solid}.c306{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:377.2pt;border-top-color:#000000;border-bottom-style:solid}.c369{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.3pt;border-top-color:#000000;border-bottom-style:solid}.c418{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:33pt;border-top-color:#000000;border-bottom-style:solid}.c319{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.7pt;border-top-color:#000000;border-bottom-style:solid}.c458{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:42.9pt;border-top-color:#000000;border-bottom-style:solid}.c217{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.2pt;border-top-color:#000000;border-bottom-style:solid}.c336{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:69.5pt;border-top-color:#000000;border-bottom-style:solid}.c73{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.2pt;border-top-color:#000000;border-bottom-style:solid}.c22{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:214.8pt;border-top-color:#000000;border-bottom-style:solid}.c323{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48pt;border-top-color:#000000;border-bottom-style:solid}.c80{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:101.4pt;border-top-color:#000000;border-bottom-style:solid}.c433{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.9pt;border-top-color:#000000;border-bottom-style:solid}.c230{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.5pt;border-top-color:#000000;border-bottom-style:solid}.c536{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:71pt;border-top-color:#000000;border-bottom-style:solid}.c407{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:77pt;border-top-color:#000000;border-bottom-style:solid}.c461{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:326.6pt;border-top-color:#000000;border-bottom-style:solid}.c327{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:9.2pt;border-top-color:#000000;border-bottom-style:solid}.c459{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:25.8pt;border-top-color:#000000;border-bottom-style:solid}.c346{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56pt;border-top-color:#000000;border-bottom-style:solid}.c100{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47.4pt;border-top-color:#000000;border-bottom-style:solid}.c234{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.9pt;border-top-color:#000000;border-bottom-style:solid}.c256{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:77.8pt;border-top-color:#000000;border-bottom-style:solid}.c347{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:39.8pt;border-top-color:#000000;border-bottom-style:solid}.c447{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.2pt;border-top-color:#000000;border-bottom-style:solid}.c453{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c452{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.5pt;border-top-color:#000000;border-bottom-style:solid}.c229{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.5pt;border-top-color:#000000;border-bottom-style:solid}.c374{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:32.6pt;border-top-color:#000000;border-bottom-style:solid}.c204{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.5pt;border-top-color:#000000;border-bottom-style:solid}.c445{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:202.1pt;border-top-color:#000000;border-bottom-style:solid}.c52{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.8pt;border-top-color:#000000;border-bottom-style:solid}.c480{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:62.4pt;border-top-color:#000000;border-bottom-style:solid}.c487{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c377{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.1pt;border-top-color:#000000;border-bottom-style:solid}.c26{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.9pt;border-top-color:#000000;border-bottom-style:solid}.c191{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:61.1pt;border-top-color:#000000;border-bottom-style:solid}.c462{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.9pt;border-top-color:#000000;border-bottom-style:solid}.c338{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:102pt;border-top-color:#000000;border-bottom-style:solid}.c475{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.3pt;border-top-color:#000000;border-bottom-style:solid}.c517{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:183.9pt;border-top-color:#000000;border-bottom-style:solid}.c49{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.3pt;border-top-color:#000000;border-bottom-style:solid}.c55{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c125{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:108pt;border-top-color:#000000;border-bottom-style:solid}.c403{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:3.6pt;border-top-color:#000000;border-bottom-style:solid}.c286{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.3pt;border-top-color:#000000;border-bottom-style:solid}.c457{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.4pt;border-top-color:#000000;border-bottom-style:solid}.c288{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.5pt;border-top-color:#000000;border-bottom-style:solid}.c171{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.5pt;border-top-color:#000000;border-bottom-style:solid}.c490{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.2pt;border-top-color:#000000;border-bottom-style:solid}.c124{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:86.5pt;border-top-color:#000000;border-bottom-style:solid}.c503{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.3pt;border-top-color:#000000;border-bottom-style:solid}.c538{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2.4pt;border-top-color:#000000;border-bottom-style:solid}.c117{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2pt;border-top-color:#000000;border-bottom-style:solid}.c512{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:202.1pt;border-top-color:#000000;border-bottom-style:solid}.c206{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47.2pt;border-top-color:#000000;border-bottom-style:solid}.c209{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.9pt;border-top-color:#000000;border-bottom-style:solid}.c167{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.7pt;border-top-color:#000000;border-bottom-style:solid}.c175{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.5pt;border-top-color:#000000;border-bottom-style:solid}.c231{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60.1pt;border-top-color:#000000;border-bottom-style:solid}.c232{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.8pt;border-top-color:#000000;border-bottom-style:solid}.c439{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57.2pt;border-top-color:#000000;border-bottom-style:solid}.c269{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.5pt;border-top-color:#000000;border-bottom-style:solid}.c528{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:84.9pt;border-top-color:#000000;border-bottom-style:solid}.c91{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c137{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2pt;border-top-color:#000000;border-bottom-style:solid}.c200{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.2pt;border-top-color:#000000;border-bottom-style:solid}.c142{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46pt;border-top-color:#000000;border-bottom-style:solid}.c226{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:130.5pt;border-top-color:#000000;border-bottom-style:solid}.c428{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45pt;border-top-color:#000000;border-bottom-style:solid}.c310{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:196.5pt;border-top-color:#000000;border-bottom-style:solid}.c271{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.7pt;border-top-color:#000000;border-bottom-style:solid}.c176{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.3pt;border-top-color:#000000;border-bottom-style:solid}.c376{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41pt;border-top-color:#000000;border-bottom-style:solid}.c287{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.4pt;border-top-color:#000000;border-bottom-style:solid}.c526{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47.7pt;border-top-color:#000000;border-bottom-style:solid}.c482{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:85.4pt;border-top-color:#000000;border-bottom-style:solid}.c181{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:164.3pt;border-top-color:#000000;border-bottom-style:solid}.c300{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:62.2pt;border-top-color:#000000;border-bottom-style:solid}.c416{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.8pt;border-top-color:#000000;border-bottom-style:solid}.c130{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.2pt;border-top-color:#000000;border-bottom-style:solid}.c237{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.5pt;border-top-color:#000000;border-bottom-style:solid}.c537{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:107.2pt;border-top-color:#000000;border-bottom-style:solid}.c415{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:8.8pt;border-top-color:#000000;border-bottom-style:solid}.c474{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:59.2pt;border-top-color:#000000;border-bottom-style:solid}.c242{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.1pt;border-top-color:#000000;border-bottom-style:solid}.c358{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:8.1pt;border-top-color:#000000;border-bottom-style:solid}.c424{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47.2pt;border-top-color:#000000;border-bottom-style:solid}.c345{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:107.2pt;border-top-color:#000000;border-bottom-style:solid}.c47{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:92.2pt;border-top-color:#000000;border-bottom-style:solid}.c82{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:403.9pt;border-top-color:#000000;border-bottom-style:solid}.c178{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.6pt;border-top-color:#000000;border-bottom-style:solid}.c138{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.1pt;border-top-color:#000000;border-bottom-style:solid}.c326{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:276.4pt;border-top-color:#000000;border-bottom-style:solid}.c133{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:39pt;border-top-color:#000000;border-bottom-style:solid}.c315{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:418.1pt;border-top-color:#000000;border-bottom-style:solid}.c197{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:390.8pt;border-top-color:#000000;border-bottom-style:solid}.c484{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.2pt;border-top-color:#000000;border-bottom-style:solid}.c454{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57pt;border-top-color:#000000;border-bottom-style:solid}.c144{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:417.8pt;border-top-color:#000000;border-bottom-style:solid}.c34{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54pt;border-top-color:#000000;border-bottom-style:solid}.c280{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.1pt;border-top-color:#000000;border-bottom-style:solid}.c421{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:173.1pt;border-top-color:#000000;border-bottom-style:solid}.c331{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c169{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.5pt;border-top-color:#000000;border-bottom-style:solid}.c467{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:102pt;border-top-color:#000000;border-bottom-style:solid}.c109{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:6pt;border-top-color:#000000;border-bottom-style:solid}.c220{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46pt;border-top-color:#000000;border-bottom-style:solid}.c379{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:3.5pt;border-top-color:#000000;border-bottom-style:solid}.c393{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.6pt;border-top-color:#000000;border-bottom-style:solid}.c367{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.6pt;border-top-color:#000000;border-bottom-style:solid}.c451{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.5pt;border-top-color:#000000;border-bottom-style:solid}.c282{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:98.9pt;border-top-color:#000000;border-bottom-style:solid}.c35{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:168.8pt;border-top-color:#000000;border-bottom-style:solid}.c50{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83pt;border-top-color:#000000;border-bottom-style:solid}.c185{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60.8pt;border-top-color:#000000;border-bottom-style:solid}.c396{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.3pt;border-top-color:#000000;border-bottom-style:solid}.c96{padding-top:6pt;border-top-width:0.5pt;padding-bottom:18pt;line-height:1.0;border-top-style:solid;text-indent:-18pt;orphans:2;widows:2;text-align:left}.c67{padding-top:0pt;border-top-width:0pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;orphans:2;border-top-style:solid;widows:2;text-align:left}.c85{padding-top:0pt;border-top-width:0pt;padding-bottom:3.2pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;border-top-style:solid;widows:2;text-align:left}.c122{padding-top:0pt;border-top-width:0pt;padding-bottom:2.6pt;line-height:1.0791666666666666;orphans:2;border-top-style:solid;widows:2;text-align:left}.c126{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:14pt;line-height:1.0291666666666666;orphans:2;widows:2;text-align:left;margin-right:0.3pt}.c43{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:0pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:justify;margin-right:0.3pt}.c238{padding-top:6pt;border-top-width:0.5pt;padding-bottom:6pt;line-height:1.0;border-top-style:solid;margin-left:21.6pt;text-indent:-21.6pt;text-align:left}.c62{padding-top:4pt;text-indent:-0.6pt;padding-bottom:0.5pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:49.5pt}.c285{margin-left:4.5pt;padding-top:6pt;border-top-width:0.5pt;padding-bottom:18pt;line-height:1.0;border-top-style:solid;text-align:left}.c469{padding-top:0pt;border-top-width:0pt;padding-bottom:5.9pt;line-height:1.0791666666666666;border-top-style:solid;text-align:left}.c233{padding-top:1pt;border-top-width:0.5pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;text-align:left}.c425{padding-top:6pt;border-top-width:0.5pt;padding-bottom:18pt;line-height:1.0;border-top-style:solid;text-align:left}.c24{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:-5.8pt}.c115{margin-left:28.4pt;padding-top:0pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c434{padding-top:0pt;border-top-width:0pt;padding-bottom:5.5pt;line-height:1.0791666666666666;border-top-style:solid;text-align:left}.c161{padding-top:0pt;border-top-width:0pt;padding-bottom:4.7pt;line-height:1.0791666666666666;border-top-style:solid;text-align:left}.c318{padding-top:0pt;border-top-width:0pt;padding-bottom:3.9pt;line-height:1.0791666666666666;border-top-style:solid;text-align:left}.c401{padding-top:0pt;border-top-width:0pt;padding-bottom:2.4pt;line-height:1.0791666666666666;border-top-style:solid;text-align:left}.c61{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c123{margin-left:-0.8pt;padding-top:4pt;padding-bottom:17.1pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c333{padding-top:6pt;border-top-width:0.5pt;padding-bottom:6pt;line-height:1.0;border-top-style:solid;text-align:left}.c5{padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c106{margin-left:-0.2pt;padding-top:4pt;padding-bottom:0pt;line-height:1.0250000000000001;orphans:2;widows:2;text-align:left}.c25{color:#446caa;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c213{padding-top:0pt;border-top-width:0pt;padding-bottom:7.2pt;line-height:1.0791666666666666;border-top-style:solid;text-align:left}.c69{padding-top:0pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c38{padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:center}.c371{margin-left:43.2pt;padding-top:12pt;text-indent:-43.2pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c337{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:7.2pt;line-height:1.0333333333333334;text-align:justify}.c108{padding-top:2pt;padding-bottom:2pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c68{padding-top:6pt;padding-bottom:6pt;line-height:1.5;orphans:2;widows:2;text-align:center}.c54{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;orphans:2;widows:2;text-align:center}.c58{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:center}.c65{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:justify}.c104{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c129{-webkit-text-decoration-skip:none;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:10pt;font-style:normal}.c131{padding-top:6pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c2{padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c147{margin-left:38.5pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify}.c3{color:#000000;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c7{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c83{color:#666666;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c72{color:#446caa;text-decoration:none;vertical-align:baseline;font-size:12pt;font-style:normal}.c251{margin-left:112.5pt;padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:left}.c259{padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;text-align:center;margin-right:-6.8pt}.c348{margin-left:74.5pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify}.c149{margin-left:-0.2pt;padding-top:4pt;padding-bottom:17.2pt;line-height:1.0;text-align:left}.c28{color:#000000;text-decoration:none;vertical-align:baseline;font-size:9pt;font-style:normal}.c88{color:#0000ee;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c29{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c66{color:#446caa;text-decoration:none;vertical-align:baseline;font-size:18pt;font-style:normal}.c90{color:#446caa;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c8{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left;height:10pt}.c1{color:#000000;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:italic}.c40{color:#333333;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left;height:10pt}.c118{background-color:#ffffff;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c4{color:#222222;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c312{padding-top:4pt;padding-bottom:0pt;line-height:1.0791666666666666;text-align:left}.c112{padding-top:0pt;padding-bottom:14pt;line-height:1.0;text-align:left}.c398{padding-top:4pt;padding-bottom:7.2pt;line-height:1.0;text-align:left}.c468{padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify}.c246{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c148{padding-top:0pt;padding-bottom:4.9pt;line-height:1.0333333333333334;text-align:left}.c499{padding-top:0pt;padding-bottom:15.4pt;line-height:1.0250000000000001;text-align:left}.c381{padding-top:6pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c438{padding-top:4pt;padding-bottom:1.5pt;line-height:1.0;text-align:left}.c464{padding-top:0pt;padding-bottom:7.3pt;line-height:1.0333333333333334;text-align:justify}.c419{padding-top:4pt;padding-bottom:0.2pt;line-height:1.0;text-align:left}.c495{padding-top:4pt;padding-bottom:23pt;line-height:1.0;text-align:left}.c513{font-size:10.5pt;font-family:"Roboto";color:#1f1f1f;font-weight:400}.c207{padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;text-align:left}.c364{padding-top:4pt;padding-bottom:7.6pt;line-height:1.0;text-align:left}.c541{padding-top:0pt;padding-bottom:15.4pt;line-height:1.0333333333333334;text-align:justify}.c535{-webkit-text-decoration-skip:none;text-decoration:line-through;text-decoration-skip-ink:none;font-style:normal}.c339{padding-top:4pt;padding-bottom:17.7pt;line-height:1.0;text-align:left}.c466{padding-top:0pt;padding-bottom:10.8pt;line-height:1.0;text-align:left}.c400{padding-top:4pt;padding-bottom:1.3pt;line-height:1.0;text-align:left}.c491{padding-top:14pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c542{padding-top:4pt;padding-bottom:10.6pt;line-height:1.1041666666666667;text-align:center}.c505{padding-top:4pt;padding-bottom:17.4pt;line-height:1.1041666666666667;text-align:center}.c404{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0333333333333334;text-align:left}.c368{padding-top:4pt;padding-bottom:0.7pt;line-height:1.0;text-align:left}.c543{padding-top:4pt;padding-bottom:6.3pt;line-height:1.0;text-align:left}.c356{padding-top:0pt;padding-bottom:0pt;line-height:1.7583333333333335;text-align:justify}.c119{text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c444{padding-top:4pt;padding-bottom:15.1pt;line-height:1.0;text-align:left}.c399{padding-top:4pt;padding-bottom:12.2pt;line-height:1.1041666666666667;text-align:center}.c443{padding-top:0pt;padding-bottom:6.2pt;line-height:1.0333333333333334;text-align:justify}.c156{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:justify}.c281{padding-top:4pt;padding-bottom:0.3pt;line-height:1.0;text-align:left}.c497{padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:center}.c311{padding-top:0pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c417{padding-top:0pt;padding-bottom:14.8pt;line-height:1.0333333333333334;text-align:justify}.c198{padding-top:0pt;padding-bottom:7.5pt;line-height:1.0333333333333334;text-align:justify}.c395{padding-top:4pt;padding-bottom:1.4pt;line-height:1.0;text-align:left}.c489{padding-top:0pt;padding-bottom:5pt;line-height:1.0333333333333334;text-align:justify}.c506{padding-top:4pt;padding-bottom:28.6pt;line-height:1.1041666666666667;text-align:center}.c192{padding-top:4pt;padding-bottom:17.6pt;line-height:1.0;text-align:left}.c423{padding-top:4pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c39{padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c240{padding-top:12pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c365{padding-top:4pt;padding-bottom:0pt;line-height:1.0250000000000001;text-align:center}.c120{border-spacing:0;border-collapse:collapse;margin-right:auto}.c481{padding-top:4pt;padding-bottom:0.9pt;line-height:1.0;text-align:left}.c351{font-weight:700;vertical-align:baseline;font-family:"Roboto";font-style:normal}.c322{padding-top:4pt;padding-bottom:1.1pt;line-height:1.0;text-align:left}.c254{padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:left}.c498{padding-top:4pt;padding-bottom:10.2pt;line-height:1.1041666666666667;text-align:center}.c253{padding-top:4pt;padding-bottom:15.4pt;line-height:1.0;text-align:left}.c372{padding-top:0pt;padding-bottom:15.3pt;line-height:1.0333333333333334;text-align:justify}.c406{color:#444746;font-weight:400;font-size:10.5pt;font-family:"Roboto"}.c485{padding-top:4pt;padding-bottom:1.2pt;line-height:1.0;text-align:left}.c334{padding-top:4pt;padding-bottom:17.6pt;line-height:1.0;text-align:center}.c56{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c402{padding-top:4pt;padding-bottom:17.3pt;line-height:1.0;text-align:left}.c182{padding-top:4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c292{border-spacing:0;border-collapse:collapse;margin-right:auto}.c328{font-size:11pt;font-family:"Roboto";font-weight:400}.c152{text-decoration:none;vertical-align:baseline;font-style:normal}.c81{padding-left:0pt;orphans:2;widows:2}.c249{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;text-decoration:underline}.c248{text-decoration:none;font-size:10pt;font-style:normal}.c265{text-decoration:none;vertical-align:baseline;font-size:9pt}.c163{font-weight:400;font-size:12pt;font-family:"Roboto"}.c135{border:1px solid black;margin:5px}.c279{margin-left:49.5pt;text-indent:-47.2pt}.c0{font-weight:400;font-family:"Arial"}.c478{margin-left:39.3pt;padding-left:-3.9pt}.c153{margin-left:32.2pt;padding-left:-3.9pt}.c432{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c426{margin-left:78.5pt;text-indent:-78.5pt}.c427{font-weight:700;font-family:"Liberation Sans"}.c276{color:#333333;font-size:10.5pt}.c77{font-weight:400;font-family:"Liberation Sans"}.c508{font-family:"Calibri";font-weight:400}.c20{margin-left:39pt;padding-left:0pt}.c295{padding-left:29.2pt;margin-left:20.2pt}.c349{margin-left:33pt;padding-left:-8.1pt}.c11{color:inherit;text-decoration:inherit}.c435{margin-left:41.9pt;padding-left:-3.9pt}.c113{padding:0;margin:0}.c139{orphans:2;widows:2}.c388{font-family:"Roboto";font-weight:700}.c37{font-weight:700;font-family:"Arial"}.c436{font-size:13pt}.c41{margin-right:0.2pt}.c94{page-break-after:avoid}.c321{text-indent:14.9pt}.c257{text-indent:-0.6pt}.c394{margin-right:-6.8pt}.c518{height:24.9pt}.c184{margin-left:-0.8pt}.c429{margin-left:45pt}.c293{color:#202124}.c449{height:13.7pt}.c473{margin-right:-6pt}.c6{vertical-align:super}.c446{margin-left:144pt}.c132{color:#222222}.c210{color:#ff0000}.c270{margin-right:-14.3pt}.c533{height:43.6pt}.c255{padding-left:0pt}.c258{color:#446caa}.c350{margin-left:21.6pt}.c486{text-indent:-2.2pt}.c46{font-size:8pt}.c243{padding-left:3.6pt}.c456{margin-left:15.9pt}.c193{height:50.4pt}.c187{height:27.4pt}.c179{height:31.2pt}.c496{height:14pt}.c145{color:#0000ee}.c208{background-color:#d9d9d9}.c79{color:#212529}.c36{background-color:#fff2cc}.c470{text-indent:-36pt}.c390{margin-right:-12.9pt}.c17{background-color:#cfe2f3}.c460{font-weight:700}.c103{margin-left:72pt}.c298{margin-right:-7.8pt}.c57{margin-left:36pt}.c216{margin-right:-36.4pt}.c307{margin-right:7.3pt}.c110{font-size:7pt}.c219{margin-right:-5pt}.c53{font-style:italic}.c524{height:17.1pt}.c355{text-indent:-18pt}.c448{margin-left:24.9pt}.c9{height:0pt}.c228{background-color:#ffe599}.c45{background-color:#ffff00}.c195{margin-right:49.5pt}.c494{margin-left:3pt}.c196{margin-left:18pt}.c493{margin-left:14.2pt}.c116{margin-left:27pt}.c194{margin-left:-0.2pt}.c384{text-indent:36pt}.c408{margin-right:49.7pt}.c150{height:12.3pt}.c64{color:#000000}.c284{margin-left:34.1pt}.c353{vertical-align:baseline}.c361{color:#333333}.c48{margin-left:54pt}.c134{height:38.9pt}.c420{text-indent:29.1pt}.c247{font-size:8.5pt}.c522{margin-right:-1.5pt}.c174{vertical-align:sub}.c527{font-size:24pt}.c387{color:#800080}.c414{margin-left:106.3pt}.c291{font-size:12pt}.c422{font-size:10pt}.c160{background-color:#cccccc}.c437{margin-right:-3pt}.c370{font-size:18pt}.c227{margin-left:-4.5pt}.c51{height:10pt}.c267{height:39.8pt}.c373{margin-left:29.1pt}.c413{margin-left:108pt}.c308{text-decoration:none}.c352{font-size:11pt}.c341{margin-left:2.5pt}.c274{background-color:#ffffff}.c529{margin-right:46.5pt}.title{padding-top:1pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:24pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}.subtitle{padding-top:1pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:18pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}li{color:#000000;font-size:10pt;font-family:"Liberation Sans"}p{margin:0;color:#000000;font-size:10pt;font-family:"Liberation Sans"}h1{padding-top:6pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:18pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;font-family:"Arial";orphans:2;widows:2;text-align:left}h2{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:14pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;font-family:"Arial";orphans:2;widows:2;text-align:left}h3{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:14pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;font-family:"Arial";orphans:2;widows:2;text-align:left}h4{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:12pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h5{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:12pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h6{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:11pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}</style></head><body class="c274 c432 doc-content"><div><p class="c2 c51"><span class="c3 c77"></span></p></div><p class="c233 c139 title"><span class="c152 c37 c258 c527">MQTT for Sensor Networks (MQTT-SN) Version 2.0</span></p><p class="c139 c233 subtitle"><span class="c66 c37">Committee Specification Draft 01</span></p><p class="c56 c139" id="h.30j0zll"><span class="c37 c258">07 December</span><span class="c37 c258">&nbsp;2023</span><span class="c152 c0 c64 c370">&nbsp;</span></p><p class="c131 c94"><span class="c90 c37">This stage:</span></p><p class="c131 c94"><span class="c37 c258">&hellip;</span><sup><a href="#cmnt1" id="cmnt_ref1">[a]</a></sup></p><p class="c131 c94"><span class="c90 c37">Previous stage:</span></p><p class="c131 c94"><span class="c90 c37">N/A</span></p><p class="c131 c94"><span class="c90 c37">Latest stage:</span></p><p class="c131 c94"><span class="c90 c37">&hellip;</span></p><p class="c131 c94"><span class="c90 c37">Technical Committee:</span></p><p class="c56 c139 c384" id="h.1fob9te"><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/&amp;sa=D&amp;source=editors&amp;ust=1702576997827102&amp;usg=AOvVaw3jWX3uDoqB7ADNdHVo83_m">OASIS Message Queuing Telemetry Transport (MQTT) TC</a></span></p><p class="c131 c94"><span class="c90 c37">Chairs:</span></p><p class="c56 c139 c57"><span class="c118 c0">Ian Craggs (</span><span class="c0 c118"><a class="c11" href="mailto:icraggs@gmail.com">icraggs@gmail.com</a></span><span class="c118 c0">), Individual member</span></p><p class="c56 c139 c57"><span class="c3 c0">Simon Johnson (</span><span class="c0 c64 c308">simon.johnson@hivemq.com</span><span class="c3 c0">), </span><span class="c0">HiveMQ</span></p><p class="c94 c131"><span class="c90 c37">Editors:</span></p><p class="c56 c139 c57"><span class="c3 c0">Andrew Banks (</span><span class="c88 c0"><a class="c11" href="mailto:Andrew_Banks@uk.ibm.com">Andrew_Banks@uk.ibm.com</a></span><span class="c3 c0">), </span><span class="c0 c88"><a class="c11" href="https://www.google.com/url?q=http://www.ibm.com&amp;sa=D&amp;source=editors&amp;ust=1702576997828213&amp;usg=AOvVaw2iS7GN6TE1Ex0lPJXrqXvv">IBM</a></span></p><p class="c56 c139 c57"><span class="c0">Davide Lenzarini (</span><span class="c246 c0"><a class="c11" href="mailto:davide.lenzarini@u-blox.com">davide.lenzarini@u-blox.com</a></span><span class="c3 c0">), u-blox</span></p><p class="c56 c139 c57"><span class="c0 c274">Ian Craggs (</span><span class="c0 c274"><a class="c11" href="mailto:icraggs@gmail.com">icraggs@gmail.com</a></span><span class="c0 c274">), Individual member</span></p><p class="c56 c139 c57"><span class="c3 c0">Rahul Gupta (</span><span class="c88 c0"><a class="c11" href="mailto:rahul.gupta@us.ibm.com">rahul.gupta@us.ibm.com</a></span><span class="c3 c0">), </span><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=http://www.ibm.com&amp;sa=D&amp;source=editors&amp;ust=1702576997829132&amp;usg=AOvVaw1LTw1tJ3MbvgVTeHbgCUgH">IBM</a></span></p><p class="c56 c139 c57"><span class="c0">Simon Johnson (</span><span class="c0 c145"><a class="c11" href="mailto:simon622@gmail.com">simon</a></span><span class="c3 c0">.johnson@hivemq.com), HiveMQ</span></p><p class="c56 c139 c57"><span class="c0">Stefan Hagen (</span><span class="c246 c0"><a class="c11" href="mailto:stefan@hagen.link">stefan@hagen.link</a></span><span class="c3 c0">), Individual member</span></p><p class="c56 c139 c57"><span class="c3 c0">Tara E. Walker (</span><span class="c88 c0"><a class="c11" href="mailto:tara.walker@microsoft.com">tara.walker@microsoft.com</a></span><span class="c3 c0">), </span><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=http://www.microsoft.com&amp;sa=D&amp;source=editors&amp;ust=1702576997829902&amp;usg=AOvVaw3dLd8Yqf7QuQIOHXoInDPK">Microsoft</a></span></p><p class="c10 c139"><span class="c3 c0"></span></p><a id="id.3znysh7"></a><p class="c131 c94"><span class="c90 c37">Additional artifacts:</span></p><p class="c56 c139"><span class="c3 c0">This prose specification is one component of a Work Product that also includes:</span></p><ul class="c113 lst-kix_list_5-0 start"><li class="c56 c81 c103 li-bullet-0"><span class="c3 c0">XML schemas:</span><span class="c88 c0">&nbsp;</span><span class="c3 c0">(list file names or directory name)</span></li><li class="c56 c81 c103 li-bullet-0"><span class="c3 c0">Other parts (list titles and/or file names)</span></li><li class="c311 c81 c103 li-bullet-0"><span class="c3 c0 c45">(</span><span class="c3 c37 c45">Note:</span><span class="c3 c0 c45">&nbsp;Any normative computer language definitions that are part of the Work Product, such as XML instances, schemas and Java(TM) code, including fragments of such, must be (a) well formed and valid, (b) provided in separate plain text files, (c) referenced from the Work Product; and (d) where any definition in these separate files disagrees with the definition found in the specification, the definition in the separate file prevails. Remove this note before submitting for publication.)</span></li></ul><a id="id.2et92p0"></a><p class="c131 c94"><span class="c90 c37">Related work:</span></p><p class="c56 c139"><span class="c3 c0">This specification is related to:</span></p><ul class="c113 lst-kix_list_5-0"><li class="c56 c81 c103 li-bullet-0"><span class="c1 c0">MQTT Version 5.0</span><span class="c3 c0">. Edited by Andrew Banks, Ed Briggs, Ken Borgendale, and Rahul Gupta. OASIS Standard. Latest version: </span><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html&amp;sa=D&amp;source=editors&amp;ust=1702576997830867&amp;usg=AOvVaw2ItvsiVzLxnT8UOVBHRzlM">https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html</a></span><span class="c88 c0">.</span></li><li class="c56 c81 c103 li-bullet-0"><span class="c1 c0">MQTT Version 3.1.1</span><span class="c3 c0">. Edited by Andrew Banks and Rahul Gupta. OASIS Standard. Latest version: </span><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html&amp;sa=D&amp;source=editors&amp;ust=1702576997831127&amp;usg=AOvVaw0wU9r-E3SQdtPWy8koyKT-">http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html</a></span><span class="c3 c0">.</span></li><li class="c56 c81 c103 li-bullet-0"><span class="c1 c0">MQTT-SN Version 1.2</span><span class="c3 c0">&nbsp;by Andy Stanford-Clark and Hong Linh Truong. Link: </span><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/download.php/66091/MQTT-SN_spec_v1.2.pdf&amp;sa=D&amp;source=editors&amp;ust=1702576997831404&amp;usg=AOvVaw2Kkxy-DORVFHfq4d-OzgCS">https://www.oasis-open.org/committees/download.php/66091/MQTT-SN_spec_v1.2.pdf</a></span><span class="c3 c0">.</span></li></ul><p class="c311 c139 c355 c196 c51"><span class="c3 c0"></span></p><p class="c131 c94"><span class="c90 c37">Abstract:</span></p><p class="c311 c139"><span class="c3 c0">This specification defines the MQTT for Sensor Networks protocol (MQTT-SN). It is closely related to the MQTT v3.1.1 and MQTT v5.0 standards. MQTT-SN is optimized for implementation on low-cost, battery-operated devices with limited processing and storage resources. It is designed so that it will work over a variety of networking technologies and bridge to an MQTT network.</span></p><p class="c131 c94"><span class="c90 c37">Status:</span></p><p class="c311 c139"><span class="c3 c0">This </span><span class="c0">document was last revised or approved by the OASIS Message Queuing Telemetry Transport (MQTT) TC on the above date.</span><span class="c3 c0">&nbsp;</span><span class="c0">The level of approval is also listed above. Check the &quot;Latest stage&quot; location noted above for possible later revisions of this document. Any other numbered Versions and other technical work produced by the Technical Committee (TC) are listed at </span><span class="c246 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/tc_home.php?wg_abbrev%3Dmqtt%23technical&amp;sa=D&amp;source=editors&amp;ust=1702576997831861&amp;usg=AOvVaw0pF-hvZc7_ucgtIsxoD2Wl">https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=mqtt#technical</a></span><span class="c3 c0">&nbsp;.</span></p><p class="c311 c139"><span class="c0">TC members should send comments on this document to the TC&#39;s email list. Others should send comments to the TC&#39;s public comment list, after subscribing to it by following the instructions at the &quot;</span><span class="c246 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/comments/index.php?wg_abbrev%3Dmqtt&amp;sa=D&amp;source=editors&amp;ust=1702576997832070&amp;usg=AOvVaw10KMn7Sv7u63AEXKTCjA-X">Send A Comment</a></span><span class="c0">&quot; button on the TC&#39;s web page at </span><span class="c246 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/&amp;sa=D&amp;source=editors&amp;ust=1702576997832220&amp;usg=AOvVaw2uTyzwwRYkfb_CWKEdGyM9">https://www.oasis-open.org/committees/mqtt/</a></span><span class="c3 c0">.</span></p><p class="c311 c139"><span class="c3 c0">This specification is provided under the </span><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr%23Non-Assertion-Mode&amp;sa=D&amp;source=editors&amp;ust=1702576997832436&amp;usg=AOvVaw0YLmSO0x5TU6w6Oz2TH6Zk">Non-Assertion</a></span><span class="c3 c0">&nbsp;Mode of the </span><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr&amp;sa=D&amp;source=editors&amp;ust=1702576997832578&amp;usg=AOvVaw0VwfnE-jAZIpnw36t7snnM">OASIS IPR Policy</a></span><span class="c3 c0">, the mode chosen when the Technical Committee was established. For information on whether any patents have been disclosed that may be essential to implementing this specification, and any offers of patent licensing terms, please refer to the Intellectual Property Rights section of the TC&rsquo;s web page (</span><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/ipr.php&amp;sa=D&amp;source=editors&amp;ust=1702576997832727&amp;usg=AOvVaw1yuPFb9U3zn5UoGZQxLKr3">https://www.oasis-open.org/committees/mqtt/ipr.php</a></span><span class="c88 c0">).</span></p><p class="c139 c311"><span class="c3 c0">Note that any machine-readable content (</span><span class="c88 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsCompLang&amp;sa=D&amp;source=editors&amp;ust=1702576997832934&amp;usg=AOvVaw1FS0DpOoYGoSDeGVP_7gbC">Computer Language Definitions</a></span><span class="c3 c0">) declared Normative for this Work Product is provided in separate plain text files. In the event of a discrepancy between any such plain text file and display content in the Work Product&#39;s prose narrative document(s), the content in the separate plain text file prevails.</span></p><p class="c131 c94"><span class="c90 c37">Keywords:</span></p><p class="c311 c139"><span class="c0">The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be interpreted as described in BCP 14 [</span><span class="c0 c387">RFC2119</span><span class="c0">] and [</span><span class="c0 c387">RFC8174</span><span class="c3 c0">] when, and only when, they appear in all capitals, as shown here.</span></p><p class="c131 c94"><span class="c37 c258">Citation format</span><span class="c37 c90">:</span></p><p class="c69"><span class="c3 c0">When referencing this document, the following citation format should be used:</span></p><p class="c69"><span class="c3 c37">[MQTT-SN-v2.0]</span></p><p class="c56 c139"><span class="c0 c53">MQTT for Sensor Networks Version 2.0</span><span class="c0">. Edited by Andrew Banks, Davide Lenzarini, Ian Craggs, Rahul Gupta, Simon Johnson, Stefan Hagen, and Tara E. Walker. 08 December 2023. OASIS Committee Specification Draft 01. </span><span class="c0 c246"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt-sn/v12.30/csd01/mqtt-sn-v12.30-csd01.docx&amp;sa=D&amp;source=editors&amp;ust=1702576997833542&amp;usg=AOvVaw0kSOrYtnm_GboWM0tSiq_F">https://docs.oasis-open.org/mqtt/mqtt-sn/v2.0/csd01/mqtt-sn-v2.0-csd01.docx</a></span><span class="c0">. Latest stage: </span><span class="c246 c0"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt-sn/v12.30/mqtt-sn-v12.30.docx&amp;sa=D&amp;source=editors&amp;ust=1702576997833717&amp;usg=AOvVaw2H8WtWYvnG7Hk1Br51khYQ">https://docs.oasis-open.org/mqtt/mqtt-sn/v2.0/mqtt-sn-v2.0.docx</a></span><sup><a href="#cmnt2" id="cmnt_ref2">[b]</a></sup></p><p class="c311 c139"><span class="c3 c0 c45">(</span><span class="c3 c37 c45">Note:</span><span class="c3 c0 c45">&nbsp;Publication URIs are managed by OASIS TC Administration; please don&#39;t modify. The </span><span class="c88 c0 c45"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsGeneral&amp;sa=D&amp;source=editors&amp;ust=1702576997834165&amp;usg=AOvVaw1oDB4mWJEO3rJn_xfWiXst">OASIS TC Process</a></span><span class="c3 c0 c45">&nbsp;requires that Work Products at any level of approval must use the </span><span class="c88 c0 c45"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/specGuidelines/ndr/namingDirectives.html&amp;sa=D&amp;source=editors&amp;ust=1702576997834404&amp;usg=AOvVaw1j8zzqT2wG6HkurSayxesW">OASIS file naming scheme</a></span><span class="c3 c0 c45">, and must include the OASIS copyright notice. The URIs above have been constructed according to the file naming scheme. Remove this note before submitting for publication.)</span></p><p class="c311 c139 c51"><span class="c3 c0"></span></p><p class="c233 c139"><span class="c66 c37">Notices</span></p><p class="c69"><span class="c3 c0">Copyright &copy; OASIS Open 2023. All Rights Reserved.</span></p><p class="c69"><span class="c0">Distributed under the terms of the OASIS IPR Policy, [</span><span class="c249 c0 c387"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1702576997834898&amp;usg=AOvVaw0PuacBUNWFYAwqz4fRdYZx">https://www.oasis-open.org/policies-guidelines/ipr/</a></span><span class="c3 c0">]. For complete copyright information please see the full Notices section in an Appendix below.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c38 c51"><span class="c3 c0"></span></p><p class="c233 c139"><span class="c66 c37">Table of Contents</span></p><p class="c39"><span class="c3 c0"><a class="c11" href="#h.3dy6vkm">1 Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.4olrp2glo5nb">1.1 MQTT For Sensor Networks (MQTT-SN)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9</a></span></p><p class="c39 c57"><span class="c7 c0"><a class="c11" href="#h.ox4v8n854qgm">1.1.1 MQTT-SN and MQTT Differences&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.v5qicb1pcnem">1.2 Changes from earlier Versions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c39 c57"><span class="c7 c0"><a class="c11" href="#h.5u7dbejbytfw">1.2.1 MQTT-SN v1.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.4d34og8">1.3 Organization of the MQTT-SN specification&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.17dp8vu">1.4 Glossary&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c29"><span class="c3 c77"><a class="c11" href="#h.1ci93xb">8.1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.2bn6wsx">1.4 Data representation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.qsh70q">1.4.1 Bits (Byte)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.3as4poj">1.4.2 Two Byte Integer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1pxezwc">1.4.3 Four Byte Integer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.49x2ik5">1.4.4 UTF-8 Encoded String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c39"><span class="c3 c0"><a class="c11" href="#h.3o7alnk">2 MQTT-SN Control Packet format&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.23ckvvd">2.1 Structure of an MQTT-SN Control Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1hmsyys">2.1.1 Packet Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.vx1227">2.1.2 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1v1yuxt">2.1.3 MQTT-SN Control Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.19c6y18">2.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;17</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.nmf14n">2.3 MQTT-SN Packet Fields&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.37m2jsg">2.3.1 Protocol Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1mrcu09">2.3.2 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.46r0co2">2.3.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.111kx3o">2.3.4 Topic Alias Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.3l18frh">2.3.5 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.206ipza">2.3.6 Will Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.4k668n3">2.3.7 Will Topic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.2zbgiuw">2.4 Topic Alias Types&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c39"><span class="c3 c0"><a class="c11" href="#h.1egqt2p">3 MQTT-SN Control Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.3ygebqi">3.1 Format of Individual Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.2dlolyb">3.1.1 ADVERTISE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.sqyw64">3.1.1.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3cqmetx">3.1.1.2 GwId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1rvwp1q">3.1.1.3 Duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.4bvk7pj">3.1.2 SEARCHGW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2r0uhxc">3.1.2.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1664s55">3.1.2.2 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.3q5sasy">3.1.3 GWINFO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.25b2l0r">3.1.3.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.kgcv8k">3.1.3.2 GwId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.34g0dwd">3.1.3.3 GwAdd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1jlao46">3.1.4 CONNECT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.43ky6rz">3.1.4.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2iq8gzs">3.1.4.2 Connect Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.xvir7l">3.1.4.3 Protocol Version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.4h042r0">3.1.4.4 Keep Alive Timer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1baon6m">3.1.4.5 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;27</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3vac5uf">3.1.4.6 Max Packet Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;27</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.pkwqa1">3.1.4.7 Client Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.39kk8xu">3.1.5 CONNACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2nusc19">3.1.5.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1302m92">3.1.5.2 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3mzq4wv">3.1.5.3 Connack Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2250f4o">3.1.5.4 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.haapch">3.1.5.5 Assigned Client Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.319y80a">3.1.6 WILLTOPICREQ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1gf8i83">3.1.7 WILLMSGREQ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.40ew0vw">3.1.8 WILLTOPIC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2fk6b3p">3.1.8.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.upglbi">3.1.8.2 WILLTOPIC Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3ep43zb">3.1.8.3 Will Topic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1tuee74">3.1.9 WILLMSG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.4du1wux">3.1.9.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2szc72q">3.1.9.2 Will Message&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.184mhaj">3.1.10 AUTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3s49zyc">3.1.10.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.279ka65">3.1.10.2 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.meukdy">3.1.10.3 Auth Method Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.36ei31r">3.1.10.4 Auth Method&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1ljsd9k">3.1.10.5 Auth Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.45jfvxd">3.1.11 REGISTER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2koq656">3.1.11.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.zu0gcz">3.1.11.2 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3jtnz0s">3.1.11.3 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1yyy98l">3.1.11.4 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.4iylrwe">3.1.12 REGACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2y3w247">3.1.12.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1d96cc0">3.1.12.2 REGACK Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3x8tuzt">3.1.12.3 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2ce457m">3.1.12.4 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.rjefff">3.1.12.5 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c39 c57"><span class="c3 c77"><a class="c11" href="#h.3bj1y38">3.1.13 Publish Variants&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1qoc8b1">3.1.14 PUBLISH MINUS -1 (Reference from 1.2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.4anzqyu">3.1.14.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.14ykbeg">3.1.14.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3oy7u29">3.1.14.3 Topic Alias or Topic Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.243i4a2">3.1.14.4 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.j8sehv">3.1.15 PUBLISH OUT OF BAND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.338fx5o">3.1.15.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1idq7dh">3.1.15.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.42ddq1a">3.1.15.3 Topic Alias or Topic Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2hio093">3.1.15.4 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.wnyagw">3.1.16 PUBLISH (used for QoS 0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3gnlt4p">3.1.16.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1vsw3ci">3.1.16.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.4fsjm0b">3.1.16.3 Topic Alias or Topic Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2uxtw84">3.1.16.4 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1a346fx">3.1.17 PUBLISH (used for QoS 1 &amp; 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3u2rp3q">3.1.17.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2981zbj">3.1.17.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.38czs75">3.1.17.3 Topic Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1nia2ey">3.1.17.4 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.47hxl2r">3.1.17.5 Topic Alias or Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2mn7vak">3.1.17.6 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.11si5id">3.1.18 PUBACK &ndash; Publish Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3ls5o66">3.1.18.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.20xfydz">3.1.18.2 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.4kx3h1s">3.1.18.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.302dr9l">3.1.19 PUBREC (QoS 2 delivery part 1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1f7o1he">3.1.19.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3z7bk57">3.1.19.2 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.2eclud0">3.1.20 PUBREL (QoS 2 delivery part 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.thw4kt">3.1.20.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3dhjn8m">3.1.20.2 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1smtxgf">3.1.21 PUBCOMP (QoS 2 delivery part 3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.4cmhg48">3.1.21.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c39 c48"><span class="c0 c28"><a class="c11" href="#h.2rrrqc1">3.1.21.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.16x20ju">3.1.22 SUBSCRIBE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3qwpj7n">3.1.22.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.261ztfg">3.1.22.2 SUBSCRIBE Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.l7a3n9">3.1.22.3 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.356xmb2">3.1.22.4 Topic Alias or Topic Filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1kc7wiv">3.1.23 SUBACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.44bvf6o">3.1.23.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2jh5peh">3.1.23.2 Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.ymfzma">3.1.23.3 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3im3ia3">3.1.23.4 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1xrdshw">3.1.23.5 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.4hr1b5p">3.1.24 UNSUBSCRIBE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1c1lvlb">3.1.24.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3w19e94">3.1.24.2 UNSUBSCRIBE Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2b6jogx">3.1.24.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.qbtyoq">3.1.24.4 Topic Alias or Topic Filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.3abhhcj">3.1.25 UNSUBACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1pgrrkc">3.1.25.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.49gfa85">3.1.25.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2olpkfy">3.1.25.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.13qzunr">3.1.26 PINGREQ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3nqndbk">3.1.26.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.22vxnjd">3.1.26.2 Client Identifier (optional)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.i17xr6">3.1.27 PINGRESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.320vgez">3.1.27.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1h65qms">3.1.27.2 Messages Remaining&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.415t9al">3.1.28 DISCONNECT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2gb3jie">3.1.28.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.vgdtq7">3.1.28.2 Disconnect Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3fg1ce0">3.1.28.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1ulbmlt">3.1.28.4 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.4ekz59m">3.1.28.5 Reason String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.2tq9fhf">3.1.29 WILLTOPICUPD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.18vjpp8">3.1.29.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3sv78d1">3.1.29.2 Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.280hiku">3.1.29.3 Will Topic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.n5rssn">3.1.30 WILLMSGUPD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.375fbgg">3.1.30.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1maplo9">3.1.30.2 Will Message&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.46ad4c2">3.1.31 WILLTOPICRESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.10kxoro">3.1.31.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3kkl7fh">3.1.31.2 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1zpvhna">3.1.32 WILLMSGRESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.4jpj0b3">3.1.32.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2yutaiw">3.1.32.2 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1e03kqp">3.1.33 Forwarder Encapsulation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3xzr3ei">3.1.33.1 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.2d51dmb">3.1.33.2 Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.sabnu4">3.1.33.3 Ctrl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.3c9z6hx">3.1.33.4 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.1rf9gpq">3.1.33.5 Wireless Node Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c39 c48"><span class="c28 c0"><a class="c11" href="#h.4bewzdj">3.1.33.6 MQTT SN Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c39 c57"><span class="c7 c0"><a class="c11" href="#h.15cqrsoyxc87">3.1.34 PROTECTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.j9tutdzg8gdj">3.1.34.1 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.8duggxbcbw2">3.1.34.2 Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.g1mmf1c4lvqh">3.1.34.3 Protection Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.m1zk7agco355">3.1.34.4 Protection Scheme&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.jo2d2fngx6hj">3.1.34.5 Sender Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.vjl219ghlhvi">3.1.34.6 Random&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.q30yx1mc4rc1">3.1.34.7 Crypto Material&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.3y6o9vhqakro">3.1.34.8 Monotonic Counter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.dovnwl46a7is">3.1.34.9 Protected MQTT-SN Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c39 c48"><span class="c7 c0"><a class="c11" href="#h.j75p96o6vesm">3.1.34.10 Authentication Tag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c39"><span class="c3 c0"><a class="c11" href="#h.2qk79lc">4 Operational behavior&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.15phjt5">4.1 MQTT-SN Architecture&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.3pp52gy">4.1.1 Transparent Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.24ufcor">4.1.2 Aggregating Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.jzpmwk">4.2 Networks &amp; Transport Layers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.1j4nfs6">4.3 Gateway Advertisement and Discovery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.434ayfz">4.4 Session Establishment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;65</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.2i9l8ns">4.5 Quality of Service levels and protocol flows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.xevivl">4.5.1 QoS 0: At most once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1au1eum">4.5.2 QoS 1: At least once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.1o97atn">4.5.3 QoS 2: Exactly once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c39 c57"><span class="c3 c0"><a class="c11" href="#h.12jfdx2">4.5.4 QoS -1: Constrained client delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c39 c57"><span class="c7 c0"><a class="c11" href="#h.au8d3npbmfl">4.5.5 OUT OF BAND: Constrained client delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;69</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.3mj2wkv">4.6 Client states&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;69</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.21od6so">4.7 Session state&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.gtnh0h">4.8 Clean start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.30tazoa">4.9 Procedure for updating the Will data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.1fyl9w3">4.10 Topic Name and Topic Filter Registration Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.3zy8sjw">4.11 Topic Name and Topic Filter Mapping and Aliasing&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.2f3j2rp">4.12 Pre-defined topic alias&rsquo; and short topic names&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.u8tczi">4.13 Client&rsquo;s Topic Subscribe/Unsubscribe Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.3e8gvnb">4.14 Client&rsquo;s Publish Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.1tdr5v4">4.15 Gateway&rsquo;s Publish Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.4ddeoix">4.16 Keep Alive and PING Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;76</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.2sioyqq">4.17 Client&rsquo;s Disconnect Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;76</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.17nz8yj">4.18 Client&rsquo;s Retransmission Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;76</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.3rnmrmc">4.19 Sleeping clients&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;76</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.26sx1u5">4.20 Authentication&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;78</a></span></p><p class="c29"><span class="c3 c0"><a class="c11" href="#h.ly7c1y">4.21 Retained Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.mo7ahow0t2fa">4.22 Optional Features&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c39"><span class="c3 c0"><a class="c11" href="#h.2k82xt6">5 Conformance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81</a></span></p><p class="c39"><span class="c7 c37"><a class="c11" href="#h.zdd80z">Appendix A. References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;82</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.2pjpzxrro3v8">A.1 Normative References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;82</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.wmz8ensz9jqs">A.2 Informative References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83</a></span></p><p class="c39"><span class="c7 c37"><a class="c11" href="#h.55r6c0xsdoov">Appendix B. Security and Privacy Considerations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;84</a></span></p><p class="c39"><span class="c7 c37"><a class="c11" href="#h.bc8w7ov5oli4">Appendix C. Acknowledgments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;85</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.glow6i83isd5">C.1 Special Thanks&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;85</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.tdeowwajj1wf">C.2 Participants&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;85</a></span></p><p class="c39"><span class="c7 c37"><a class="c11" href="#h.ewpzaw2f211a">Appendix D. Revision History&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c39"><span class="c7 c37"><a class="c11" href="#h.3jd0qos">Appendix E. Implementation Notes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.1yib0wl">E.1 Support of QoS Level -1 and OUT OF BAND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.4ihyjke">E.2 &ldquo;Best practice&rdquo; values for timers and counters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.2xn8ts7">E.3 Mapping of Topic Alias to Topic Names and Topic Filters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c29"><span class="c7 c0"><a class="c11" href="#h.1csj400">E.4 Exponential Backoff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c39"><span class="c7 c37"><a class="c11" href="#h.sg1xgdru14ui">Appendix F. Notices&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93</a></span></p><p class="c2 c51" id="h.tyjcwt"><span class="c3 c0"></span></p><h1 class="c139 c94 c238" id="h.3dy6vkm"><span>1 </span><span class="c66 c37">Introduction</span></h1><p class="c2"><span class="c0">[</span><span class="c0 c45">All text is normative unless otherwise labeled</span><span class="c3 c0">]</span></p><h2 class="c67 c279" id="h.4olrp2glo5nb"><span class="c25">1.1 MQTT For Sensor Networks (MQTT-SN) </span></h2><p class="c2"><span class="c3 c0">Sensor Networks are simple, low cost and easy to deploy, they are typically used to provide, event detection, monitoring, automation, process control and more. Sensor Networks often comprise of many battery-powered sensors and actuators, each containing a limited amount of storage and processing capability. They usually communicate wirelessly.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">Sensor Networks are self-forming, continually change, and do not have any central control. The wireless network connections and processing nodes will fail, and the batteries will run out. The nodes will be replaced, added or removed in an unplanned way. The identities of the devices are usually created when they are manufactured, this avoids the need for specialist configuration when they are deployed. Applications running outside the Sensor Network do not need to know the details of the devices in it. The applications consume information from the sensors and send instructions to actuators based only on labels created by the application designers. The labels are called Topic Names in the MQTT and MQTT-SN protocols. The MQTT-SN implementation carries the information between a set of applications and the correct set of devices based on its knowledge of the network and the applications designer&rsquo;s choice of Topic Names. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">Consider an example of a medicine tracking application. The application needs to know the location and temperature of the medicine, but it does not want to concern itself with the network details of the devices providing the data. It may be that the number and types of the devices changes over time. There may also be other applications using the same sensor data for other purposes. The model is that the devices and applications produce and consume data to and from the Topics rather than the other devices and applications.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c3 c0">This MQTT-SN specification is a variant of the MQTT version 5 specification. It is adapted to exploit low power and low bandwidth wireless networks. Low power wireless radio links have higher numbers of transmission errors compared to more powerful networks because they are more susceptible to interference and fading of the radio signals. They also have lower transmission rates. </span></p><p class="c182 c139 c41 c321 c184 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c3 c0">For example, wireless networks based on the IEEE 802.15.4 standard used by Zigbee have a maximum bandwidth of 250 kbit/s in the 2.4 GHz band. To reduce transmission errors the packets are kept short. The maximum packet length at the physical layer is 128 bytes and half of these may be used for Media Access Control and security.</span></p><p class="c182 c139 c41 c321 c184 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">The MQTT-SN protocol is optimized for implementation on low-cost, battery-operated devices with limited processing and storage resources. The capabilities are kept simple and the specification allows partial implementations.</span></p><h3 class="c67 c426" id="h.ox4v8n854qgm"><span>1.1.1 MQTT-SN and MQTT </span><span>Differences</span></h3><p class="c2"><span class="c152 c406">MQTT and MQTT-SN specifications are similar in many ways and meant to interoperate with each other, but the two specifications are independent of each other.</span></p><p class="c2"><span class="c3 c0">MQTT-SN can work isolated from other networks or in conjunction with MQTT. The main differences between MQTT-SN and MQTT are:</span></p><ol class="c113 lst-kix_list_3-0 start" start="1"><li class="c2 c243 c196 li-bullet-1"><span class="c3 c0">MQTT-SN uses separate packets to transfer the Will Topic and Will Payload if they are used. The Will Topic and Will Payload can be modified during the lifetime of a Session.</span></li><li class="c2 c196 c243 li-bullet-1"><span class="c3 c0">In addition to Topic Alias and long Topic Names MQTT-SN allows predefined and short two-byte Topic Names.</span></li><li class="c2 c243 c196 li-bullet-1"><span class="c0">If the network supports multicast</span><span class="c0">broadcast</span><span class="c3 c0">, Gateway discovery can be implemented, otherwise the Gateway addresses must be configured in the nodes.</span></li><li class="c2 c243 c196 li-bullet-1"><span class="c3 c0">The Will message is part of the Session State and is discarded as part of Clean Start processing.</span></li><li class="c2 c243 c196 li-bullet-1"><span class="c3 c0">Support for sleeping clients allows battery operated devices to enter a low power mode. In this state, messages for the client are buffered by the Gateway and delivered when the client wakes.</span></li><li class="c2 c243 c196 li-bullet-1"><span class="c3 c0">A new Quality of Service level (OUT OF BAND) is introduced in MQTT-SN, allowing devices to publish without a GW session having been established.</span></li><li class="c2 c243 c196 li-bullet-1"><span class="c3 c0">MQTT-SN doesn&rsquo;t have any requirement on the underlying transport and it can use connectionless network transports such as User Datagram Protocol (UDP).</span></li><li class="c2 c243 c196 li-bullet-1"><span class="c0">MQTT-SN introduced the Protection packet for message-based security based on symmetric cryptography. </span></li></ol><h2 class="c67 c486" id="h.v5qicb1pcnem"><span class="c25">1.2 Changes from earlier Versions</span></h2><p class="c2"><span class="c0 c145">[</span><span class="c0 c145 c45">Optional section.</span><span class="c88 c0">]</span></p><p class="c69"><span class="c88 c0">This section provides a description of significant differences from previously published, differently numbered Versions of this specification, if any. (Detailed revision history of this numbered Version should be tracked in an Appendix.)</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h3 class="c67 c426" id="h.5u7dbejbytfw"><span class="c25">1.2.1 MQTT-SN v1.2</span></h3><p class="c2"><span class="c0">Text describing the changes/differences</span><sup><a href="#cmnt3" id="cmnt_ref3">[c]</a></sup></p><h3 class="c67 c496" id="h.msufoaw194p2"><span class="c25"></span></h3><h2 class="c67" id="h.4d34og8"><span>1.3 </span><span class="c25">Organization of the MQTT-SN specification</span></h2><p class="c2"><span class="c3 c0">The specification is split into seven chapters:</span></p><ul class="c113 lst-kix_list_13-0 start"><li class="c182 c81 c429 li-bullet-0" id="h.2s8eyo1"><span class="c3 c0"><a class="c11" href="#h.2bxgwvm">Chapter</a></span><span class="c3 c0">&nbsp;1 &ndash; Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></li><li class="c56 c81 c429 li-bullet-0"><span class="c3 c0">Chapter 2 &ndash; MQTT-SN Control Packet format</span></li><li class="c56 c81 c429 li-bullet-0"><span class="c3 c0">Chapter 3 &ndash; MQTT-SN Control Packet listing</span></li><li class="c56 c81 c429 li-bullet-0"><span class="c3 c0">Chapter 4 &ndash; Operational Behavior</span></li><li class="c311 c81 c429 li-bullet-0"><span class="c3 c0">Chapter </span><span class="c0">5</span><span class="c3 c0">&nbsp;&ndash; Conformance</span></li></ul><h2 class="c67" id="h.17dp8vu"><span class="c0">1.4 Glossary</span></h2><p class="c2 c51" id="h.3rdcrjn"><span class="c3 c37"></span></p><p class="c2" id="h.26in1rg"><span class="c3 c37">Application Message:</span></p><p class="c2"><span class="c3 c0">The data carried by the MQTT-SN protocol across the network for the application. When an Application Message is transported by MQTT-SN it contains payload data, a Quality of Service (QoS) and a Topic Name.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><a id="id.lnxbz9"></a><p class="c2" id="h.35nkun2"><span class="c3 c37">Client:</span></p><p class="c2"><span class="c3 c0">A program or device that uses MQTT-SN. A Client:</span></p><ul class="c113 lst-kix_list_17-0 start"><li class="c182 c81 c57 li-bullet-0"><span class="c3 c0">Optionally Connects to the Gateway</span></li><li class="c56 c81 c57 li-bullet-0"><span class="c3 c0">publishes Application Messages to topics.</span></li><li class="c56 c81 c57 li-bullet-0"><span class="c3 c0">subscribes to request Application Messages that it is interested in receiving.</span></li><li class="c56 c57 c81 li-bullet-0"><span class="c3 c0">unsubscribes to remove a request for Application Messages.</span></li><li class="c311 c81 c57 li-bullet-0"><span class="c3 c0">Issues a DISCONNECT to the Gateway.</span></li></ul><p class="c2 c51"><span class="c3 c37"></span></p><p class="c2"><span class="c3 c37">Gateway (abbrev. GW):</span></p><p class="c2"><span class="c0">A program or device accepting MQTT-SN protocol packets</span><span class="c0">&nbsp;</span><span class="c3 c0">from Clients. A Gateway:</span></p><ul class="c113 lst-kix_list_15-0 start"><li class="c182 c81 c57 li-bullet-0"><span class="c3 c0">accepts CONNECT packets from Clients and initializes Sessions.</span></li><li class="c56 c81 c57 li-bullet-0"><span class="c3 c0">accepts Application Messages published by Clients and sends them to the Server.</span></li><li class="c56 c81 c57 li-bullet-0"><span class="c3 c0">processes Subscribe and Unsubscribe requests from Clients.</span></li><li class="c56 c81 c57 li-bullet-0"><span class="c3 c0">forwards Application Messages from the Server to Clients.</span></li><li class="c56 c81 c57 li-bullet-0"><span class="c3 c0">maintains a Gateway &ldquo;Session&rdquo; for each Client on the GW.</span></li><li class="c311 c81 c57 li-bullet-0"><span class="c3 c0">maintains a dictionary of topic alias&rsquo;s for each Client.</span></li></ul><p class="c2 c51"><span class="c3 c37"></span></p><p class="c2"><span class="c3 c37">Server or Broker:</span></p><p class="c2"><span class="c3 c0">A program or device accepting MQTT protocol connections from the Gateways. A Server or Broker:</span></p><ul class="c113 lst-kix_list_15-0"><li class="c182 c81 c57 li-bullet-0"><span class="c3 c0">accepts Network Connections from Gateways.</span></li><li class="c56 c81 c57 li-bullet-0"><span class="c3 c0">Ultimately accepts Application Messages published by Clients.</span></li><li class="c56 c81 c57 li-bullet-0"><span class="c3 c0">processes Subscribe and Unsubscribe requests from Clients.</span></li><li class="c56 c81 c57 li-bullet-0"><span class="c3 c0">forwards Application Messages that match Client Subscriptions to the Gateways.</span></li><li class="c311 c81 c57 li-bullet-0"><span class="c3 c0">closes the Network Connection from the Gateway.</span></li></ul><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2" id="h.1ksv4uv"><span class="c37">Session:</span></p><p class="c2"><span class="c406 c274">A session is the shared state between client and gateway.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c37">Unicast:</span><sup><a href="#cmnt4" id="cmnt_ref4">[d]</a></sup></p><p class="c2 c51"><span class="c3 c37"></span></p><p class="c2"><span class="c37">Multicast:</span><sup><a href="#cmnt5" id="cmnt_ref5">[e]</a></sup></p><p class="c2 c51"><span class="c3 c37"></span></p><p class="c2"><span class="c3 c37">Virtual Connection:</span></p><p class="c2"><span class="c0">Carries the MQTT-SN data between a Client and a Gateway, or a </span><span class="c0">broadcast </span><span class="c3 c0">to all Gateways and all clients.</span></p><p class="c2"><span class="c0">Refer to section 3.2 Networks &amp; Transport Layers for informative examples.</span></p><p class="c2 c51"><span class="c3 c37"></span></p><p class="c2 c51"><span class="c3 c37"></span></p><p class="c2"><span class="c3 c37">Subscription:</span></p><p class="c2"><span class="c0">A Subscription comprises a Topic Filter and a maximum QoS. A Subscription is associated with a single Session. A Session can contain more than one Subscription. Each Subscription within a Session has a different Topic Filter. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c37">Topic Alias:</span></p><p class="c2"><span class="c3 c0">A topic alias is a 16-bit unsigned integer assigned by the Gateway during a session or pre-assigned by the application which represents and replaces a topic name or topic filter in the protocol packets.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c37">Topic Name:</span></p><p class="c2"><span class="c3 c0">The label attached to an Application Message which is matched against the Subscriptions known to the Gateway / Server.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c37">Topic Filter:</span></p><p class="c2"><span class="c3 c0">An expression contained in a Subscription to indicate an interest in one or more topics. A Topic Filter can include wildcard characters.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c37">Wildcard Subscription:</span></p><p class="c2"><span class="c0">A Wildcard Subscription is a Subscription with a Topic Filter containing one or more wildcard characters. This allows the subscription to match more than one Topic Name. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2" id="h.44sinio"><span class="c3 c37">Control Packet:</span></p><p class="c2"><span class="c0">A packet of information that is sent across the Virtual Connection. The MQTT-SN specification defines 31</span><span class="c0">&nbsp;</span><span class="c3 c0">(twenty nine) different types of MQTT-SN Control Packet, for example the PUBLISH packet is used to convey Application Messages.</span></p><p class="c2 c51"><span class="c3 c37"></span></p><p class="c2"><span class="c3 c37">Wireless Sensor Networks (abbrev. WSN):</span></p><p class="c2"><span class="c0 c293">N</span><span class="c0 c274 c293">etworks of spatially dispersed and dedicated sensors that monitor and record the physical conditions of the environment and forward the collected data to a central location.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><ol class="c113 lst-kix_list_3-1 start" start="1"><li class="c67 c51 c295 li-bullet-2"><h2 id="h.1ci93xb" style="display:inline"><span class="c25"></span></h2></li></ol><h3 class="c67 c426 c496" id="h.uhokoxo9ekrg"><span class="c25"></span></h3><h2 class="c67" id="h.2bn6wsx"><span>1.4 </span><span class="c25">Data representation</span></h2><h3 class="c67" id="h.qsh70q"><span>1.4.1 </span><span class="c25">Bits (Byte)</span></h3><p class="c2"><span class="c3 c0">Bits in a byte are labeled 7 to 0. Bit number 7 is the most significant bit, the least significant bit is assigned bit number 0.</span></p><h3 class="c67" id="h.3as4poj"><span>1.4.2 </span><span class="c25">Two Byte Integer</span></h3><p class="c2"><span class="c3 c0">Two Byte Integer data values are 16-bit unsigned integers in big-endian order: the high order byte precedes the lower order byte. This means that a 16-bit word is presented on the network as Most Significant Byte (MSB), followed by Least Significant Byte (LSB).</span></p><h3 class="c67" id="h.1pxezwc"><span>1.4.3 </span><span class="c25">Four Byte Integer</span></h3><p class="c2"><span class="c0 c64">Four Byte Integer data values are 32-bit unsigned integers in big-endian order: the high order byte precedes the successively lower order bytes. This means that a 32-bit word is presented on the network as Most Significant Byte (MSB), followed by the next most Significant Byte (MSB), followed by the next most Significant Byte (MSB), followed by Least Significant Byte (LSB).</span></p><h3 class="c67" id="h.49x2ik5"><span>1.4.4 </span><span class="c25">UTF-8 Encoded String</span></h3><p class="c2"><span class="c0 c64">Text fields within the MQTT-SN Control Packets are encoded as fixed length UTF-8 strings. UTF-8&nbsp;</span><span class="c0 c387 c308"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC3629&amp;sa=D&amp;source=editors&amp;ust=1702576997859589&amp;usg=AOvVaw2GUp-zVgba_31g-QtMFHa1">[RFC3629]</a></span><span class="c0 c64">&nbsp;is an efficient encoding of Unicode&nbsp;</span><span class="c0 c387 c308"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1702576997859892&amp;usg=AOvVaw1C2Ajaid8ptxfQ4IT4m8Vm">[Unicode]</a></span><span class="c3 c0">&nbsp;characters that optimizes the encoding of ASCII characters in support of text-based communications.</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2"><span class="c3 c0">Unless stated otherwise all variable length UTF-8 encoded strings can have any length in the range 0 to 65,535 bytes.</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><a id="t.e989406d1f250257c3cdf948c0679b8cedd5b285"></a><a id="t.0"></a><table class="c120"><tr class="c9"><td class="c17 c492" colspan="1" rowspan="1"><p class="c38"><span class="c37">Bit</span></p></td><td class="c133 c17" colspan="1" rowspan="1"><p class="c38"><span class="c37">7</span></p></td><td class="c133 c17" colspan="1" rowspan="1"><p class="c38"><span class="c37">6</span></p></td><td class="c133 c17" colspan="1" rowspan="1"><p class="c38"><span class="c37">5</span></p></td><td class="c133 c17" colspan="1" rowspan="1"><p class="c38"><span class="c37">4</span></p></td><td class="c133 c17" colspan="1" rowspan="1"><p class="c38"><span class="c37">3</span></p></td><td class="c133 c17" colspan="1" rowspan="1"><p class="c38"><span class="c37">2</span></p></td><td class="c133 c17" colspan="1" rowspan="1"><p class="c38"><span class="c37">1</span></p></td><td class="c133 c17" colspan="1" rowspan="1"><p class="c38"><span class="c37">0</span></p></td></tr><tr class="c9"><td class="c492" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">byte 1 &hellip;.</span></p></td><td class="c450" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">UTF-8 encoded character data, if length &gt; 0.</span></p></td></tr></table><p class="c38"><span class="c0">Table 1: </span><span class="c3 c0">Structure of UTF-8 Encoded Strings</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45 c64">The character data in a UTF-8 Encoded String MUST be well-formed UTF-8 as defined by the Unicode specification&nbsp;</span><span class="c0 c45 c308 c387"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1702576997864112&amp;usg=AOvVaw3xE2hwpuCm_sJWOsw1wunf">[Unicode]</a></span><span class="c0 c45 c64">&nbsp;and restated in RFC 3629&nbsp;</span><span class="c0 c45 c387 c308"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC3629&amp;sa=D&amp;source=editors&amp;ust=1702576997864473&amp;usg=AOvVaw0k2WMMqjz5DIkiiRs-TCh0">[RFC3629]</a></span><span class="c0 c45 c64">. In particular, the character data MUST NOT include encodings of code points between U+D800 and U+DFFF</span><span class="c3 c0">. If the Client or Server receives an MQTT Control Packet containing ill-formed UTF-8 it is a Malformed Packet</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2"><span class="c0 c45 c64">A UTF-8 Encoded String MUST NOT include an encoding of the null character U+0000.&nbsp;</span><span class="c3 c0">If a receiver (Server or Client) receives an MQTT-SN Control Packet containing U+0000 it is a Malformed Packet.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">The data SHOULD NOT include encodings of the Unicode [Unicode] code points listed below. If a receiver (Server or Client) receives an MQTT-SN Control Packet containing any of them it MAY treat it as a Malformed Packet. These are the Disallowed Unicode code points.</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c182 c139 c57 c355"><span class="c3 c0">&#61623;</span><span class="c152 c0 c110 c64">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c0">U+0001..U+001F control characters</span></p><p class="c56 c139 c57 c355"><span class="c3 c0">&#61623;</span><span class="c152 c0 c110 c64">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c0">U+007F..U+009F control characters</span></p><p class="c311 c139 c57 c355"><span class="c3 c0">&#61623;</span><span class="c152 c0 c110 c64">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c0">Code points defined in the Unicode specification&nbsp;</span><span class="c119 c0 c387"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1702576997865213&amp;usg=AOvVaw3cybAczDzQOyCnospoXviJ">[Unicode]</a></span><span class="c3 c0">&nbsp;to be non-characters (for example U+0FFFF)</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2"><span class="c0 c45 c64">A UTF-8 encoded sequence 0xEF 0xBB 0xBF is always interpreted as U+FEFF (&quot;ZERO WIDTH NO-BREAK SPACE&quot;) wherever it appears in a string and MUST NOT be skipped over or stripped off by a packet receiver</span><span class="c3 c0">.</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2 c116" id="h.2p2csry"><span class="c37">Informative</span><span class="c3 c37">&nbsp;example</span></p><p class="c156 c139 c116"><span class="c0">For example, </span><span class="c0">the string A</span><span class="c0 c64">&#x2a6d4;</span><span class="c0">&nbsp;which</span><sup><a href="#cmnt6" id="cmnt_ref6">[f]</a></sup><span class="c0">&nbsp;is </span><span class="c0 c64">LATIN CAPITAL Letter A followed by the code point U+2A6D4 (which represents a CJK IDEOGRAPH EXTENSION B character)</span><span class="c3 c0">&nbsp;is encoded as follows: </span></p><p class="c2 c51" id="h.147n2zr"><span class="c3 c0"></span></p><a id="t.66266b3804c1c5f8d46f2d87da536d40b15fd89e"></a><a id="t.1"></a><table class="c120"><tr class="c9"><td class="c97 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c30 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c30 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c99 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c99 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c99 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c99 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c99 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c99 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c97" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">byte 1</span></p></td><td class="c332" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">&lsquo;A&rsquo; (0x41)</span></p></td></tr><tr class="c9"><td class="c97" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td></tr><tr class="c9"><td class="c97" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">byte 2</span></p></td><td class="c332" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">(0xF0)</span></p></td></tr><tr class="c9"><td class="c97" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td></tr><tr class="c9"><td class="c97" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">byte 3</span></p></td><td class="c332" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">(0xAA)</span></p></td></tr><tr class="c9"><td class="c97" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td></tr><tr class="c518"><td class="c97" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">byte 4</span></p></td><td class="c332" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">(0x9B)</span></p></td></tr><tr class="c9"><td class="c97" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td></tr><tr class="c9"><td class="c97" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">byte 5</span></p></td><td class="c332" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">(0x94)</span></p></td></tr><tr class="c9"><td class="c97" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c38 c94"><span class="c3 c0">0</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 2: Fixed Length UTF-8 Encoded String </span><span class="c249">inf</span><span class="c129 c77 c64">ormative example</span></p><h1 class="c238 c139 c94" id="h.3o7alnk"><span class="c0">2 </span><span class="c66 c37">MQTT-SN Control Packet format</span></h1><h2 class="c67" id="h.23ckvvd"><span class="c25">2.1 Structure of an MQTT-SN Control Packet</span></h2><p class="c2"><span class="c3 c0">The MQTT-SN protocol operates by exchanging a series of MQTT-SN Control Packets in a defined way. This section describes the format of these packets. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">An MQTT-SN Control Packet consists of up to two parts, always in the following order as shown below. </span></p><p class="c2 c51" id="h.ihv636"><span class="c3 c0"></span></p><a id="t.9611a07546edf7663f84bfb75af98c7833d5d707"></a><a id="t.2"></a><table class="c120"><tr class="c9"><td class="c313" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Control Packet Header, present in all MQTT-SN Control Packets</span></p></td></tr><tr class="c9"><td class="c313" colspan="1" rowspan="1"><p class="c38 c94"><span class="c3 c0">Control Packet Variable Part, present in some MQTT-SN Control Packets</span></p></td></tr></table><p class="c68" id="h.32hioqz"><span class="c129 c77 c64">Table 3: Structure of an MQTT-SN Control Packet</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h3 class="c67" id="h.1hmsyys"><span>2.1.1 </span><span class="c25">Packet Header</span></h3><p class="c2"><span class="c3 c0">Each MQTT-SN Control Packet contains a Header of format 1 or format 2 as shown below.</span></p><p class="c381 c139 c51"><span class="c265 c0 c53 c64"></span></p><a id="t.de127a1139e8df5e62965212d38c0a9032fa9564"></a><a id="t.3"></a><table class="c194 c292"><tr class="c9"><td class="c407 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Byte</span></p></td><td class="c197 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Use</span></p></td></tr><tr class="c9"><td class="c407" colspan="1" rowspan="1"><p class="c38" id="h.41mghml"><span class="c3 c0">1</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c407" colspan="1" rowspan="1"><p class="c38" id="h.2grqrue"><span class="c3 c0">2</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c38 c94"><span class="c3 c0">MQTT-SN Control Packet Type</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 4: Packet Header Format 1</span></p><p class="c139 c41 c51 c399"><span class="c3 c0"></span></p><a id="t.a3bfd391f56e84692b8d8361920fea84ec9127e4"></a><a id="t.4"></a><table class="c292 c194"><tr class="c9"><td class="c407 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Byte</span></p></td><td class="c197 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Use</span></p></td></tr><tr class="c9"><td class="c407" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">1</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Length 0x01</span></p></td></tr><tr class="c9"><td class="c407" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">2</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Length MSB</span></p></td></tr><tr class="c9"><td class="c407" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">3</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Length LSB</span></p></td></tr><tr class="c9"><td class="c407" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">4</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c38 c94"><span class="c3 c0">MQTT-SN Control Packet Type</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 5: Packet Header Format 2</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h3 class="c139 c94 c213" id="h.vx1227"><span>2.1.2 </span><span class="c25">Length</span></h3><p class="c139 c41 c481"><span class="c0">The </span><span class="c0 c53">Length </span><span class="c0">field is either 1-byte or 3-byte integer and specifies the total number of bytes contained in the packet (including the </span><span class="c0 c53">Length </span><span class="c3 c0">field itself).</span></p><p class="c419 c139 c41 c184"><span class="c0">If the first byte of the </span><span class="c0 c53">Length </span><span class="c0">field is coded &ldquo;0x01&rdquo; then the </span><span class="c0 c53">Length </span><span class="c0">field is 3-bytes long; in this case, the two following bytes specify the total number of bytes of the packet (most-significant byte first). Otherwise, the </span><span class="c0 c53">Length </span><span class="c3 c0">field is only 1-byte long and specifies itself the total number of bytes contained in the packet.</span></p><p class="c182 c139 c41 c184"><span class="c3 c0">The 3-byte format allows the encoding of packet lengths up to 65,535 bytes. Packets with lengths up to and including 255 bytes MUST use the shorter byte format.</span></p><p class="c5 c184 c51 c321"><span class="c3 c0"></span></p><p class="c2 c41 c420" id="h.3fwokq0"><span class="c37">Inf</span><span class="c3 c37">ormative comment</span></p><p class="c5 c373"><span class="c3 c0">MQTT-SN does not support packet fragmentation and reassembly, the maximum packet length that could be used in a network is governed by the maximum packet size that is supported by that network, and not by the maximum length that could be encoded by MQTT-SN.</span></p><h3 class="c213 c139 c41 c94" id="h.1v1yuxt"><span>2.1.3 </span><span class="c25">MQTT-SN Control Packet Type</span></h3><p class="c2"><span class="c0">The MQTT-SN Control Packet Type</span><span class="c0 c53">&nbsp;</span><span class="c3 c0">field is 1-byte long and specifies the MQTT-SN Control Packet type which is one of the values shown below.</span></p><a id="t.1723342fe7ae3913b9d9e47caea8249b77d57ce2"></a><a id="t.5"></a><table class="c120"><tr class="c9"><td class="c17 c519" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Name</span></p></td><td class="c300 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Value</span></p></td><td class="c87 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Direction of flow</span></p></td><td class="c55 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Description</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">ADVERTISE</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x00</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c0">Gateway </span><span class="c0">broadcast</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Advertise the gateway presence</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">SEARCHGW</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x01</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c0">Client </span><span class="c0">broadcast</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Client GWINFO request</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">GWINFO</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x02</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Response to a SEARCHGW</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">AUTH</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x03</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway or Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Authentication handshake</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">CONNECT</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x04</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Virtual Connection request</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">CONNACK</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x05</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Virtual Connection acknowledgement</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">WILLTOPICREQ</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x06</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Request the will topic name</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">WILLTOPIC</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x07</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Supply the will topic name</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">WILLMSGREQ</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x08</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Request the will message</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">WILLMSG</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x09</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Supply the will message</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">REGISTER</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x0A</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Request topic alias</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">REGACK</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x0B</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Supply topic alias</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">PUBLISH</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x0C</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway or</span></p><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Publish packet</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">PUBACK</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x0D</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway or</span></p><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Publish acknowledgment (QoS 1) or Publish error (Any QoS).</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">PUBCOMP</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x0E</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway or</span></p><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Publish complete (QoS 2 delivery part 3)</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">PUBREC</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x0F</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway or</span></p><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Publish received (QoS 2 delivery part 1)</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">PUBREL</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x10</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway or</span></p><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Publish release (QoS 2 delivery part 2)</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">PUBLISH-OUT-OF BAND</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x11</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Publish packet for out of band messages which need have no session on the gateway or broker</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">SUBSCRIBE</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x12</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Subscribe request</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">SUBACK</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x13</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Subscribe acknowledgment</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">UNSUBSCRIBE</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x14</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Unsubscribe request</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">UNSUBACK</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x15</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Unsubscribe acknowledgment</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">PINGREQ</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x16</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PING request</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">PINGRESP</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x17</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PING response</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">DISCONNECT</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x18</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway or</span></p><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Disconnect notification</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c37 c83">- Reserved - </span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c83 c0">0x19</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38 c51"><span class="c83 c0"></span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c83 c0">Forbidden</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">WILLTOPICUPD</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x1A</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Modify the will topic name</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">WILLTOPICRESP</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x1B</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Acknowledge the will topic name modification</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">WILLMSGUPD</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x1C</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Modify the will message</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">WILLMSGRESP</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x1D</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Acknowledge the will message modification</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c83 c37">- Reserved - </span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c83 c0">0x1E-0xFD</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38 c51"><span class="c83 c0"></span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c83 c0">Forbidden</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">FORWARDERENCAPSULATION</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0xFE</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Forwarder to Client or</span></p><p class="c38"><span class="c3 c0">Forwarder to Gateway</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Encapsulated MQTT-SN packet</span></p></td></tr><tr class="c9"><td class="c151" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">PROTECTION</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0xFF</span></p></td><td class="c87" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Client to Gateway or</span></p><p class="c38"><span class="c3 c0">Gateway to Client</span></p></td><td class="c55" colspan="1" rowspan="1"><p class="c2 c94"><span class="c3 c0">A protection envelope that can encapsulate any MQTT-SN packet with the exception of Forwarder-Encapsulation packet (0xFE)</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 6: Packet type listing</span></p><h2 class="c67" id="h.19c6y18"><span class="c25">2.2 Packet Identifier</span></h2><p class="c2" id="h.3tbugp1"><span class="c0">The Variable Header component of many of the MQTT-SN Control Packet types includes a Two Byte Integer Packet Identifier field. </span><span class="c0">MQTT-SN Control Packets that require a Packet Identifier are shown below</span><sup><a href="#cmnt7" id="cmnt_ref7">[g]</a></sup><span class="c3 c0">:</span></p><p class="c2 c51"><span class="c3 c0"></span></p><a id="t.c25b905adb90995094b912c42602e7ecf77ad4cc"></a><a id="t.6"></a><table class="c292 c196"><tr class="c9"><td class="c80 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">MQTT-SN Control Packet</span></p></td><td class="c44 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Packet Identifier field</span></p></td></tr><tr class="c524"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">CONNECT</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">CONNACK</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PUBLISH</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES (If QoS &gt; 0)</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PUBLISHOOB</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PUBACK</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PUBREC</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PUBREL</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PUBCOMP</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">SUBSCRIBE</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">SUBACK</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">UNSUBSCRIBE</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">UNSUBACK</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PINGREQ</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PINGRESP</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">DISCONNECT</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">AUTH</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">ADVERTISE</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">SEARCHGW</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">GWINFO</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">WILLTOPICREQ</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">WILLTOPIC</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">WILLMGSREQ</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">WILLMSG</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">REGISTER</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">REGACK</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">YES</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">WILLTOPICUPD</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">WILLTOPICRESP</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">WILLMSGUPD</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">WILLMSGRESP</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Encapsulated Packet</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2 c94"><span class="c3 c0">NO</span></p></td></tr><tr class="c9"><td class="c80" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">PROTECTION</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c2 c94"><span class="c3 c0">NO</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 8 Packets with Packet Identifier</span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><p class="c2"><span class="c0 c45">A PUBLISH packet MUST NOT contain a Packet Identifier if its QoS value is set to 0</span><span class="c119 c0 c210">.</span></p><p class="c2 c51"><span class="c119 c0 c210"></span></p><p class="c2"><span class="c0 c45">A PUBLISH packet MUST NOT contain a Packet Identifier if its QoS value is set to </span><span class="c0">-1</span><span class="c119 c0 c210">.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45">Each time a Client sends a new SUBSCRIBE, UNSUBSCRIBE,or PUBLISH (where QoS &gt; 0 and it is not OUT OF BAND) MQTT Control Packet it MUST assign it a non-zero Packet Identifier that is currently unused</span><span class="c0 c210">.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45">Each time a Gateway sends a new PUBLISH (with QoS &gt; 0) MQTT-SN Control Packet it MUST assign it a non zero Packet Identifier that is currently unused</span><span class="c0 c210">.</span><span class="c3 c0">&nbsp;</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">The Packet Identifier becomes available for reuse after the sender has processed the corresponding acknowledgement packet, defined as follows. In the case of a QoS 1 PUBLISH, this is the corresponding PUBACK; in the case of QoS 2 PUBLISH it is PUBCOMP or a PUBREC with a Reason Code of 128 or greater. For SUBSCRIBE or UNSUBSCRIBE it is the corresponding SUBACK or UNSUBACK. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">Packet Identifiers used with PUBLISH, SUBSCRIBE and UNSUBSCRIBE packets form a single, unified set of identifiers separately for the Client and the Gateway in a Session. A Packet Identifier cannot be used by more than one command at any time.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45">A PUBACK, PUBREC , PUBREL, or PUBCOMP packet MUST contain the same Packet Identifier as the PUBLISH packet that was originally sent</span><span class="c0 c210 c45">. </span><span class="c0 c45">A SUBACK and UNSUBACK MUST contain the Packet Identifier that was used in the corresponding SUBSCRIBE and UNSUBSCRIBE packet respectively</span><span class="c0 c210 c45">.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">The Client and Gateway assign Packet Identifiers independently of each other. As a result, Client-Server pairs can participate in concurrent message exchanges using the same Packet Identifiers. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c57"><span class="c37">Inf</span><span class="c3 c37">ormative comment</span></p><p class="c2 c57"><span class="c3 c0">It is possible for a Client to send a PUBLISH packet with Packet Identifier 0x1234 and then receive a different PUBLISH packet with Packet Identifier 0x1234 from its Server before it receives a PUBACK for the PUBLISH packet that it sent.</span></p><p class="c2 c57 c51"><span class="c3 c0"></span></p><p class="c2 c57"><span class="c3 c0">&nbsp;Client &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Server</span></p><p class="c56 c139 c57" id="h.28h4qwu"><span class="c0">PUBLISH Packet Identifier=0x1234 </span><span class="c0 c436">&#8210;&rarr;</span></p><p class="c56 c139 c57"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0 c436">&larr;&#8210; </span><span class="c3 c0">PUBLISH Packet Identifier=0x1234</span></p><p class="c56 c139 c57"><span class="c0">PUBACK Packet Identifier=0x1234 </span><span class="c0 c436">&#8210;&rarr;</span></p><p class="c56 c139 c57"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="c0 c436">&larr;&#8210; </span><span class="c0">PUBACK Packet Identifier=0x1234</span><sup><a href="#cmnt8" id="cmnt_ref8">[h]</a></sup></p><p class="c2 c51"><span class="c3 c0"></span></p><h2 class="c67" id="h.nmf14n"><span class="c25">2.3 MQTT-SN Packet Fields</span></h2><h3 class="c213 c139 c41 c94" id="h.37m2jsg"><span>2.3.1 </span><span class="c25">Protocol Id</span></h3><p class="c182 c139 c41 c194"><span class="c0">The </span><span class="c0 c53">Protocol Id </span><span class="c3 c0">is 1-byte long. It is only present in a CONNECT packet and corresponds to the MQTT &lsquo;protocol name&rsquo; and &lsquo;protocol version&rsquo;.</span></p><p class="c139 c41 c444"><span class="c3 c0">It is coded 0x02. 0x01 was used for MQTT-SN 1.2. &nbsp;All other values are reserved.</span></p><h3 class="c213 c139 c41 c94" id="h.1mrcu09"><span>2.3.2 </span><span class="c25">Radius</span></h3><p class="c5 c194"><span class="c0">The </span><span class="c0 c53">Radius </span><span class="c0">field is 1-byte long and indicates the value of the </span><span class="c0">broadcast </span><span class="c0">radius. The value 0x00 means &ldquo;</span><span class="c0">broadcast</span><span class="c3 c0">&nbsp;to all nodes in the network&rdquo;.</span></p><h3 class="c213 c139 c41 c94" id="h.46r0co2"><span>2.3.3 </span><span class="c0">Reason Code</span><sup><a href="#cmnt9" id="cmnt_ref9">[i]</a></sup><sup><a href="#cmnt10" id="cmnt_ref10">[j]</a></sup><sup><a href="#cmnt11" id="cmnt_ref11">[k]</a></sup></h3><p class="c104 c41 c194"><span class="c3 c0">A Reason Code is a one-byte long value that indicates the result of an operation.&nbsp;Reason Codes share a common set of values across the various Control Packet types. </span></p><p class="c104 c41 c194"><span class="c0 c64">Each </span><span class="c0">value and meaning of each </span><span class="c0 c53">Reason Code </span><span class="c3 c0">field is shown below.</span></p><p class="c104 c41 c194 c51"><span class="c3 c0"></span></p><a id="t.0fcdbddc1e1ea23ad7104c6deffa4b61e881b4f1"></a><a id="t.7"></a><table class="c292 c194"><tr class="c9"><td class="c17 c186" colspan="2" rowspan="1"><p class="c104 c41" id="h.2lwamvv"><span class="c3 c0">Identifier</span></p></td><td class="c42 c17" colspan="1" rowspan="2"><p class="c104 c41"><span class="c3 c0">Description</span></p></td><td class="c78 c17" colspan="1" rowspan="2"><p class="c104 c41"><span class="c3 c0">Packet</span></p></td></tr><tr class="c9"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Dec</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Hex</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x00</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Success</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41 c257"><span class="c3 c0">CONNACK, SUBACK, UNSUBACK, REGACK, PUBACK, WILLTOPICRESP, WILLPACKETRESP, DISCONNECT</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">1</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x01</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Congestion</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">CONNACK, SUBACK, UNSUBACK, REGACK, PUBACK, WILLTOPICRESP, WILLPACKETRESP</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">2</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x02</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c0">Invalid topic alias</span><sup><a href="#cmnt12" id="cmnt_ref12">[l]</a></sup><sup><a href="#cmnt13" id="cmnt_ref13">[m]</a></sup></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">SUBACK, UNSUBACK, REGACK, PUBACK, WILLTOPICRESP, WILLMSGRESP</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">3</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x03</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Not supported</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">CONNACK, SUBACK, UNSUBACK, REGACK, PUBACK, WILLTOPICRESP, WILLMSGRESP </span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">5</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x05</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">No session</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">DISCONNECT</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">140</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x8C</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Bad authentication method</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">AUTH</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">135</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x87</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Not authorized</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">AUTH</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">132</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c0 c64">0x84</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Unsupported protocol version</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">CONNACK</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">149</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x95</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Packet too large</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">DISCONNECT</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">151</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x97</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Quota exceeded</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">REGACK, SUBACK</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c0">153</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x99</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Payload format invalid</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c0">DISCONNECT</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 9: Reason Code Values</span></p><h3 class="c213 c139 c41 c94" id="h.111kx3o"><span>2.3.4 </span><span class="c25">Topic Alias Type</span></h3><p class="c5 c194"><span class="c0">The </span><span class="c0 c53">Topic Alias Type </span><span class="c3 c0">field is 2-byte long and contains the value of the topic alias. The values &ldquo;0x0000&rdquo; and &ldquo;0xFFFF&rdquo; are reserved and therefore should not be used.</span></p><h3 class="c213 c139 c41 c94" id="h.3l18frh"><span>2.3.5 </span><span class="c25">Topic Name</span></h3><p class="c139 c41 c194 c253"><span class="c0">The </span><span class="c0 c53">Topic Name </span><span class="c3 c0">field has a variable length and contains an UTF8-encoded string that specifies the topic name.</span></p><h3 class="c213 c139 c41 c94" id="h.206ipza"><span>2.3.6 </span><span class="c25">Will Packet</span></h3><p class="c253 c139 c41 c194"><span class="c0">The </span><span class="c0 c53">Will Packet </span><span class="c3 c0">field has a variable length and contains the Will packet.</span></p><h3 class="c213 c139 c41 c94" id="h.4k668n3"><span>2.3.7 </span><span class="c25">Will Topic</span></h3><p class="c192 c139 c41 c194"><span class="c0">The </span><span class="c0 c53">Will Topic </span><span class="c3 c0">field has a variable length and contains the Will topic name.</span></p><h2 class="c85" id="h.2zbgiuw"><span class="c25">2.4 Topic Alias Types</span></h2><p class="c192 c139 c41 c194"><span class="c3 c0">Several packets will refer to a topic alias type in their flags. This is a 2-bit field which determines the format of the topic Id value. </span></p><p class="c192 c139 c41 c194"><span class="c3 c0">The allowable values are as follows:</span></p><a id="t.f82485d75d408e5437c38245c75d26e4ae2f72a2"></a><a id="t.8"></a><table class="c292 c194"><tr class="c9"><td class="c17 c509" colspan="1" rowspan="1"><p class="c139 c41 c51 c334"><span class="c3 c37"></span></p></td><td class="c17 c430" colspan="1" rowspan="1"><p class="c334 c139 c41"><span class="c3 c37">Topic Alias Type Value</span></p></td><td class="c17 c467" colspan="1" rowspan="1"><p class="c334 c139 c41"><span class="c3 c37">Name</span></p></td><td class="c17 c421" colspan="1" rowspan="1"><p class="c334 c139 c41"><span class="c3 c37">Description</span></p></td></tr><tr class="c533"><td class="c166" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">0</span></p></td><td class="c181" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">0b00</span></p></td><td class="c338" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">Normal Topic Alias</span></p></td><td class="c136" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">A normal topic alias is negotiated between the gateway and client within the scope of a gateway session.</span></p></td></tr><tr class="c9"><td class="c166" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">1</span></p></td><td class="c181" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">0b01</span></p></td><td class="c338" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">Predefined Topic Alias</span></p></td><td class="c136" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">A predefined alias is known statically by both the gateway and the client outside the scope of a gateway session. No negotiation is required since both entities have knowledge of the topic alias mapping.</span></p></td></tr><tr class="c9"><td class="c166" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">2</span></p></td><td class="c181" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">0b10</span></p></td><td class="c338" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">Short Topic Name</span></p></td><td class="c136" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">A 2-byte topic name which requires no negotiation.</span></p></td></tr><tr class="c9"><td class="c166" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">3</span></p></td><td class="c181" colspan="1" rowspan="1"><p class="c192 c139 c41"><span class="c3 c0">0b11</span></p></td><td class="c338" colspan="1" rowspan="1"><p class="c139 c41 c192"><span class="c3 c0">Long Topic Name</span></p></td><td class="c136" colspan="1" rowspan="1"><p class="c192 c139 c41 c94"><span class="c3 c0">A full topic, which requires no session negotiation.</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 10: Topic alias types and their description</span></p><p class="c192 c139 c41 c194"><span class="c3 c0">Please refer to operational behavior for detailed descriptions of topic types and aliases.</span></p><p class="c192 c139 c41 c194 c51"><span class="c3 c0"></span></p><h1 class="c333 c139 c94" id="h.1egqt2p"><span class="c66 c37">3 MQTT-SN Control Packets</span></h1><p class="c192 c139 c195 c51"><span class="c3 c0"></span></p><h2 class="c85" id="h.3ygebqi"><span class="c25">3.1 Format of Individual Packets</span></h2><p class="c2 c41 c194"><span class="c3 c0">This section specifies the format of the individual MQTT-SN packets.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h3 class="c318 c139 c41 c94" id="h.2dlolyb"><span>3.1.1 </span><span class="c0">ADVERTISE</span><sup><a href="#cmnt14" id="cmnt_ref14">[n]</a></sup><sup><a href="#cmnt15" id="cmnt_ref15">[o]</a></sup></h3><p class="c2 c41 c51"><span class="c3 c0"></span></p><a id="t.60d689bacd948f0b9f182cff734abf9e4bcb646d"></a><a id="t.9"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">GwId</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 4</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Duration MSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 5</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">Duration LSB</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 11: &nbsp;ADVERTISE Packet</span></p><p class="c2 c41 c184"><span class="c0">The ADVERTISE packet is sent periodically by the gateway to advertise its presence. </span><span class="c0">The time interval</span><span class="c0">&nbsp;until the next transmission is indicated by the </span><span class="c0 c53">Duration </span><span class="c3 c0">field.</span></p><p class="c2"><span class="c37 c36">Informative comment</span></p><p class="c2"><span class="c0 c36">If UDP is used as transport protocol, the ADVERTISE packet is generally sent using the broadcast address as destination.</span></p><h4 class="c67 c41" id="h.sqyw64"><span class="c72 c37">3.1.1.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.3cqmetx"><span class="c72 c37">3.1.1.2 GwId</span></h4><p class="c65 c41"><span class="c0">The </span><span class="c0 c53">GwId </span><span class="c0">field is at least 1-byte identifier and </span><span class="c0">uniquely identifies</span><span class="c3 c0">&nbsp;a gateway which is advertising itself in the network.</span></p><p class="c65 c41"><span class="c0">The MQTT-SN protocol itself doesn&rsquo;t guarantee the uniqueness of the </span><span class="c0 c53">GwId </span><span class="c3 c0">field.</span></p><p class="c2"><span class="c37 c36">Informative comment</span></p><p class="c2"><span class="c0 c36">If the Gateway has a MAC address, it can be used as </span><span class="c0 c36 c53">GwId</span><span class="c0 c36">. </span></p><h4 class="c67 c41" id="h.1rvwp1q"><span class="c72 c37">3.1.1.3 Duration</span></h4><p class="c139 c423"><span class="c0">The </span><span class="c0 c53">Duration </span><span class="c0">field is a 2-byte integer. It specifies the time interval in seconds until the next ADVERTISE packet is </span><span class="c0">broadcasted</span><span class="c3 c0">&nbsp;by this gateway period. </span></p><p class="c5 c194"><span class="c3 c0">The maximum value that can be encoded is approximately 18 hours.</span></p><h3 class="c318 c139 c41 c94" id="h.4bvk7pj"><span>3.1.2 </span><span class="c25">SEARCHGW</span></h3><p class="c2 c51"><span class="c3 c0"></span></p><a id="t.c5673639e1694d9a1ceae5e2dd65041374344c9c"></a><a id="t.10"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">Radius</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 12: &nbsp;SEARCHGW packet</span></p><p class="c2 c41 c184"><span class="c0">The SEARCHGW packet is sent by a client when it searches for a </span><span class="c0 c64">Gateway</span><span class="c3 c0">. The transmission radius of the SEARCHGW is limited and depends on the density of the clients deployment, e.g. only 1-hop transmission in case of a very dense network in which every MQTT-SN client is reachable from each other within 1-hop transmission.</span></p><h4 class="c67 c41" id="h.2r0uhxc"><span class="c72 c37">3.1.2.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.1664s55"><span class="c72 c37">3.1.2.2 Radius</span></h4><p class="c5 c184"><span class="c0">The transmission radius is also indicated to the underlying </span><span class="c0">network layer</span><span class="c3 c0">&nbsp;when MQTT-SN gives this packet for transmission.</span></p><p class="c5 c184"><span class="c0">A Client or a Gateway MUST NOT forward </span><span class="c0">the SEARCHGW received if the Radius value is 0.</span></p><p class="c5 c184"><span class="c0">If a Client or a Gateway forwards the </span><span class="c0">SEARCHGW received, it MUST reduce the Radius value by 1.</span></p><h3 class="c318 c139 c41 c94" id="h.3q5sasy"><span>3.1.3 </span><span class="c25">GWINFO</span></h3><p class="c2 c41 c51"><span class="c3 c0"></span></p><a id="t.8c4450ed26da1955b8d1844ded6e0f880c864cee"></a><a id="t.11"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">GwId</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 4 &hellip; N</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c0">GwAddress </span><span class="c0 c53">(optional)</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 13: &nbsp;GWINFO packet</span></p><p class="c2 c41 c184"><span class="c0">The GWINFO packet is sent as response to a SEARCHGW packet</span><span class="c0">&nbsp;using the broadcast service of the underlying layer,</span><span class="c0">&nbsp;with the radius as indicated in the SEARCHGW packet. If sent by a </span><span class="c0 c64">Gateway</span><span class="c0">, it contains only the id of the sending </span><span class="c0 c64">Gateway</span><span class="c0">; otherwise, if sent by a client, it also includes the address of the </span><span class="c0 c64">Gateway</span><span class="c3 c0">.</span></p><h4 class="c67 c41" id="h.25b2l0r"><span class="c72 c37">3.1.3.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.kgcv8k"><span class="c72 c37">3.1.3.2 GwId</span></h4><p class="c2 c41 c194"><span class="c0">The </span><span class="c0 c53">GwId </span><span class="c0">field is 1-byte long and uniquely identifies a </span><span class="c0 c64">Gateway </span><span class="c3 c0">in the network.</span></p><h4 class="c67 c41" id="h.34g0dwd"><span class="c72 c37">3.1.3.3 GwAdd</span></h4><p class="c139 c41 c489"><span class="c0">The </span><span class="c0 c53">GwAdd </span><span class="c3 c0">field has a variable length and contains the address of a Gateway. Its length depends on the type of network over which MQTT-SN operates and is specified by the Length byte. &nbsp;Optional, only included if the packet is sent by a client.</span></p><p class="c2 c57 c51"><span class="c3 c37"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><h3 class="c94 c122" id="h.1jlao46"><span>3.1.4 </span><span class="c25">CONNECT</span></h3><p class="c139 c51 c381"><span class="c265 c0 c53 c64"></span></p><a id="t.de27bbfa0b52d48a4a2ca8de86f537ace3dfcafc"></a><a id="t.12"></a><table class="c120"><tr class="c9"><td class="c188 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c17 c302" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c17 c386" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c169 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c154 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c17 c409" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c336 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c335 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c17 c286" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c51"><td class="c188" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c31" colspan="13" rowspan="1"><p class="c38"><span class="c1 c37">CONNECT FLAGS</span></p></td></tr><tr class="c51"><td class="c146" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c517" colspan="6" rowspan="1"><p class="c38"><span class="c3 c0">Default Awake Messages</span></p></td><td class="c76" colspan="2" rowspan="1"><p class="c38"><span class="c0">Authentication</span></p></td><td class="c503" colspan="2" rowspan="1"><p class="c38"><span class="c0">Will</span></p></td><td class="c173" colspan="1" rowspan="1"><p class="c38"><span class="c0">Clean Start</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c146" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c335" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c173" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c76" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c503" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c173" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Protocol Version</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Keep Alive MSB</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Keep Alive LSB</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval MSB</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 8</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 9</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 10</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval LSB</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 11</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Max Packet Size MSB</span></p></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 12</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Max Packet Size LSB</span></p><sup><a href="#cmnt16" id="cmnt_ref16">[p]</a></sup></td></tr><tr class="c9"><td class="c188" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 13 . N</span></p></td><td class="c180" colspan="13" rowspan="1"><p class="c38 c94"><span class="c3 c0">Client Identifier</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 14: &nbsp;CONNECT packet</span></p><p class="c2"><span class="c0">The CONNECT packet is sent from the Client to the </span><span class="c0 c64">Gateway </span><span class="c0">to </span><span class="c0">set up a session</span><sup><a href="#cmnt17" id="cmnt_ref17">[q]</a></sup><sup><a href="#cmnt18" id="cmnt_ref18">[r]</a></sup><span class="c0">. </span></p><h4 class="c67" id="h.43ky6rz"><span class="c0">3.1.4.1 </span><span class="c72 c37">Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67" id="h.2iq8gzs"><span class="c72 c37">3.1.4.2 Connect Flags</span></h4><p class="c2"><span class="c0 c64">The Connect Flags is 1 byte field which contains several parameters specifying the behavior of the MQTT-SN Virtual </span><span class="c0">C</span><span class="c3 c0">onnection. </span></p><p class="c2 c41"><span class="c0">The Connect </span><span class="c0 c53">Flags </span><span class="c3 c0">field includes the following flags:</span></p><ul class="c113 lst-kix_list_10-0 start"><li class="c182 c81 c41 c57 li-bullet-0"><span class="c3 c37">Clean Start:</span><span class="c3 c0">&nbsp;Stored in Bit 0 and specifies whether the Virtua</span><span class="c0">l </span><span class="c3 c0">Connection starts a new Session or is a continuation of an existing Session</span></li><li class="c81 c41 c57 c468 li-bullet-3"><span class="c3 c37">Will</span><span class="c3 c0">:&nbsp;Stored in Bit 1 and if set to 1 it indicates that client is asking for Will topic and Will message prompting </span></li><li class="c56 c81 c41 c57 li-bullet-0"><span class="c3 c37">Authentication</span><span class="c3 c0">: Stored in Bit 2 and indicates the authentication exchange to follow</span></li><li class="c311 c81 c41 c57 li-bullet-3"><span class="c3 c37">Default Awake Messages</span><span class="c3 c0">: A value between 0-15 to indicate the maximum number of messages a client shall receive during an AWAKE session. Specifying 0 will mean it is up to the gateway to determine how many messages it will send, which </span><span class="c0">may be</span><span class="c3 c0">&nbsp;unbounded.</span></li></ul><p class="c2 c41 c196"><span class="c3 c0">The Gateway MUST validate that the reserved flags in the CONNECT packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c67" id="h.xvir7l"><span class="c72 c37">3.1.4.3 Protocol Version</span></h4><p class="c2" id="h.3hv69ve"><span class="c3 c0">The one-byte unsigned value that represents the revision level of the protocol used by the Client. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><a id="t.31edaa1c3380c5fc112b5111c6fd7a2d95819bce"></a><a id="t.13"></a><table class="c120"><tr class="c9"><td class="c340 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Protocol Version</span></p></td><td class="c340 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Value</span></p></td></tr><tr class="c9"><td class="c340" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Version 1.2</span></p></td><td class="c340" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0x01</span></p></td></tr><tr class="c9"><td class="c340" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">Version 2.0</span></p></td><td class="c340" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0x02</span></p></td></tr><tr class="c9"><td class="c340" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Reserved for future versions</span></p></td><td class="c340" colspan="1" rowspan="1"><p class="c38 c94"><span class="c3 c0">0x03 &ndash; 0xFF</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 15: Protocol version values</span></p><p class="c2"><span class="c0 c45 c64">The value of the Protocol Version field for MQTT-SN version 2.0 </span><span class="c0 c45">MUST</span><span class="c0 c45 c64">&nbsp;be 2 (0x02).</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0">A Gateway which supports multiple versions of the MQTT-SN protocol uses the Protocol Version to determine which version of MQTT-SN the Client is using. </span><span class="c0">If the Protocol Version is valid but it is not the latest one available (for instance 0x02) and the Gateway does not want to accept the CONNECT packet, the Server MAY send a CONNACK packet with Reason Code 0x84 (Unsupported Protocol Version) and consider the session closed</span><span class="c0">.</span><sup><a href="#cmnt19" id="cmnt_ref19">[s]</a></sup><sup><a href="#cmnt20" id="cmnt_ref20">[t]</a></sup><sup><a href="#cmnt21" id="cmnt_ref21">[u]</a></sup></p><p class="c2 c51" id="h.1x0gk37"><span class="c3 c0"></span></p><h4 class="c67" id="h.4h042r0"><span class="c0">3.1.4.4 </span><span class="c72 c37">Keep Alive Timer</span></h4><p class="c2"><span class="c3 c0">The Keep Alive is a Two Byte Integer greater than 0 (1 - 65,535), which is a time interval measured in seconds. It is the maximum time interval that is permitted to elapse between the point at which the Client finishes transmitting one MQTT-SN Control Packet and the point it starts sending the next. It is the responsibility of the Client to ensure that the interval between MQTT Control Packets being sent does not exceed the Keep Alive value.&nbsp;In the absence of sending any other MQTT-SN Control Packets, the Client MUST send a PINGREQ packet.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c57"><span class="c37 c36">Inf</span><span class="c37 c36 c64">ormative comment</span></p><p class="c2 c57"><span class="c3 c0 c36">The Client can send PINGREQ at any time, irrespective of the Keep Alive value, and check for a corresponding PINGRESP to determine that the network and the Gateway are available.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45">If the Gateway does not receive an MQTT-SN Control Packet from the Client within one and a half times the Keep Alive time period, it MUST consider the session &lsquo;LOST&rsquo; (see state description in table 3.6).</span><sup><a href="#cmnt22" id="cmnt_ref22">[v]</a></sup><sup><a href="#cmnt23" id="cmnt_ref23">[w]</a></sup><sup><a href="#cmnt24" id="cmnt_ref24">[x]</a></sup><sup><a href="#cmnt25" id="cmnt_ref25">[y]</a></sup><sup><a href="#cmnt26" id="cmnt_ref26">[z]</a></sup></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45 c64">If a Client does not receive a PINGRESP packet within a </span><span class="c0 c53 c45">T</span><span class="c0 c110 c53 c45">retry</span><span class="c0 c45 c64">&nbsp;amount of time after it has sent a PINGREQ, it SHOULD retry the transmission according to B4 up to the max attempts.</span><span class="c0 c45 c64">&nbsp;</span><span class="c0 c45 c64">If a PINGRESP is still not received it </span><span class="c0 c45">MUST</span><span class="c0 c45 c64">&nbsp;close the Session to the Gateway by way of a DISCONNECT, with the</span><span class="c0 c45">&nbsp;understanding that the GW may no longer be reachable</span><span class="c0 c45 c64">.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45 c64">A Keep Alive must have a value greater than 0. It is considered a protocol error If a Keep Alive value of 0 is set.</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2 c57"><span class="c37 c36">Inf</span><span class="c37 c36 c64">ormative comment</span><span class="c3 c0 c36"><br>The Gateway may have other reasons to disconnect the Client, for instance because it is shutting down. Setting Keep Alive does not guarantee that the Client will remain connected.</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2 c57" id="h.2w5ecyt"><span class="c37 c36">Inf</span><span class="c37 c36 c64">ormative comment</span></p><p class="c2 c57"><span class="c3 c0 c36">The actual value of the Keep Alive is application specific; typically, this is a few minutes. The maximum value of 65,535 is 18 hours 12 minutes and 15 seconds.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h4 class="c67" id="h.1baon6m"><span class="c0">3.1.4.5 </span><span class="c72 c37">Session Expiry Interval</span></h4><p class="c2"><span class="c3 c0">The Session Expiry Interval is a four-byte integer time interval measured in seconds. If the Session Expiry Interval is set to 0, the Session ends (and state deleted) when a (non SLEEPING) DISCONNECT packet is sent from either the client or gateway. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">If the Session Expiry Interval is 0xFFFFFFFF (UINT_MAX), the Session does not expire. </span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2"><span class="c0 c45">The Client and </span><span class="c0 c45 c64">Gateway </span><span class="c0 c45">MUST store the Session State after a DISCONNECT is issued if the Session Expiry Interval is greater than 0.</span></p><p class="c2"><span class="c37">&nbsp;</span></p><p class="c2 c57"><span class="c37">Inf</span><span class="c37">ormative comment</span></p><p class="c2 c57"><span class="c0">The clock in the Client or </span><span class="c0 c64">Gateway </span><span class="c3 c0">may not be running for part of the time interval, for instance because the Client or Gateway are not running. This might cause the deletion of the state to be delayed.</span></p><p class="c2 c57 c51"><span class="c3 c0"></span></p><p class="c2 c57"><span class="c37">Inf</span><span class="c37">ormative comment</span></p><p class="c2 c57"><span class="c3 c0">The client and gateway between them should negotiate a reasonable and practical session expiry interval according to the network and infrastructure environment in which they are deployed. For example, it would not be practical to set a session &ndash; expiry &ndash; interval of many months on a gateway whose hardware is only capable of storing a few client sessions.</span></p><p class="c2 c57 c51"><span class="c3 c0"></span></p><h4 class="c67" id="h.3vac5uf"><span class="c72 c37">3.1.4.6 Max Packet Size</span></h4><p class="c2"><span class="c3 c0">A Two Byte (16-bit) Integer representing the Maximum Packet Size the Client is willing to accept. If the Maximum Packet Size is set to 0, no limit on the packet size is imposed beyond the limitations in the protocol as a result of the remaining length encoding and the protocol header sizes.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c57"><span class="c37">Inf</span><span class="c37 c64">ormative comment</span></p><p class="c2 c57"><span class="c3 c0">It is the responsibility of the application to select a suitable Maximum Packet Size value if it chooses to restrict the Maximum Packet Size.</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2"><span class="c3 c0">The packet size is the total number of bytes in an MQTT Control Packet, as defined in section 3.1. The Client uses the Maximum Packet Size to inform the Server that it will not process packets exceeding this limit.</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2"><span class="c0 c45 c64">The Gateway MUST NOT send packets exceeding Maximum Packet Size to the Client.&nbsp;If a Client receives a packet whose size exceeds this limit, this is a Protocol Error, the Client uses DISCONNECT with Reason Code 0x95 (Packet too large).</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2"><span class="c0 c45 c64">Where a Packet is too large to send, the Gateway MUST discard it without sending it and then behave as if it had completed sending that Application Message.</span></p><p class="c2 c57"><span class="c3 c0">&nbsp;</span></p><p class="c2 c57" id="h.2afmg28"><span class="c37">Inf</span><span class="c37 c64">ormative comment</span></p><p class="c2 c57"><span class="c3 c0">Where a packet is discarded without being sent, the Gateway could place the discarded packet on a &lsquo;dead letter queue&rsquo; or perform other diagnostic action. Such actions are outside the scope of this specification.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h4 class="c67" id="h.pkwqa1"><span class="c72 c37">3.1.4.7 Client Identifier</span></h4><p class="c156 c139"><span class="c0 c64">The Client Identifier (ClientID) identifies the Client to the Gateway. Each Client connecting to the Gateway has a unique ClientID.&nbsp;</span><span class="c0 c45 c64">The ClientID MUST be used by Clients and by Gateway to </span><span class="c0 c45">identify the state</span><span class="c0 c45 c64">&nbsp;that they hold relating to this MQTT-SN Session between the Client and the Gateway</span><span class="c3 c0">. </span></p><p class="c156 c139 c51"><span class="c3 c0"></span></p><p class="c2 c57"><span class="c37">Inf</span><span class="c37 c64">ormative comment</span></p><p class="c156 c139 c57"><span class="c0 c64">A Client Identifier can be between 0 - </span><span class="c3 c0">65,521 bytes. We advise for practicality, ClientID&rsquo;s are restricted to a reasonable size (less than 243 bytes to fit within a small CONNECT packet).</span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><p class="c2"><span class="c0 c45">When the clientID is present (greater than 0 bytes), t</span><span class="c0 c45 c64">he Gateway MUST allow </span><span class="c0 c45">values</span><span class="c0 c45 c64">&nbsp;which are between</span><span class="c0 c45 c64">&nbsp;1 and 23</span><span class="c3 c0 c45">&nbsp;UTF-8 encoded bytes in length, and that contain only the characters &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&rdquo;. </span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><p class="c2"><span class="c3 c0 c45">The Gateway may choose to allow more than 23 bytes.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45 c64">The Client Identifier MUST be a </span><span class="c0 c45">UTF-8 Encoded String</span><span class="c0 c64">.</span><span class="c3 c0 c45">&nbsp;</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h3 class="c122 c94" id="h.39kk8xu"><span>3.1.5 </span><span class="c25">CONNACK</span></h3><a id="t.259aa089c28bb6f8209def81ca52c1f005d45db3"></a><a id="t.14"></a><table class="c120"><tr class="c9"><td class="c231 c17" colspan="1" rowspan="1"><p class="c38" id="h.1opuj5n"><span class="c3 c37">Bit</span></p></td><td class="c190 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c17 c484" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c17 c316" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c17 c297" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c316 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c316 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c111 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c157 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c231" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c325" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c231" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c325" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c231" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c325" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Reason Code</span></p></td></tr><tr class="c51"><td class="c231" colspan="1" rowspan="2"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c325 c208" colspan="14" rowspan="1"><p class="c38"><span class="c1 c37">CONNECT FLAGS</span></p></td></tr><tr class="c51"><td class="c461" colspan="13" rowspan="1"><p class="c38"><span class="c0 c53">Reserved</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">SessionPresent</span></p></td></tr><tr class="c9"><td class="c231" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c526" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c100" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c100" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c100" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c100" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c100" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">X</span></p></td></tr><tr class="c9"><td class="c231" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c325" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval MSB</span></p></td></tr><tr class="c9"><td class="c231" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c325" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval</span></p></td></tr><tr class="c9"><td class="c231" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7</span></p></td><td class="c325" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval</span></p></td></tr><tr class="c9"><td class="c231" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 8</span></p></td><td class="c325" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval LSB</span></p></td></tr><tr class="c9"><td class="c231" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 9 &hellip; N</span></p></td><td class="c325" colspan="14" rowspan="1"><p class="c38 c94"><span class="c3 c0">Assigned Client Identifier (optional)</span></p></td></tr></table><p class="c68" id="h.48pi1tg"><span class="c129 c77 c64">Table 16: CONNACK packet</span></p><p class="c139 c41 c184 c543"><span class="c0">The CONNACK packet is sent by the </span><span class="c0 c64">Gateway </span><span class="c3 c0">in response to a Virtual Connection request from a client.</span></p><h4 class="c67 c41" id="h.2nusc19"><span class="c72 c37">3.1.5.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.1302m92"><span class="c37 c72">3.1.5.2 Reason Code</span></h4><p class="c2"><span class="c3 c0">Byte 3 in the CONNACK header contains the Connect Reason Code. If a CONNECT packet is received by the Server, the Server will send a CONNACK packet containing the appropriate Reason code from the table below.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><a id="t.7f3489ec8bb9a24a5ba7a85351188c06e5a2ea47"></a><a id="t.15"></a><table class="c292 c194"><tr class="c134"><td class="c16" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c37">Value</span></p></td><td class="c59 c17" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c37">Hex</span></p></td><td class="c42 c17" colspan="1" rowspan="1"><p class="c54 c41"><span class="c3 c37">Reason Code name</span></p></td><td class="c78 c17" colspan="1" rowspan="1"><p class="c54 c41"><span class="c3 c37">Description</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x00</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Success</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41 c257"><span class="c3 c0">The Virtual Connection is Accepted</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">128</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x80</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Unspecified error</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The Server does not wish to reveal the reason for the failure, or none of the other Reason Codes apply.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">129</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x81</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Malformed Packet</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c41 c61"><span class="c3 c77">Data within the CONNECT packet could not be correctly parsed. </span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">130</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x82</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Protocol Error</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">Data in the CONNECT packet does not conform to this specification.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">131</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x83</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Implementation specific error</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The CONNECT is valid but is not accepted by this Server.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">132</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x84</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Unsupported Protocol Version</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The Server does not support the version of the MQTT protocol requested by the Client.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">133</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x85</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Client Identifier not valid</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The Client Identifier is a valid string but is not allowed by the Server.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">134</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x86</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Bad User Name or Password</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The Server does not accept the User Name or Password specified by the Client </span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">135</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x87</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Not authorized</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The Client is not authorized to connect.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">136</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x88</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Server unavailable</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The MQTT Server is not available.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">137</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x89</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Server busy</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The Server is busy. Try again later.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">138</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x8A</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Banned</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">This Client has been banned by administrative action. Contact the server administrator.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">140</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x8C</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Bad authentication method</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The authentication method is not supported or does not match the authentication method currently in use.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">144</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x90</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Topic Name invalid</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The Will Topic Name is not malformed, but is not accepted by this Server.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">149</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x95</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Packet too large</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The CONNECT packet exceeded the maximum permissible size.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">151</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x97</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Quota exceeded</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">An implementation or administrative imposed limit has been exceeded.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">155</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x9B</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">QoS not supported</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The Server does not support the QoS set in Will QoS.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c152 c77 c276">159</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">0x9F</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c77">Virtual Connection rate exceeded</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c77">The Virtual Connection rate limit has been exceeded.</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 17: CONNACK Reason Codes values</span></p><h4 class="c67" id="h.3mzq4wv"><span class="c0">3.1.5.3 </span><span class="c72 c37">Connack Flags</span></h4><p class="c2"><span class="c0 c64">The Connack Flags is 1 byte field located at byte 4 which contains parameters specifying the behavior of the MQTT-SN </span><span class="c0">Virtual C</span><span class="c3 c0">onnection on the gateway. </span></p><p class="c2 c41"><span class="c0">The Connack </span><span class="c0 c53">Flags </span><span class="c3 c0">field includes the following flags:</span></p><ul class="c113 lst-kix_list_10-0"><li class="c2 c41 c255 c57 li-bullet-0"><span class="c3 c37">Session Present:</span><span class="c3 c0">&nbsp;Stored in Bit 0 and specifies whether an existing session was present on the gateway for the given client identifier</span></li></ul><p class="c2 c41 c51 c196"><span class="c3 c0"></span></p><p class="c2 c41"><span class="c0 c45">The Client MUST validate that the reserved flags in the CONNACK packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c67 c41" id="h.2250f4o"><span class="c72 c37">3.1.5.4 Session Expiry Interval</span></h4><p class="c56 c139 c41"><span class="c0 c64">If the Session Expiry Interval is 0, the value of Session Expiry Interval in the CONNECT Packet is used. </span><span class="c53 c352 c508">The server uses this property to inform the Client that it is using a value other than that sent by the Client in the CONNECT</span><span class="c0 c64">. </span></p><h4 class="c67 c41" id="h.haapch"><span class="c0">3.1.5.5 </span><span class="c72 c37">Assigned Client Identifier</span></h4><p class="c2"><span class="c0">The Client Identifier assigned by the gateway when the associated CONNECT packet contained no Client Identifier. </span><span class="c0 c45">If the Client connects using a zero length Client Identifier, the Server MUST respond with a CONNACK containing an Assigned Client Identifier. The Assigned Client Identifier MUST be a new Client Identifier not used by any other Session currently in the Gateway</span><span class="c3 c0">.</span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><p class="c2"><span class="c0 c45 c64">The Assigned Client Identifier MUST be a </span><span class="c0 c45">UTF-8 Encoded String</span><span class="c3 c0">.</span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><p class="c2 c57"><span class="c37">Inf</span><span class="c3 c37">ormative comment</span></p><p class="c2 c57"><span class="c3 c0">Assigned Client Identifiers SHOULD BE be less than 247 bytes so they can be accommodated in a small packet version. This is also to cater for devices which may not support larger Client Identifiers.</span></p><p class="c2 c57 c51"><span class="c3 c0"></span></p><p class="c2 c57"><span class="c37">Inf</span><span class="c3 c37">ormative comment</span></p><p class="c2 c57"><span class="c3 c0">Where a transparent gateway obtains an Assigned Client Identifier which is deemed too large for a device, it should maintain a registry to map shorter gateway generated Client Identifiers with their versions returned from the broker.</span></p><p class="c2 c57 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><h3 class="c318 c139 c94" id="h.319y80a"><span>3.1.6 </span><span class="c25">WILLTOPICREQ </span></h3><a id="t.5fb61963b84db0d787df2f50cf4f35619e93fa78"></a><a id="t.16"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">Packet Type</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 18: WILLTOPICREQ packet</span></p><p class="c2 c41 c184"><span class="c0">The WILLTOPICREQ packet is </span><span class="c0">sent by the GW</span><sup><a href="#cmnt27" id="cmnt_ref27">[aa]</a></sup><sup><a href="#cmnt28" id="cmnt_ref28">[ab]</a></sup><sup><a href="#cmnt29" id="cmnt_ref29">[ac]</a></sup><span class="c3 c0">&nbsp;to request a client for sending the Will topic name.</span></p><p class="c2 c41 c184 c51"><span class="c3 c0"></span></p><h3 class="c318 c139 c94" id="h.1gf8i83"><span>3.1.7 </span><span class="c25">WILLMSGREQ</span></h3><a id="t.5fb61963b84db0d787df2f50cf4f35619e93fa78"></a><a id="t.17"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">Packet Type</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 19: WILLMSGREQ packet</span></p><p class="c5 c194"><span class="c3 c0">The WILLMSGREQ packet is sent by the GW to request a client for sending the Will packet. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><h3 class="c318 c139 c94" id="h.40ew0vw"><span>3.1.8 </span><span class="c25">WILLTOPIC</span></h3><a id="t.548b30e18f0c1fb4f97edb22a159df59dc167481"></a><a id="t.18"></a><table class="c120"><tr class="c9"><td class="c362 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c234 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c17 c502" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c305 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c287 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c377 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c309 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c17 c263" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c170 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c362" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c93" colspan="12" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c362" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c93" colspan="12" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c51"><td class="c362" colspan="1" rowspan="1"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c93 c160" colspan="12" rowspan="1"><p class="c38"><span class="c1 c37">WILL TOPIC FLAGS</span></p></td></tr><tr class="c9"><td class="c362" colspan="1" rowspan="1"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c162" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c521" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Will QoS</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c457" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Retain</span></p></td><td class="c162" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c73" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c146" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c170" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td></tr><tr class="c9"><td class="c362" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c162" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c199" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c155" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c457" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c162" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c73" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c146" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c170" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td></tr><tr class="c9"><td class="c362" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4.. N</span></p></td><td class="c93" colspan="12" rowspan="1"><p class="c38 c94"><span class="c3 c0">Will Topic</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 20: WILLTOPIC packet</span></p><p class="c2 c41 c184"><span class="c0">The WILLTOPIC packet is sent by a client</span><span class="c0">&nbsp;as response to the WILLTOPICREQ</span><sup><a href="#cmnt30" id="cmnt_ref30">[ad]</a></sup><span class="c3 c0">&nbsp;packet for transferring its Will topic name to the GW.</span></p><h4 class="c67 c41" id="h.2fk6b3p"><span class="c72 c37">3.1.8.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.upglbi"><span class="c72 c37">3.1.8.2 WILLTOPIC Flags</span></h4><p class="c148 c139 c41"><span class="c0 c64">The WillTopic Flags is 1 byte field containing several parameters specifying the properties of the WillTopic. </span></p><p class="c2 c41"><span class="c0">The WillTopic Flags</span><span class="c0 c53">&nbsp;</span><span class="c3 c0">field includes the following flags:</span></p><ul class="c113 lst-kix_list_10-0"><li class="c182 c81 c41 c57 li-bullet-0"><span class="c3 c37">Retain: </span><span class="c3 c0">Stored in Bit 4, this bit specifies if the Will Message is to be retained.</span></li><li class="c148 c81 c41 c57 li-bullet-0"><span class="c3 c37">Will QoS</span><span class="c3 c0">: Stored in Bit 5 and 6, these two bits specify the QoS level to be used.</span></li></ul><h4 class="c67 c41" id="h.3ep43zb"><span class="c0">3.1.8.3 </span><span class="c72 c37">Will Topic</span></h4><p class="c198 c139 c41"><span class="c3 c0">Contains a Fixed Length UTF-8 Encoded String containing the Will Topic Name.</span></p><p class="c139 c41 c368"><span class="c3 c0">An empty WILLTOPIC packet is a WILLTOPIC packet without Flags and Will Topic field (i.e. it is exactly 2 bytes long). It is used by a client to delete the Will topic and the Will packet stored in the gateway.</span></p><p class="c368 c139 c41 c51"><span class="c3 c0"></span></p><h3 class="c318 c139 c94" id="h.1tuee74"><span>3.1.9 </span><span class="c25">WILLMSG</span></h3><a id="t.93f6816958d49b05d03b0eb47815013354eafda7"></a><a id="t.19"></a><table class="c120"><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c176" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c13" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c13" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c13" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c13" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c13" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c13" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c13" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3 .. N</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">Will Message</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 21: WILLMSG packet</span></p><p class="c2 c184 c195"><span class="c0">The WILLPACKET packet is sent by a</span><span class="c0">&nbsp;client as response to a WILLMSGREQ</span><sup><a href="#cmnt31" id="cmnt_ref31">[ae]</a></sup><span class="c3 c0">&nbsp;for transferring its Will packet to the GW.</span></p><h4 class="c67" id="h.4du1wux"><span class="c72 c37">3.1.9.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67" id="h.2szc72q"><span class="c72 c37">3.1.9.2 Will Message</span></h4><p class="c65 c195"><span class="c3 c0">Contains the Will Message which is published by after the Virtual Connection is closed &nbsp;</span></p><p class="c65 c195 c51"><span class="c3 c0"></span></p><h3 class="c469 c139 c94" id="h.184mhaj"><span>3.1.10 </span><span class="c0">AUTH</span><sup><a href="#cmnt32" id="cmnt_ref32">[af]</a></sup><sup><a href="#cmnt33" id="cmnt_ref33">[ag]</a></sup></h3><a id="t.5dc91a974929408ccc6a4e5c008c3294b511964a"></a><a id="t.20"></a><table class="c120"><tr class="c9"><td class="c17 c256" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c17 c476" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c107 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c256" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c412" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c256" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c412" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c256" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c412" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Auth Reason Code</span></p></td></tr><tr class="c9"><td class="c256" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c412" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Auth Method Length (K)</span></p></td></tr><tr class="c9"><td class="c256" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5:5+K</span></p></td><td class="c412" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Auth Method</span></p></td></tr><tr class="c9"><td class="c256" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6+K:N</span></p></td><td class="c412" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">Auth Data (N)</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 22: AUTH packet</span></p><p class="c2"><span class="c3 c0 c274">The AUTH message is first sent by the client as part of an authentication exchange.&nbsp; The server responds with another AUTH message and so on until the authentication is complete.&nbsp; The server then responds with a CONNACK message.</span></p><h4 class="c67" id="h.3s49zyc"><span class="c0">3.1.10.1 </span><span class="c72 c37">Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67" id="h.279ka65"><span class="c72 c37">3.1.10.2 Reason Code</span></h4><p class="c2"><span class="c3 c0 c274">Byte 3 in the Auth packet holds the Authentication Reason Code. The values for the 1 byte unsigned Authentication Reason Code field are shown below. </span></p><p class="c2 c51"><span class="c3 c0 c274"></span></p><p class="c2"><span class="c0 c274">The sender of the AUTH Packet MUST use one of the Authenticate Reason Codes.</span></p><a id="t.496fd966c6fc606f730a17ce9ea2f7fc91f22a0d"></a><a id="t.21"></a><table class="c292 c194"><tr class="c134"><td class="c374 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Dec</span></p></td><td class="c428 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Hex</span></p></td><td class="c397 c17" colspan="1" rowspan="1"><p class="c54"><span class="c37">Reason Code Name</span></p></td><td class="c226 c17" colspan="1" rowspan="1"><p class="c54 c195"><span class="c37">Sent by</span></p></td><td class="c17 c244" colspan="1" rowspan="1"><p class="c54 c195"><span class="c37">Description</span></p></td></tr><tr class="c134"><td class="c374" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">0</span></p></td><td class="c428" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x00</span></p></td><td class="c397" colspan="1" rowspan="1"><p class="c24"><span class="c3 c0">Success</span></p></td><td class="c226" colspan="1" rowspan="1"><p class="c62"><span class="c3 c0">Gateway</span></p></td><td class="c244" colspan="1" rowspan="1"><p class="c62"><span class="c3 c0">Authentication is successful</span></p></td></tr><tr class="c134"><td class="c374" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">24</span></p></td><td class="c428" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x18</span></p></td><td class="c397" colspan="1" rowspan="1"><p class="c104 c390"><span class="c3 c0">Continue authentication</span></p></td><td class="c226" colspan="1" rowspan="1"><p class="c104 c195"><span class="c3 c0">Client or Server</span></p></td><td class="c244" colspan="1" rowspan="1"><p class="c104 c195"><span class="c3 c0">Continue the authentication with another step</span></p></td></tr><tr class="c134"><td class="c374" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">25</span></p></td><td class="c428" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x19</span></p></td><td class="c397" colspan="1" rowspan="1"><p class="c104 c298"><span class="c3 c0">Re-authenticate</span></p></td><td class="c226" colspan="1" rowspan="1"><p class="c104 c195"><span class="c3 c0">Client</span></p></td><td class="c244" colspan="1" rowspan="1"><p class="c61 c195"><span class="c3 c0">Initiate another authentication</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 23: AUTH Reason Code </span></p><h4 class="c67" id="h.meukdy"><span class="c0">3.1.10.3 </span><span class="c72 c37">Auth Method Length</span></h4><p class="c2"><span class="c3 c0">The length of the auth method string.</span></p><h4 class="c67" id="h.36ei31r"><span class="c72 c37">3.1.10.4 Auth Method</span></h4><p class="c2"><span class="c3 c0 c274">A UTF-8 Encoded String containing the name of the authentication method.</span></p><h4 class="c67" id="h.1ljsd9k"><span class="c0">3.1.10.5 </span><span class="c72 c37">Auth Data</span></h4><p class="c2"><span class="c0 c274">Binary Data containing authentication data. The contents of this data are defined by the authentication method.</span></p><p class="c2 c51"><span class="c152 c0 c64 c291"></span></p><p class="c2 c57"><span class="c37">Inf</span><span class="c37 c64">ormative comment</span></p><p class="c2 c57"><span class="c0 c274">For a simple cleartext password is analogous to MQTT user name and password, the SASL PLAIN method can be used.</span></p><p class="c65 c195 c51"><span class="c3 c0"></span></p><h3 class="c469 c139 c94" id="h.45jfvxd"><span>3.1.11 </span><span class="c25">REGISTER</span></h3><a id="t.65205bd7d2beba86b86cdd1336fcf47c40d8b6be"></a><a id="t.22"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias MSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias LSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c0">Packet Id</span><span class="c0 c53">&nbsp;</span><span class="c3 c0">MSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id LSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7 &hellip; N</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">Topic Name</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 24: REGISTER packet</span></p><p class="c2 c194 c195"><span class="c3 c0">The REGISTER packet is sent by a client to a GW for requesting a topic alias value for the included topic name. It is also sent by a GW to inform a client about the topic alias value it has assigned to the included topic name.</span></p><h4 class="c67" id="h.2koq656"><span class="c72 c37">3.1.11.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67" id="h.zu0gcz"><span class="c72 c37">3.1.11.2 Topic Alias</span></h4><p class="c65 c195"><span class="c3 c0">If sent by a client, it is coded 0x0000 and is not relevant; if sent by a GW, it contains the topic alias value assigned to the topic name included in the Topic Name field.</span></p><h4 class="c67" id="h.3jtnz0s"><span class="c72 c37">3.1.11.3 Packet Id</span></h4><p class="c65 c195"><span class="c3 c0">Should be coded such that it can be used to identify the corresponding REGACK packet.</span></p><h4 class="c67" id="h.1yyy98l"><span class="c72 c37">3.1.11.4 Topic Name</span></h4><p class="c372 c139 c195"><span class="c3 c0">Fixed Length UTF-8 Encoded String Contains the fully qualified topic name.</span></p><h3 class="c318 c139 c94" id="h.4iylrwe"><span>3.1.12 </span><span class="c25">REGACK</span></h3><a id="t.f8ede3600366547f923d9c25811ff347911dc537"></a><a id="t.23"></a><table class="c120"><tr class="c9"><td class="c100 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c516 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c146 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c15 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c164 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c60 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c17 c392" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c17 c477" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c98 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c100" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c239" colspan="10" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c100" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c239" colspan="10" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c51"><td class="c100" colspan="1" rowspan="2"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c160 c239" colspan="10" rowspan="1"><p class="c38"><span class="c1 c37">REGACK FLAGS</span></p></td></tr><tr class="c51"><td class="c516" colspan="1" rowspan="1"><p class="c38"><span class="c0">Reserved</span></p></td><td class="c146" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Reserved</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Reserved</span></p></td><td class="c164" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Reserved</span></p></td><td class="c439" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">Reserved</span></p></td><td class="c146" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Reserved</span></p></td><td class="c482" colspan="3" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias Type</span></p></td></tr><tr class="c9"><td class="c100" colspan="1" rowspan="1"><p class="c2"><span class="c0 c3">Byte 3</span></p></td><td class="c516" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c146" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c164" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c439" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c146" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c304" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">X</span></p></td><td class="c175" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">X</span></p></td></tr><tr class="c9"><td class="c100" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c239" colspan="10" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias MSB</span></p></td></tr><tr class="c9"><td class="c100" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c239" colspan="10" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias LSB</span></p></td></tr><tr class="c9"><td class="c100" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c239" colspan="10" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id MSB</span></p></td></tr><tr class="c9"><td class="c100" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7</span></p></td><td class="c239" colspan="10" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id LSB</span></p></td></tr><tr class="c9"><td class="c100" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 8</span></p></td><td class="c239" colspan="10" rowspan="1"><p class="c38 c94"><span class="c3 c0">Reason Code</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 25: REGACK packet</span></p><p class="c2 c41 c184"><span class="c3 c0">The REGACK packet is sent by a client or by a GW as an acknowledgment to the receipt and processing of a REGISTER packet.</span></p><h4 class="c67 c41" id="h.2y3w247"><span class="c72 c37">3.1.12.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.1d96cc0"><span class="c72 c37">3.1.12.2 REGACK Flags</span></h4><p class="c148 c139 c41"><span class="c0 c64">The REGACK Flags is 1 byte field in Byte position 3 of the REGACK packet. &nbsp;</span></p><p class="c2 c41"><span class="c0">The REGACK Flags</span><span class="c0 c53">&nbsp;</span><span class="c3 c0">field includes the following flag:</span></p><ul class="c113 lst-kix_list_12-0 start"><li class="c372 c139 c41 c478 li-bullet-4"><span class="c3 c37">Topic Alias Type</span><span class="c3 c0">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. Refer to </span><span class="c88 c0"><a class="c11" href="#h.2zbgiuw">Table 10</a></span><span class="c3 c0">&nbsp;for the definition of the various topic types.</span></li></ul><h4 class="c67 c41" id="h.3x8tuzt"><span class="c0">3.1.12.3 </span><span class="c72 c37">Topic Alias</span></h4><p class="c65 c41"><span class="c3 c0">A Topic Alias is an integer value that is used to identify the Topic instead of the Topic Name. This numeric value is used as the Topic Alias.</span></p><h4 class="c67 c41" id="h.2ce457m"><span class="c72 c37">3.1.12.4 Packet Id</span></h4><p class="c356 c139 c41"><span class="c3 c0">The same value as the one contained in the corresponding REGISTER packet.</span></p><h4 class="c67 c41" id="h.rjefff"><span class="c72 c37">3.1.12.5 Reason Code</span></h4><p class="c2"><span class="c0 c274">Byte 8 in the REGACK packet holds the Register Reason Code. </span></p><a id="t.f1050aadad573eee1a69aad7d60af5f4442fbf25"></a><a id="t.24"></a><table class="c292 c194"><tr class="c193"><td class="c33 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Dec</span></p></td><td class="c21 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Hex</span></p></td><td class="c114 c17" colspan="1" rowspan="1"><p class="c2 c408"><span class="c3 c37">Reason Code Name</span></p></td><td class="c301 c17" colspan="1" rowspan="1"><p class="c54 c195"><span class="c3 c37">Description</span></p></td></tr><tr class="c193"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">0</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x00</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c24"><span class="c3 c0">Success</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c62"><span class="c3 c0">Request for the topic alias value for the included topic name is successful</span></p></td></tr><tr class="c193"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">1</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x01</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c390"><span class="c3 c0">Congestion</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c104 c195"><span class="c3 c0">The gateway/server notification that it is experiencing congestion &nbsp;</span></p></td></tr><tr class="c193"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">2</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x02</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c298"><span class="c0">Invalid Topic Alias</span><sup><a href="#cmnt34" id="cmnt_ref34">[ah]</a></sup></p></td><td class="c301" colspan="1" rowspan="1"><p class="c104 c195"><span class="c0 c64">The Client or GW has received a REGISTER packet containing a Topic Alias which has a value that is not recognized. </span></p></td></tr><tr class="c193"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">3</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x03</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c298"><span class="c3 c0">Not supported</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c61 c195"><span class="c3 c0">Topic Alias are not supported by the Client or gateway</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 26: REGACK Reason Code</span></p><h3 class="c67 c57 c470" id="h.3bj1y38"><span>3.1.13</span><span>&nbsp;</span><span>Publish Variants</span><sup><a href="#cmnt35" id="cmnt_ref35">[ai]</a></sup></h3><p class="c2"><span class="c3 c77">MQTT-SN is designed to be optimized for packet size. For this reason, the PUBLISH packet has been split into 3 variants; Variant 1 catering for Quality of Service -1 where a protocol version field is required, Variant 2 catering for Quality of Service 0 where no response ACK is required and thus no packet identifier is required and Quality of Service 1 and 2 where a response is expected, Variant 3 catering for Out Of Band messages where minimal overhead is required. Due to the fundamental structural difference of QoS -1 and OOB, a respective new packet type has been introduced. The table below breaks down the different versions of the PUBLISH packet and their respective type identifiers.</span></p><p class="c2"><span class="c0 c274">&nbsp;</span></p><a id="t.37f7477ced9f12836b3390eb71f81597e38cf2cc"></a><a id="t.25"></a><table class="c292 c194"><tr class="c193"><td class="c47 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Packet Type</span></p></td><td class="c299 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Type</span></p></td><td class="c354 c17" colspan="1" rowspan="1"><p class="c54 c195"><span class="c3 c37">Description</span></p></td></tr><tr class="c193"><td class="c47" colspan="1" rowspan="1"><p class="c104"><span class="c3 c37">Publish</span></p></td><td class="c299" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x0C</span></p></td><td class="c354" colspan="1" rowspan="1"><p class="c62"><span class="c3 c0">A PUBLISH packet corresponding to Quality of Service (QoS) &nbsp;0, 1 or 2</span></p></td></tr><tr class="c193"><td class="c47" colspan="1" rowspan="1"><p class="c104"><span class="c3 c37">Publish Minus 1</span></p></td><td class="c299" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x0C</span></p></td><td class="c354" colspan="1" rowspan="1"><p class="c104 c195"><span class="c3 c0">A second variant of the PUBLISH packet corresponding to Quality of Service minus 1 &ndash; This represents the PUBLISH Minus One from the original specification and is included for purposes of backward compatibility. This packet has been superseded by Publish OOB (0x11)</span></p></td></tr><tr class="c193"><td class="c47" colspan="1" rowspan="1"><p class="c104"><span class="c3 c37">Publish Out Of Band (OOB)</span></p></td><td class="c299" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x11</span></p></td><td class="c354" colspan="1" rowspan="1"><p class="c104 c195"><span class="c3 c0">A PUBLISH message that need have no session present on the GW or broker</span></p></td></tr></table><p class="c2 c51"><span class="c3 c77"></span></p><h3 class="c318 c139 c94" id="h.1qoc8b1"><span>3.1.14 </span><span class="c0">PUBLISH MINUS -1 (Reference from 1.2)</span><sup><a href="#cmnt36" id="cmnt_ref36">[aj]</a></sup><sup><a href="#cmnt37" id="cmnt_ref37">[ak]</a></sup><sup><a href="#cmnt38" id="cmnt_ref38">[al]</a></sup><sup><a href="#cmnt39" id="cmnt_ref39">[am]</a></sup><sup><a href="#cmnt40" id="cmnt_ref40">[an]</a></sup></h3><p class="c2 c51"><span class="c3 c0"></span></p><a id="t.68a72a00620897aa0a12e3746e783dc7a4fb99b2"></a><a id="t.26"></a><table class="c120"><tr class="c9"><td class="c252 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c17 c49" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c111 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c52 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c142 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c17 c377" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c76 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c172 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c17 c165" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c252" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c315" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c252" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c315" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type (0x0C)</span></p></td></tr><tr class="c51"><td class="c252" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c315 c160" colspan="13" rowspan="1"><p class="c38"><span class="c1 c37">PUBLISH-M1 FLAGS</span></p></td></tr><tr class="c51"><td class="c452" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">DUP</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c360" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">QoS</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c242" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Retain</span></p></td><td class="c346" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c202" colspan="4" rowspan="1"><p class="c38"><span class="c1 c0">Topic Alias Type</span></p><p class="c2 c51"><span class="c1 c0"></span></p></td></tr><tr class="c9"><td class="c252" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c452" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c175" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c242" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c346" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c271" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c101" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td></tr><tr class="c9"><td class="c252" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c315" colspan="13" rowspan="1"><p class="c38 c94"><span class="c3 c0">Topic Alias MSB</span></p></td></tr><tr class="c9"><td class="c252" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c315" colspan="13" rowspan="1"><p class="c38 c94"><span class="c3 c0">Topic Alias LSB</span></p></td></tr><tr class="c9"><td class="c252" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c315" colspan="13" rowspan="1"><p class="c38 c94"><span class="c3 c0">0x00 &ndash; Fixed Field Value</span></p></td></tr><tr class="c9"><td class="c252" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7</span></p></td><td class="c315" colspan="13" rowspan="1"><p class="c38 c94"><span class="c3 c0">0x00 &ndash; Fixed Field Value</span></p></td></tr><tr class="c9"><td class="c252" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 8 .. N</span></p></td><td class="c315" colspan="13" rowspan="1"><p class="c38 c94"><span class="c3 c0">Data</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 27: PUBLISH packet</span></p><p class="c2 c41 c184"><span class="c0">This packet is used by both clients and gateways to publish data for a </span><span class="c0">certain topic</span><sup><a href="#cmnt41" id="cmnt_ref41">[ao]</a></sup><span class="c3 c0">.</span></p><h4 class="c67 c41" id="h.4anzqyu"><span class="c72 c37">3.1.14.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.14ykbeg"><span class="c72 c37">3.1.14.2 PUBLISH Flags</span></h4><p class="c2 c41"><span class="c3 c0">The PUBLISH Flags field is 1-byte located in Byte 3 position of the PUBLISH control packet. </span></p><p class="c2 c41"><span class="c3 c0">The PUBLISH Flags includes the following flags:</span></p><ul class="c113 lst-kix_list_8-0 start"><li class="c43 li-bullet-5"><span class="c3 c37">Topic Alias Type</span><span class="c3 c0">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. Refer to </span><span class="c88 c0"><a class="c11" href="#h.2zbgiuw">Table 10</a></span><span class="c3 c0">&nbsp;for the definition of the various topic alias types.</span></li><li class="c43 li-bullet-5"><span class="c3 c37">QoS</span><span class="c3 c0">: This is a 2-bit field stored in Bit 5 and 6. QoS has the same meaning as with MQTT indicating the Quality of Service. Set to &ldquo;0b00&rdquo; for QoS 0, &ldquo;0b01&rdquo; for QoS 1, &ldquo;0b10&rdquo; for QoS 2, and &ldquo;0b11&rdquo; for QoS -1. For a detailed description of the various Quality Of Service levels please refer to the operational behavior section.</span></li><li class="c43 li-bullet-6"><span class="c3 c37">DUP</span><span class="c3 c0">: 1 bit field stored in Bit 7 and has the same meaning as with MQTT. It notes the duplicate delivery of </span><span class="c0">packets</span><span class="c3 c0">. If the DUP flag </span><span class="c0">is set</span><span class="c3 c0">&nbsp;to &ldquo;0&rdquo;, it signifies that the packet is sent for the first time. If the DUP flag is set to &ldquo;1&rdquo;, it signifies that the packet was retransmitted. </span></li><li class="c126 li-bullet-6"><span class="c37">Retain</span><span class="c3 c0">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing retained message for this topic is replaced or kept.</span></li></ul><h4 class="c67 c41" id="h.3oy7u29"><span class="c72 c37">3.1.14.3 Topic Alias or Topic Length</span></h4><p class="c372 c139 c41"><span class="c3 c0">In the case of Topic Alias Type being b11 this field will refer to the length of data assigned to the &ldquo;Full Topic Name&rdquo;, in all other cases, this will be the value used as the topic alias or short topic name. </span></p><h4 class="c67 c41" id="h.243i4a2"><span class="c72 c37">3.1.14.4 Data</span></h4><p class="c2"><span class="c3 c77">In the case of Topic Alias Type b11 the data section will be prefixed with a &ldquo;Full Topic Name&rdquo; encoded with a UTF-8 encoded string value of length determined by the previously defined length field. Thereafter, </span></p><p class="c5 c194"><span class="c0">the </span><span class="c0 c53">Data </span><span class="c3 c0">field corresponds to payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><p class="c2 c51"><span class="c3 c77"></span></p><p class="c2 c51"><span class="c3 c77"></span></p><p class="c2 c51"><span class="c3 c77"></span></p><p class="c2 c51"><span class="c3 c77"></span></p><p class="c2 c51"><span class="c3 c77"></span></p><p class="c2 c51"><span class="c3 c77"></span></p><p class="c2 c51"><span class="c3 c77"></span></p><h3 class="c318 c139 c94" id="h.j8sehv"><span>3.1.15 </span><span class="c0">PUBLISH OUT OF BAND</span><sup><a href="#cmnt42" id="cmnt_ref42">[ap]</a></sup><sup><a href="#cmnt43" id="cmnt_ref43">[aq]</a></sup><sup><a href="#cmnt44" id="cmnt_ref44">[ar]</a></sup></h3><p class="c2 c51"><span class="c3 c77"></span></p><a id="t.93953321846355697ae2c80d92ef2252bf6a60bf"></a><a id="t.27"></a><table class="c120"><tr class="c9"><td class="c74 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c17 c329" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c17 c111" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c52 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c142 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c377 c17" colspan="3" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c76 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c172 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c165 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type (0x11)</span></p></td></tr><tr class="c51"><td class="c74" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c14 c160" colspan="14" rowspan="1"><p class="c38"><span class="c1 c37">PUBLISH OUT OF BAND (OOB)</span></p></td></tr><tr class="c51"><td class="c146" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c360" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c242" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Retain</span></p></td><td class="c162" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c202" colspan="4" rowspan="1"><p class="c38"><span class="c1 c0">Topic Alias Type</span></p><p class="c2 c51"><span class="c1 c0"></span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c146" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c175" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c242" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c162" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c271" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c101" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c405" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias MSB</span></p></td><td class="c84" colspan="2" rowspan="2"><p class="c2"><span class="c3 c37">OR</span></p></td><td class="c357" colspan="4" rowspan="2"><p class="c38"><span class="c3 c0">Topic Length MSB (TL)</span></p><p class="c38"><span class="c3 c0">Topic Length LSB (TL)</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c385" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias LSB</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte (6 + TL) .. N</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38 c94"><span class="c3 c0">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 28: PUBLISH packet</span></p><p class="c2 c41 c184"><span class="c3 c0">This packet is used by both clients and gateways to publish data for a certain topic.</span></p><h4 class="c67 c41" id="h.338fx5o"><span class="c72 c37">3.1.15.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.1idq7dh"><span class="c72 c37">3.1.15.2 PUBLISH Flags</span></h4><p class="c2 c41"><span class="c3 c0">The PUBLISH Flags field is 1-byte located in the Byte 3 position of the PUBLISH control packet. </span></p><p class="c2 c41"><span class="c3 c0">The PUBLISH Flags includes the following flags:</span></p><ul class="c113 lst-kix_list_8-0"><li class="c43 li-bullet-7"><span class="c3 c37">Topic Alias Type</span><span class="c3 c0">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. Refer to </span><span class="c88 c0"><a class="c11" href="#h.2zbgiuw">Table 10</a></span><span class="c3 c0">&nbsp;for the definition of the various topic alias types.</span></li><li class="c126 li-bullet-5"><span class="c37">Retain</span><span class="c3 c0">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing retained message for this topic is replaced or kept.</span></li></ul><h4 class="c67 c41" id="h.42ddq1a"><span class="c72 c37">3.1.15.3 Topic Alias or Topic Length</span></h4><p class="c139 c41 c372"><span class="c3 c0">In the case of Topic Alias Type being b11 this field will refer to the length of data assigned to the &ldquo;Full Topic Name&rdquo;, in all other cases, this will be the value used as the topic alias or short topic name. </span></p><h4 class="c67 c41" id="h.2hio093"><span class="c72 c37">3.1.15.4 Data</span></h4><p class="c2"><span>In the case of Topic Alias Type b11 the data section will be prefixed with a &ldquo;Full Topic Name&rdquo; encoded with a UTF-8 encoded string value of length determined by the previously defined length field. Thereafter, </span><span class="c0">the </span><span class="c0 c53">Data </span><span class="c3 c0">field corresponds to the payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><p class="c68 c51"><span class="c129 c77 c64"></span></p><h3 class="c318 c139 c94" id="h.wnyagw"><span>3.1.16 </span><span class="c25">PUBLISH (used for QoS 0)</span></h3><p class="c2 c51"><span class="c3 c0"></span></p><a id="t.062511dff7fc86b43dd9b38bfc2264e6bf3b6719"></a><a id="t.28"></a><table class="c120"><tr class="c9"><td class="c74 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c329 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c111 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c17 c52" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c142 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c377 c17" colspan="3" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c17 c76" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c172 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c165 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type (0x0C)</span></p></td></tr><tr class="c51"><td class="c74" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c14 c160" colspan="14" rowspan="1"><p class="c38"><span class="c1 c37">PUBLISH QoS 0 FLAGS</span></p></td></tr><tr class="c51"><td class="c146" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">DUP</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c360" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">QoS</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c242" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Retain</span></p></td><td class="c162" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c202" colspan="4" rowspan="1"><p class="c38"><span class="c1 c0">Topic Alias Type</span></p><p class="c2 c51"><span class="c1 c0"></span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c146" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c175" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c242" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c162" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c271" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c101" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c405" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias MSB</span></p></td><td class="c84" colspan="2" rowspan="2"><p class="c2"><span class="c3 c37">OR</span></p></td><td class="c357" colspan="4" rowspan="2"><p class="c38"><span class="c3 c0">Topic Length MSB (TL)</span></p><p class="c38"><span class="c3 c0">Topic Length LSB (TL)</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c385" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias LSB</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte (6 + TL) .. N</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38 c94"><span class="c3 c0">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 29: PUBLISH packet</span></p><p class="c2 c41 c184"><span class="c3 c0">This packet is used by both clients and gateways to publish data for a certain topic.</span></p><h4 class="c67 c41" id="h.3gnlt4p"><span class="c72 c37">3.1.16.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.1vsw3ci"><span class="c72 c37">3.1.16.2 PUBLISH Flags</span></h4><p class="c2 c41"><span class="c3 c0">The PUBLISH Flags field is 1-byte located in Byte 3 position of the PUBLISH control packet. </span></p><p class="c2 c41"><span class="c3 c0">The PUBLISH Flags includes the following flags:</span></p><ul class="c113 lst-kix_list_8-0"><li class="c43 li-bullet-5"><span class="c3 c37">Topic Alias Type</span><span class="c3 c0">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. Refer to </span><span class="c88 c0"><a class="c11" href="#h.2zbgiuw">Table 10</a></span><span class="c3 c0">&nbsp;for the definition of the various topic alias types.</span></li><li class="c43 li-bullet-6"><span class="c3 c37">QoS</span><span class="c3 c0">: This is a 2-bit field stored in Bit 5 and 6. QoS has the same meaning as with MQTT indicating the Quality of Service. Set to &ldquo;0b00&rdquo; for QoS 0, &ldquo;0b01&rdquo; for QoS 1, &ldquo;0b10&rdquo; for QoS 2, and &ldquo;0b11&rdquo; for QoS -1. For a detailed description of the various Quality Of Service levels please refer to the operational behavior section.</span></li><li class="c43 li-bullet-5"><span class="c3 c37">DUP</span><span class="c3 c0">: 1 bit field stored in Bit 7 and has the same meaning as with MQTT. It notes the duplicate delivery of packet. If the DUP flag is, set to &ldquo;0&rdquo;, it signifies that the packet is sent for the first time. If the DUP flag is set to &ldquo;1&rdquo;, it signifies that the packet was retransmitted. </span></li><li class="c126 li-bullet-5"><span class="c37">Retain</span><span class="c3 c0">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing retained message for this topic is replaced or kept.</span></li></ul><h4 class="c67 c41" id="h.4fsjm0b"><span class="c72 c37">3.1.16.3 Topic Alias or Topic Length</span></h4><p class="c372 c139 c41"><span class="c3 c0">In the case of Topic Alias Type being b11 this field will refer to the length of data assigned to the &ldquo;Full Topic Name&rdquo;, in all other cases, this will be the value used as the topic alias or short topic name. </span></p><h4 class="c67 c41" id="h.2uxtw84"><span class="c72 c37">3.1.16.4 Data</span></h4><p class="c2"><span>In the case of Topic Alias Type b11 the data section will be prefixed with a &ldquo;Full Topic Name&rdquo; encoded with a UTF-8 encoded string value of length determined by the previously defined length field. Thereafter, </span><span class="c0">the </span><span class="c0 c53">Data </span><span class="c3 c0">field corresponds to the payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><hr style="page-break-before:always;display:none;"><p class="c10 c139"><span class="c3 c0"></span></p><p class="c5 c51"><span class="c3 c0"></span></p><h3 class="c318 c139 c94" id="h.1a346fx"><span>3.1.17 </span><span class="c25">PUBLISH (used for QoS 1 &amp; 2)</span></h3><p class="c2 c51"><span class="c3 c0"></span></p><a id="t.f0c800a1eaeaf618b34bee15c5e86551b9ab2508"></a><a id="t.29"></a><table class="c120"><tr class="c9"><td class="c74 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c329 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c111 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c52 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c142 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c377 c17" colspan="3" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c76 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c172 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c165 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type (0x0C)</span></p></td></tr><tr class="c51"><td class="c74" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c14 c160" colspan="14" rowspan="1"><p class="c38"><span class="c1 c37">PUBLISH QoS 1&amp;2 FLAGS</span></p></td></tr><tr class="c51"><td class="c146" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">DUP</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c360" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">QoS</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c242" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Retain</span></p></td><td class="c162" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c202" colspan="4" rowspan="1"><p class="c38"><span class="c1 c0">Topic Alias Type</span></p><p class="c2 c51"><span class="c1 c0"></span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c146" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c175" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c242" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c162" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c271" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c101" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id MSB</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id LSB</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c405" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias MSB</span></p></td><td class="c84" colspan="2" rowspan="2"><p class="c2"><span class="c3 c37">OR</span></p></td><td class="c357" colspan="4" rowspan="2"><p class="c38"><span class="c3 c0">Topic Length MSB (TL)</span></p><p class="c38"><span class="c3 c0">Topic Length LSB (TL)</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7</span></p></td><td class="c385" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias LSB</span></p></td></tr><tr class="c9"><td class="c74" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte (8 + TL) .. N</span></p></td><td class="c14" colspan="14" rowspan="1"><p class="c38 c94"><span class="c3 c0">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 30: PUBLISH packet</span></p><p class="c2 c41 c184"><span class="c3 c0">This packet is used by both clients and gateways to publish data for a certain topic.</span></p><h4 class="c67 c41" id="h.3u2rp3q"><span class="c72 c37">3.1.17.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.2981zbj"><span class="c72 c37">3.1.17.2 PUBLISH Flags</span></h4><p class="c2 c41" id="h.odc9jc"><span class="c3 c0">The PUBLISH Flags field is 1-byte located in Byte 3 position of the PUBLISH control packet. </span></p><p class="c2 c41"><span class="c3 c0">The PUBLISH Flags includes the following flags:</span></p><ul class="c113 lst-kix_list_8-0"><li class="c43 li-bullet-5"><span class="c3 c37">Topic Alias Type</span><span class="c3 c0">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. Refer to </span><span class="c88 c0"><a class="c11" href="#h.2zbgiuw">Table 10</a></span><span class="c3 c0">&nbsp;for the definition of the various topic alias types.</span></li><li class="c43 li-bullet-5"><span class="c3 c37">QoS</span><span class="c3 c0">: This is a 2-bit field stored in Bit 5 and 6. QoS has the same meaning as with MQTT indicating the Quality of Service. Set to &ldquo;0b00&rdquo; for QoS 0, &ldquo;0b01&rdquo; for QoS 1, &ldquo;0b10&rdquo; for QoS 2, and &ldquo;0b11&rdquo; for QoS -1. For a detailed description of the various Quality Of Service levels please refer to the operational behavior section.</span></li><li class="c43 li-bullet-5"><span class="c3 c37">DUP</span><span class="c3 c0">: 1 bit field stored in Bit 7 and has the same meaning as with MQTT. It notes the duplicate delivery of </span><span class="c0">packets</span><span class="c3 c0">. If the DUP flag </span><span class="c0">is set</span><span class="c3 c0">&nbsp;to &ldquo;0&rdquo;, it signifies that the packet is sent for the first time. If the DUP flag is set to &ldquo;1&rdquo;, it signifies that the packet was retransmitted. </span></li><li class="c126 li-bullet-5"><span class="c37">Retain</span><span class="c3 c0">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing retained message for this topic is replaced or kept.</span></li></ul><h4 class="c67 c41" id="h.38czs75"><span class="c72 c37">3.1.17.3 Topic Length</span></h4><p class="c65 c41"><span class="c3 c0">Contains the length of the topic value. This will be either 2 bytes when using a standard alias (0b00, 0b01 or 0b10) or the length of the full topic name when the topic type is 0b11.</span></p><h4 class="c67 c41" id="h.1nia2ey"><span class="c72 c37">3.1.17.4 Packet Id</span></h4><p class="c65 c41"><span class="c3 c0">Same meaning as the MQTT &ldquo;Packet ID&rdquo;; only relevant in case of QoS levels 1 and 2, otherwise coded 0x0000.</span></p><h4 class="c67 c41" id="h.47hxl2r"><span class="c72 c37">3.1.17.5 Topic Alias or Topic Name</span></h4><p class="c372 c139 c41"><span class="c0">Contains topic name encoded as a Fixed Length UTF-8 Encoded String, topic alias, or short topic name as indicated in the </span><span class="c0 c53">Topic Alias Type </span><span class="c3 c0">field in flags.</span></p><h4 class="c67 c41" id="h.2mn7vak"><span class="c72 c37">3.1.17.6 Data</span></h4><p class="c5 c194"><span class="c0">The </span><span class="c0 c53">Data </span><span class="c3 c0">field corresponds to the payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><h3 class="c318 c139 c94" id="h.11si5id"><span>3.1.18 </span><span class="c25">PUBACK &ndash; Publish Acknowledgement</span></h3><a id="t.7eb90a5d883b41c8b4586be4ebdd33023b83b125"></a><a id="t.30"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id MSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id LSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">Reason Code</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 31: PUBACK packet</span></p><p class="c2"><span class="c0">A PUBACK packet is the response to a PUBLISH packet with QoS 1. It can also be sent as response to a PUBLISH packet of </span><span class="c0">any QoS</span><sup><a href="#cmnt45" id="cmnt_ref45">[as]</a></sup><sup><a href="#cmnt46" id="cmnt_ref46">[at]</a></sup><span class="c0">&nbsp;(</span><span class="c0 c53">with the exception of QoS -1, or Publish Out Of Band</span><span class="c0">) in case of an error; the error reason is then indicated in the </span><span class="c0 c53">Reason Code </span><span class="c3 c0">field.</span></p><h4 class="c67 c41" id="h.3ls5o66"><span class="c72 c37">3.1.18.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.20xfydz"><span class="c72 c37">3.1.18.2 Packet Id</span></h4><p class="c65 c41"><span class="c3 c0">Same value as the one contained in the corresponding PUBLISH packet.</span></p><h4 class="c67 c41" id="h.4kx3h1s"><span class="c72 c37">3.1.18.3 Reason Code</span></h4><p class="c65 c41"><span class="c3 c0">Byte 5 in the PUBACK packet holds the Reason code in response to the PUBLISH packet. The Client or Server sending the PUBACK packet MUST use one of the PUBACK Reason Codes</span></p><a id="t.32247512cbf0ff65e8308f7489f7bba41e4d4af7"></a><a id="t.31"></a><table class="c292 c194"><tr class="c179"><td class="c33 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Dec</span></p></td><td class="c21 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Hex</span></p></td><td class="c114 c17" colspan="1" rowspan="1"><p class="c2 c408"><span class="c3 c37">Reason Code Name</span></p></td><td class="c17 c301" colspan="1" rowspan="1"><p class="c54 c195"><span class="c3 c37">Description</span></p><sup><a href="#cmnt47" id="cmnt_ref47">[au]</a></sup></td></tr><tr class="c179"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">0</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x00</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c24"><span class="c3 c0">Success</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c62"><span class="c3 c0">Publish to gateway/server was successful</span></p><sup><a href="#cmnt48" id="cmnt_ref48">[av]</a></sup></td></tr><tr class="c179"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">1</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x01</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c390"><span class="c3 c0">Congestion</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c104 c195"><span class="c3 c0">The gateway/server notification that it is experiencing congestion &nbsp;</span></p><sup><a href="#cmnt49" id="cmnt_ref49">[aw]</a></sup></td></tr><tr class="c179"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">2</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x02</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c298"><span class="c0">Invalid Topic Alias</span><sup><a href="#cmnt50" id="cmnt_ref50">[ax]</a></sup></p></td><td class="c301" colspan="1" rowspan="1"><p class="c104 c195"><span class="c0 c64">The gateway/server has received a PUBLISH packet containing a Topic Alias which has a value that </span><span class="c0">is not</span><span class="c0 c64">&nbsp;recognized. </span></p><sup><a href="#cmnt51" id="cmnt_ref51">[ay]</a></sup></td></tr><tr class="c179"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">3</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x03</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c298"><span class="c3 c0">Not supported</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c2 c94"><span class="c3 c0">The client/server does not accept or support the QoS or other properties of the PUBLISH.</span></p><sup><a href="#cmnt52" id="cmnt_ref52">[az]</a></sup></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 32: PUBACK Reason Code</span></p><p class="c139 c41 c51 c356"><span class="c3 c0"></span></p><h3 class="c434 c139 c41 c94" id="h.302dr9l"><span>3.1.19 </span><span class="c25">PUBREC (QoS 2 delivery part 1)</span></h3><a id="t.0840dbce4f43ecbc9b37dd9e8370d5c09b7e6334"></a><a id="t.32"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Id MSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 4</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">Packet Id LSB</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 33: PUBREC packet</span></p><p class="c2"><span class="c3 c0">A PUBREC packet is the response to a PUBLISH packet with QoS 2. It is the second packet of the QoS 2 protocol exchange.</span></p><h4 class="c67 c41" id="h.1f7o1he"><span class="c72 c37">3.1.19.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 2.1 for a detailed description.</span></p><h4 class="c67 c41" id="h.3z7bk57"><span class="c72 c37">3.1.19.2 Packet Id</span></h4><p class="c65 c41"><span class="c3 c0">Same value as the one contained in the corresponding PUBLISH packet.</span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><h3 class="c139 c41 c94 c434" id="h.2eclud0"><span>3.1.20 </span><span class="c25">PUBREL (QoS 2 delivery part 2)</span></h3><a id="t.0840dbce4f43ecbc9b37dd9e8370d5c09b7e6334"></a><a id="t.33"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Id MSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 4</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">Packet Id LSB</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 34: PUBREL packet</span></p><p class="c2"><span class="c3 c0">A PUBREL packet is the response to a PUBREC packet. It is the third packet of the QoS 2 protocol exchange.</span></p><h4 class="c67 c41" id="h.thw4kt"><span class="c72 c37">3.1.20.1 Length &amp; Packet Type</span></h4><p class="c65 c41 c57"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 2.1 for a detailed description.</span></p><h4 class="c67 c41" id="h.3dhjn8m"><span class="c72 c37">3.1.20.2 Packet Id</span></h4><p class="c65 c41 c284"><span class="c3 c0">Same value as the one contained in the corresponding PUBLISH packet.</span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><h3 class="c434 c139 c41 c94" id="h.1smtxgf"><span>3.1.21 </span><span class="c25">PUBCOMP (QoS 2 delivery part 3)</span></h3><a id="t.0840dbce4f43ecbc9b37dd9e8370d5c09b7e6334"></a><a id="t.34"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Id MSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 4</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">Packet Id LSB</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 35: PUBCOMP packet</span></p><p class="c2"><span class="c3 c0">The PUBCOMP packet is the response to a PUBREL packet. It is the fourth and final packet of the QoS 2 protocol exchange.</span></p><h4 class="c67 c41" id="h.4cmhg48"><span class="c72 c37">3.1.21.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.2rrrqc1"><span class="c72 c37">3.1.21.2 Packet Identifier</span></h4><p class="c65 c41"><span class="c3 c0">Same value as the one contained in the corresponding PUBLISH packet.</span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><h3 class="c469 c139 c94" id="h.16x20ju"><span>3.1.22 </span><span class="c25">SUBSCRIBE </span></h3><a id="t.9644b4aa3c4d9fc58ff444ea63e3e36e3de832de"></a><a id="t.35"></a><table class="c120"><tr class="c9"><td class="c18 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c140 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c17 c490" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c102 c17" colspan="3" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c264 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c367 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c169 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c169 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c309 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c32" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c32" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c51"><td class="c18" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c32 c160" colspan="13" rowspan="1"><p class="c38"><span class="c1 c37">SUBSCRIBE FLAGS</span></p></td></tr><tr class="c51"><td class="c138" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">No Local</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c440" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">QoS</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c89" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Retain as published</span></p></td><td class="c540" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Retain Handling</span></p></td><td class="c523" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Topic Alias Type</span></p><p class="c2 c51"><span class="c1 c0"></span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c138" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c433" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c199" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c89" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c367" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c342" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c32" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id MSB</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c32" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id LSB</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c537" colspan="4" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias MSB</span></p></td><td class="c391" colspan="4" rowspan="2"><p class="c38"><span class="c3 c37">OR</span></p></td><td class="c500" colspan="5" rowspan="2"><p class="c38"><span class="c3 c0">Topic Filter</span></p><p class="c38"><span class="c3 c0">Byte 6 &hellip; N</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7</span></p></td><td class="c539" colspan="4" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias LSB</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 36: SUBSCRIBE packet</span></p><p class="c2 c41 c194"><span class="c3 c0">The SUBSCRIBE packet is used by a client to subscribe to a certain topic name.</span></p><h4 class="c67" id="h.3qwpj7n"><span class="c72 c37">3.1.22.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67" id="h.261ztfg"><span class="c72 c37">3.1.22.2 SUBSCRIBE Flags</span></h4><p class="c2 c41"><span class="c3 c0">The SUBSCRIBE Flags field is 1-byte and contains the following flags:</span></p><ul class="c113 lst-kix_list_11-0 start"><li class="c147 c81 c41 li-bullet-3"><span class="c3 c37">QoS</span><span class="c3 c0">: maximum QoS. This gives the maximum QoS level at which the Server can send Application Messages to the Client. It is a Protocol Error if the Maximum QoS field has the value 3.</span></li><li class="c147 c81 c41 li-bullet-8"><span class="c3 c37">No Local</span><span class="c3 c0">: if the value is 1, Application Messages MUST NOT be forwarded to a Virtual Connection with a ClientID equal to the ClientID of the publishing </span><span class="c0">Virtual C</span><span class="c3 c0">onnection</span></li><li class="c147 c81 c41 li-bullet-3"><span class="c3 c37">Retain as published</span><span class="c3 c0">: If 1, Application Messages forwarded using this subscription keep the RETAIN flag they were published with. If 0, Application Messages forwarded using this subscription have the RETAIN flag set to 0. Retained messages sent when the subscription is established have the RETAIN flag set to 1.</span></li><li class="c81 c41 c147 li-bullet-3"><span class="c3 c37">Retain handling</span><span class="c3 c0">: This option specifies whether retained messages are sent when the subscription is established. This does not affect the sending of retained messages at any point after the subscribe. If there are no retained messages matching the Topic Filter, all these values act the same. The values are:</span></li></ul><ul class="c113 lst-kix_list_11-1 start"><li class="c348 c81 c41 li-bullet-0"><span class="c3 c0">0: Send retained messages at the time of the subscribe</span></li><li class="c348 c81 c41 li-bullet-3"><span class="c3 c0">1: Send retained messages at subscribe only if the subscription does not currently exist</span></li><li class="c81 c41 c348 li-bullet-3"><span class="c3 c0">2: Do not send retained messages at the time of the subscribe.</span></li></ul><p class="c147 c139 c41"><span class="c3 c0">It is a Protocol Error to send a Retain Handling value of 3.</span></p><ul class="c113 lst-kix_list_12-0"><li class="c372 c139 c41 c435 li-bullet-9"><span class="c3 c37">Topic Alias Type</span><span class="c3 c0">: indicates the type of Topic Alias or Topic Filter included in this packet. Refer to </span><span class="c88 c0"><a class="c11" href="#h.2zbgiuw">Table 10</a></span><span class="c3 c0">&nbsp;for the definition of the various types.</span></li></ul><h4 class="c67 c41" id="h.l7a3n9"><span class="c0">3.1.22.3 </span><span class="c72 c37">Packet Id</span></h4><p class="c65 c41"><span class="c3 c0">Should be coded such that it can be used to identify the corresponding SUBACK packet.</span></p><h4 class="c67 c41" id="h.356xmb2"><span class="c72 c37">3.1.22.4 Topic Alias or Topic Filter</span></h4><p class="c372 c139 c41"><span class="c0">Contains Fixed Length UTF-8 Encoded String topic filter, topic alias, or short topic name as indicated in the </span><span class="c0 c53">Topic Alias Type </span><span class="c3 c0">field in flags. Determines the topic names which this subscription is interested in.</span></p><h3 class="c318 c139 c94" id="h.1kc7wiv"><span>3.1.23 </span><span class="c25">SUBACK</span></h3><a id="t.30f102556a24e06a49f85cdfb515ea82aa5df940"></a><a id="t.36"></a><table class="c120"><tr class="c9"><td class="c17 c232" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c234 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c17 c514" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c230 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c173 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c17 c475" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c140 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c252 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c74 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c232" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c177" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c232" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c177" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c51"><td class="c232" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c177 c160" colspan="13" rowspan="1"><p class="c38"><span class="c1 c37">SUBACK FLAGS</span></p></td></tr><tr class="c51"><td class="c49" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c330" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Granted QoS</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c366" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c380" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c483" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Topic Alias Type</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td></tr><tr class="c9"><td class="c232" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c49" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c102" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c305" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c366" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c380" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c455" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c218" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td></tr><tr class="c9"><td class="c232" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c177" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias MSB</span></p></td></tr><tr class="c9"><td class="c232" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c177" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias LSB</span></p></td></tr><tr class="c9"><td class="c232" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c177" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id MSB</span></p></td></tr><tr class="c9"><td class="c232" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7</span></p></td><td class="c177" colspan="13" rowspan="1"><p class="c38"><span class="c3 c0">Packet Id LSB</span></p></td></tr><tr class="c9"><td class="c232" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 8</span></p></td><td class="c177" colspan="13" rowspan="1"><p class="c38 c94"><span class="c3 c0">Reason Code</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 37: SUBACK packet</span></p><p class="c2 c41 c184"><span class="c3 c0">The SUBACK packet is sent by a gateway to a client as an acknowledgment to the receipt and processing of a SUBSCRIBE packet.</span></p><h4 class="c67 c41" id="h.44bvf6o"><span class="c72 c37">3.1.23.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.2jh5peh"><span class="c72 c37">3.1.23.2 Flags</span></h4><p class="c2 c41"><span class="c3 c0">The SUBACK Flags field is 1-byte located in Byte 3 position of the SUBACK control packet. The SUBACK Flags includes the following flags:</span></p><ul class="c113 lst-kix_list_8-0"><li class="c43 li-bullet-10"><span class="c3 c37">Topic Alias Type</span><span class="c3 c0">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. Refer to </span><span class="c88 c0"><a class="c11" href="#h.2zbgiuw">Table 10</a></span><span class="c3 c0">&nbsp;for the definition of the various topic types.</span></li><li class="c43 li-bullet-6"><span class="c3 c37">Granted QoS</span><span class="c3 c0">: This is a 2-bit field in Bit 5 and 6 which notes the Quality of Service that was granted for the Subscription </span></li></ul><h4 class="c67 c41" id="h.ymfzma"><span class="c0">3.1.23.3 </span><span class="c72 c37">Topic Alias</span></h4><p class="c139 c41 c464"><span class="c3 c0">In case of &ldquo;accepted&rdquo; the value that will be used as topic alias by the gateway when sending PUBLISH packets to the client (not relevant in case of subscriptions to a short topic name or to a topic name which contains wildcard characters)</span></p><h4 class="c67 c41" id="h.3im3ia3"><span class="c72 c37">3.1.23.4 Packet Identifier</span></h4><p class="c198 c139 c41"><span class="c3 c0">Same value as the one contained in the corresponding SUBSCRIBE packet.</span></p><h4 class="c67 c41" id="h.1xrdshw"><span class="c72 c37">3.1.23.5 Reason Code</span></h4><p class="c65 c41"><span class="c3 c0">Byte 8 in the SUBACK packet holds the Reason code in response to SUBSCRIBE packet. The Client or Server sending the SUBACK packet MUST use one of the SUBACK Reason Codes</span></p><a id="t.f9689efa235635047bbe69e218cd90d9923b175a"></a><a id="t.37"></a><table class="c292 c194"><tr class="c193"><td class="c33 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Dec</span></p></td><td class="c21 c17" colspan="1" rowspan="1"><p class="c104 c219"><span class="c3 c37">Hex</span></p></td><td class="c114 c17" colspan="1" rowspan="1"><p class="c2 c408"><span class="c3 c37">Reason Code Name</span></p></td><td class="c301 c17" colspan="1" rowspan="1"><p class="c54 c195"><span class="c3 c37">Description</span></p></td></tr><tr class="c193"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">0</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x00</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c24"><span class="c3 c0">Success</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c62"><span class="c3 c0">SUBSCRIBE to gateway/server was successful</span></p></td></tr><tr class="c193"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">1</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x01</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c390"><span class="c3 c0">Congestion</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c104 c195"><span class="c3 c0">The gateway/server notification that it is experiencing congestion &nbsp;</span></p></td></tr><tr class="c193"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">2</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x02</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c298"><span class="c0">Invalid Topic Alias</span><sup><a href="#cmnt53" id="cmnt_ref53">[ba]</a></sup></p></td><td class="c301" colspan="1" rowspan="1"><p class="c104 c195"><span class="c0 c64">The gateway/server has received a SUBSCRIBE packet containing a Topic Alias </span><span class="c0">which has</span><span class="c0 c64">&nbsp;a value that is not recognized.</span></p></td></tr><tr class="c193"><td class="c33" colspan="1" rowspan="1"><p class="c104"><span class="c3 c0">3</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c104 c216"><span class="c3 c0">0x03</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c298"><span class="c3 c0">Not supported</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c2 c94"><span class="c3 c0">The client/server does not accept or support the properties provided with SUBSCRIBE packet.</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 38: SUBACK Reason Code</span></p><p class="c356 c139 c41 c51"><span class="c3 c0"></span></p><h3 class="c469 c139 c94" id="h.4hr1b5p"><span>3.1.24 </span><span class="c25">UNSUBSCRIBE</span></h3><a id="t.c79a988600460fbc9398d38920cddb98d4129284"></a><a id="t.38"></a><table class="c120"><tr class="c9"><td class="c319 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c17 c416" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c17 c382" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c17 c530" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c17 c63" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c17 c536" colspan="4" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c319 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c344 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c17 c511" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c319" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c378" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c319" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c378" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c51"><td class="c319" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c378 c160" colspan="14" rowspan="1"><p class="c38"><span class="c1 c37">UNSUBSCRIBE FLAGS</span></p></td></tr><tr class="c51"><td class="c346" colspan="2" rowspan="1"><p class="c2"><span class="c1 c0">Reserved</span></p></td><td class="c521" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c234" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c472" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c319" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c202" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Topic Alias Type</span></p><p class="c2 c51"><span class="c1 c0"></span></p></td></tr><tr class="c9"><td class="c319" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c346" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c250" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c234" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c472" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c319" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c462" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td></tr><tr class="c9"><td class="c319" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c378" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Packet Identifier MSB</span></p></td></tr><tr class="c9"><td class="c319" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c378" colspan="14" rowspan="1"><p class="c38"><span class="c3 c0">Packet Identifier LSB</span></p></td></tr><tr class="c9"><td class="c319" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c445" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias MSB</span></p></td><td class="c459" colspan="1" rowspan="2"><p class="c38"><span class="c3 c37">OR</span></p></td><td class="c314" colspan="5" rowspan="2"><p class="c38"><span class="c3 c0">Topic Filter</span></p><p class="c38"><span class="c3 c0">Byte 6 &hellip; N</span></p></td></tr><tr class="c9"><td class="c319" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7</span></p></td><td class="c512" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Topic Alias LSB</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 39: UNSUBSCRIBE packet</span></p><p class="c423 c139 c195 c194" id="h.2wwbldi"><span class="c3 c0">An UNSUBSCRIBE packet is sent by the client to the GW to unsubscribe from named topics.</span></p><h4 class="c67" id="h.1c1lvlb"><span class="c72 c37">3.1.24.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.3w19e94"><span class="c72 c37">3.1.24.2 UNSUBSCRIBE Flags</span></h4><p class="c2 c41"><span class="c3 c0">For The UNSUBSCRIBE Flags is 1 byte field in Byte position 3 of the UNSUBSCRIBE packet. &nbsp;</span></p><p class="c2 c41"><span class="c3 c0">The UNSUBSCRIBE Flags field includes the following flag:</span></p><ul class="c113 lst-kix_list_19-0 start"><li class="c2 c41 c255 c57 li-bullet-8"><span class="c3 c37">Topic Type.</span><span class="c3 c0">&nbsp;This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. Refer to </span><span class="c88 c0"><a class="c11" href="#h.2zbgiuw">Table 10</a></span><span class="c3 c0">&nbsp;for the definition of the various topic types.</span></li></ul><h4 class="c67 c41" id="h.2b6jogx"><span class="c0">3.1.24.3 </span><span class="c72 c37">Packet Identifier</span></h4><p class="c198 c139 c41"><span class="c3 c0">Should be coded such that it can be used to identify the corresponding SUBACK packet.</span></p><h4 class="c67 c41" id="h.qbtyoq"><span class="c72 c37">3.1.24.4 Topic Alias or Topic Filter</span></h4><p class="c139 c41 c417"><span class="c0">Contains Fixed Length UTF-8 Encoded String topic filter, topic alias, or short topic name as indicated in the </span><span class="c0 c53">Topic Alias Type </span><span class="c3 c0">field.</span></p><h3 class="c139 c41 c94 c401" id="h.3abhhcj"><span>3.1.25 </span><span class="c25">UNSUBACK</span></h3><a id="t.7eb90a5d883b41c8b4586be4ebdd33023b83b125"></a><a id="t.39"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Id MSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 4</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Id LSB</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 5</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">Reason Code</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 40: UNSUBACK packet</span></p><p class="c139 c41 c184 c398"><span class="c3 c0">An UNSUBACK packet is sent by a GW to acknowledge the receipt and processing of an UNSUBSCRIBE packet.</span></p><h4 class="c41 c67" id="h.1pgrrkc"><span class="c72 c37">3.1.25.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.49gfa85"><span class="c72 c37">3.1.25.2 Packet Identifier</span></h4><p class="c417 c139 c41"><span class="c3 c0">Same value as the one contained in the corresponding UNSUBSCRIBE packet.</span></p><h4 class="c67 c41" id="h.2olpkfy"><span class="c72 c37">3.1.25.3 Reason Code</span></h4><p class="c65 c41"><span class="c3 c0">Byte 5 in the UNSUBACK packet holds the Reason code in response to UNSUBCRIBE packet. The gateway/server sending the UNSUBACK packet MUST use one of the UNSUBACK Reason Codes</span></p><a id="t.fc86b08df85a6c905aa439d8ff6d4a52cab38510"></a><a id="t.40"></a><table class="c292 c194"><tr class="c179"><td class="c33 c17" colspan="1" rowspan="1"><p class="c54 c219"><span class="c3 c37">Dec</span></p></td><td class="c21 c17" colspan="1" rowspan="1"><p class="c54 c219"><span class="c3 c37">Hex</span></p></td><td class="c114 c17" colspan="1" rowspan="1"><p class="c38 c473"><span class="c3 c37">Reason Code Name</span></p></td><td class="c301 c17" colspan="1" rowspan="1"><p class="c54 c473"><span class="c3 c37">Description</span></p></td></tr><tr class="c179"><td class="c33 c208" colspan="1" rowspan="1"><p class="c54"><span class="c3 c0">0</span></p></td><td class="c21 c208" colspan="1" rowspan="1"><p class="c54 c473"><span class="c3 c0">0x00</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c24"><span class="c3 c0">Success</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c104 c257 c522"><span class="c3 c0">Processing of UNSUBSCRIBE was to gateway/server was successful</span></p></td></tr><tr class="c179"><td class="c33 c208" colspan="1" rowspan="1"><p class="c54"><span class="c3 c0">1</span></p></td><td class="c21 c208" colspan="1" rowspan="1"><p class="c54 c473"><span class="c3 c0">0x01</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c390"><span class="c3 c0">Congestion</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c104 c522"><span class="c3 c0">The gateway/server notification that it is experiencing congestion &nbsp;</span></p></td></tr><tr class="c179"><td class="c33 c208" colspan="1" rowspan="1"><p class="c54"><span class="c3 c0">2</span></p></td><td class="c21 c208" colspan="1" rowspan="1"><p class="c54 c473"><span class="c3 c0">0x02</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c104 c298"><span class="c0">Invalid Topic Alias</span><sup><a href="#cmnt54" id="cmnt_ref54">[bb]</a></sup></p></td><td class="c301" colspan="1" rowspan="1"><p class="c104 c522"><span class="c0 c64">The gateway/server has received an </span><span class="c0">UNSUBSCRIBE </span><span class="c0 c64">packet containing a Topic Alias which is has a value that is not considered valid </span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 41: UNSUBACK Reason Code</span></p><h3 class="c318 c139 c94" id="h.13qzunr"><span>3.1.26 </span><span class="c25">PINGREQ</span></h3><a id="t.63d901c2622dd48d6dd056e7f5413ab49e9a5a2a"></a><a id="t.41"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3 &hellip; N</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">Client Identifier (optional)</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 42: PINGREQ packet</span></p><p class="c2 c41 c184"><span class="c3 c0">As with MQTT, the PINGREQ packet is an &rdquo;are you alive&rdquo; packet that is sent from or received by a connected client.</span></p><h4 class="c67 c41" id="h.3nqndbk"><span class="c72 c37">3.1.26.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.22vxnjd"><span class="c72 c37">3.1.26.2 Client Identifier (optional)</span></h4><p class="c139 c41 c499"><span class="c3 c0">Contains the client identifier (client id); this field is optional and is included by a &ldquo;sleeping&rdquo; client when it goes to the &ldquo;awake&rdquo; state and is waiting for packets sent by the server/gateway.</span></p><p class="c2"><span class="c0 c45 c64">The Client Identifier MUST be a Fixed Length UTF-8 Encoded String</span><span class="c0 c64">.</span><span class="c3 c0 c45">&nbsp;</span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><h3 class="c318 c139 c41 c94" id="h.i17xr6"><span>3.1.27 </span><span class="c25">PINGRESP</span></h3><a id="t.77c101716da213d04723c1d7f751b6c58fd1faea"></a><a id="t.42"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">Messages Remaining (optional)</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 43: PINGRESP packet</span></p><p class="c182 c139 c41 c184"><span class="c3 c0">As with MQTT, a PINGRESP packet is the response to a PINGREQ packet and means &rdquo;yes I am alive&rdquo;. Keep Alive packets flow in either direction, sent either by a connected client or the gateway. it has only a header and no variable part.</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c5 c184"><span class="c3 c0">Moreover, a PINGRESP packet is sent by a gateway to inform a sleeping client that it has no more buffered packets for that client.</span></p><h4 class="c67 c41" id="h.320vgez"><span class="c72 c37">3.1.27.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.1h65qms"><span class="c72 c37">3.1.27.2 Messages Remaining</span></h4><p class="c5 c184"><span class="c3 c0">The number of messages left when a client is sent back to sleep. Optional &ndash; for use at the end of a client&#39;s awake period. &nbsp;Values can be:</span></p><a id="t.3867620a34edcba5d209aafd514593345605e6b5"></a><a id="t.43"></a><table class="c292 c184"><tr class="c267"><td class="c211 c17" colspan="1" rowspan="1"><p class="c259 c139"><span class="c3 c37">Allowed Values</span></p></td><td class="c306 c17" colspan="1" rowspan="1"><p class="c139 c259"><span class="c3 c37">Description</span></p></td></tr><tr class="c267"><td class="c211 c208" colspan="1" rowspan="1"><p class="c38 c394"><span class="c3 c0">0</span></p></td><td class="c306" colspan="1" rowspan="1"><p class="c2 c437"><span class="c3 c0">No messages remain in the queue</span></p></td></tr><tr class="c267"><td class="c211 c208" colspan="1" rowspan="1"><p class="c38 c394"><span class="c3 c0">1 &ndash; 254 (incl.)</span></p></td><td class="c306" colspan="1" rowspan="1"><p class="c2 c437"><span class="c3 c0">The number of messages remaining in the queue</span></p></td></tr><tr class="c267"><td class="c208 c211" colspan="1" rowspan="1"><p class="c38 c394"><span class="c3 c0">255 (0xFF)</span></p></td><td class="c306" colspan="1" rowspan="1"><p class="c2 c94 c437"><span class="c3 c0">An unspecified positive number of messages remain in the queue greater than 0.</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 44: &nbsp;Allowed PINGRESP continuation values</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h3 class="c318 c139 c94" id="h.415t9al"><span>3.1.28 </span><span class="c25">DISCONNECT</span></h3><a id="t.e9415417bec9d3d2ff89104c10bf65c5d32d8934"></a><a id="t.44"></a><table class="c120"><tr class="c9"><td class="c17 c73" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c17 c343" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c102 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c206 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c237 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c101 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c101 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c17 c411" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c17 c504" colspan="3" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c73" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c389" colspan="16" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c73" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c389" colspan="16" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c51"><td class="c73" colspan="1" rowspan="2"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c389 c160" colspan="16" rowspan="1"><p class="c38"><span class="c1 c37">DISCONNECT FLAGS</span></p></td></tr><tr class="c51"><td class="c515" colspan="8" rowspan="1"><p class="c38"><span class="c0 c53 c64 c265">Reserved</span></p></td><td class="c101" colspan="2" rowspan="1"><p class="c38"><span class="c265 c0 c53 c64">Reason Code Present</span></p><sup><a href="#cmnt55" id="cmnt_ref55">[bc]</a></sup></td><td class="c101" colspan="2" rowspan="1"><p class="c38"><span class="c265 c0 c53 c64">Session Expiry Interval Present</span></p><sup><a href="#cmnt56" id="cmnt_ref56">[bd]</a></sup></td><td class="c76" colspan="3" rowspan="1"><p class="c38"><span class="c265 c0 c53 c64">Reason String Present</span></p><sup><a href="#cmnt57" id="cmnt_ref57">[be]</a></sup></td><td class="c205" colspan="1" rowspan="1"><p class="c38"><span class="c28 c0">Retain</span></p><p class="c38"><span class="c28 c0">Registrations</span></p><sup><a href="#cmnt58" id="cmnt_ref58">[bf]</a></sup></td></tr><tr class="c9"><td class="c73" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c347" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c102" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c323" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c52" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">0</span></p></td><td class="c101" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">X</span></p><sup><a href="#cmnt59" id="cmnt_ref59">[bg]</a></sup></td><td class="c101" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">X</span></p><sup><a href="#cmnt60" id="cmnt_ref60">[bh]</a></sup></td><td class="c411" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">X</span></p><sup><a href="#cmnt61" id="cmnt_ref61">[bi]</a></sup></td><td class="c290" colspan="2" rowspan="1"><p class="c38"><span class="c3 c0">X</span></p><sup><a href="#cmnt62" id="cmnt_ref62">[bj]</a></sup></td></tr><tr class="c9"><td class="c73" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c389" colspan="16" rowspan="1"><p class="c38"><span class="c3 c0">Reason Code (optional)</span></p></td></tr><tr class="c9"><td class="c73" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5</span></p></td><td class="c389" colspan="16" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval MSB (optional)</span></p></td></tr><tr class="c9"><td class="c73" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 6</span></p></td><td class="c389" colspan="16" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval (optional)</span></p></td></tr><tr class="c9"><td class="c73" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 7</span></p></td><td class="c389" colspan="16" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval (optional)</span></p></td></tr><tr class="c9"><td class="c73" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 8</span></p></td><td class="c389" colspan="16" rowspan="1"><p class="c38"><span class="c3 c0">Session Expiry Interval LSB (optional)</span></p></td></tr><tr class="c9"><td class="c73" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 9 &hellip; N</span></p></td><td class="c389" colspan="16" rowspan="1"><p class="c38 c94"><span class="c3 c0">Reason String (optional)</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 45: DISCONNECT packet</span></p><p class="c322 c139 c41"><span class="c3 c0">As with MQTT, the DISCONNECT packet is sent by a client to indicate that it wants to close the Virtual connection. The gateway will acknowledge the receipt of that packet by returning a DISCONNECT to the client. A server or gateway may also send a DISCONNECT to a client, e.g. in case a gateway, due to an error, cannot map a received packet to a client. Upon receiving such a DISCONNECT packet, a client should try to setup the Virtual Connection again by sending a CONNECT packet to the gateway or server.</span></p><p class="c139 c41 c51 c322"><span class="c3 c0"></span></p><p class="c5"><span class="c0">A DISCONNECT packet with a </span><span class="c0 c53">Session Expiry Interval </span><span class="c3 c0">field is sent by a client when it wants to go to the &ldquo;asleep&rdquo; state. The receipt of this packet is also acknowledged by the gateway by means of a DISCONNECT packet.</span></p><h4 class="c67 c41" id="h.2gb3jie"><span class="c72 c37">3.1.28.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67" id="h.vgdtq7"><span class="c72 c37">3.1.28.2 Disconnect Flags</span></h4><p class="c2"><span class="c0 c64">The Disconnect Flags is 1 byte field located at byte </span><span class="c0">3</span><span class="c3 c0">&nbsp;which contains parameters specifying the behavior of the MQTT-SN sleep on the gateway. </span></p><p class="c2 c41"><span class="c0">The </span><span class="c0 c64">Disconnect </span><span class="c0 c53">Flags </span><span class="c3 c0">field includes the following flags:</span></p><p class="c2 c41 c51"><span class="c3 c0"></span></p><ul class="c113 lst-kix_list_10-0"><li class="c81 c41 c57 c182 li-bullet-8"><span class="c3 c37">Reason Code Present:</span><span class="c3 c0">&nbsp;Stored in Bit 3 Does the reason code exist on the packet</span></li><li class="c56 c81 c41 c57 li-bullet-8"><span class="c3 c37">Session Expiry Interval Present:</span><span class="c3 c0">&nbsp;Stored in Bit 2, Does the session expiry interval field exist.</span></li><li class="c56 c81 c41 c57 li-bullet-8"><span class="c3 c37">Reason String Present:</span><span class="c3 c0">&nbsp;Stored in Bit 1, Does the reason string field exist</span></li><li class="c56 c81 c41 c57 li-bullet-8"><span class="c3 c37">Retain Registrations:</span><span class="c3 c0">&nbsp;Stored in Bit 0 and specifies whether registrations should be retained by the gateway during the sleep state. &ldquo;0&rdquo; indicates registrations should be removed during the sleeping period and renegotiated when AWAKE or ACTIVE. &ldquo;1&rdquo; indicates registrations should be retained during the SLEEP period, and therefore not renegotiated when AWAKE or ACTIVE.</span></li></ul><p class="c311 c139 c41 c57 c51"><span class="c3 c0"></span></p><p class="c2 c41 c196 c51"><span class="c3 c0"></span></p><p class="c2 c41"><span class="c0 c45">The Gateway MUST validate that the reserved flags in the DISCONNECT packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><p class="c65 c41 c51"><span class="c3 c0"></span></p><h4 class="c67 c41" id="h.3fg1ce0"><span class="c72 c37">3.1.28.3 Reason Code</span></h4><p class="c65 c41"><span class="c3 c0">The Reason Code for the DISCONNECT control packet is optional. &nbsp;If provided, Byte 3 in the DISCONNECT control packet holds the Reason Code of the disconnection.</span></p><a id="t.d5cc5d1ce7521559eb53c55c2ddf2b0b361d67c0"></a><a id="t.45"></a><table class="c292 c194"><tr class="c187"><td class="c16" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Dec</span></p></td><td class="c59 c17" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Hex</span></p></td><td class="c42 c17" colspan="1" rowspan="1"><p class="c54 c41"><span class="c3 c0">Reason Code Name</span></p></td><td class="c78 c17" colspan="1" rowspan="1"><p class="c54 c41"><span class="c3 c0">Description</span></p></td></tr><tr class="c187"><td class="c158 c208" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0</span></p></td><td class="c59 c208" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x00</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Success</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41 c257"><span class="c3 c0">The normal disconnection was made; Disconnect request processed successfully.</span></p></td></tr><tr class="c187"><td class="c158 c208" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">5</span></p></td><td class="c59 c208" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x05</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">No Virtual Connection</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">There is no active Virtual Connection for disconnection</span></p></td></tr><tr class="c187"><td class="c158 c208" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">149</span></p></td><td class="c59 c208" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x95</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Packet too large</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Packet sent whose size exceeds the maximum packet size</span></p></td></tr><tr class="c187"><td class="c158 c208" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">153</span></p></td><td class="c59 c208" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x99</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Payload format invalid</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c0">Payload is not of the format indicated.</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 46: DISCONNECT Reason Code</span></p><h4 class="c67 c41" id="h.1ulbmlt"><span class="c0">3.1.28.4 </span><span class="c72 c37">Session Expiry Interval</span></h4><p class="c2"><span class="c0">The Session Expiry Interval is a four-byte integer time interval measured in seconds. If the Session Expiry Interval is set to 0 or omitted, the Session is transitioned to the &ldquo;</span><span class="c37 c53">disconnected</span><span class="c0">&rdquo; state. When the value of this field is greater than zero, it is deemed to be sent by a client that wants to transition to the &ldquo;</span><span class="c37 c53">asleep</span><span class="c0">&rdquo; state, see Section 3.19 for further details. </span><span class="c0">At this point the keep alive timer becomes obsolete until the device issues a new CONNECT.</span></p><h4 class="c67 c41" id="h.4ekz59m"><span class="c72 c37">3.1.28.5 Reason String</span></h4><p class="c2"><span class="c3 c0">Fixed Length UTF-8 Encoded String representing a clear text description of disconnection.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h3 class="c318 c139 c94" id="h.2tq9fhf"><span>3.1.29 </span><span class="c25">WILLTOPICUPD</span></h3><a id="t.69eea9980b4797453c1c3e3af22b9cbc3796062e"></a><a id="t.46"></a><table class="c120"><tr class="c9"><td class="c17 c18" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c17 c234" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c17 c280" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c102 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c178 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c17 c447" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c309 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c17 c105" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c146 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c32" colspan="12" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c32" colspan="12" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c51"><td class="c18" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c32 c160" colspan="12" rowspan="1"><p class="c38"><span class="c1 c37">WILLTOPICUPD FLAGS</span></p></td></tr><tr class="c51"><td class="c73" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c528" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Will QoS</span></p><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c441" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Retain</span></p></td><td class="c73" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c73" colspan="2" rowspan="1"><p class="c38"><span class="c0 c1">Reserved</span></p></td><td class="c34" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td><td class="c146" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">Reserved</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c73" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c52" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c199" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c441" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c73" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c73" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c34" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td><td class="c146" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">0</span></p></td></tr><tr class="c9"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4.. N</span></p></td><td class="c32" colspan="12" rowspan="1"><p class="c38 c94"><span class="c3 c0">Will Topic</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 47: WILLTOPICUPD packet</span></p><p class="c2 c41 c184"><span class="c3 c0">The WILLTOPICUPD packet is sent by a client to update its Will topic name stored in the GW/server.</span></p><h4 class="c67 c41" id="h.18vjpp8"><span class="c0">3.1.29.1 </span><span class="c0">Length &amp; </span><span class="c72 c37">Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.3sv78d1"><span class="c72 c37">3.1.29.2 Flags</span></h4><p class="c148 c139 c41"><span class="c0 c64">The </span><span class="c0">WILLTOPICUPD </span><span class="c0 c64">Flags is 1 byte field in Byte 3 position of the packet specifying the properties of the </span><span class="c0">WILLTOPICUPD</span><span class="c0 c64">. </span></p><p class="c2 c41"><span class="c0">The WILLTOPICUPD Flags</span><span class="c0 c53">&nbsp;</span><span class="c3 c0">field includes the following flags:</span></p><ul class="c113 lst-kix_list_10-0"><li class="c81 c41 c57 c148 li-bullet-8"><span class="c3 c37">Will QoS</span><span class="c3 c0">: Stored in Bit 5 and 6, these two bits specify the QoS level to be used.</span></li></ul><h4 class="c67 c41" id="h.280hiku"><span class="c0">3.1.29.3 </span><span class="c72 c37">Will Topic</span></h4><p class="c5"><span class="c3 c0">Contains the Will topic name.An empty WILLTOPICUPD packet is a WILLTOPICUPD packet without Flags and WillTopic field (i.e. it is exactly 2 bytes long). It is used by a client to delete its Will topic and Will message stored in the GW/server.</span></p><h3 class="c139 c94 c318" id="h.n5rssn"><span>3.1.30 </span><span class="c25">WILLMSGUPD</span></h3><a id="t.93f6816958d49b05d03b0eb47815013354eafda7"></a><a id="t.47"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3 .. N</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">Will Message</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 48: WILLMSGUPD packet</span></p><p class="c2 c41"><span class="c3 c0">The WILLMSGUPD packet is sent by a client to update its Will packet stored in the GW/server.</span></p><h4 class="c67 c41" id="h.375fbgg"><span class="c72 c37">3.1.30.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.1maplo9"><span class="c72 c37">3.1.30.2 Will Message</span></h4><p class="c139 c41 c541"><span class="c3 c0">Contains the Will message.</span></p><h3 class="c318 c139 c41 c94" id="h.46ad4c2"><span>3.1.31 </span><span class="c25">WILLTOPICRESP</span></h3><a id="t.a22b07f1ebcedb26b9246d94aa9f09502c640413"></a><a id="t.48"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c17 c176" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">Reason Code</span></p></td></tr></table><p class="c68" id="h.2lfnejv"><span class="c129 c77 c64">Table 49: WILLTOPICRESP packet</span></p><p class="c2 c41 c184"><span class="c3 c0">The WILLTOPICRESP packet is sent by a GW to acknowledge the receipt and processing of an WILLTOPICUPD packet.</span></p><h4 class="c67 c41" id="h.10kxoro"><span class="c72 c37">3.1.31.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">Uses packet header format 1. Please refer to section 2.1 for a detailed description.</span></p><h4 class="c67 c41" id="h.3kkl7fh"><span class="c72 c37">3.1.31.2 Reason Code</span></h4><p class="c2"><span class="c3 c0">Byte 3 in the WILLTOPICRESP control packet contains the Reason Code returned from the processing of the WILLTOPICUPD packet.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><a id="t.ba3e44da8ddd2ee709bca954c5733fc7952b2ff0"></a><a id="t.49"></a><table class="c292 c194"><tr class="c134"><td class="c16" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c37">Dec</span></p></td><td class="c59 c17" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c37">Hex</span></p></td><td class="c42 c17" colspan="1" rowspan="1"><p class="c54 c41"><span class="c3 c37">Reason Code name</span></p></td><td class="c78 c17" colspan="1" rowspan="1"><p class="c54 c41"><span class="c3 c37">Description</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x00</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Success</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41 c257"><span class="c3 c0">The Will Topic update request was received successfully.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">1</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x01</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Congestion</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">There is network or server congestion in receiving Will Topic response</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">2</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x02</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c0">Invalid topic alias</span><sup><a href="#cmnt63" id="cmnt_ref63">[bk]</a></sup><sup><a href="#cmnt64" id="cmnt_ref64">[bl]</a></sup></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">The Topic name alias is not accepted by the Server.</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">3</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x03</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Not supported</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c0">The server does not accept or support the properties provided with the WILLTOPICRESP packet.</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 50: WILLTOPICRESP Reason Code</span></p><p class="c139 c41 c51 c404"><span class="c3 c0"></span></p><h3 class="c139 c41 c94 c469" id="h.1zpvhna"><span>3.1.32 </span><span class="c25">WILLMSGRESP</span></h3><a id="t.a22b07f1ebcedb26b9246d94aa9f09502c640413"></a><a id="t.50"></a><table class="c120"><tr class="c9"><td class="c71 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">Bit</span></p></td><td class="c176 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">7</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">6</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">5</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">4</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">3</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">2</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">1</span></p></td><td class="c13 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 1</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 2</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c71" colspan="1" rowspan="1"><p class="c2 c41"><span class="c3 c0">Byte 3</span></p></td><td class="c82" colspan="8" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">Reason Code</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 51: WILLMSGRESP</span></p><p class="c38 c51"><span class="c3 c0"></span></p><p class="c2 c41 c194"><span class="c3 c0">The WILLMSGRESP packet is sent by a GW to acknowledge the receipt and processing of an WILLMSGUPD packet.</span></p><h4 class="c67 c41" id="h.4jpj0b3"><span class="c72 c37">3.1.32.1 Length &amp; Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.2yutaiw"><span class="c72 c37">3.1.32.2 Reason Code</span></h4><p class="c2"><span class="c3 c0">Byte 3 in the WILLMSGRESP control packet contains the Reason Code returned from processing of the WILLMSGUPD control packet. </span></p><a id="t.9bc14c0469f55adacd7e0515018d4191f6518935"></a><a id="t.51"></a><table class="c292 c194"><tr class="c9"><td class="c16" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Dec</span></p></td><td class="c59 c17" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Hex</span></p></td><td class="c42 c17" colspan="1" rowspan="1"><p class="c54 c41"><span class="c3 c0">Reason Code name</span></p></td><td class="c78 c17" colspan="1" rowspan="1"><p class="c41 c54"><span class="c3 c0">Description</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x00</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Success</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41 c257"><span class="c3 c0">The Will Message update was accepted and processed successfully. </span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">1</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c41 c104"><span class="c3 c0">0x01</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Congestion</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">There is network or server congestion in receiving the Will Message update packet. </span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">2</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x02</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c0">Invalid topic alias</span><sup><a href="#cmnt65" id="cmnt_ref65">[bm]</a></sup></p></td><td class="c78" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">The Will Topic name alias is not accepted by the Server</span></p></td></tr><tr class="c134"><td class="c158" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">3</span></p></td><td class="c59" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">0x03</span></p></td><td class="c42" colspan="1" rowspan="1"><p class="c104 c41"><span class="c3 c0">Not supported</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c61 c41"><span class="c3 c0">The Server does not accept or support the properties provided with WILLMSGUPD packet.</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 52: WILLMSGRESP Reason Code</span></p><p class="c68 c51"><span class="c129 c77 c64"></span></p><p class="c68 c51"><span class="c77 c64 c129"></span></p><h3 class="c67" id="h.1e03kqp"><span>3.1.33 </span><span class="c25">Forwarder Encapsulation</span></h3><p class="c104 c195 c194 c51"><span class="c3 c0"></span></p><a id="t.28f24e07fdeed09f0bb05f0e75fc74586dfa0734"></a><a id="t.52"></a><table class="c120"><tr class="c9"><td class="c442 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c17 c479" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c75 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c190 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c171 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c171 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c171 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c171 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c171 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c442" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c317" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c442" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c317" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c9"><td class="c442" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c317" colspan="8" rowspan="1"><p class="c38"><span class="c3 c0">Ctrl</span></p></td></tr><tr class="c9"><td class="c442" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4 .. N</span></p></td><td class="c317" colspan="8" rowspan="1"><p class="c38"><span class="c0">Wireless Node Id</span><sup><a href="#cmnt66" id="cmnt_ref66">[bn]</a></sup><sup><a href="#cmnt67" id="cmnt_ref67">[bo]</a></sup><sup><a href="#cmnt68" id="cmnt_ref68">[bp]</a></sup></p></td></tr><tr class="c9"><td class="c442" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte (N + 1 ,,, M)</span></p></td><td class="c317" colspan="8" rowspan="1"><p class="c38 c94"><span class="c3 c0">MQTT SN packet</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 53: Format of an encapsulated MQTT-SN frame</span></p><p class="c104 c41 c194"><span class="c3 c0">As detailed in Section 4, MQTT-SN clients can also access a GW via a forwarder in case the GW is not directly attached to their WSNs. The forwarder simply encapsulates the MQTT-SN frames it receives on the wireless side and forwards them unchanged to the GW; in the opposite direction, it decapsulates the frames it receives from the gateway and sends them to the clients, unchanged too.</span></p><h4 class="c67 c41" id="h.3xzr3ei"><span class="c72 c37">3.1.33.1 Length</span></h4><p class="c65 c41"><span class="c3 c0">1-byte long, specifies the number of bytes up to the end of the &ldquo;Wireless Node Id&rdquo; field (incl. the Length byte itself)</span></p><h4 class="c67 c41" id="h.2d51dmb"><span class="c72 c37">3.1.33.2 Packet Type</span></h4><p class="c65 c41"><span class="c3 c0">Coded &ldquo;0xFE&rdquo;, see Table 6</span></p><h4 class="c67 c41" id="h.sabnu4"><span class="c72 c37">3.1.33.3 Ctrl</span></h4><p class="c65 c41"><span class="c3 c0">The Ctrl byte contains control information exchanged between the GW and the forwarder. </span></p><a id="t.864eaf7f37c04e687eb034f893aa40694e9d6402"></a><a id="t.53"></a><table class="c120"><tr class="c9"><td class="c230 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c37">Bit</span></p></td><td class="c17 c480" colspan="1" rowspan="1"><p class="c38 c41"><span class="c37">7</span></p></td><td class="c191 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c37">6</span></p></td><td class="c363 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c37">5</span></p></td><td class="c347 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c37">4</span></p></td><td class="c63 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c37">3</span></p></td><td class="c367 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c37">2</span></p></td><td class="c367 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c37">1</span></p></td><td class="c278 c17" colspan="1" rowspan="1"><p class="c38 c41"><span class="c37">0</span></p></td></tr><tr class="c449"><td class="c230" colspan="1" rowspan="1"><p class="c2 c41 c51"><span class="c3 c0"></span></p></td><td class="c501" colspan="6" rowspan="1"><p class="c38 c41"><span class="c3 c0">Reserved</span></p></td><td class="c282" colspan="2" rowspan="1"><p class="c38 c41"><span class="c1 c0">Radius</span></p><p class="c38 c41 c51"><span class="c3 c0"></span></p></td></tr><tr class="c9"><td class="c230" colspan="1" rowspan="1"><p class="c2 c41 c51"><span class="c3 c0"></span></p></td><td class="c480" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c0">0</span></p></td><td class="c191" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c0">0</span></p></td><td class="c363" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c0">0</span></p></td><td class="c347" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c0">0</span></p></td><td class="c63" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c0">0</span></p></td><td class="c367" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c0">0</span></p></td><td class="c367" colspan="1" rowspan="1"><p class="c38 c41"><span class="c3 c0">X</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c38 c41 c94"><span class="c3 c0">X</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 54: Format of the ctrl byte</span></p><h4 class="c67 c41" id="h.3c9z6hx"><span class="c0">3.1.33.4 </span><span class="c72 c37">Radius</span></h4><p class="c2 c41"><span class="c0">Broadcast </span><span class="c3 c0">radius (only relevant in direction GW to forwarder)</span></p><h4 class="c67 c41" id="h.1rf9gpq"><span class="c72 c37">3.1.33.5 Wireless Node Id</span></h4><p class="c41 c65"><span class="c3 c0">Identifies the wireless node which has sent or should receive the encapsulated MQTT-SN packet. The mapping between this Id and the address of the wireless node is implemented by the forwarder, if needed.</span></p><h4 class="c67 c41" id="h.4bewzdj"><span class="c72 c37">3.1.33.6 MQTT SN Packet</span></h4><p class="c198 c139 c41"><span class="c3 c0">The MQTT-SN packet, encoded according to the packet type.</span></p><h3 class="c67" id="h.15cqrsoyxc87"><span>3.1.34 </span><span class="c25">PROTECTION</span></h3><h3 class="c318 c139 c94 c350 c496" id="h.efvs1al4eeri"><span class="c25"></span></h3><a id="t.d34b4d2fcfb755f8d28e621dbbf9e179cab196e7"></a><a id="t.54"></a><table class="c120"><tr class="c9"><td class="c141 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Bit</span></p></td><td class="c101 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">7</span></p></td><td class="c17 c323" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">6</span></p></td><td class="c206 c17" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">5</span></p></td><td class="c245 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">4</span></p></td><td class="c17 c363" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">3</span></p></td><td class="c204 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">2</span></p></td><td class="c17 c474" colspan="2" rowspan="1"><p class="c38"><span class="c3 c37">1</span></p></td><td class="c217 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">0</span></p></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 1</span></p></td><td class="c144" colspan="12" rowspan="1"><p class="c38"><span class="c3 c0">Length</span></p></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 2</span></p></td><td class="c144" colspan="12" rowspan="1"><p class="c38"><span class="c3 c0">Packet Type</span></p></td></tr><tr class="c51"><td class="c141" colspan="1" rowspan="2"><p class="c38 c51"><span class="c1 c0"></span></p></td><td class="c144 c160" colspan="12" rowspan="1"><p class="c38"><span class="c1 c0">PROTECTION FLAGS</span></p></td></tr><tr class="c51"><td class="c310" colspan="7" rowspan="1"><p class="c38"><span class="c1 c0">Auth Tag Length</span></p></td><td class="c410" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">Crypto Material Length</span></p></td><td class="c345" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">Monotonic Counter Length</span></p></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 3</span></p></td><td class="c525" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c52" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c236" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c454" colspan="3" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c73" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c532" colspan="2" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c34" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td><td class="c217" colspan="1" rowspan="1"><p class="c38"><span class="c1 c0">X</span></p></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 4</span></p></td><td class="c144" colspan="12" rowspan="1"><p class="c38 c94"><span class="c3 c0">Protection Scheme</span></p></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 5 - 12</span></p></td><td class="c144" colspan="12" rowspan="1"><p class="c38 c94"><span class="c3 c0">Sender Id</span></p><sup><a href="#cmnt69" id="cmnt_ref69">[bq]</a></sup><sup><a href="#cmnt70" id="cmnt_ref70">[br]</a></sup></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2 c270"><span class="c3 c0">Byte 13 - 16</span></p></td><td class="c144" colspan="12" rowspan="1"><p class="c38 c94"><span class="c3 c0">Random</span></p><sup><a href="#cmnt71" id="cmnt_ref71">[bs]</a></sup><sup><a href="#cmnt72" id="cmnt_ref72">[bt]</a></sup></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte 17 - P</span></p></td><td class="c144" colspan="12" rowspan="1"><p class="c38 c94"><span class="c3 c0">Crypto Material (Optional)</span></p></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte Q - R</span></p></td><td class="c144" colspan="12" rowspan="1"><p class="c38 c94"><span class="c3 c0">Monotonic Counter (Optional)</span></p></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte S - T</span></p></td><td class="c144" colspan="12" rowspan="1"><p class="c38 c94"><span class="c3 c0">Protected MQTT-SN Packet</span></p></td></tr><tr class="c9"><td class="c141" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Byte U - N</span></p></td><td class="c144" colspan="12" rowspan="1"><p class="c38 c94"><span class="c3 c0">Authentication Tag</span></p></td></tr></table><p class="c68"><span class="c129 c77 c64">Table 53: Format of the protection packet</span></p><p class="c104 c41 c194"><span class="c0">The PROTECTION packet provides a secure envelope for any other MQTT-SN packet (with the exception of the Forward Encapsulation packet). </span><span class="c3 c0">The fields provided on the protection packet provide a means by which the sender can be identified and the packet can be protected, using a number of prescribed protection schemes. </span></p><p class="c104 c41 c194"><span class="c0">The sender is the originator of the &ldquo;Protected</span><span class="c0">&nbsp;MQTT-SN Packet&rdquo; and responsible for its protection. This responsibility can&rsquo;t be delegated to a third entity like a Forwarder. </span></p><p class="c104 c41 c194"><span class="c3 c0">The sender identification is required as the sender and the receiver of the PROTECTION packet must have access to the same shared key to be used directly or after derivation. The authentication of the sender and the receiver, their authorizations and the provisioning of the shared keys used to protect integrity and optionally confidentiality of the PROTECTION packet content are out of scope for this technical proposal.</span></p><p class="c104 c41 c194"><span class="c3 c0">A PROTECTION packet, like any other one, can be the payload of a Forward Encapsulation packet.</span></p><p class="c104 c41 c194 c51"><span class="c3 c0"></span></p><p class="c104 c41 c194"><span class="c3 c37">//TODO - Break out the conformance aspects of this paragraph from recommendations.</span></p><p class="c2"><span class="c3 c0 c45">When the PROTECTION packet is handled by a GW, it is mandatory to use it to protect all MQTT-SN packets exchanged with a Client for which a shared key (indexed by its Sender Id) is available.</span></p><p class="c2"><span class="c3 c0 c45">If the client is not enrolled to the GW (so the GW has no access to a key shared with it on the basis of its Sender Id) and the Client and GW are not in a private network, it is recommended for the GW to process only MQTT-SN packets received over a DTLS session initiated with mutual authentication by the client.</span></p><p class="c2"><span class="c0 c45">When the PROTECTION packet is handled by a Client, it is mandatory to use it to protect all MQTT-SN packets exchanged with a GW for which a shared key (indexed by its </span><span class="c0 c132 c45">GwId</span><span class="c3 c0 c45">) is available.</span></p><p class="c2"><span class="c0 c45">If the GW is not enrolled to the Client (so the Client has no access to a key shared with it on the basis of its GwId) and the Client and GW are not in a private network, it is recommended for the Client to open a DTLS session and process only MQTT-SN packets received over it.</span><sup><a href="#cmnt73" id="cmnt_ref73">[bu]</a></sup></p><p class="c104 c41 c194 c51"><span class="c3 c0 c45"></span></p><h4 class="c67 c41" id="h.j9tutdzg8gdj"><span class="c0">3.1.34.1 </span><span class="c72 c37">Length</span></h4><p class="c65 c41"><span class="c3 c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><h4 class="c67 c41" id="h.8duggxbcbw2"><span class="c72 c37">3.1.34.2 Packet Type</span></h4><p class="c65 c41"><span class="c0">Coded &ldquo;</span><span class="c132 c328">0x1E</span><span class="c3 c0">&rdquo;, see Table 63</span></p><h4 class="c67 c41" id="h.g1mmf1c4lvqh"><span class="c72 c37">3.1.34.3 Protection Flags</span></h4><p class="c148 c139 c41"><span class="c3 c0">The PROTECTION Flags is 1 byte field in Byte position 3 of the packet, specifying the properties of the PROTECTION. </span></p><p class="c2 c41"><span class="c0">The PROTECTION Flags</span><span class="c0 c53">&nbsp;</span><span class="c3 c0">field includes the following flags:</span></p><ul class="c113 lst-kix_list_10-0"><li class="c148 c81 c41 c57 li-bullet-8"><span class="c37 c132">(</span><span class="c37 c132">Auth)entication tag length</span><span class="c132 c291 c388">&nbsp;-</span><span class="c163 c132">&nbsp;</span><span class="c4 c0">(4 bits) should represent the number of 16 bits groups forming the authentication tag in big-endian order.</span></li></ul><ul class="c113 lst-kix_list_10-1 start"><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">Only 14 of the 16 possible values are allowed:</span></li></ul><ul class="c113 lst-kix_list_10-2 start"><li class="c56 c81 c413 li-bullet-8"><span class="c4 c0">If 0x00, the authentication tag length is provider defined</span></li><li class="c56 c81 c413 li-bullet-8"><span class="c4 c0">the values from 0x1 to 0x2 are Reserved;</span></li><li class="c56 c81 c413 li-bullet-8"><span class="c4 c0">any other value 0xZ, so between 0x3 and 0xF, is allowed and the authentication tag length will be (0xZ+1)*16 bits; for example</span></li></ul><ul class="c113 lst-kix_list_10-3 start"><li class="c56 c81 c446 li-bullet-8"><span class="c4 c0">if the value is 0xF, the Authentication tag length will be (0xF+1)*16=256 bits;</span></li><li class="c56 c81 c446 li-bullet-8"><span class="c4 c0">if the value is 0x3, the Authentication tag length will be (0x3+1)*16=64 bits;</span></li></ul><ul class="c113 lst-kix_list_10-1"><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">If a truncation of the output of the authentication algorithm is required, it has to be taken in most significant bits first order (leftmost bits).</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">If an extension of the output of the authentication algorithm is required, 0s are appended until the Authentication tag length is reached.</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">Some values are not allowed for some protection schemes. For instance the values 0x03, 0x04, 0x05, 0x06 are not allowed for AES-CCM-128-128, AES-CCM-128-192, AES-CCM-128-256, AES-GCM-128-128, AES-GCM-128-192, AES-GCM-128-256 and ChaCha20/Poly1305 as for those protection schemes the 128-bit authentication tag can&rsquo;t be truncated.</span></li></ul><p class="c10 c139"><span class="c4 c0"></span></p><ul class="c113 lst-kix_buzsf0a169o4-0 start"><li class="c56 c81 c57 li-bullet-8"><span class="c37 c132">Crypto material length -</span><span class="c4 c0">&nbsp;(2 bits) should represent the number of 16 bits groups forming the crypto material in big-endian order. Below the meaning of each possible value:</span></li></ul><ul class="c113 lst-kix_buzsf0a169o4-1 start"><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">if 0x3, a crypto material field of 96 bits (12 bytes) is present</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">if 0x2, a crypto material field of 32 bits (4 bytes) is present</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">if 0x1, a crypto material field of 16 bits (2 bytes) is present</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">if 0x0, the crypto material field is not present.</span></li></ul><p class="c10 c139"><span class="c4 c0"></span></p><ul class="c113 lst-kix_6d2m9fwaddjh-0 start"><li class="c56 c81 c57 li-bullet-8"><span class="c37 c132">Monotonic counter length -</span><span class="c4 c0">&nbsp;(2 bits) should represent the number of bytes forming the monotonic counter in big-endian order. Only 3 of the 4 possible values are allowed:</span></li></ul><ul class="c113 lst-kix_6d2m9fwaddjh-1 start"><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">the value 0x3 is Reserved;</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">if 0x2, a monotonic counter field of 32 bits (4 bytes) is present;</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">if 0x1, a monotonic counter field of 16 bits (2 bytes) is present;</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c0 c132">if 0x0, the monotonic counter field is not present.</span></li></ul><h4 class="c67 c41" id="h.m1zk7agco355"><span class="c0">3.1.34.4 </span><span class="c0">Protection Scheme</span></h4><p class="c56 c139 c350"><span class="c0 c132">A (1 byte) field located at byte 4 should contain one of the not Reserved indexes in the following table. In general two types of protection scheme are considered: </span><span class="c37 c132">Authentication only</span><span class="c0 c132">&nbsp;(like HMAC or CMAC) and </span><span class="c37 c132">AEAD</span><span class="c4 c0">&nbsp;(Authenticated Encryption with Associated Data, like GCM, CCM or ChaCha20/Poly1305).</span></p><p class="c5 c184 c51"><span class="c3 c0"></span></p><a id="t.387dd8aecc2e69883c10d3bcca32b68b87a7b6e4"></a><a id="t.55"></a><table class="c292 c184"><tr class="c9"><td class="c185 c17" colspan="1" rowspan="1"><p class="c207 c139"><span class="c3 c37">Index</span></p></td><td class="c35 c17" colspan="1" rowspan="1"><p class="c139 c207"><span class="c3 c37">Name</span></p></td><td class="c50 c17" colspan="1" rowspan="1"><p class="c207 c139"><span class="c3 c37">Auth Only</span></p></td><td class="c50 c17" colspan="1" rowspan="1"><p class="c56 c139"><span class="c3 c37">Key size</span></p></td><td class="c50 c17" colspan="1" rowspan="1"><p class="c56 c139"><span class="c3 c37">Tag size</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x00</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c132">HMAC-SHA256</span><span class="c0 c132 c46">&nbsp;(Note 1)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">Yes</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c0 c132">Any size</span><span class="c0 c132 c46">&nbsp;(Note 2)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">256 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x01</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c132">HMAC-SHA3_256</span><span class="c0 c132 c46">&nbsp;(Note 1)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">Yes</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c0 c132">Any size</span><span class="c0 c132 c46">&nbsp;(Note 2)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">256 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x02</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c132">CMAC-128</span><span class="c0 c46 c132">&nbsp;(Note 3)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">Yes</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x03</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c132">CMAC-192</span><span class="c0 c132 c46">&nbsp;(Note 3)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">Yes</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">192 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x04</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c132">CMAC-256</span><span class="c0 c132 c46">&nbsp;(Note 3)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">Yes</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">256 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x05-0x3B</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">RESERVED</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">&nbsp;</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c10 c139"><span class="c4 c0"></span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c10 c139"><span class="c4 c0"></span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x3C-0x3F</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">Provider defined</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">Yes</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">Provider defined</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">Provider defined</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x40</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2 c274"><span class="c0 c79">AES-CCM-64-128</span><span class="c0 c132 c46">&nbsp;(Notes 4,5)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">64 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c0 c4">0x41</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c79">AES-CCM-64-192</span><span class="c0 c132 c46">&nbsp;(Notes 4,5)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">192 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">64 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x42</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c79">AES-CCM-64-256</span><span class="c0 c132 c46">&nbsp;(Notes 4,5)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">256 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">64 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x43</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c79">AES-CCM-128-128</span><span class="c0 c132 c46">&nbsp;(Notes 4,5)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x44</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c79">AES-CCM-128-192</span><span class="c0 c132 c46">&nbsp;(Notes 4,5)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">192 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c0 c132">0x45</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c79">AES-CCM-128-256</span><span class="c0 c132 c46">&nbsp;(Notes 4,5)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">256 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x46</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c79">AES-GCM-128-128</span><span class="c0 c132 c46">&nbsp;(Notes 6,7)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x47</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c79">AES-GCM-128-192</span><span class="c0 c132 c46">&nbsp;(Notes 6,7)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">192 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x48</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c79">AES-GCM-128-256</span><span class="c0 c132 c46">&nbsp;(Notes 6,7)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">256 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x49</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c0 c79">ChaCha20/Poly1305</span><span class="c0 c132 c46">&nbsp;(Notes 8,9)</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">256 bits</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">128 bits</span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0x4A-0xEF</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">RESERVED</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">&nbsp;</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c10 c139"><span class="c4 c0"></span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c10 c139"><span class="c4 c0"></span></p></td></tr><tr class="c9"><td class="c185" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">0xF0-0xFF</span></p></td><td class="c35" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">Provider defined</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c2"><span class="c4 c0">No</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">Provider defined</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c56 c139"><span class="c4 c0">Provider defined</span></p></td></tr></table><p class="c10 c139"><span class="c152 c163 c132"></span></p><p class="c56 c139"><span class="c152 c132 c163">Note(s):</span></p><ol class="c113 lst-kix_j09mzo5bjkyy-0 start" start="1"><li class="c56 c81 c57 li-bullet-8"><span class="c0 c132">Reference </span><span class="c246 c0"><a class="c11" href="https://www.google.com/url?q=https://www.rfc-editor.org/rfc/rfc2104&amp;sa=D&amp;source=editors&amp;ust=1702576998700986&amp;usg=AOvVaw3HHjBD-XlqE1gJMoUn3UxJ">https://www.rfc-editor.org/rfc/rfc2104</a></span></li><li class="c56 c81 c57 li-bullet-8"><span class="c0">Reference </span><span class="c0"><a class="c11" href="https://www.google.com/url?q=https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.198-1.pdf&amp;sa=D&amp;source=editors&amp;ust=1702576998701512&amp;usg=AOvVaw2okBhF5onmtKMfgvmPcx-3">https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.198-1.pdf</a></span></li><li class="c56 c81 c57 li-bullet-8"><span class="c0">Reference </span><span class="c0"><a class="c11" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc4493%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3Dxugq2R3JL90RCv%252BzdnQqW7rtztg1MF6xtBAYnqa1K8s%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1702576998702001&amp;usg=AOvVaw10JVpNL3PNUABZqsPNfoUg">https://www.rfc-editor.org/rfc/rfc4493</a></span><span class="c0">&nbsp;and </span><span class="c0"><a class="c11" href="https://www.google.com/url?q=https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38b.pdf&amp;sa=D&amp;source=editors&amp;ust=1702576998702239&amp;usg=AOvVaw0Fu2FcCJd6iWnsTEK_giMl">https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38b.pdf</a></span><span class="c3 c0">&nbsp;and https://csrc.nist.gov/CSRC/media/Projects/Cryptographic-Standards-and-Guidelines/documents/examples/AES_CMAC.pdf</span></li><li class="c56 c81 c57 li-bullet-8"><span class="c0">Reference</span><span class="c0"><a class="c11" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc3610%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3DvMkxcRTrFVbOOc6NEcSe9b4WVfyCOwnuV7Bj4tDb03s%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1702576998702666&amp;usg=AOvVaw2QWP414QViIpTB1EBcELO7">&nbsp;</a></span><span class="c0"><a class="c11" href="https://www.google.com/url?q=https://www.rfc-editor.org/rfc/rfc3610&amp;sa=D&amp;source=editors&amp;ust=1702576998702917&amp;usg=AOvVaw2lTWWfjoMy7-BdqCD6rwv2">https://www.rfc-editor.org/rfc/rfc3610</a></span><span class="c0">&nbsp;and security considerations on </span><span class="c0"><a class="c11" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc8152%2523section-10.2.1%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3DDTxkXC3J%252B8Wj2l7qn6U5cFUExdZVFXPv2Ss3M2%252B1VLY%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1702576998703243&amp;usg=AOvVaw3XprLQmhGr0HYo1Xkiayd2">https://www.rfc-editor.org/rfc/rfc8152#section-10.2.1</a></span></li><li class="c56 c81 c57 li-bullet-8"><span class="c3 c0">AES CCM requires a 13 bytes nonce as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.2 and the nonce is obtained by performing SHA256, truncated to the leftmost 104 bits, of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span></li><li class="c56 c81 c57 li-bullet-8"><span class="c0 c79">Reference https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf</span><span class="c3 c0">&nbsp;and security considerations on https://www.rfc-editor.org/rfc/rfc8152#section-10.1.1</span></li><li class="c56 c81 c57 li-bullet-8"><span class="c0">AES GCM requires a </span><span class="c0 c132">12 bytes IV as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.1 and the IV is obtained by performing SHA256, truncated to the leftmost 96 bits, of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span></li><li class="c56 c81 c57 li-bullet-8"><span class="c0 c79">Reference: https://www.rfc-editor.org/rfc/rfc7539 and security considerations on https://www.rfc-editor.org/rfc/rfc8152#section-10.3.1</span></li><li class="c56 c81 c57 li-bullet-8"><span class="c0 c79">ChaCha20</span><span class="c0 c79">/Poly1305 requires a </span><span class="c0 c132">12 bytes nonce as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.3 obtained by performing SHA256 truncated to 96 bit of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span></li></ol><h4 class="c67 c41" id="h.jo2d2fngx6hj"><span class="c0">3.1.34.5 </span><span class="c0">Sender Id</span></h4><p class="c56 c139"><span class="c0 c132">Located at Bytes 5 - 12</span><span class="c4 c0">&nbsp;the Sender Id field (8 bytes) should contain:</span></p><p class="c10 c139"><span class="c4 c0"></span></p><p class="c56 c139 c384"><span class="c0 c132">If the message is originated by the </span><span class="c37 c132 c53">Gateway</span><span class="c4 c0">:</span></p><ul class="c113 lst-kix_i3m7qsdqkcat-0 start"><li class="c56 c81 c103 li-bullet-8"><span class="c4 c0">The SHA256 of the GwId truncated to the leftmost 64 bits (8 bytes); </span></li></ul><p class="c10 c139 c57"><span class="c4 c0"></span></p><p class="c56 c139 c57"><span class="c0 c132">If the message is originated by the </span><span class="c37 c132 c53">Client</span><span class="c4 c0">:</span></p><ul class="c113 lst-kix_ax9goacoh25q-0 start"><li class="c56 c81 c103 li-bullet-8"><span class="c37 c132">If a session is available</span><span class="c4 c0">: the SHA256 of the [Client Identifier] truncated to the leftmost 64 bits (8 bytes);</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c37 c132">If a session is not available</span><span class="c0 c132">: a unique value per sender over 8 bytes (like a MAC address, or other identifying characteristics). </span><span class="c3 c0">The methods to guarantee the uniqueness of the Sender Id in this case are out of scope for this technical proposal.</span></li></ul><p class="c10 c139"><span class="c3 c0"></span></p><p class="c65 c41 c57"><span class="c249 c37 c36">Inf</span><span class="c249 c37 c36">ormative</span><sup><a href="#cmnt74" id="cmnt_ref74">[bv]</a></sup></p><p class="c65 c41 c57"><span class="c0 c132 c36 c53">8 bytes for the &ldquo;Sender Id&rdquo; field seems enough as it is calculated with a cryptographic hash, so the probability of collision is 1/2^64=5.42x10</span><span class="c0 c6 c132 c36 c53">-20</span><span class="c0 c132 c36 c53 c353 c422 c308">. </span></p><p class="c56 c139 c57"><span class="c249 c37 c132 c36 c53 c353 c422">Client Behavior</span></p><p class="c56 c139 c57"><span class="c0 c132 c36 c53">In order to create a whitelist of authorized senders, the Client should store a map of GwId </span><span class="c0 c132 c36">and SHA256(GwId) </span><span class="c0 c132 c36 c53">truncated to the leftmost 64 bits. GwId can be obtained from pre-configuration, from an ADVERTISE packet or from a GWINFO packet</span><span class="c4 c0 c36">.</span></p><p class="c10 c139 c57"><span class="c4 c0 c36"></span></p><p class="c56 c139 c57"><span class="c249 c37 c132 c36 c53 c353 c422">Gateway Behavior</span></p><p class="c56 c139 c57"><span class="c0 c132 c36 c53">In order to create a whitelist of authorized senders, the MQTT-SN Gateway should store a map of ClientID and SHA256(ClientID) truncated to the leftmost 64 bits (8 bytes for each registered ClientID) for the clients having an active session and store a list of authorized Sender Ids for the clients not capable to establish sessions. </span><sup><a href="#cmnt75" id="cmnt_ref75">[bw]</a></sup></p><p class="c65 c41 c51"><span class="c129 c37 c64"></span></p><h4 class="c67 c41" id="h.vjl219ghlhvi"><span class="c0">3.1.34.6 </span><span class="c0">Random</span></h4><p class="c56 c139"><span class="c249 c37 c132">Located at Byte 13 - 16</span><span class="c0 c132">&nbsp;, the &ldquo;</span><span class="c37 c132">Random</span><span class="c4 c0">&rdquo; field (4 bytes) should contain a random number (not guessable) generated at the PROTECTION packet creation .</span></p><p class="c139 c41 c51 c198"><span class="c152 c163 c132"></span></p><p class="c65 c41 c57"><span class="c249 c37 c36">Inf</span><span class="c249 c37 c36">ormative</span></p><p class="c56 c139 c57"><span class="c0 c132 c36 c53">In case of CCM, in the worst case scenario where the &ldquo;Crypto Material&rdquo; and the &ldquo;Monotonic Counter&rdquo; optional fields are not present, &nbsp;the recommended nonce on 13 bytes will be calculated as SHA256 truncated to 104 bits of the sequence Byte 1 to Byte 16 (all packet fields until Protected MQTT-SN Packet). So considering the same Sender Id, the same nonce can be generated with a probability of 1/2^32=2.33x10</span><span class="c0 c6 c132 c36 c53">-10</span><span class="c0 c132 c36 c53">. With a shorter Random field of 2 bytes, the same nonce would be calculated with a probability of only 1/2^16=1.53x10</span><span class="c0 c6 c132 c36 c53">-5</span><span class="c0 c132 c36 c53">. As CCM is a derivation of CTR (see </span><span class="c246 c0 c36 c53"><a class="c11" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/CCM_mode&amp;sa=D&amp;source=editors&amp;ust=1702576998706083&amp;usg=AOvVaw3RDgzGjtgYu9Ffdus-kPyt">https://en.wikipedia.org/wiki/CCM_mode</a></span><span class="c0 c132 c36 c53">), the nonce should never be reused for the same key so the probability to generate two identical nonces should be kept as low as possible. Same for GCM and ChaCha20/Poly1305, the security depends on choosing a unique IV of 12 bytes for every encryption performed with the same key (</span><span class="c246 c0 c36 c53"><a class="c11" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Galois/Counter_Mode&amp;sa=D&amp;source=editors&amp;ust=1702576998706375&amp;usg=AOvVaw2Ia1Os3q-kDpqEQoQOhAwQ">https://en.wikipedia.org/wiki/Galois/Counter_Mode</a></span><span class="c0 c132 c36 c53">).</span></p><h4 class="c67 c41" id="h.q30yx1mc4rc1"><span class="c0">3.1.34.7 </span><span class="c72 c37">Crypto Material</span></h4><p class="c56 c139"><span>Located at</span><span class="c0">&nbsp;</span><span class="c0 c132">Byte (17 - P),</span><span class="c0 c132">&nbsp;the optional field &ldquo;</span><span class="c37 c132">Crypto Material</span><span class="c0 c132">&rdquo; contains </span><span class="c118 c0 c132">0, 2, 4 or 12 bytes of crypto material that when defined it can be used to derive, from a shared master secret, the same keys on the two endpoints and/or, when filled partially or totally with a random value, to further reduce the probability of IV/nonce reuse for CCM or GCM or ChaCha20/Poly1305. For instance when the Crypto material length is set to 0x03, the Crypto Material field can be partially filled with a random value of 9 bytes (the remaining 3 bytes can be set to 0 if not used) in order to reach the 13 bytes used only once recommended for the nonce used by CCM or it can be partially filled with a random value of 8 bytes in order to reach the 12 bytes used only once recommended for the IV/nonce used by GCM or ChaCha20/Poly1305 .</span></p><h4 class="c67 c41" id="h.3y6o9vhqakro"><span class="c0">3.1.34.8 </span><span class="c0">Monotonic Counter</span></h4><p class="c56 c139"><span class="c0">Located at </span><span class="c0 c132">Byte Byte (Q - R), the optional field &ldquo;</span><span class="c37 c132">Monotonic Counter</span><span class="c0 c132">&rdquo; contains</span><span class="c0 c132">&nbsp;</span><span class="c118 c0 c132">0, 2 or 4 byte number that when defined, is increased by the Client or GW for every packet sent. The counters should be considered independent of session or destination. E.g. The UE will keep a counter independently from the GW.</span></p><h4 class="c67 c41" id="h.dovnwl46a7is"><span class="c0">3.1.34.9 </span><span class="c0">Protected MQTT-SN Packet</span></h4><p class="c10 c139"><span class="c152 c0 c132 c274 c352"></span></p><p class="c56 c139"><span class="c0">Located at </span><span class="c0 c132">Byte (S - T), the field</span><span class="c0 c132">&nbsp; &ldquo;</span><span class="c37 c132">Protected</span><span class="c37 c132">&nbsp;MQTT-SN Packet</span><span class="c4 c0">&rdquo; contains the MQTT-SN packet that is being secured, encoded as per its packet type.</span></p><p class="c56 c139"><span class="c0 c132">The &ldquo;Protected MQTT-SN Packet&rdquo; should not be a &ldquo;Forwarder-Encapsulation packet&rdquo; as the shared key used directly or after derivation for the protection must belong to the originator of the content and not to a Forwarder that, in general, is not able to securely identify the originator.</span></p><h4 class="c67 c41" id="h.j75p96o6vesm"><span class="c0">3.1.34.10 </span><span class="c72 c37">Authentication Tag</span></h4><p class="c2"><span class="c0">Located at Byte (U - N), the field</span><span class="c0 c132">&nbsp;&ldquo;</span><span class="c37 c132">Authentication tag</span><span class="c4 c0">&rdquo; field has a length depending on the &ldquo;Authentication tag length&rdquo; flag and it is calculated, on the basis of the &ldquo;Protection scheme&rdquo; selected in Byte 4, on ALL the preceding fields.</span></p><p class="c198 c139 c41 c51"><span class="c152 c163 c132"></span></p><h1 class="c333 c139 c94" id="h.2qk79lc"><span class="c0">4 </span><span class="c66 c37">Operational behavior</span></h1><p class="c2 c41 c194"><span class="c3 c0">An important design point of MQTT-SN is to be as close as possible to MQTT. Therefore, all protocol semantics should remain, as far as possible, the same as those defined by MQTT. In the following we will focus on those points that either are new to or deviate from MQTT.</span></p><h2 class="c67 c41" id="h.15phjt5"><span class="c25">4.1 MQTT-SN Architecture</span></h2><p class="c254 c139 c41 c493"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 631.73px;"><img alt="Diagram

Description automatically generated" src="images/image1.png" style="width: 624.00px; height: 631.73px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><sup><a href="#cmnt76" id="cmnt_ref76">[bx]</a></sup></p><p class="c139 c41 c498"><span class="c0">Figure 1: </span><span class="c0">MQTT-SN Architecture</span><sup><a href="#cmnt77" id="cmnt_ref77">[by]</a></sup></p><p class="c182 c139 c41 c184"><span class="c0">The architecture of MQTT-SN is shown in figure 1. There are three kinds of MQTT-SN components, MQTT-SN </span><span class="c0 c53">clients</span><span class="c0">, MQTT-SN </span><span class="c0 c53">gateways</span><span class="c0">, and MQTT-SN </span><span class="c0 c53">forwarders</span><span class="c0">. MQTT-SN clients connect themselves to an MQTT server/broker via an MQTT-SN </span><span class="c0 c64">Gateway</span><span class="c0">&nbsp;using the MQTT-SN protocol. An MQTT-SN </span><span class="c0 c64">Gateway</span><span class="c0">&nbsp;may or may not be integrated with a MQTT server. Where an MQTT broker is involved, the MQTT protocol is used between the MQTT broker and the MQTT-SN </span><span class="c0 c64">Gateway</span><span class="c3 c0">. Its main function is the translation between MQTT and MQTT-SN.</span></p><p class="c281 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c139 c41 c184 c281"><span class="c0">MQTT-SN clients can also access a </span><span class="c0 c64">Gateway</span><span class="c0">&nbsp;via a forwarder in case the </span><span class="c0 c64">Gateway</span><span class="c0">&nbsp;is not directly attached to their network. The forwarder simply encapsulates the MQTT-SN frames it receives on the wireless side and forwards them unchanged to the </span><span class="c0 c64">Gateway</span><span class="c3 c0">; in the opposite direction, it decapsulates the frames it receives from the gateway and sends them to the clients, unchanged too.</span></p><p class="c281 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c2 c41 c184"><span class="c0">We can differentiate between two types of </span><span class="c0 c64">Gateway</span><span class="c0">, namely </span><span class="c0 c53">transparent </span><span class="c0">and </span><span class="c0 c53">aggregating </span><span class="c0 c64">Gateway</span><span class="c0">s, see Fig. 2. They are explained in the following sections</span><span class="c3 c0">.</span></p><h3 class="c67 c41" id="h.3pp52gy"><span>4.1.1 </span><span class="c25">Transparent Gateway</span></h3><p class="c182 c139 c41 c194"><span class="c0">For each connected MQTT-SN client a transparent </span><span class="c0 c64">Gateway</span><span class="c0">&nbsp;will set up and maintain a MQTT connection to the MQTT server. This MQTT connection is reserved exclusively for the end-to-end and almost transparent packet exchange between the client and the server. There will be as many MQTT connections between the </span><span class="c0 c64">Gateway</span><span class="c0">&nbsp;and the server as MQTT-SN clients connected to the </span><span class="c0 c64">Gateway</span><span class="c0">. The transparent </span><span class="c0 c64">Gateway</span><span class="c3 c0">&nbsp;will perform a &ldquo;syntax&rdquo; translation between the two protocols. Since all packet exchanges are end-to-end between the MQTT-SN client and the MQTT Server, all functions and features that are implemented by the server can be offered to the client.</span></p><p class="c182 c139 c41 c184"><span class="c0">Although the implementation of the transparent </span><span class="c0 c64">Gateway</span><span class="c0">&nbsp;is simpler when compared to the one of an aggregating </span><span class="c0 c64">Gateway</span><span class="c3 c0">, it requires the MQTT server to support a separate connection for each active client. Some MQTT server implementations might impose a limitation on the number of concurrent connections that they support.</span></p><p class="c139 c41 c254"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 510.42px; height: 190.10px;"><img alt="A close up of a map

Description automatically generated" src="images/image3.png" style="width: 510.42px; height: 190.10px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><sup><a href="#cmnt78" id="cmnt_ref78">[bz]</a></sup><sup><a href="#cmnt79" id="cmnt_ref79">[ca]</a></sup></p><p class="c139 c41 c506"><span class="c3 c0">Figure 2: Transparent and Aggregating Gateways</span></p><h3 class="c67 c41" id="h.24ufcor"><span>4.1.2 </span><span class="c25">Aggregating Gateway</span></h3><p class="c139 c41 c194 c495"><span class="c0">Instead of having a MQTT connection for each connected client, an aggregating</span><span class="c0 c64">&nbsp;Gateway</span><span class="c0">&nbsp;will have only one MQTT connection to the Server. All packet exchanges between a MQTT-SN client and an aggregating </span><span class="c0 c64">Gateway </span><span class="c0">end at the </span><span class="c0 c64">Gateway</span><span class="c0">. The </span><span class="c0 c64">Gateway</span><span class="c0">&nbsp;then decides which information will be given further to the Server. Although its implementation is more complex than the one of a transparent </span><span class="c0 c64">Gateway</span><span class="c0">, an aggregating </span><span class="c0 c64">Gateway</span><span class="c0">&nbsp;may be helpful in case of WSNs with very large number of SAs because it reduces the number of MQTT connections that the </span><span class="c0 c64">Gateway </span><span class="c0">must support concurrently.</span></p><h2 class="c85 c41" id="h.jzpmwk"><span class="c0">4.2 </span><span class="c0">Networks &amp; Transport Layers</span></h2><p class="c240 c139"><span>The MQTT-SN V2.0 protocol requires an underlying transport to create a Virtual Connection, this carries datagrams from a Client to a Gateway and a Gateway to a Client.<br>The underlying transport may also </span><span>broadcast </span><span class="c3 c77">datagrams from a Client to all Gateways and from a Gateway to all Clients.<br>The datagrams carry the MQTT-SN V2.0 Packets which must be received unaltered and complete.</span></p><ul class="c113 lst-kix_9jv7sz9hgk8-0 start"><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77">The underlying transport does not need to be reliable, it is expected that datagrams will be lost or delivered out of order.</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77">If the network might deliver a datagram more than once, then it is highly recommended that the PROTECTION packet Monotonic Counter is used to eliminate the duplicates.</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77">The MQTT-SN V2.0 protocol will tolerate out of order Packets and it will retransmit lost Packets.</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77">The MQTT-SN V2.0 does not perform error correction. If a corrupted or partial Packets is received it will cause a protocol error.</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77">The MQTT-SN V2.0 implementation may use either the origin network address or the sender identifier in the PROTECTION Packet to determine the identity of the Virtual Connection.</span></li><li class="c240 c81 c57 li-bullet-8"><span>The underlying network does not need to provide </span><span>low latency transmission.</span><sup><a href="#cmnt80" id="cmnt_ref80">[cb]</a></sup></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77">The networks may be connectionless, the Virtual Connections do not need to have an event that signals when they begin or end.</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77">The networks may be radio networks.</span></li></ul><p class="c240 c139"><span class="c3 c427 c228">Informative comment</span></p><p class="c240 c139"><span class="c3 c77 c228">UDP as defined in [RFC0768] can be used for MQTT-SN v2.0 if the Maximum Transmission Unit is configured to be more than the MQTT-SN Packet size used and no datagram fragmentation occurs.<br>Depending on the network configuration, UDP can duplicate datagrams. If this can happen, the PROTECTION Packet monotonic counter should be used.</span></p><p class="c240 c139"><span class="c3 c77 c228">Examples of possible consequences of not removing duplicates datagrams are:<br> &ndash; DISCONNECT Packet applied to the wrong Virtual Connection<br> &ndash; SUBSCRIBE and UNSUBSCRIBE Packets applied to the wrong Virtual Connection<br> &ndash; PUBLISH QOS=2 published more than once</span></p><p class="c240 c139"><span class="c228">The following transport protocols are also suitable but if not capable of multicast</span><span class="c228">/broadcast</span><span class="c228">&nbsp;the implementation of the optional ADVERTISE, SEARCHGW, GWINFO packets may not be possible and also the multicast</span><span class="c228">/broadcast</span><span class="c228">&nbsp;of the </span><span class="c228">PUBLISH MINUS -1 packets</span><span class="c3 c77 c228">&nbsp;may not be possible:</span></p><ul class="c113 lst-kix_8ejhqyejklgr-0 start"><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77 c228">DTLS v1.2 [RFC6347]</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77 c228">DTLS v1.3 [RFC9147]</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77 c228">QUIC [RFC9000]</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77 c228">Non-IP protocolsTCP/IP [RFC0793]</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77 c228">TLS [RFC5246]</span></li><li class="c240 c81 c57 li-bullet-8"><span class="c3 c77 c228">WebSocket [RFC6455].</span></li></ul><p class="c139 c240"><span class="c228 c460">Inf</span><span class="c460 c228">ormative comment</span><sup><a href="#cmnt81" id="cmnt_ref81">[cc]</a></sup></p><p class="c240 c139"><span class="c228">TCP ports 8883 and 1883 are registered with IANA for MQTT TLS and non-TLS communication respectively.</span><sup><a href="#cmnt82" id="cmnt_ref82">[cd]</a></sup><sup><a href="#cmnt83" id="cmnt_ref83">[ce]</a></sup></p><p class="c2 c51"><span class="c3 c77"></span></p><h2 class="c85 c41" id="h.1j4nfs6"><span class="c0">4.3 </span><span class="c25">Gateway Advertisement and Discovery</span></h2><p class="c182 c139 c41 c184"><span class="c0">A gateway may announce its presence by </span><span class="c0">broadcasting </span><span class="c3 c0">periodically an ADVERTISE packet to all devices that are currently parts of the network. A gateway should only advertise its presence if it is connected to a server (or is itself a server).</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c0">Multiple gateways may be active at the same time in the same network. In this case they will have different ids. It is up to the client to decide to which gateway it wants to connect. </span><span class="c0 c45">At any point in time a client is allowed to be connected to only one gateway.</span><sup><a href="#cmnt84" id="cmnt_ref84">[cf]</a></sup><sup><a href="#cmnt85" id="cmnt_ref85">[cg]</a></sup><sup><a href="#cmnt86" id="cmnt_ref86">[ch]</a></sup></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c395 c139 c41 c184"><span class="c3 c0">A client should maintain a list of active gateways together with their network addresses. This list is populated by means of the ADVERTISE and GWINFO packets received.</span></p><p class="c139 c41 c184 c51 c395"><span class="c3 c0"></span></p><p class="c400 c139 c41 c184"><span class="c0">The time duration </span><span class="c0 c53">T</span><span class="c0 c53 c174">ADV </span><span class="c0">until the gateway sends the next ADVERTISE packet is indicated in the </span><span class="c0 c53">Duration </span><span class="c0">field of the ADVERTISE packets. A client may use this information to monitor the availability of a gateway. For example, if it does not receive ADVERTISE packets from a gateway for </span><span class="c0 c53">N</span><span class="c0 c53 c174">ADV </span><span class="c3 c0">consecutive times, it may assume that the gateway is down and removes it from its list of active gateways. Similarly, gateways in stand-by mode will become active (i.e. start sending ADVERTISE packets) if they miss successively a couple of times advertisements from a certain gateway.</span></p><p class="c139 c41 c184 c51 c400"><span class="c3 c0"></span></p><p class="c139 c41 c184 c438"><span class="c0">Since the ADVERTISE packets are </span><span class="c0">broadcasted </span><span class="c0">into the whole wireless network, the time interval </span><span class="c0 c53">T</span><span class="c0 c53 c174">ADV </span><span class="c3 c0">between two ADVERTISE packets sent by a gateway should be large enough (e.g. greater than 15 min) to avoid bandwidth congestion in the network.</span></p><p class="c400 c139 c41 c184"><span class="c0">The large value of </span><span class="c0 c53">T</span><span class="c0 c53 c174">ADV </span><span class="c0">will lead to a long waiting time for new clients which are looking for a gateway. To shorten this waiting time a client may </span><span class="c0">broadcast </span><span class="c0">a SEARCHGW packet. To prevent </span><span class="c0">broadcast storms</span><span class="c0">&nbsp;when multiple clients start searching for GW almost at the same time, the sending of the SEARCHGW packet is delayed by a random time between 0 and </span><span class="c0 c53">T</span><span class="c0 c53 c174">SEARCHGW</span><span class="c3 c0">. A client will cancel its transmission of the SEARCHGW packet if it receives during this delay time a SEARCHGW packet sent by another client and identical to the one it wants to send, and behaves as if the SEARCHGW packet was sent by itself.</span></p><p class="c182 c139 c41 c184"><span class="c0">The </span><span class="c0">broadcast </span><span class="c0">radius </span><span class="c0 c53">R</span><span class="c0 c53 c174">b </span><span class="c3 c0">of the SEARCHGW packet is limited, e.g. to a single hop in case of a dense deployment of MQTT-SN clients.</span></p><p class="c182 c139 c41 c51 c184"><span class="c3 c0"></span></p><p class="c139 c41 c184 c485"><span class="c3 c0">Upon receiving a SEARCHGW packet a gateway replies with a GWINFO packet containing its id. Similarly, a client answers with a GWINFO packet if it has at least one active gateway in its list of active gateways. If the client has multiple GWs in its list, it selects one GW out of its list and includes that information into the GWINFO packet.</span></p><p class="c485 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c368 c139 c41 c184"><span class="c0">Like the SEARCHGW packet, the GWINFO packet is </span><span class="c0">broadcast </span><span class="c0">with the same radius </span><span class="c0 c53">R</span><span class="c0 c53 c174">b</span><span class="c0">, which is indicated in the SEARCHGW packet. The radius </span><span class="c0 c53">R</span><span class="c0 c53 c174">b </span><span class="c3 c0">is also given to the underlying layer when these two packets are passed down for transmission.</span></p><p class="c368 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c312 c139 c41"><span class="c3 c0">To give priority to the gateways a client will delay its sending of the GWINFO packet for a random time</span></p><p class="c182 c139 c41 c194"><span class="c0 c53">T</span><span class="c0 c53 c174">GWINFO</span><span class="c3 c0">. If during this delay time the client receives a GWINFO packet it will cancel the transmission of its GWINFO packet.</span></p><p class="c182 c139 c41 c194 c51"><span class="c3 c0"></span></p><p class="c192 c139 c41 c184"><span class="c3 c0">In case of no response the SEARCHGW packet may be retransmitted. In this case the time intervals between consecutive SEARCHGW packets should be increased by the exponential backoff algorithm described in the appendix.</span></p><h2 class="c85" id="h.434ayfz"><span class="c25">4.4 Session Establishment</span></h2><p class="c106 c41"><span class="c0">As with MQTT, an </span><span class="c0">MQTT-SN client needs to set up a session on the GW</span><span class="c3 c0">, unless it is publishing ONLY using OUT OF BAND packets. The procedure for setting up a session with a GW is illustrated in Fig. 3. </span></p><p class="c2 c41"><span class="c3 c0">The CONNECT packet contains flags to communicate to the gateway that will or auth or both interactions should take place.</span></p><p class="c106 c41 c51"><span class="c3 c0"></span></p><p class="c139 c41 c194 c365"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 233.33px; height: 144.00px;"><img alt="A picture containing shape

Description automatically generated" src="images/image2.png" style="width: 233.33px; height: 144.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><sup><a href="#cmnt87" id="cmnt_ref87">[ci]</a></sup></p><p class="c139 c505"><span class="c0">Figure 3a: Connect procedure (without will flag set)</span><sup><a href="#cmnt88" id="cmnt_ref88">[cj]</a></sup></p><p class="c41 c106"><span class="c3 c0">If the Will flag is set, the client then sends these two pieces of information to the GW upon receiving the corresponding request packets WILLTOPICREQ and WILLMSQREQ. The procedure is terminated with the CONNACK packet sent by the GW.</span></p><p class="c139 c251"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 322.67px; height: 261.33px;"><img alt="A picture containing graphical user interface

Description automatically generated" src="images/image5.png" style="width: 322.67px; height: 261.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><sup><a href="#cmnt89" id="cmnt_ref89">[ck]</a></sup><sup><a href="#cmnt90" id="cmnt_ref90">[cl]</a></sup></p><p class="c505 c139"><span class="c0">Figure 3b: Connect procedure (with will flag set)</span><sup><a href="#cmnt91" id="cmnt_ref91">[cm]</a></sup></p><p class="c505 c139"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 282.67px; height: 261.33px;"><img alt="Graphical user interface

Description automatically generated with medium confidence" src="images/image4.png" style="width: 282.67px; height: 261.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><sup><a href="#cmnt92" id="cmnt_ref92">[cn]</a></sup></p><p class="c505 c139"><span class="c3 c0">Figure 3c: Connect procedure (with auth flag set)</span></p><p class="c139 c41 c184 c402"><span class="c0">In case the </span><span class="c0">gateway</span><sup><a href="#cmnt93" id="cmnt_ref93">[co]</a></sup><span class="c3 c0">&nbsp;could not accept the CONNECT request (e.g. because of congestion or it does not support a feature indicated in the CONNECT packet), the gateway returns a CONNACK packet with the rejection reason.</span></p><p class="c402 c139 c41 c184"><span class="c3 c0">In the case where the client provides no client identifier, the Server MUST respond with a CONNACK containing an Assigned Client Identifier. </span></p><p class="c402 c139 c41 c184"><span class="c0 c45">The Assigned Client Identifier MUST be a new Client Identifier not used by any other Session currently in the gateway.</span></p><h2 class="c85" id="h.2i9l8ns"><span class="c25">4.5 Quality of Service levels and protocol flows</span></h2><p class="c2"><span class="c3 c0">MQTT delivers Application Messages according to the Quality of Service (QoS) levels defined in the following sections. The delivery protocol is symmetric, in the description below the Client and Server &amp; Gateway can each take the role of either sender or receiver. The delivery protocol is concerned solely with the delivery of an application message from a single sender to a single receiver. When the Gateway &nbsp;is delivering an Application Message to more than one Client, each Client is treated independently. The QoS level used to deliver an Application Message outbound to the Client could differ from that of the inbound Application Message.</span></p><h3 class="c67" id="h.xevivl"><span>4.5.1 </span><span class="c25">QoS 0: At most once delivery</span></h3><p class="c2"><span class="c3 c0">The message is delivered according to the capabilities of the underlying network. No response is sent by the receiver and no retry is performed by the sender. The message arrives at the receiver either once or not at all. </span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><p class="c2" id="h.3hej1je"><span class="c0 c45">In the QoS 0 delivery protocol, the sender</span></p><ul class="c113 lst-kix_list_20-0 start"><li class="c2 c20 li-bullet-8"><span class="c0 c45">MUST send a PUBLISH packet with QoS 0 and DUP flag set to 0</span><span class="c0 c210">.</span></li></ul><p class="c2" id="h.1wjtbr7"><span class="c3 c0">In the QoS 0 delivery protocol, the receiver</span></p><ul class="c113 lst-kix_list_20-0"><li class="c2 c20 li-bullet-8"><span class="c3 c0">Accepts ownership of the message when it receives the PUBLISH packet.</span></li></ul><p class="c2 c57 c51" id="h.4gjguf0"><span class="c3 c0"></span></p><a id="t.374b417a69fa210a8e608af463123efed625fde4"></a><a id="t.56"></a><table class="c292 c57"><tr class="c9"><td class="c223 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Sender Action</span></p></td><td class="c12 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Control Packet</span></p></td><td class="c241 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Receiver Action</span></p></td></tr><tr class="c9"><td class="c223" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">PUBLISH QoS 0, DUP=0</span></p><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c38 c51"><span class="c3 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td></tr><tr class="c9"><td class="c223" colspan="1" rowspan="1"><p class="c38 c51"><span class="c3 c0"></span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">----------&gt;</span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c38 c51"><span class="c3 c37"></span></p></td></tr><tr class="c9"><td class="c223" colspan="1" rowspan="1"><p class="c38 c51"><span class="c3 c0"></span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c38 c51"><span class="c3 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c38"><span class="c0">Deliver Application Message to appropriate onward recipient(s) </span></p></td></tr></table><p class="c2 c51" id="h.2vor4mt"><span class="c3 c0"></span></p><h3 class="c67" id="h.1au1eum"><span>4.5.2 </span><span class="c25">QoS 1: At least once delivery</span></h3><p class="c156 c139"><span class="c3 c0">This Quality of Service level ensures that the message arrives at the receiver at least once. A QoS 1 PUBLISH packet has a Packet Identifier in its Variable Header and is acknowledged by a PUBACK packet.</span></p><p class="c69 c51"><span class="c28 c37"></span></p><p class="c2" id="h.3utoxif"><span class="c0 c45">In the QoS 1 delivery protocol, the sender</span></p><ul class="c113 lst-kix_list_20-0"><li class="c2 c20 li-bullet-8"><span class="c0 c45">MUST assign an unused Packet Identifier each time it has a new Application Message to publish</span><span class="c3 c0">&nbsp;</span></li><li class="c2 c20 li-bullet-8"><span class="c0 c45">MUST send a PUBLISH packet containing this Packet Identifier with QoS 1 and DUP flag set to 0</span><span class="c3 c0">&nbsp;</span></li><li class="c2 c20 li-bullet-8"><span class="c0 c45">MUST treat the PUBLISH packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBACK packet from the receiver</span><span class="c0">. </span></li></ul><p class="c2" id="h.29yz7q8"><span class="c0">The Packet Identifier becomes available for reuse once the sender has received the PUBACK packet. </span></p><p class="c2 c51 c494"><span class="c3 c0 c45"></span></p><p class="c156 c139"><span class="c37 c45">In a difference to MQTT 5, the sender is NOT permitted to send further PUBLISH packets with different Packet Identifiers while it is waiting to receive acknowledgements. At any given time a sender </span><span class="c37 c45">m</span><sup><a href="#cmnt94" id="cmnt_ref94">[cp]</a></sup><span class="c37 c45">y</span><span class="c37 c45">&nbsp;ONLY have 1 outstanding application message inflight.</span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><p class="c2" id="h.p49hy1"><span class="c0 c45">In the QoS 1 delivery protocol, the receiver</span></p><ul class="c113 lst-kix_list_21-0 start"><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST respond with a PUBACK packet containing the Packet Identifier from the incoming PUBLISH packet, having accepted ownership of the Application Message</span><span class="c3 c0">&nbsp;</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">After it has sent a PUBACK packet the receiver MUST treat any incoming PUBLISH packet that contains the same Packet Identifier as being a new Application Message, irrespective of the setting of its DUP flag</span></li></ul><p class="c139 c51 c156"><span class="c3 c0"></span></p><p class="c2 c57" id="h.393x0lu"><span class="c3 c0">Figure 4.2 &ndash; QoS 1 protocol flow diagram, Informative example</span></p><a id="t.9bfa6b02d4151be2a7780c081fdc56059f77f0b5"></a><a id="t.57"></a><table class="c292 c57"><tr class="c9"><td class="c17 c223" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Sender Action</span></p></td><td class="c12 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">MQTT Control Packet</span></p></td><td class="c241 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Receiver action</span></p></td></tr><tr class="c9"><td class="c223" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Store message</span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c38 c51"><span class="c3 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td></tr><tr class="c9"><td class="c223" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0">Send PUBLISH QoS 1, DUP=0, &lt;Packet Identifier&gt;</span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">----------&gt;</span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c37"></span></p></td></tr><tr class="c9"><td class="c223" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c2"><span class="c0">Initiate onward delivery of the Application Message</span><span class="c0 c6">1</span></p></td></tr><tr class="c9"><td class="c223" colspan="1" rowspan="1"><p class="c2 c51"><span class="c3 c0"></span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">&lt;----------</span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0">Send PUBACK &lt;Packet Identifier&gt;</span></p></td></tr><tr class="c9"><td class="c223" colspan="1" rowspan="1"><p class="c2"><span class="c0">Discard message</span></p></td><td class="c12" colspan="1" rowspan="1"><p class="c38 c51"><span class="c3 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c38 c51"><span class="c3 c37"></span></p></td></tr></table><p class="c2 c51"><span class="c248 c0 c6 c64"></span></p><p class="c2 c57"><span class="c0 c6">1 </span><span class="c3 c0">The receiver does not need to complete delivery of the Application Message before sending the PUBACK. When its original sender receives the PUBACK packet, ownership of the Application Message is transferred to the receiver.</span></p><p class="c2 c57 c51"><span class="c3 c0"></span></p><h3 class="c67" id="h.1o97atn"><span>4.5.3 </span><span class="c25">QoS 2: Exactly once delivery</span></h3><p class="c2"><span class="c3 c0">This is the highest Quality of Service level, for use when neither loss nor duplication of messages are acceptable. There is an increased overhead associated with QoS 2.</span></p><p class="c2" id="h.488uthg"><span class="c0 c45">In the QoS 2 delivery protocol, the sender</span><span class="c3 c0">:</span></p><ul class="c113 lst-kix_list_22-0 start"><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST assign an unused Packet Identifier when it has a new Application Message to publish</span><span class="c0 c210">&nbsp;</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST send a PUBLISH packet containing this Packet Identifier with QoS 2 and DUP flag set to 0</span><span class="c3 c0">&nbsp;</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST treat the PUBLISH packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBREC packet from the receiver</span><span class="c3 c0">&nbsp;</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST send a PUBREL packet when it receives a PUBREC packet from the receiver with a Reason Code value less than 0x80. This PUBREL packet MUST contain the same Packet Identifier as the original PUBLISH packet</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST treat the PUBREL packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBCOMP packet from the receiver</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST NOT re-send the PUBLISH once it has sent the corresponding PUBREL packe</span><span class="c3 c0">t</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST NOT apply Message expiry if a PUBLISH packet has been sent</span><span class="c0">&nbsp;</span></li></ul><p class="c156 c139"><span class="c3 c0">The Packet Identifier becomes available for reuse once the sender has received the PUBCOMP packet or a PUBREC with a Reason Code of 0x80 or greater. </span></p><p class="c69 c51"><span class="c3 c0 c45"></span></p><p class="c156 c139"><span class="c37 c45">In a difference to MQTT 5, the sender is NOT permitted to send further PUBLISH packets with different Packet Identifiers while it is waiting to receive acknowledgements. At any given time a sender my ONLY have 1 outstanding application message inflight.</span></p><p class="c69 c51"><span class="c3 c0 c45"></span></p><p class="c2" id="h.2ne53p9"><span class="c0 c45">In the QoS 2 delivery protocol, the receiver</span><span class="c0">:</span></p><ul class="c113 lst-kix_list_23-0 start"><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST respond with a PUBREC containing the Packet Identifier from the incoming PUBLISH packet, having accepted ownership of the Application Message</span></li><li class="c2 c57 c255 li-bullet-8"><span class="c0 c45">If it has sent a PUBREC with a Reason Code of 0x80 or greater, the receiver MUST treat any subsequent PUBLISH packet that contains that Packet Identifier as being a new Application Message</span><span class="c3 c0">&nbsp;</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">Until it has received the corresponding PUBREL packet, the receiver MUST acknowledge any subsequent PUBLISH packet with the same Packet Identifier by sending a PUBREC. It MUST NOT cause duplicate messages to be delivered to any onward recipients in this case</span><span class="c3 c0">&nbsp;</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c0 c45">MUST respond to a PUBREL packet by sending a PUBCOMP packet containing the same Packet Identifier as the PUBREL</span></li><li class="c2 c255 c57 li-bullet-8"><span class="c3 c0 c45">After it has sent a PUBCOMP, the receiver MUST treat any subsequent PUBLISH packet that contains that Packet Identifier as being a new Application Message</span></li></ul><p class="c2 c57 c51"><span class="c3 c0 c45"></span></p><h3 class="c67" id="h.12jfdx2"><span>4.5.4 </span><span class="c25">QoS -1: Constrained client delivery</span></h3><p class="c2"><span class="c3 c0">This feature is defined for very simple client implementations which only support a limited sub-set of features. There is no requirement to setup nor tear down a Virtual Connection, no registration nor subscription. The sender just sends its PUBLISH packets to it&rsquo;s counterpart (whose address is known a-priori) and forgets them. It does not care whether the address is correct, whether the counterpart is alive, or whether the packets arrive. Only the following parameter values are allowed for a PUBLISH packet with QoS level -1:</span></p><ul class="c113 lst-kix_list_12-0"><li class="c182 c153 c139 li-bullet-11"><span class="c3 c0">QoS flag: set to &ldquo;0b11&rdquo;</span></li><li class="c56 c153 c139 li-bullet-12"><span class="c3 c0">Topic Alias Type flag: either &ldquo;0b01&rdquo; for pre-defined topic alias, &ldquo;0b10&rdquo; for short topic name, &ldquo;0b11&rdquo; for full topic names.</span></li><li class="c56 c153 c139 li-bullet-13"><span class="c3 c0">Topic Alias or Topic Name field: value of the pre-defined topic alias or of the short topic or of the full topic name</span></li><li class="c56 c153 c139 li-bullet-14"><span class="c3 c0">Data field: the data to be published.</span></li></ul><p class="c115 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">Whilst no Virtual Connection is mandated for QoS -1 delivery, a constrained client who has previously connected and established a session may wish to PUBLISH at QoS -1 during any of the lifecycle states. If the GW can determine the origin of a QoS -1 packet, it should not impact/change any existing session except for resetting the keep-alive timer.</span></p><p class="c2 c57 c51"><span class="c3 c0 c45"></span></p><h3 class="c67" id="h.au8d3npbmfl"><span>4.5.5 </span><span class="c25">OUT OF BAND: Constrained client delivery</span></h3><p class="c2"><span class="c3 c0">This feature is defined for very simple client implementations which only support a limited sub-set of features. There is no requirement to setup nor tear down a Virtual Connection, no registration nor subscription. The sender just sends its PUBLISH packets to it&rsquo;s counterpart (whose address is known a-priori) and forgets them. It does not care whether the address is correct, whether the counterpart is alive, or whether the packets arrive. Only the following parameter values are allowed for a PUBLISH OUT OF BAND packet:</span></p><ul class="c113 lst-kix_list_12-0"><li class="c56 c153 c139 li-bullet-15"><span class="c3 c0">Topic Alias Type flag: either &ldquo;0b01&rdquo; for pre-defined topic alias, &ldquo;0b10&rdquo; for short topic name, &ldquo;0b11&rdquo; for full topic names.</span></li><li class="c56 c153 c139 li-bullet-12"><span class="c3 c0">Topic Alias or Topic Name field: value of the pre-defined topic alias or of the short topic or of the full topic name</span></li><li class="c56 c139 c153 li-bullet-15"><span class="c3 c0">Data field: the data to be published.</span></li></ul><p class="c51 c115"><span class="c3 c0"></span></p><p class="c2"><span class="c0">Whilst no Virtual Connection is mandated for OUT OF BAND delivery, a constrained client who has previously connected and established a session may wish to PUBLISH OUT OF BAND during any of the lifecycle states. If the GW can determine the origin of a OUT OF BAND packet, it should not impact/change any existing session except for resetting the keep-alive timer.</span></p><h2 class="c85" id="h.3mj2wkv"><span class="c0">4.6 </span><span class="c25">Client states</span></h2><p class="c2"><span class="c0">At any given point in time, a client may be in one of </span><span class="c37">5 different states</span><span class="c0">. Transition through these states is governed by a strictly coordinated sequence of packets between client and server/gateway and further mediated by timers resident on the gateway. A client is in the </span><span class="c0 c53">active </span><span class="c0">state when the server/gateway receives a CONNECT packet from that client. This state is supervised by the server/gateway with the &ldquo;keep alive&rdquo; timer. If the server/gateway does not receive any packet from the client for a period longer than the keep alive duration (indicated in the CONNECT packet), the gateway will consider that client as </span><span class="c0 c53">lost </span><span class="c0">and activates for example the Will feature for that client. A client goes to the </span><span class="c0 c53">disconnected </span><span class="c0">state when the server/gateway receives a DISCONNECT without a </span><span class="c0 c53">session expiry interval</span><span class="c0">&nbsp;field. This state is not time-supervised by the server/gateway. A client moves into the asleep state by issuing a DISCONNECT with a </span><span class="c0 c53">session expiry interval</span><span class="c3 c0">&nbsp;field. For more information on the sleep state, please refer to the &ldquo;Sleeping clients&rdquo; section.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><a id="t.79c6e00c1ff8e3006ee6fc3d81e724dca739cd64"></a><a id="t.58"></a><table class="c120"><tr class="c9"><td class="c17 c531" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">State</span></p></td><td class="c326 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">State Description</span></p></td><td class="c202 c17" colspan="1" rowspan="1"><p class="c38"><span class="c3 c37">Possible Transitions</span></p><sup><a href="#cmnt95" id="cmnt_ref95">[cq]</a></sup></td></tr><tr class="c9"><td class="c189" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">DISCONNECTED</span></p></td><td class="c326" colspan="1" rowspan="1"><p class="c2"><span class="c0">The client is considered offline. The GW may or may not have a previous session state for this client. From here a client may transition ONLY to the </span><span class="c37">ACTIVE</span><span class="c3 c0">&nbsp;state.</span></p></td><td class="c202" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">ACTIVE</span></p></td></tr><tr class="c9"><td class="c189" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">ACTIVE</span></p></td><td class="c326" colspan="1" rowspan="1"><p class="c2"><span class="c0">The client is actively engaged in the session. It should be able to send and receive packets. Its state is supervised by the GW with the associated &ldquo;keep alive&rdquo; timers. From here the client may transition to </span><span class="c37">ASLEEP</span><span class="c0">&nbsp;(by way of DISCONNECT with a session expiry interval &gt; 0), </span><span class="c37">DISCONNECTED</span><span class="c3 c0">&nbsp;(by way of DISCONNECT with a session expiry of 0) or LOST (by way of supervised gateway timers).</span></p></td><td class="c202" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">ASLEEP DISCONNECTED</span></p><p class="c2"><span class="c3 c37">LOST</span></p></td></tr><tr class="c9"><td class="c189" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">ASLEEP</span></p></td><td class="c326" colspan="1" rowspan="1"><p class="c2"><span class="c0">The client is engaged in an ongoing session. It cannot receive packets; it can send packets. The GW should not expect a response from the client in this state until further packets are received from the client. From here the client may transition to </span><span class="c37">AWAKE</span><span class="c0">&nbsp;(by way of PINGREQ), </span><span class="c37">ACTIVE</span><span class="c0">&nbsp;by way of CONNECT, </span><span class="c37">DISCONNECTED</span><span class="c0">&nbsp;(by way of DISCONNECT with a session expiry of 0) or </span><span class="c37">LOST</span><span class="c0">&nbsp;(</span><span class="c0">by way of supervised gateway timers</span><sup><a href="#cmnt96" id="cmnt_ref96">[cr]</a></sup><span class="c3 c0">).</span></p></td><td class="c202" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">AWAKE</span></p><p class="c2"><span class="c3 c37">ACTIVE</span></p><p class="c2"><span class="c3 c37">DISCONNECTED</span></p><p class="c2"><span class="c3 c37">LOST</span></p></td></tr><tr class="c9"><td class="c189" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">AWAKE</span></p></td><td class="c326" colspan="1" rowspan="1"><p class="c2"><span class="c0">The client is partially engaged in an ongoing session; it is obliged to not send ANY packets other than those involved in the receipt of PUBLISH packets (PUBACK, PUBREC, PUBCOMP, REGACK) or a DISCONNECT to transition to </span><span class="c37">DISCONNECTED</span><span class="c0">. The client transitions back to the </span><span class="c37">ASLEEP</span><span class="c0">&nbsp;state on receipt of a PINGRESP packet or </span><span class="c37">LOST</span><span class="c0">&nbsp;(</span><span class="c0">by way of supervised gateway timers</span><sup><a href="#cmnt97" id="cmnt_ref97">[cs]</a></sup><span class="c3 c0">).</span></p></td><td class="c202" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">ASLEEP</span></p><p class="c2"><span class="c3 c37">DISCONNECTED</span></p><p class="c2"><span class="c3 c37">LOST</span></p></td></tr><tr class="c9"><td class="c189" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">LOST</span></p></td><td class="c326" colspan="1" rowspan="1"><p class="c2"><span class="c0">The client is considered offline and not able to receive packets until it has re-established a session with the GW by way of a CONNECT. The GW </span><span class="c37">must not</span><span class="c0">&nbsp;attempt to send packets to a client in the </span><span class="c37">LOST </span><span class="c0">state</span><span class="c37">. </span><span class="c0">Any packets received from a client whose state is</span><span class="c37">&nbsp;LOST </span><span class="c0">should not be processed and a DISCONNECT with error should be sent in response</span><span class="c0">, unless the packets received are PUBLISH OUT OF BAND or PUBLISH -1.</span><span class="c0">&nbsp;</span><span class="c0">Session state may exist on the GW for a client in the </span><span class="c37">LOST</span><span class="c0">&nbsp;state.</span><sup><a href="#cmnt98" id="cmnt_ref98">[ct]</a></sup><sup><a href="#cmnt99" id="cmnt_ref99">[cu]</a></sup><sup><a href="#cmnt100" id="cmnt_ref100">[cv]</a></sup><sup><a href="#cmnt101" id="cmnt_ref101">[cw]</a></sup></p></td><td class="c202" colspan="1" rowspan="1"><p class="c2"><span class="c3 c37">ACTIVE</span></p></td></tr></table><p class="c2 c51"><span class="c3 c0"></span></p><p class="c38"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 549.25px; height: 411.70px;"><img alt="Diagram

Description automatically generated" src="images/image7.png" style="width: 549.25px; height: 411.70px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c139 c497"><span class="c0">Figure 4: &nbsp;Client&rsquo;s state transition diagram</span><sup><a href="#cmnt102" id="cmnt_ref102">[cx]</a></sup></p><h2 class="c85" id="h.21od6so"><span class="c25">4.7 Session state</span></h2><p class="c2"><span class="c3 c0">Sessions are maintained by both the Client and a Gateway. Sessions typically include (but are not limited to):</span></p><ul class="c113 lst-kix_list_12-0"><li class="c182 c81 c103 li-bullet-8"><span class="c3 c0">Client Identifier</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Last packet received timestamp</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Keep Alive value</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Session Expiry Interval value</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Outbound unconfirmed application messages</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Inbound unconfirmed application messages</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Buffered messages from the broker</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Registered topic alias dictionary (normal topic alias&rsquo;s)</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Confirmed subscriptions with their granted QoS</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Network address of Gateway (in the case of clients).</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Network address of Client (in the case of gateways).</span></li><li class="c56 c81 c103 li-bullet-8"><span class="c3 c0">Next outbound packet identifier</span></li></ul><p class="c311 c139 c103 c51"><span class="c3 c0"></span></p><h2 class="c85" id="h.gtnh0h"><span class="c0">4.8 </span><span class="c25">Clean start</span></h2><p class="c182 c139 c307 c194"><span class="c0">With MQTT, when a client disconnects, its subscriptions are retained for a period of time</span><span class="c3 c0">. They are persistent and valid for new Virtual Connections, until either they are explicitly un-subscribed by the client, or the client establishes a new Virtual Connection with the &ldquo;clean start&rdquo; flag set or their idle time exceeds the session expiry interval associated with the session.</span></p><p class="c182 c139 c194 c51 c307"><span class="c3 c0"></span></p><p class="c139 c41 c184 c364"><span class="c3 c0">In MQTT-SN the meaning of a &ldquo;clean start&rdquo; is extended to the Will feature, i.e. not only the subscriptions are persistent, but also the Will topic and the Will packet. The two flags &ldquo;CleanStart&rdquo; and &ldquo;Will&rdquo; in the CONNECT have then the following meanings:</span></p><ul class="c113 lst-kix_list_9-0 start"><li class="c65 c349 c195 li-bullet-6"><span class="c3 c0">CleanStart=true, Will=true: The GW will delete all subscriptions and Will data related to the client, and starts prompting for new Will topic and Will packet.</span></li><li class="c65 c349 c195 li-bullet-6"><span class="c3 c0">CleanStart=true, Will=false: The GW will delete all subscriptions and Will data related to the client, and returns CONNACK (no prompting for Will topic and Will packet).</span></li><li class="c65 c349 c195 li-bullet-6"><span class="c0">CleanStart=false, Will=true: The GW keeps all stored client&rsquo;s data, </span><span class="c0">but prompts for new Will topic and Will packet</span><sup><a href="#cmnt103" id="cmnt_ref103">[cy]</a></sup><span class="c3 c0">. The newly received Will data will overwrite the stored Will data.</span></li><li class="c349 c139 c195 c443 li-bullet-6"><span class="c3 c0">CleanStart=false, Will=false: The GW keeps all stored client&rsquo;s data and returns CONNACK (no prompting for Will topic and Will packet).</span></li></ul><p class="c443 c139 c195 c51 c448"><span class="c3 c0"></span></p><p class="c402 c139 c41 c184"><span class="c3 c0">Note that if a client wants to delete only its Will data at Virtual Connection setup, it could send a CONNECT packet with &ldquo;CleanStart=false&rdquo; and &ldquo;Will=true&rdquo;, and sends an empty WILLTOPIC packet to the GW when prompted to do so. It could also send a CONNECT packet with &ldquo;CleanStart=false&rdquo; and &ldquo;Will=false&rdquo; and use the will update PACKETS to modify the Will data.</span></p><h2 class="c85" id="h.30tazoa"><span class="c25">4.9 Procedure for updating the Will data</span></h2><p class="c2 c41 c194"><span class="c0">At any time during a Virtual Connection a client could update its Will data stored in the gateway by sending a </span><span class="c0">WILLTOPICUPD or a WILLMSGUPD packet</span><sup><a href="#cmnt104" id="cmnt_ref104">[cz]</a></sup><span class="c3 c0">. The information contained in these two packets will overwrite the corresponding ones stored in the gateway. Both packets are acknowledged by the gateway. Both packets can be used independently from each other.</span></p><p class="c2 c41 c194 c51"><span class="c3 c0"></span></p><p class="c192 c139 c184 c195"><span class="c3 c0">Note that an empty WILLTOPICUPD packet will delete both the Will topic and Will packet stored at the gateway.</span></p><h2 class="c85" id="h.1fyl9w3"><span class="c25">4.10 Topic Name and Topic Filter Registration Procedure</span></h2><p class="c2"><span class="c3 c0">Because of the limited bandwidth and the small packet payload in wireless sensor networks, data is not published together with its topic name as in MQTT. A registration procedure is introduced which allows both a client and a GW to inform its peer about the short topic alias and its corresponding topic name before it can start sending PUBLISH packets using the short topic alias.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c41 c194"><span class="c3 c0">A topic alias is a two-byte long replacement of the string-based topic name. A client needs to use the REGISTER procedure to inform the gateway about the topic name it wants to employ and gets from the gateway the corresponding topic alias. It then will use this topic alias in the PUBLISH packets it sends to the gateway. In the opposite direction, the PUBLISH packets also contain a 2-byte topic alias (instead of the string-based topic name). The client is informed about the relation between topic alias and topic name by means of either a former SUBSCRIBE procedure, or a REGISTER procedure started by the gateway.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0">To register a topic name a client sends a REGISTER packet to the GW. If the registration could be accepted, the gateway assigns a </span><span class="c0 c53">topic alias </span><span class="c3 c0">to the received topic name and returns it with a REGACK packet to the client. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">If the client initiates a REGISTER against a topic which is known by the gateway to have a predefined topic alias associated with it, it is an error case, but one which should not be terminal to the session since firmware updates could lead to this scenario. The gateway will specify its topic alias type to be predefined and set the topic alias value to match that defined on the gateway in the REGACK, it will also set an ERROR reason code on the REGACK to indicate the issue. The client can then choose to update its registry of predefined topic alias&rsquo; if it so wishes. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45">Predefined topicId values CANNOT be used interchangeably with the NORMAL alias type. This is considered a protocol violation.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0">If there are no predefined topic alias&rsquo;, the gateway will pass back a NORMAL topic alias type. If the registration could not be accepted, a REGACK is also returned to the client with the failure reason encoded in the </span><span class="c0 c53">ReasonCode</span><span class="c3 c0">&nbsp;field.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0">After having received the REGACK packet with </span><span class="c0 c53">ReasonCode =&ldquo;accepted&rdquo;</span><span class="c0">, the client shall use the assigned </span><span class="c0 c53">topicId </span><span class="c0">to publish data of the corresponding topic name. If, however the REGACK contains a rejection code, the client may try to register later again. If the Reason Code was </span><span class="c0 c53">&ldquo;Congestion&rdquo;</span><span class="c0">, the client should wait for a time </span><span class="c0 c53">T</span><span class="c0 c53 c174">WAIT </span><span class="c3 c0">before restarting the registration procedure.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">At any point in time a client may have only one REGISTER packet outstanding, i.e., it must wait for a REGACK packet before it can register another topic name.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0">A GW sends a REGISTER packet to a client if it wants to inform that client about the topic name and the assigned topic alias that it will use later when sending PUBLISH packets of the corresponding topic name. This happens for example when no prior registrations exists, or when the client has DISCONNECTED with retail registration false, or the client re-connects without having set the &ldquo;CleanStart&rdquo; flag or the client has subscribed to topic names that contain wildcard characters such as # or +. </span></p><p class="c2 c57"><span class="c3 c37">Informative comment</span></p><p class="c2 c57"><span class="c0 c64">The gateway should attempt to make the best effort to reuse the same topic alias&rsquo; mappings that existed during any initial associated ACTIVE states.</span><sup><a href="#cmnt105" id="cmnt_ref105">[da]</a></sup><span class="c3 c0">&nbsp;</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h2 class="c67" id="h.3zy8sjw"><span class="c25">4.11 Topic Name and Topic Filter Mapping and Aliasing</span></h2><p class="c2"><span class="c0 c45">On the gateway the mapping table between registered topic ids and topic names MUST be implemented per client (and not by a single shared pool between all clients), to reduce the risk of an incorrect topic id from a client matching another client&rsquo;s valid topic.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c0">For performance and efficiency reasons the broker may choose to align topic alias&rsquo; for registered normal topic aliases between multiple clients. The mapping table of predefined topic aliases is separate from normal registered aliases. It is global and shared between all clients and gateways and may overlap with registered aliases, since it is in a different pool.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h2 class="c85" id="h.2f3j2rp"><span class="c0">4</span><span>.</span><span class="c25">12 Pre-defined topic alias&rsquo; and short topic names</span></h2><p class="c2 c41 c194 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c0">A &ldquo;pre-defined&rdquo; topic alias is a topic alias who&rsquo;s mapping to a topic name is known in advance by both the client&rsquo;s application and the gateway. This is indicated in the </span><span class="c0 c53">Flags </span><span class="c0">field of the packet. When using pre-defined topic alias&rsquo;, both sides can start immediately with the sending of PUBLISH packets; there is no need for the REGISTER procedure as in the case of &rdquo;normal&rdquo; topic alias&rsquo;. When receiving a PUBLISH packet with a pre-defined topic alias, of which the mapping to a topic name is unknown, the receiver should return a PUBACK with the </span><span class="c0 c53">ReasonCode= &ldquo;</span><span class="c0 c53">Rejection: invalid topic </span><span class="c0">alias</span><span class="c0 c53">&rdquo;</span><span class="c3 c0">.</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c0 c45">The presence of a pre-defined topic alias does not imply any other meaning onto the topic name / topic filter itself. All lifecycle operations, for example SUBSCRIBE / UNSUBSCRIBE may still be used in the use of these aliases except for REGISTER.</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c41 c123"><span class="c3 c0">A &ldquo;short&rdquo; topic name is a topic name that has a fixed length of two bytes. It could be carried together with the data within a PUBLISH packet, thus no REGISTER procedure is needed for a short topic name. Otherwise, all rules that apply to normal topic names also apply to short topic names. Note however that it does not make sense to do wildcarding in subscriptions to short topic names, because it is not possible to define a meaningful name hierarchy with only two characters.</span></p><h2 class="c85 c41" id="h.u8tczi"><span class="c25">4.13 Client&rsquo;s Topic Subscribe/Unsubscribe Procedure</span></h2><p class="c139 c41 c194 c419"><span class="c0">To subscribe to a topic name, a client sends a SUBSCRIBE packet to the gateway with the topic name included in that packet. If the gateway is able accept the subscription, it assigns a topic alias to the received topic name and returns it within a SUBACK packet to the client. If the subscription cannot be accepted, then a SUBACK packet is also returned to the client with the rejection cause encoded in the </span><span class="c0 c53">ReasonCode </span><span class="c0">field. </span><span class="c0">If the rejection cause is </span><span class="c0 c53">&ldquo;Congestion&rdquo;</span><sup><a href="#cmnt106" id="cmnt_ref106">[db]</a></sup><span class="c0">, the client should wait for the time </span><span class="c0 c53">T</span><span class="c0 c53 c174">WAIT </span><span class="c3 c0">before resending the SUBSCRIBE packet to the gateway.</span></p><p class="c419 c139 c41 c194 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c3 c0">If the client subscribes to a topic name which contains a wildcard character, the returning SUBACK packet will contain the topic alias value 0x0000. The GW will the use the registration procedure to inform the client about the to-be-used topic alias value when it has the first PUBLISH packet with a matching topic name to be sent to the client.</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c3 c0">Similar to the client&rsquo;s PUBLISH procedure, topic alias&rsquo; may also be pre-defined for certain topic names. Short topic names may be used as well. In those two cases the client still needs to subscribe to those pre-defined topic alias&rsquo; or short topic names.</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c3 c0">To unsubscribe, a client sends an UNSUBSCRIBE packet to the gateway, which will then be answered by means of an UNSUBACK packet.</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c2 c41 c184"><span class="c3 c0">As for the REGISTER procedure, a client may have only one SUBSCRIBE or one UNSUBSCRIBE transaction open at a time.</span></p><p class="c2 c321 c184 c195 c51"><span class="c3 c0"></span></p><h2 class="c85" id="h.3e8gvnb"><span class="c25">4.14 Client&rsquo;s Publish Procedure</span></h2><p class="c182 c139 c41 c194"><span class="c3 c0">After having registered successfully a topic name with the gateway, the client can start publishing data relating to the registered topic name by sending PUBLISH packets to the gateway. The PUBLISH packets contain the assigned topic alias.</span></p><p class="c182 c139 c41 c184"><span class="c3 c0">All three QoS levels and their corresponding packet flows are supported as defined in MQTT. The only difference is the use of topic alias&rsquo; instead of topic names in the PUBLISH packets.</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c2 c41 c184"><span class="c3 c0">Regardless of the requested QoS level the client may receive in response to its PUBLISH a PUBACK packet which contains either:</span></p><p class="c2 c41 c184 c51"><span class="c3 c0"></span></p><ul class="c113 lst-kix_list_7-0 start"><li class="c65 c41 c349 li-bullet-16"><span class="c0">The </span><span class="c0 c53">ReasonCode= &ldquo;</span><span class="c0 c53">Rejection: invalid topic </span><span class="c0">alias</span><span class="c0 c53">&rdquo;</span><span class="c3 c0">: in this case the client needs to register the topic name again before it can publish data related to that topic name; or</span></li><li class="c139 c41 c337 li-bullet-5"><span class="c0">The </span><span class="c0 c53">ReasonCode= &ldquo;Congestion&rdquo;</span><span class="c0">: in this the client shall stop publishing toward the gateway for at least the time </span><span class="c0 c53">T</span><span class="c0 c53 c174">WAIT</span><span class="c3 c0">.</span></li><li class="c337 c139 c41 c51 li-bullet-6"><span class="c3 c0"></span></li></ul><p class="c192 c139 c41 c184"><span class="c3 c0">At any point in time a client may have only one QoS level 1 or 2 PUBLISH packet outstanding in each direction; i.e. it has to wait for the termination of this PUBLISH packet exchange before it could start a new level 1 or 2 transaction</span></p><h2 class="c85" id="h.1tdr5v4"><span class="c25">4.15 Gateway&rsquo;s Publish Procedure</span></h2><p class="c182 c139 c41 c194"><span class="c3 c0">Like the client&rsquo;s PUBLISH procedure described in Section 3.14, the gateway sends PUBLISH packets with the topic alias value that was returned in the SUBACK packet to the client.</span></p><p class="c182 c139 c41 c194 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c3 c0">Preceding the PUBLISH packet the GW may send a REGISTER packet to inform the client about the topic name and its assigned topic alias value. This will happen for example when the client re-connects without clean start or has subscribed to topic names with wildcard characters. Upon receiving a REGISTER packet the client replies with a REGACK packet. The GW will wait for the REGACK packet before it sends the PUBLISH packet to the client.</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c3 c0">The client could reject the REGISTER packet with a REGACK packet indicating the rejection reason; this corresponds to an unsubscribe to the topic name indicated in the REGISTER packet. Note that unsubscribe to a topic name with wildcard characters can only be done with the unsubscribe procedure &nbsp; &nbsp; and not with the rejection of a REGISTER packet, since a REGISTER packet never contains a topic name with wildcard characters.</span></p><p class="c419 c139 c41 c184"><span class="c0">If the client receives a PUBLISH packet with an unknown topic alias value, it shall respond with a PUBACK packet with the </span><span class="c0 c53">ReasonCode=&ldquo;</span><span class="c0 c53">Rejected: invalid topic alias</span><span class="c0 c53">&rdquo;</span><span class="c3 c0">. This will trigger the gateway to delete or correct the wrong topic alias assignment.</span></p><p class="c419 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c192 c139 c41 c184"><span class="c3 c0">Note that in case either the topic name or the data is too long to fit into a REGISTER or a PUBLISH packet, the gateway silently aborts the publish procedure, i.e. no warning is sent to the affected subscribers.</span></p><h2 class="c85" id="h.4ddeoix"><span class="c25">4.16 Keep Alive and PING Procedure</span></h2><p class="c182 c139 c41 c194"><span class="c3 c0">As with MQTT, the value of the Keep Alive timer is indicated in the CONNECT packet. The client should send a PINGREQ packet within each Keep Alive time period, which the GW acknowledges with a PINGRESP packet.</span></p><p class="c182 c139 c41 c194 c51"><span class="c3 c0"></span></p><p class="c182 c139 c41 c184"><span class="c3 c0">Similarly, a client shall answer with a PINGRESP packet when it receives a PINGREQ packet from the GW to which it is connected. Otherwise, the received PINGREQ packet is ignored.</span></p><p class="c182 c139 c41 c184 c51"><span class="c3 c0"></span></p><p class="c192 c139 c41 c184"><span class="c3 c0">Clients should use this procedure to supervise the liveliness of the gateway to which they are connected. If a client does not receive a PINGRESP from the gateway even after multiple retransmissions of the PINGREQ packet, it should first try to connect to another gateway before trying to reconnect to this gateway. Note that because the clients&rsquo; keep-alive timers are not synchronized with each other, in case of a gateway failure there is practically no danger for a storm of CONNECT packets sent almost at the same time by all affected clients towards a new gateway.</span></p><h2 class="c85 c41" id="h.2sioyqq"><span class="c25">4.17 Client&rsquo;s Disconnect Procedure</span></h2><p class="c182 c139 c41 c194"><span class="c0">A client sends a DISCONNECT packet to the GW to indicate that it is about to close its </span><span class="c0">Virtual C</span><span class="c0">onnection. After this point, the client is then required to establish a new </span><span class="c0">Virtual C</span><span class="c0">onnection with the GW before it can exchange information with that GW again. </span><span class="c0 c45">Like MQTT, sending the DISCONNECT packet does not affect existing subscriptions and Will data. They are persistent until they are either expired or explicitly un-subscribed, or deleted, or modified by the client, or if the client establishes a new Virtual Connection with the CleanStart flag set.</span><span class="c3 c0">&nbsp;The gateway acknowledges the receipt of the DISCONNECT packet by returning a DISCONNECT to the client.</span></p><p class="c182 c139 c41 c194 c51"><span class="c3 c0"></span></p><p class="c2 c41 c184"><span class="c0">A client may also receive an unsolicited DISCONNECT sent by the gateway. This may happen for example when the gateway, due to an error, cannot identify the client to which a received packet belongs. Upon receiving such a DISCONNECT packet a client should retry to setup the </span><span class="c0">Virtual C</span><span class="c3 c0">onnection again by sending a CONNECT packet to the gateway.</span></p><p class="c2 c41 c184 c51"><span class="c3 c0"></span></p><h2 class="c85 c41" id="h.17nz8yj"><span class="c25">4.18 Client&rsquo;s Retransmission Procedure</span></h2><p class="c139 c41 c149"><span class="c0">All packets that are &ldquo;</span><span class="c0">unicasted</span><sup><a href="#cmnt107" id="cmnt_ref107">[dc]</a></sup><span class="c0">&rdquo; to the GW (i.e. sent using the GW&rsquo;s unicast address</span><span class="c0">&nbsp;and not broadcasted</span><span class="c0">) and for which a GW&rsquo;s reply is expected are supervised by a retry timer </span><span class="c0 c53">T</span><span class="c0 c53 c174">retry </span><span class="c0">and a retry counter </span><span class="c0 c53">N</span><span class="c0 c53 c174">retry</span><span class="c0">. The retry timer </span><span class="c0 c53">T</span><span class="c0 c53 c174">retry </span><span class="c0">is started by the client when the packet is sent and stopped when the expected GW&rsquo;s reply is received. If </span><span class="c0 c53">T</span><span class="c0 c53 c174">retry </span><span class="c0">times out and the expected GW&rsquo;s reply is not received, the client retransmits the packet. After </span><span class="c0 c53">N</span><span class="c0 c53 c174">retry </span><span class="c0">retransmissions, the client aborts the procedure and assumes that the MQTT-SN gateway is no longer available.</span><span class="c0">&nbsp;It should then try to connect to another gateway.</span><sup><a href="#cmnt108" id="cmnt_ref108">[dd]</a></sup><sup><a href="#cmnt109" id="cmnt_ref109">[de]</a></sup><sup><a href="#cmnt110" id="cmnt_ref110">[df]</a></sup><sup><a href="#cmnt111" id="cmnt_ref111">[dg]</a></sup></p><h2 class="c139 c94 c161" id="h.3rnmrmc"><span class="c25">4.19 Sleeping clients</span></h2><p class="c2"><span class="c0 c53">Sleeping </span><span class="c3 c0">clients are clients residing on (battery-operated) devices that want to save as much energy as possible. These devices need to enter a sleep mode whenever they are not active and will wake up whenever they have data to send or to receive. The server/gateway needs to be aware of the sleeping state of these clients and will buffer messages destined to them for later delivery when they wake up. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0">If a client wants to sleep, it sends a DISCONNECT packet which contains a sleep session expiry interval. The server/gateway acknowledges that packet with a DISCONNECT packet and considers the client for being in </span><span class="c0 c53">asleep </span><span class="c0">state. The </span><span class="c0 c53">asleep </span><span class="c0">state is supervised by the server/gateway with the indicated sleep session expiry interval. If the server/gateway does not receive any packet from the client for a period longer than the sleep session expiry interval, the server/gateway will consider that client as </span><span class="c0 c53">lost </span><span class="c3 c0">and - as with the keep alive procedure - activates for example the Will feature. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45">During the </span><span class="c0 c53 c45">asleep </span><span class="c0 c45">state, packets that need to be sent to the client are buffered at the server/gateway. The gateway MUST buffer application messages of quality-of-service 1 &amp; 2.</span><span class="c3 c0">&nbsp;</span></p><p class="c2 c57 c51"><span class="c3 c37"></span></p><p class="c2 c57"><span class="c3 c37">Informative comment</span></p><p class="c2 c57"><span class="c0">The gateway may </span><span class="c0 c53">choose</span><span class="c3 c0">&nbsp;to buffer messages of Quality-of-Service 0, whilst the client is sleeping and is within it&rsquo;s session expiry interval.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c64">The sleep timer is stopped when the server/gateway receives a PINGREQ from the client. Like the CONNECT </span><span class="c0">packet</span><span class="c0 c64">, this PINGREQ </span><span class="c0">packet</span><span class="c0 c64">&nbsp;contains the </span><span class="c0 c53 c64">Client Id</span><span class="c0 c64">. The identified client is then in the </span><span class="c0 c53 c64">awake </span><span class="c0 c64">state. If the server/gateway has buffered </span><span class="c0">packet</span><span class="c0 c64">s for the client, it will send these </span><span class="c0">packet</span><span class="c3 c0">s to the client, acknowledging the max-receive value sent in the PINGREQ packet. If the number of messages buffered on the gateway queue exceeds the value specified by the client in the max-receive field, the gateway shall send only the max-receive value number of messages, and cut short the AWAKE cycle, responding with a PINGRESP with a messages-left value of either the number of messages remaining in the gateway buffer or 0xFFFF (meaning undetermined number of messages greater than 0 remaining).</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45 c64">During the AWAKE state, for each </span><span class="c0 c45">packet</span><span class="c0 c45 c64">&nbsp;the gateway sends to the client, the </span><span class="c0 c45">application messages&rsquo;</span><span class="c0 c45 c64">&nbsp;quality of service shall be </span><span class="c0 c45">honored</span><span class="c0 c45 c64">, and a full </span><span class="c0 c45">packet</span><span class="c0 c45 c64">&nbsp;interaction shall take place including all normative phases of acknowledgement, including any associated retransmission logic.</span><span class="c0 c64">&nbsp;If, during the delivery of application messages from the gateway to the client, </span><span class="c0 c64">the gateway detects a timeout in the delivery,</span><sup><a href="#cmnt112" id="cmnt_ref112">[dh]</a></sup><span class="c3 c0">&nbsp;it should transition the client state to LOST and a DISCONNECT packet with error sent to the device.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c64">The transfer of </span><span class="c0">packet</span><span class="c0 c64">s to the client is closed by the server/gateway by means of a PINGRESP </span><span class="c0">packet</span><span class="c0 c64">, i.e. the server/gateway will consider the client as </span><span class="c0 c53 c64">asleep </span><span class="c0 c64">and restart the sleep timer again after having sent the PINGRESP </span><span class="c0">packet</span><span class="c0 c64">. If the server/gateway does not have any </span><span class="c0">packet</span><span class="c0 c64">s buffered for the client, it answers immediately with a PINGRESP </span><span class="c0">packet</span><span class="c0 c64">, returns the client back to the </span><span class="c0 c53 c64">asleep </span><span class="c3 c0">state, and restarts the sleep timer for that client. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c64">After having sent the PINGREQ to the server/gateway, the client uses the &ldquo;retransmission procedure&rdquo; of section </span><span class="c0">3.18</span><span class="c0 c64">&nbsp;to supervise the arrival of </span><span class="c0">packet</span><span class="c0 c64">s sent by the server/gateway, i.e. it restarts timer T</span><span class="c0 c64 c353">retry </span><span class="c0 c64">when it receives a </span><span class="c0">packet</span><span class="c0 c64">&nbsp;other than a PINGRESP, and stops it when it receives a PINGRESP. The PINGREQ </span><span class="c0">packet</span><span class="c0 c64">&nbsp;is retransmitted, and timer T</span><span class="c0 c64 c353">retry </span><span class="c0 c64">restarted when timer T</span><span class="c0 c64 c353">retry </span><span class="c0 c64">times out. To avoid a flattening of its battery due to excessive retransmission of the PINGREQ </span><span class="c0">packet</span><span class="c0 c64">&nbsp;(e.g. if it loses the gateway), the client should limit the retransmission of the PINGREQ </span><span class="c0">packet</span><span class="c0 c64">&nbsp;(e.g. by a retry counter) and go back to sleep when the limit is reached and it still does not receive a PINGRESP </span><span class="c0">packet</span><span class="c3 c0">. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c64">From the </span><span class="c0 c53 c64">asleep </span><span class="c0 c64">or </span><span class="c0 c53 c64">awake </span><span class="c0 c64">state, a client can return either to the </span><span class="c0 c53 c64">active </span><span class="c0 c64">state by sending a CONNECT </span><span class="c0">packet</span><span class="c0 c64">&nbsp;or to the </span><span class="c0 c53 c64">disconnected </span><span class="c0 c64">state by sending a normal DISCONNECT </span><span class="c0">packet</span><span class="c0 c64">&nbsp;(i.e. without </span><span class="c0">session expiry interval </span><span class="c0 c64">field)</span><sup><a href="#cmnt113" id="cmnt_ref113">[di]</a></sup><span class="c0 c64">. </span><span class="c0 c64">The client can also modify its sleep configuration by sending a DISCONNECT </span><span class="c0">packet</span><span class="c0 c64">&nbsp;with a new value of the </span><span class="c0">session expiry interval</span><span class="c0 c64">.</span><sup><a href="#cmnt114" id="cmnt_ref114">[dj]</a></sup><span class="c3 c0">&nbsp;</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c64">Note that a sleeping client should go the </span><span class="c0 c53 c64">awake </span><span class="c0 c64">state only if it just wants to check whether the server/gateway has any </span><span class="c0">messages</span><span class="c0 c64">&nbsp;buffered for it and return as soon as possible to the </span><span class="c0 c53 c64">asleep </span><span class="c0 c64">state without sending any </span><span class="c0">packet</span><span class="c0 c64">s to the server/gateway. Otherwise, it should return to the </span><span class="c0 c53 c64">active </span><span class="c0 c64">state by sending a CONNECT </span><span class="c0">packet</span><span class="c3 c0">&nbsp;to the server/gateway. </span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c45 c64">Topic Alias mappings exist only while a client is active and last for the entire </span><span class="c0 c45">session expiry interval </span><span class="c0 c45 c64">of the active state. </span><span class="c0 c45 c64">Therefore, the gateway must re-register any topic alias&rsquo;s during the AWAKE state, which will last until the last PINGRESP is issued</span><sup><a href="#cmnt115" id="cmnt_ref115">[dk]</a></sup><span class="c0 c45 c64">.</span><span class="c3 c0">&nbsp;</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c57"><span class="c37 c36">Inf</span><span class="c3 c37 c36">ormative comment</span></p><p class="c2 c57"><span class="c3 c0 c36">The gateway should attempt to make the best effort to reuse the same topic alias&rsquo; mappings that existed during any initial associated ACTIVE states. </span></p><p class="c2 c57 c51"><span class="c3 c0"></span></p><p class="c56 c139 c414"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 307.03px; height: 446.73px;"><img alt="sleeping-client-v1.0.png" src="images/image6.png" style="width: 307.03px; height: 446.73px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><sup><a href="#cmnt116" id="cmnt_ref116">[dl]</a></sup></p><p class="c54 c321 c184 c529"><span class="c0">Figure 5: </span><span class="c0">Awake ping packet flush</span><sup><a href="#cmnt117" id="cmnt_ref117">[dm]</a></sup><sup><a href="#cmnt118" id="cmnt_ref118">[dn]</a></sup></p><h2 class="c67" id="h.26sx1u5"><span class="c0">4.20 </span><span class="c0">Authentication</span><sup><a href="#cmnt119" id="cmnt_ref119">[do]</a></sup></h2><p class="c2"><span class="c3 c0">Authentication involves the exchange of AUTH packets between the Client and the Server after the CONNECT and before the CONNACK packets.</span></p><p class="c2"><span class="c3 c0">To begin an authentication exchange, the Client sets the AUTH flag in the CONNECT packet. It then sends an AUTH packet with an Authentication Method. This specifies the authentication method to use. If the Server does not support the Authentication Method supplied by the Client, it MAY send a CONNACK with a Reason Code of 0x8C (Bad authentication method) or 0x87 (Not Authorized) and MUST close the Connection.</span></p><p class="c2"><span class="c3 c0">The Authentication Method is an agreement between the Client and Server about the meaning of the data sent in the Authentication Data and any of the other fields in CONNECT, and the exchanges and processing needed by the Client and Server to complete the authentication.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c57"><span class="c37 c36">Inf</span><span class="c3 c37 c36">ormative comment</span></p><p class="c2 c57"><span class="c3 c0 c36">The Authentication Method is commonly a SASL mechanism, using such a registered name aids interchange. However, the Authentication Method is not constrained to using registered SASL mechanisms.</span></p><p class="c2 c57"><span class="c3 c0 c36">If the Authentication Method selected by the Client specifies that the Client sends data first, the Client SHOULD include an Authentication Data property in the AUTH packet. This property can be used to provide data as specified by the Authentication Method. The contents of the Authentication Data are defined by the authentication method.</span></p><p class="c2 c57"><span class="c3 c0 c36">If the Gateway requires additional information to complete the authentication, it can send an AUTH packet to the Client. This packet MUST contain a Reason Code of 0x18 (Continue authentication). If the authentication method requires the Gateway to send authentication data to the Client, it is sent in the Authentication Data.</span></p><p class="c2 c57"><span class="c3 c0 c36">The Client responds to an AUTH packet from the Gateway by sending a further AUTH packet. This packet MUST contain a Reason Code of 0x18 (Continue authentication). If the authentication method requires the Client to send authentication data for the Gateway, it is sent in the Authentication Data.</span></p><p class="c2 c57"><span class="c3 c0 c36">The Client and Server exchange AUTH packets as needed until the Gateway accepts the authentication by sending a CONNACK with a Reason Code of 0. If the acceptance of the authentication requires data to be sent to the Client, it is sent in the Authentication Data.</span></p><p class="c2 c57"><span class="c0 c36">The Client can close the </span><span class="c0">Virtual C</span><span class="c3 c0 c36">onnection at any point in this process by sending a DISCONNECT packet. The Server can reject the authentication at any point in this process by sending a CONNACK with a Reason Code of 0x80 or above as described in section 4.13.</span></p><p class="c2 c57"><span class="c3 c0 c36">The implementation of authentication is OPTIONAL for both Clients and Gateways. If the Client does not include an Authentication Method in the CONNECT, the Gateway MUST NOT send an AUTH packet. If the Client does not set the Authentication Flag in the CONNECT, the Client MUST NOT send an AUTH packet to the Server.</span></p><p class="c2 c57"><span class="c3 c0 c36">If the Client does not set the Authentication Flag in the CONNECT packet, the Server SHOULD authenticate using some or all of the information in the CONNECT packet in conjunction with the underlying transport layer.</span></p><p class="c2 c57"><span class="c37 c36">Inf</span><span class="c37 c36">ormative example showing a user name and password authentication</span><span class="c3 c0 c36">:</span></p><p class="c2 c57"><span class="c3 c0 c36">&middot; Client to Gateway: CONNECT Authentication Flag=1 Authentication Data=client-first-data</span></p><p class="c2 c57"><span class="c3 c0 c36">&middot; Client to Gateway: AUTH rc=0x01 Authentication Method=&quot;PLAIN&quot; Authentication Data=client-first-data</span></p><p class="c2 c57"><span class="c3 c0 c36">&middot; Gateway to Gateway CONNACK rc=0</span></p><p class="c2 c57 c51"><span class="c3 c0 c36"></span></p><p class="c2"><span class="c3 c0">Where client-first data is the content of the SASL PLAIN message as described in RFC 4616:</span></p><p class="c2"><span class="c0 c53">The mechanism consists of a single message, a string of&nbsp;[UTF-8]</span><span class="c0">&nbsp;</span><span class="c0 c53">encoded&nbsp;[Unicode]&nbsp;characters, from the client to the server. The[UTF-8]</span><span class="c0">&nbsp;</span><span class="c0 c53">client presents the authorization identity (identity to act as),</span><span class="c0">&nbsp;</span><span class="c0 c53">followed by a NUL (U+0000) character, followed by the authentication</span><span class="c0">&nbsp;</span><span class="c0 c53">identity (identity whose password will be used), followed by a NUL</span><span class="c0">&nbsp;</span><span class="c0 c53">(U+0000) character, followed by the clear-text password. As with</span><span class="c0">&nbsp;</span><span class="c0 c53">other SASL mechanisms, the client does not provide an authorization identity when it wishes the server to derive an identity from the</span><span class="c0">&nbsp;</span><span class="c0 c53">credentials and use that as the authorization identity.</span></p><h2 class="c67" id="h.ly7c1y"><span class="c25">4.21 Retained Packets</span></h2><p class="c2"><span class="c3 c0">If the RETAIN flag is set to 1 in a PUBLISH packet sent by a Client to a Server, the Server MUST replace any existing retained packet for this topic and store the Publish Data, so that it can be delivered to future subscribers whose subscriptions match its Topic Name. If the Publish Data contains zero bytes it is processed normally by the Server but any retained packet with the same topic name MUST be removed and any future subscribers for the topic will not receive a retained packet. A retained packet with Publish Data containing zero bytes MUST NOT be stored as a retained packet on the Server.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><h2 class="c67" id="h.mo7ahow0t2fa"><span class="c25">4.22 Optional Features</span></h2><p class="c2"><span class="c3 c0">The ADVERTISE, SEARCHGW and GWINFO packet type support is optional. For instance, it is not required if the MQTT-SN Gateway is an Internet node reachable via a public IP address.</span></p><p class="c2"><span class="c3 c0">The Forwarder Encapsulation packet type support is optional. For instance, it is not required if the MQTT-SN Clients are able to reach directly a MQTT-SN Gateway.</span></p><p class="c2"><span class="c3 c0">The PROTECTION packet type support is optional. For instance, it is not required if the MQTT-SN Gateway and the MQTT-SN Clients interact over a secure communication channel, like DTLS or any communication channel assuring the authenticity and optionally the confidentiality protection. </span></p><h1 class="c333 c139 c94" id="h.2k82xt6"><span class="c66 c37">5 Conformance</span></h1><p class="c2"><span class="c0 c45">(</span><span class="c37 c45">Note</span><span class="c0 c45">: The </span><span class="c0 c145 c45 c308"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsConfClause&amp;sa=D&amp;source=editors&amp;ust=1702576998742430&amp;usg=AOvVaw2FVeZ3kydADqMH50LiTl8-">OASIS TC Process</a></span><span class="c3 c0 c45">&nbsp;requires that a specification approved by the TC at the Committee Specification Public Review Draft, Committee Specification or OASIS Standard level must include a separate section, listing a set of numbered conformance clauses, to which any implementation of the specification must adhere in order to claim conformance to the specification (or any optional portion thereof). This is done by listing the conformance clauses here.</span></p><p class="c2"><span class="c0 c45">For the definition of &quot;conformance clause,&quot; see </span><span class="c0 c145 c45 c308"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/oasis-defined-terms-2017-05-26%23dConformanceClause&amp;sa=D&amp;source=editors&amp;ust=1702576998742817&amp;usg=AOvVaw1PARY1u99VT9LCRUjXNRIz">OASIS Defined Terms</a></span><span class="c3 c0 c45">.</span></p><p class="c2"><span class="c0 c45">See &quot;Guidelines to Writing Conformance Clauses&quot;: <br></span><span class="c0 c145 c45 c308"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/TCHandbook/ConformanceGuidelines.html&amp;sa=D&amp;source=editors&amp;ust=1702576998743200&amp;usg=AOvVaw0nCT8w0_C76AP6Lb_iuheT">https://docs.oasis-open.org/templates/TCHandbook/ConformanceGuidelines.html</a></span><span class="c3 c0 c45">.</span></p><p class="c2"><span class="c0 c45">Remove this note before submitting for publication.)</span></p><h1 class="c238 c139 c94" id="h.zdd80z"><span class="c37 c258 c370">Appendix A. References</span></h1><p class="c2"><span class="c3 c0 c45">[Required section.]</span></p><p class="c2"><span class="c3 c0 c45">This appendix contains the normative and informative references that are used in this document.</span></p><p class="c2"><span class="c3 c0 c45">While any hyperlinks included in this appendix were valid at the time of publication, OASIS cannot guarantee their long-term validity.</span></p><p class="c2"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c0 c45">Note: Any normative work cited in the body of the text as needed to implement the work product must be listed in the Normative References section below. Each reference to a separate document or artifact in this work must be listed here and must be identified as either a Normative or an Informative Reference.</span></p><p class="c108"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c0 c45">For all References &ndash; Normative and Informative:</span></p><p class="c108"><span class="c0 c45">Recommended approach: Set up </span><span class="c37 c45">[Reference]</span><span class="c3 c0 c45">&nbsp;label elements as &quot;Bookmarks&quot;, then create hyperlinks to them within the document at locations from which the references are cited. Citations in the body of the text should be hyperlinked to the appropriate Reference entry, not directly to targets which are not a part of this Work Product.</span></p><p class="c108"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c0 c45">The proper format for citation of technical work produced by an OASIS TC (whether Standards Track or Non-Standards Track) is:</span></p><p class="c108"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c37 c45">[Citation Label]</span></p><p class="c108"><span class="c3 c0 c45">Work Product title (italicized). Edited by Albert Alston, Bob Ballston, and Calvin Carlson. Approval date (DD Month YYYY). OASIS Stage Identifier and Revision Number (e.g., OASIS Committee Specification Draft 01). Principal URI (stage-specific URI, e.g., with stage component: somespec-v1.0-csd01.html). Latest stage: (static URI, without stage identifiers, used as a symbolic link to most recently published stage of this Version).</span></p><p class="c108"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c0 c45">For example:</span></p><p class="c108"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c37 c45">[OpenDoc-1.2]</span></p><p class="c108"><span class="c3 c0 c45">Open Document Format for Office Applications (OpenDocument) Version 1.2. Edited by Patrick Durusau and Michael Brauer. 19 January 2011. OASIS Committee Specification Draft 07. https://docs.oasis-open.org/office/v1.2/csd07/OpenDocument-v1.2-csd07.html. Latest stage: https://docs.oasis-open.org/office/v1.2/OpenDocument-v1.2.html.</span></p><p class="c108"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c0 c45">Reference sources:</span></p><p class="c108"><span class="c3 c0 c45">For references to IETF RFCs, use the approved citation formats at:</span></p><p class="c108"><span class="c246 c0 c45"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/ietf-rfc-list/ietf-rfc-list.html&amp;sa=D&amp;source=editors&amp;ust=1702576998744530&amp;usg=AOvVaw1YtaBPOtFE-8qyFRKKfSZp">https://docs.oasis-open.org/templates/ietf-rfc-list/ietf-rfc-list.html</a></span><span class="c3 c0 c45">.</span></p><p class="c108"><span class="c0 c45">The most recent IETF RFC references are listed by the IETF at </span><span class="c246 c0 c45"><a class="c11" href="https://www.google.com/url?q=https://www.rfc-editor.org/in-notes/rfc-ref.txt&amp;sa=D&amp;source=editors&amp;ust=1702576998744750&amp;usg=AOvVaw25MC4t7uJgWGIKVUqP2MHX">https://www.rfc-editor.org/in-notes/rfc-ref.txt</a></span><span class="c3 c0 c45">.</span></p><p class="c108"><span class="c3 c0 c45">For references to W3C Recommendations, use the approved citation formats at:</span></p><p class="c108"><span class="c246 c0 c45"><a class="c11" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/w3c-recommendations-list/w3c-recommendations-list.html&amp;sa=D&amp;source=editors&amp;ust=1702576998745017&amp;usg=AOvVaw0fRdYat77F5CVU5r8WSdsF">https://docs.oasis-open.org/templates/w3c-recommendations-list/w3c-recommendations-list.html</a></span><span class="c3 c0 c45">.</span></p><p class="c108"><span class="c3 c0 c45">Remove this note before submitting for publication.</span></p><p class="c2"><span class="c3 c0 c45">&nbsp;</span></p><h2 class="c67 c57 c355" id="h.2pjpzxrro3v8"><span class="c25">A.1 Normative References</span></h2><p class="c2"><span class="c3 c0 c45">The following documents are referenced in such a way that some or all of their content constitutes requirements of this document.</span></p><p class="c2"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c0 c45">[RFC2119]</span></p><p class="c69"><span class="c0 c45">Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, &lt;</span><span class="c246 c0 c45"><a class="c11" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc2119&amp;sa=D&amp;source=editors&amp;ust=1702576998745571&amp;usg=AOvVaw0Xd-QHMWltFCwDPL57PigL">https://www.rfc-editor.org/info/rfc2119</a></span><span class="c3 c0 c45">&gt;.</span></p><p class="c108"><span class="c3 c0 c45">[RFC8174]</span></p><p class="c69"><span class="c0 c45">Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;, BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017, &lt;</span><span class="c246 c0 c45"><a class="c11" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc8174&amp;sa=D&amp;source=editors&amp;ust=1702576998745846&amp;usg=AOvVaw01MqQRyDoJFvxOL60xh9XR">https://www.rfc-editor.org/info/rfc8174</a></span><span class="c3 c0 c45">&gt;.</span></p><p class="c108"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c0 c45">[Reference]</span></p><p class="c69"><span class="c3 c0 c45">[Full reference citation]</span></p><p class="c2"><span class="c3 c37">[RFC2119]</span></p><p class="c2"><span class="c3 c0">Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, </span></p><p class="c2"><span class="c0 c145"><a class="c11" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc2119&amp;sa=D&amp;source=editors&amp;ust=1702576998746217&amp;usg=AOvVaw3Plrdq3ZAueowD3_7PE5gX">http://www.rfc-editor.org/info/rfc2119</a></span></p><p class="c2 c51"><span class="c3 c0"></span></p><a id="kix.32y02sm2iqny"></a><p class="c2"><span class="c3 c37">[RFC3629]</span></p><p class="c2"><span class="c3 c0">Yergeau, F., &quot;UTF-8, a transformation format of ISO 10646&quot;, STD 63, RFC 3629, DOI 10.17487/RFC3629, November 2003,</span></p><p class="c2"><span class="c0 c145"><a class="c11" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc3629&amp;sa=D&amp;source=editors&amp;ust=1702576998746604&amp;usg=AOvVaw35T9D62xn2iRb9mBHPiamf">http://www.rfc-editor.org/info/rfc3629</a></span></p><p class="c2 c51"><span class="c3 c0"></span></p><a id="kix.51xi25h5vzte"></a><p class="c2"><span class="c3 c37">[RFC6455]</span></p><p class="c2"><span class="c3 c0">Fette, I. and A. Melnikov, &quot;The WebSocket Protocol&quot;, RFC 6455, DOI 10.17487/RFC6455, December 2011,</span></p><p class="c2"><span class="c0 c145"><a class="c11" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc6455&amp;sa=D&amp;source=editors&amp;ust=1702576998746911&amp;usg=AOvVaw3mdFt68N3Olw3jmK4cWaZy">http://www.rfc-editor.org/info/rfc6455</a></span></p><p class="c2 c51"><span class="c3 c0"></span></p><a id="kix.sm86r7ecajs3"></a><p class="c2"><span class="c3 c37">[Unicode]</span></p><p class="c2"><span class="c3 c0">The Unicode Consortium. The Unicode Standard, </span></p><p class="c2"><span class="c0 c145"><a class="c11" href="https://www.google.com/url?q=http://www.unicode.org/versions/latest/&amp;sa=D&amp;source=editors&amp;ust=1702576998747271&amp;usg=AOvVaw3vwJtz_6kFYYYOGZ4032vI">http://www.unicode.org/versions/latest/</a></span></p><p class="c69 c51"><span class="c3 c0 c45"></span></p><p class="c2"><span class="c3 c0 c45">&nbsp;</span></p><h2 class="c67 c57 c355" id="h.wmz8ensz9jqs"><span class="c25">A.2 Informative References</span></h2><p class="c2"><span class="c3 c0 c45">The following referenced documents are not required for the application of this document but may assist the reader with regard to a particular subject area.</span></p><p class="c2"><span class="c3 c0 c45">&nbsp;</span></p><p class="c108"><span class="c3 c0 c45">[RFC3552]</span></p><p class="c69"><span class="c0 c45">Rescorla, E. and B. Korver, &quot;Guidelines for Writing RFC Text on Security Considerations&quot;, BCP 72, RFC 3552, DOI 10.17487/RFC3552, July 2003, &lt;</span><span class="c246 c0 c45"><a class="c11" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc3552&amp;sa=D&amp;source=editors&amp;ust=1702576998747832&amp;usg=AOvVaw2VsodpPzMSwVZv-EKCyOt2">https://www.rfc-editor.org/info/rfc3552</a></span><span class="c3 c0 c45">&gt;.</span></p><p class="c108"><span class="c3 c0 c45">[Reference]</span></p><p class="c69"><span class="c3 c0 c45">[Full reference citation]</span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><h1 class="c94 c57 c96" id="h.55r6c0xsdoov"><span class="c66 c37">Appendix B. Security and Privacy Considerations</span></h1><p class="c2"><span class="c0">[</span><span class="c0 c45">Optional section.</span><span class="c3 c0">]</span></p><p class="c2"><span class="c3 c0 c45">Note: OASIS strongly recommends that Technical Committees consider issues that might affect safety, security, privacy, and/or data protection in implementations of their work products and document these for implementers and adopters. For some purposes, you may find it required, e.g. if you apply for IANA registration.</span></p><p class="c2"><span class="c3 c0 c45">While it may not be immediately obvious how your work product might make systems vulnerable to attack, most work products, because they involve communications between systems, message formats, or system settings, open potential channels for exploit. For example, IETF [RFC3552] lists &ldquo;eavesdropping, replay, message insertion, deletion, modification, and man-in-the-middle&rdquo; as well as potential denial of service attacks as threats that must be considered and, if appropriate, addressed in IETF RFCs.</span></p><p class="c2"><span class="c3 c0 c45">In addition to considering and describing foreseeable risks, this section should include guidance on how implementers and adopters can protect against these risks.</span></p><p class="c2"><span class="c3 c0 c45">We encourage editors and TC members concerned with this subject to read Guidelines for Writing RFC Text on Security Considerations, IETF [RFC3552], for more information.</span></p><p class="c2"><span class="c3 c0">The MQTT SN protocol is optimized for implementation on low-cost, battery-powered devices with limited processing and storage resources. The capabilities are kept simple and the specification allows for partial implementations. Device identities are typically created at manufacturing, eliminating the need for special configuration at deployment. MQTT-SN can work in isolation from other networks or in conjunction with MQTT.</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c3 c77">MQTT-SN Client and Gateway/Server implementations SHOULD offer Authentication and Authorization options. Furthermore, the confidentiality and authenticity of the MQTT-SN messages can be provided by the underlying transport or can be obtained by encapsulating the MQTT-SN messages into the PROTECTION packet.</span></p><p class="c2"><span>Applications concerned with critical infrastructure, personally identifiable information, or other personal or sensitive information are strongly advised to use these security capabilities.</span></p><p class="c139 c94 c371" id="h.452snld"><span class="c90 c37">Industry specific security profiles</span></p><p class="c2"><span class="c3 c0">It is anticipated that the MQTT protocol will be designed into industry specific application profiles, each defining a threat model and the specific security mechanisms to be used to address these threats. Recommendations for specific security mechanisms will often be taken from existing works including:</span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2"><span class="c0 c145"><a class="c11" href="#id.2pcmsun">[NISTCSF]</a></span><span class="c37">&nbsp;</span><span class="c3 c0">NIST Cyber Security Framework</span></p><p class="c2"><span class="c0 c145"><a class="c11" href="#id.14hx32g">[NIST7628]</a></span><span class="c37">&nbsp;</span><span class="c3 c0">NISTIR 7628 Guidelines for Smart Grid Cyber Security</span></p><p class="c2"><span class="c0 c145"><a class="c11" href="#id.3ohklq9">[FIPS1402]</a></span><span class="c37">&nbsp;</span><span class="c3 c0">Security Requirements for Cryptographic Modules (FIPS PUB 140-2)</span></p><p class="c2"><span class="c0 c145"><a class="c11" href="#id.23muvy2">[PCIDSS]</a></span><span class="c37">&nbsp;</span><span class="c3 c0">PCI-DSS Payment Card Industry Data Security Standard</span></p><p class="c2"><span class="c0 c145"><a class="c11" href="#id.is565v">[NSAB]</a></span><span class="c37">&nbsp;</span><span class="c3 c0">NSA Suite B Cryptography</span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><h1 class="c96 c94 c57" id="h.bc8w7ov5oli4"><span class="c37 c66">Appendix C. Acknowledgments</span></h1><p class="c2"><span class="c0">[</span><span class="c0 c45">Required section.</span><span class="c3 c0">]</span></p><p class="c2"><span class="c3 c0 c45">Note: A Work Product approved by the TC must include a list of people who participated in the development of the Work Product. This is generally done by collecting the list of names in this appendix. This list shall be initially compiled by the Chair, and any Member of the TC may add or remove their names from the list by request.</span></p><p class="c2"><span class="c3 c0 c45">Remove these yellow notes before submitting for publication.</span></p><p class="c2"><span class="c3 c0 c45">&nbsp;</span></p><h2 class="c67 c57 c355" id="h.glow6i83isd5"><span>C</span><span class="c25">.1 Special Thanks</span></h2><p class="c2"><span class="c3 c0 c45">Note: This is an optional subsection to call out contributions from TC members. If a TC wants to thank non-TC members then they should avoid using the term &quot;contribution&quot; and instead thank them for their &quot;expertise&quot; or &quot;assistance&quot;. </span></p><p class="c2"><span class="c3 c0">Substantial contributions to this document from the following individuals are gratefully acknowledged:</span></p><p class="c2"><span class="c3 c0 c45">&nbsp;</span></p><p class="c2"><span class="c3 c0">[Participant Name, Affiliation | Individual Member]</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><h2 class="c67 c57 c355" id="h.tdeowwajj1wf"><span>C</span><span class="c25">.2 Participants</span></h2><p class="c2"><span class="c3 c0 c45">Note: A TC can determine who they list here, however, Observers must not be listed. It is common practice for TCs to list everyone that was part of the TC during the creation of the document, but this is ultimately a TC decision on who they want to list and not list. </span></p><p class="c2"><span class="c3 c0">The following individuals were members of this Technical Committee during the creation of this document and their contributions are gratefully acknowledged:</span></p><p class="c2"><span class="c3 c0">&nbsp;</span></p><p class="c2"><span class="c3 c0">[Participant Name, Affiliation | Individual Member]</span></p><p class="c10 c139"><span class="c3 c0 c45"></span></p><h1 class="c139 c94 c285" id="h.ewpzaw2f211a"><span class="c66 c37 c45">Appendix D. Revision History</span></h1><p class="c2"><span class="c3 c0 c45">[Optional section.]</span></p><p class="c2"><span class="c3 c0 c45">Revisions made since the initial stage of this numbered Version of this document may be tracked here.</span></p><p class="c2"><span class="c3 c0 c45">Note: If revision tracking is handled in another system like github, provide a link to it instead of using this table, if desired. &nbsp;Remove this note before submitting for publication.</span></p><a id="t.fac29db40f1932023f7752d65f8855c5cbad30ae"></a><a id="t.59"></a><table class="c120"><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0 c45">Revision</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0 c45">Date</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c38"><span class="c3 c0 c45">Editor</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Changes Made</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-01</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[27th February 2020]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Andrew Banks]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Merge Initial Document and Input Specification]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-02</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[4th April 2020]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Andrew Banks]</span></p><p class="c2"><span class="c3 c0 c45">[Rahul Gupta]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Terminology, DataTypes, CONNECT packet]</span></p><p class="c2"><span class="c3 c0 c45">[Specification Diagrams]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-05</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[21st February 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Packet Diagrams, Bit Tables, Field Definitions]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-06</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[10th March 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Sleeping client operational behavior, Terminology changes, 13 JIRA resolutions added to specification, Section numbering changes]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-07</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[15th March 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Added 4 byte (32 bit) integer description]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-08</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[26th March 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Added max packet size to CONNECT, Added Session Expiry Interval to CONNACK, Removed ZigBee references, Removed capabilities flag from CONNECT, AUTH packet added along with Authentication operational behavior. Standardized page margins]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-09</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[05th May 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Added long topic type to topicIdTypes, updated PUBLISH to accommodate new topic type, added topic type matrix]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-10</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[October 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Document format aligned with core specification, removal of introduction, addition of packet ID table, adding error code]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-11</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[October 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[MQTT-SN Architecture moved into operational behavior, removal of variable integer definition, addition of session state section, normative comments added to sleeping client operational behaviour]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-12</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[November 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Andrew Banks]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Rework 1.5 Background</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-13</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[November 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Move Authentication and Retained messages into operational behavior, rationalized tables and figures, separated packet definitions of similar structures into distinct sections.]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-14</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Decmeber 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[First implementation attempt, Fixed table references, Fixed PingResp packet]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-15</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[December 2021]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Tara added as editor, return code additions]</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-15</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[February 2022]</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Tara Walker]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Changed Return Code nomenclature to be more consistent w/5.0. Added Reason Codes to each control packet type</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-16</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">March 2022</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Tara Walker]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Updated WILL*Types to correct Packet Type. Added Global Flags Table to Section 2. Updated each Control Packet Flags in Section 3 adding missing Flag Sections. Formatting: Auto update of Table numbering, Auto update of WD Revision numbering for footer.</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-17</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">April 2022</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Updated use of topic name and topic filter to be aligned with MQTT 5. Topic alias becomes topic alias type. Added quality of service protocol flow as it differed to MQTT 5 (inflight). Conformance references removed as these will need to be wholly owned OR externally referenced.</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-18 </span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">June 2022</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Tara E. Walker]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Updated items based upon the feedback from Alex Kritikos.</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-19</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">August 2022</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Remove change tracking as document was becoming unworkable.</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-20</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">September 2022</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Integrate feedback from committee meeting relating to the work by Miroslav Prymek. Added resolution of CONNACK session present per MQTT 585</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-21</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">October 2022</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Client States section added to describe the 5 states.</span></p><p class="c2"><span class="c3 c0 c45">Updated the state transition diagram to accommodate new disconnect field and new transitions between Awake -&gt; Lost and Asleep -&gt; Disconnected.</span></p><p class="c2"><span class="c3 c0 c45">Security section added.</span></p><p class="c2"><span class="c3 c0 c45">Figure 2 &ndash; MQTT-SN Architecture diagram updated.</span></p><p class="c2"><span class="c3 c0 c45">Font updated to Arial from bespoke font.</span></p><p class="c2"><span class="c3 c0 c45">QoS -1 &ndash; Section added to the QoS chapter (NOTE: updated text to allow for bi-directional -1 PUBLISHING).</span></p><p class="c2"><span class="c3 c0 c45">Introduction of Exponential backoff algorithm.</span></p><p class="c2"><span class="c3 c0 c45">Applied issue issue 587 (max messages set in CONNECT flags).</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-22</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">November 2022</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Integrate MQTT 591 (sleep behavior)</span></p><p class="c2"><span class="c3 c0 c45">Replace instances of &ldquo;return code&rdquo; to &ldquo;reason code&rdquo;</span></p><p class="c2"><span class="c3 c0 c45">PINGREQ timeout aligned with Tretry (15 seconds) from the ill defined &ldquo;reasonable amount of time&rdquo;</span></p><p class="c2"><span class="c3 c0 c45">Exponential Algo fix (using the factor n assuming it was the product!)</span></p><p class="c2"><span class="c3 c0 c45">Client Identifier size clarification.</span></p><p class="c2"><span class="c3 c0 c45">Publish variants added; distinguish variant based on QoS field to save 2 bytes for single flight PUBLISH packets.</span></p><p class="c2"><span class="c3 c0 c45">Incorporated B4. Into retry timer.</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-23</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">December 2022</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">CONNECT Client Identifier Informative and Normative d&eacute;finition update.</span></p><p class="c2"><span class="c3 c0 c45">CONNACK Client Identifier Informative and Normative d&eacute;finition update.</span></p><p class="c2"><span class="c3 c0 c45">CONNACK reason codes updated.</span></p><p class="c2"><span class="c3 c0 c45">KeepAlive boundary specified removing 0 as an option per the committee call.</span></p><p class="c2"><span class="c3 c0 c45">Added Session Expiry &ldquo;reasonable&rdquo; setting statement.</span></p><p class="c2"><span class="c3 c0 c45">Added sequence diagrams for CONNECT, CONNECT with WILL, CONNECT with AUTH.</span></p><p class="c2"><span class="c3 c0 c45">Network Connection Section (IANA Omitted but we need to add this to agenda)</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-24</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">December 2022</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson, Davide Lenzarini, Ian Craggs]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Removal of Network Connection references.</span></p><p class="c56 c139"><span class="c3 c0 c45">Modified PUBLISH -1 &amp; 0 tables to remove topic length field</span></p><p class="c56 c139"><span class="c3 c0 c45">Modified PUBLISH 1 &amp; 2 tables to remove topic length field</span></p><p class="c2"><span class="c3 c0 c45">Changed Data field description on the above</span></p><p class="c2"><span class="c3 c0 c45">Updated sleeping device section</span></p><p class="c2"><span class="c3 c0 c45">Ensured the references to the Packet Length and type section was consistent in all packet types.</span></p><p class="c2 c51"><span class="c3 c0 c45"></span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-25</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">January 2023</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Broken out PUBLISH -1 into its own packet type</span></p><p class="c2"><span class="c3 c0 c45">Disconnect flags field moved and added existence flags for optional fields</span></p><p class="c2"><span class="c3 c0 c45">Introduction titles changed to better sign post where the inforlmation resides in the document</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-26</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">May 2023</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson, Davide Lenzarini]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Backwards compatible PUBLISH -1, new OOB Publish message to repace it. Removal of security section to allow to rewrite.</span></p></td></tr><tr class="c9"><td class="c221" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">WD-27</span></p></td><td class="c125" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">November 2023</span></p></td><td class="c124" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">[Simon Johnson, Davide Lenzarini]</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c3 c0 c45">Network&amp;Trasport Layer chapter updated to define the impact of lower layers features on the MQTT-SN protocol.</span></p><p class="c2"><span class="c3 c0 c45">Replaced the term MQTT-SN &ldquo;connection&rdquo; with the term &ldquo;Virtual Connection&rdquo;.</span></p></td></tr></table><p class="c2 c51"><span class="c3 c0 c45"></span></p><p class="c139 c94 c51 c333" id="h.dkraaadk8r1i"><span class="c66 c37"></span></p><h1 class="c238 c139 c94" id="h.3jd0qos"><span class="c37 c258 c370">Appendix E. </span><span class="c66 c37">Implementation Notes</span></h1><h2 class="c67 c227" id="h.1yib0wl"><span>&nbsp;E.1 </span><span class="c25">Support of QoS Level -1 and OUT OF BAND</span></h2><p class="c192 c139 c41 c194"><span class="c0">Because PUBLISH packets with QoS level -1 and OUT OF BAND could be sent at any time by clients (even with no </span><span class="c0">Virtual C</span><span class="c3 c0">onnection setup) a transparent GW needs to maintain for those packets a dedicated MQTT connection with the server. An aggregating or hybrid GW may use any aggregating MQTT connection to forward those packets to the server. </span></p><h2 class="c67 c227" id="h.4ihyjke"><span>E.2 </span><span class="c25">&ldquo;Best practice&rdquo; values for timers and counters</span></h2><p class="c104 c41 c194"><span class="c3 c0">Table 30 shows the &ldquo;best practice&rdquo; values for the timers and counters defined in this specification.</span></p><p class="c104 c41 c194 c51"><span class="c3 c0"></span></p><a id="t.76787760cff706d111db8118db06bf10c8c0bffa"></a><a id="t.60"></a><table class="c292 c456"><tr class="c150"><td class="c70" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c7 c0">Timer/Counter</span></p></td><td class="c272" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c7 c0">Recommended value</span></p><sup><a href="#cmnt120" id="cmnt_ref120">[dp]</a></sup></td></tr><tr class="c150"><td class="c70" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c0 c53">T</span><span class="c0 c110 c53">ADV</span></p></td><td class="c272" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c7 c0">greater than 15 minutes</span></p></td></tr><tr class="c150"><td class="c70" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c0 c53">N</span><span class="c0 c110 c53">ADV</span></p></td><td class="c272" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c7 c0">2 -3</span></p></td></tr><tr class="c150"><td class="c70" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c0 c53">T</span><span class="c0 c110 c53">SEARCHGW</span></p></td><td class="c272" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c7 c0">5 seconds</span></p></td></tr><tr class="c150"><td class="c70" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c0 c53">T</span><span class="c0 c53 c110">GWINFO</span></p></td><td class="c272" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c7 c0">5 seconds</span></p></td></tr><tr class="c150"><td class="c70" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c0 c53">T</span><span class="c0 c110 c53">WAIT</span></p></td><td class="c272" colspan="1" rowspan="1"><p class="c312 c139 c41 c341"><span class="c7 c0">greater than 5 minutes</span></p></td></tr><tr class="c150"><td class="c70" colspan="1" rowspan="1"><p class="c139 c41 c312"><span class="c0 c53">T</span><span class="c0 c110 c53">retry</span></p></td><td class="c272" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c7 c0">Implement B4 with a starting value of 1 second after an initial wait period of 5 seconds. So first retry will be ~6 seconds.</span></p></td></tr><tr class="c150"><td class="c70" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c0 c53">N</span><span class="c0 c110 c53">retry</span></p></td><td class="c272" colspan="1" rowspan="1"><p class="c312 c139 c41"><span class="c7 c0">3 &ndash; 5</span></p></td></tr></table><p class="c139 c41 c542"><span class="c3 c0">Table 30: &ldquo;Best practice&rdquo; values for timers and counters</span></p><p class="c139 c41 c321 c184 c339"><span class="c3 c0">The &ldquo;tolerance&rdquo; of the sleep and keep-alive timers at the server/gateway depends on the values indicated by the clients. For example, the timer values should be 10% higher than the indicated values for periods larger than 1 minute, and 50% higher if less.</span></p><h2 class="c67 c227" id="h.2xn8ts7"><span>E.3 </span><span class="c25">Mapping of Topic Alias to Topic Names and Topic Filters</span></h2><p class="c192 c139 c41 c194"><span class="c3 c0">It is strongly recommended that in the gateway the mapping table between topic alias and topic names is implemented per client (and not by a single shared pool between all clients), to reduce the risk of an incorrect topic alias from a client matching another client&rsquo;s valid topic, and thus causing a publication to the wrong topic, which could potentially have disastrous consequences.</span></p><h2 class="c67 c227" id="h.1csj400"><span>E.4 </span><span class="c25">Exponential Backoff</span></h2><p class="c466 c139"><span class="c40 c0">The following error handling strategy should be used for networked devices to avoid overwhelming recipient network entities whilst providing for efficient reestablishment handling. The client shall periodically retry a failed packet with increasing delays between attempts, constrained by a max retry time and interleaved with a suitable seed of randomness.</span></p><p class="c139 c466"><span class="c40 c37">Algorithm:</span></p><p class="c466 c139"><span class="c40 c0">An exponential backoff algorithm retries requests exponentially, increasing the waiting time between retries up to a maximum backoff time. For example:</span></p><ol class="c113 lst-kix_list_29-0 start" start="1"><li class="c81 c57 c491 li-bullet-8"><span class="c40 c0">Initial packet sent.</span></li><li class="c56 c81 c57 li-bullet-8"><span class="c0 c40">If the operation fails, wait 1000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c56 c81 c57 li-bullet-8"><span class="c40 c0">If the operation fails, wait 2000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c56 c81 c57 li-bullet-8"><span class="c40 c0">If the operation fails, wait 4000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c56 c81 c57 li-bullet-8"><span class="c0 c361">Continued, up to a </span><span class="c0 c361">maximum backoff (max) time</span><sup><a href="#cmnt121" id="cmnt_ref121">[dq]</a></sup><span class="c40 c0">.</span></li><li class="c81 c57 c112 li-bullet-8"><span class="c40 c0">Continue waiting and retrying up to some maximum number of retries, but do not increase the wait period between retries.</span></li></ol><p class="c466 c139"><span class="c0 c361">The wait time </span><span class="c0 c64">is </span><span class="c274 c513">min(((2^n * sf) + ran), max)</span><span class="c0 c64">&nbsp;</span><span class="c40 c0">with n incremented by 1 for each iteration (or operation) and the scaling factor (sf) being set to some reasonable value (suggested 1000 as in the example above). </span></p><p class="c466 c139"><span class="c0 c361">The random number helps to avoid cases where many clients are synchronized by some situation, and all retry at once. The value </span><span class="c0 c361">of random number</span><span class="c40 c0">&nbsp;ran is recalculated after each retry. The random number (ran) should be no larger than the scaling factor (sf).</span></p><h1 class="c139 c94 c425" id="h.sg1xgdru14ui"><span class="c66 c37">Appendix F. Notices</span></h1><p class="c2"><span class="c0">[</span><span class="c0 c45">Required section. Do not change.</span><span class="c3 c0">]</span></p><p class="c2"><span class="c3 c0">Copyright &copy; OASIS Open 2023. All Rights Reserved.</span></p><p class="c2"><span class="c0">All capitalized terms in the following text have the meanings assigned to them in the OASIS Intellectual Property Rights Policy (the &quot;OASIS IPR Policy&quot;). The full </span><span class="c246 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1702576998824707&amp;usg=AOvVaw0u3Af9vSKaC7HNjfmQlZLy">Policy</a></span><span class="c0">&nbsp;may be found at the OASIS website: [</span><span class="c246 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1702576998825131&amp;usg=AOvVaw3cRQsVaLNIvxXxymjX6PZ9">https://www.oasis-open.org/policies-guidelines/ipr/</a></span><span class="c3 c0">].</span></p><p class="c2"><span class="c3 c0">This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this section are included on all such copies and derivative works. However, this document itself may not be modified in any way, including by removing the copyright notice or references to OASIS, except as needed for the purpose of developing any document or deliverable produced by an OASIS Technical Committee (in which case the rules applicable to copyrights, as set forth in the OASIS IPR Policy, must be followed) or as required to translate it into languages other than English.</span></p><p class="c2"><span class="c3 c0">The limited permissions granted above are perpetual and will not be revoked by OASIS or its successors or assigns.</span></p><p class="c2"><span class="c3 c0">This document and the information contained herein is provided on an &quot;AS IS&quot; basis and OASIS DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. OASIS AND ITS MEMBERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THIS DOCUMENT OR ANY PART THEREOF.</span></p><p class="c2"><span class="c3 c0">As stated in the OASIS IPR Policy, the following three paragraphs in brackets apply to OASIS Standards Final Deliverable documents (Committee Specifications, OASIS Standards, or Approved Errata).</span></p><p class="c2"><span class="c3 c0">[OASIS requests that any OASIS Party or any other party that believes it has patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable, to notify OASIS TC Administrator and provide an indication of its willingness to grant patent licenses to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this deliverable.]</span></p><p class="c2"><span class="c3 c0">[OASIS invites any party to contact the OASIS TC Administrator if it is aware of a claim of ownership of any patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable by a patent holder that is not willing to provide a license to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this OASIS Standards Final Deliverable. OASIS may include such claims on its website, but disclaims any obligation to do so.]</span></p><p class="c2"><span class="c3 c0">[OASIS takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this OASIS Standards Final Deliverable or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on OASIS&#39; procedures with respect to rights in any document or deliverable produced by an OASIS Technical Committee can be found on the OASIS website. Copies of claims of rights made available for publication and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this OASIS Standards Final Deliverable, can be obtained from the OASIS TC Administrator. OASIS makes no representation that any information or list of intellectual property rights will at any time be complete, or that any claims in such list are, in fact, Essential Claims.]</span></p><p class="c2"><span class="c0">The name &quot;OASIS&quot; is a trademark of </span><span class="c246 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/&amp;sa=D&amp;source=editors&amp;ust=1702576998826384&amp;usg=AOvVaw1JVKb54jKnhiBZR-WmZEek">OASIS</a></span><span class="c0">, the owner and developer of this document, and should be used only to refer to the organization and its official outputs. OASIS welcomes reference to, and implementation and use of, documents, while reserving the right to enforce its marks against misleading uses. Please see </span><span class="c246 c0"><a class="c11" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/trademark/&amp;sa=D&amp;source=editors&amp;ust=1702576998826670&amp;usg=AOvVaw3C96KPZW9mV3jq8BNV6Au3">https://www.oasis-open.org/policies-guidelines/trademark/</a></span><span class="c3 c0">&nbsp;for above guidance.</span></p><p class="c192 c139 c41 c194 c51"><span class="c3 c0"></span></p><p class="c192 c139 c41 c194 c51"><span class="c3 c0"></span></p><p class="c192 c139 c41 c194 c51"><span class="c3 c0"></span></p><p class="c333 c139 c94 c51" id="h.3ws6mnt"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><p class="c2 c51"><span class="c3 c0"></span></p><div><p class="c131"><span class="c152 c77 c46 c64">mqtt-sn-v2.0-wd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c46">Committee Specification </span><span class="c152 c77 c46 c64">Draft </span><span class="c46">01</span><span class="c152 c77 c46 c64">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c46">08</span><span class="c152 c77 c46 c64">&nbsp;</span><span class="c46">December</span><span class="c152 c77 c46 c64">&nbsp;</span><span class="c152 c77 c46 c64">2023</span></p><p class="c56 c139"><span class="c152 c77 c46 c64">Standards Track Draft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright &copy; OASIS Open 202</span><span class="c46">3</span><span class="c77 c46 c64 c152">. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page </span><span class="c152 c77 c46 c64">&nbsp;of </span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref1" id="cmnt1">[a]</a><span class="c7 c0">Paul or Stefan can fill it</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref2" id="cmnt2">[b]</a><span class="c7 c0">Links not yet working. They will be created once the files will be uploaded for final comments</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref3" id="cmnt3">[c]</a><span class="c7 c0">It has to be filled with the differences between 2.0 and 1.2</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref4" id="cmnt4">[d]</a><span class="c7 c0">Use the proper standard definition, independent of the IP protocol stack</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref5" id="cmnt5">[e]</a><span class="c7 c0">Use the proper standard definition, independent of the IP protocol stack</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref6" id="cmnt6">[f]</a><span class="c7 c0">It has to be fixed</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref7" id="cmnt7">[g]</a><span class="c7 c0">Suggest to sort by name if only a binary relation of name vs packet identifier field &quot;need&quot; is displayed.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref8" id="cmnt8">[h]</a><span class="c7 c0">Maybe use a sequence diagram or an ordered (honest) list for this easy sequence statement.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref9" id="cmnt9">[i]</a><span class="c7 c0">There are several references to MQTT5 reason codes not defined in the document. We need a MQTT-SN reason codes range to be reserved with MQTT 5 committee.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref10" id="cmnt10">[j]</a><span class="c7 c0">This is WIP per the workshop</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref11" id="cmnt11">[k]</a><span class="c7 c0">This topic is covered by&nbsp;https://issues.oasis-open.org/browse/MQTT-560</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref12" id="cmnt12">[l]</a><span class="c7 c0">it may generate confusion with the MQTTv5 0x94 &quot;invalid topic alias&quot; that has a different meaning. We should use &quot;Unknown Topic Alias&quot; in the MQTT-SN reason code table.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref13" id="cmnt13">[m]</a><span class="c7 c0">Seems reasonable, but lets clarify on the call to fully understand. (need to be aware of predefined, short and normal alias&#39;)</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref14" id="cmnt14">[n]</a><span class="c7 c0">Presumably ADVERTISE, GWINFO and SEARCHGW must be written to the broadcast&nbsp;address only and it is a protocol error if they are written to a direct address. We should say in this part of the Spec that theory&nbsp;implementation&nbsp;is OPTIONAL.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref15" id="cmnt15">[o]</a><span class="c7 c0">This is covered by&nbsp;https://issues.oasis-open.org/browse/MQTT-605</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref16" id="cmnt16">[p]</a><span class="c7 c0">Propose new CONNECT packet to inline WILL information within the context of the CONNECT</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref17" id="cmnt17">[q]</a><span class="c7 c0">&quot;set up a session&quot; should be &quot;create or continue a Session&quot;</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">The first Packet sent by a client MUST be a CONNEC T Packet. </span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">If the Client sends or receives a DISCONNECT Packet then the next Packet it sends MUST be a CONNECT Packet.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">The Gateway MUST NOT send a CONNECT Packet.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">If the Gateway receives a subsequent CONNECT Packet, it uses this in place of any previous one. Note that the subsequent CONNECT packet may have been sent prior to the previous one, so the values from the CONNECT Packet used by the Gateway may not by the latest ones sent by the Client.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref18" id="cmnt18">[r]</a><span class="c7 c0">A client can send as first packet a PUBLISH OUT OF BAND packet as it does not require a session in place, right?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref19" id="cmnt19">[s]</a><span class="c7 c0">This should be highlighted as a conformance clause.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">This specification only concerns Version 2.0, so the conformance clause is too restrictive, the Gateway can send 0x84 for any reason.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">MQTT closes the network connection at this point, however MQTT-SN cannot do this. It can mandate that the next packet sent by the Client must be a CONNECT Packet.&nbsp;</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">We should not define a session state of &quot;closed&quot; nor should the session state be deleted. The Client could be probing the Gateway to determine what level of protocol it can use.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref20" id="cmnt20">[t]</a><span class="c7 c0">_Marked as resolved_</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref21" id="cmnt21">[u]</a><span class="c7 c0">_Re-opened_</span></p><p class="c56"><span class="c7 c0">Why it has been considered resolved?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref22" id="cmnt22">[v]</a><span class="c7 c0">We need to consider this again after we have fixed some terminology for a Conversation / Logical Connection. We should not destroy any session state in this case. We may not be able to determine whether any subsequent packets relate to this logical connection or a new one. We can mandate that the Gateway must&nbsp; receive a new CONNECT Packet before before it does any more forward processing. The Gateway can still send PINGRESP and DISCONNECT Packets as stated.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref23" id="cmnt23">[w]</a><span class="c7 c0">define &#39;LOST&#39; ? considering we have &#39;Session Expiry Interval&#39;</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref24" id="cmnt24">[x]</a><span class="c7 c0">The lost is defined in the state transition table and diagram. LOST represents status between the client and GW and maintains selective state about the SN side session.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref25" id="cmnt25">[y]</a><span class="c7 c0">_Marked as resolved_</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref26" id="cmnt26">[z]</a><span class="c7 c0">_Re-opened_</span></p><p class="c56"><span class="c7 c0">The state diagram seems to represent the gateways view of the connectivity to the client. This clause should not refer to the session as being&nbsp;lost. It could however still say that the client connectivity is LOST. The client could detect the LOST state itself and send a new CONNECT packet to continue the SESSION.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref27" id="cmnt27">[aa]</a><span class="c7 c0">Limitations on the GW capability to send messages to a client: If the messages sent from the GW are unsolicited (i.e. not following a message sent by the client) and the transport layer is UDP and the Clients and the Gateways are on different subnets of the Internet, they will not reach the Client. In fact, in this condition, normally on the client side all unsolicited UDP traffic incoming is dropped to avoid UDP flood DoS. This is affecting the WILLTOPICREQ, WILLMSGREQ, REGISTER, ADVERTISE. Furthermore, the SEARCHGW and ADVERTISE broadcast will be dropped outside the source network.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref28" id="cmnt28">[ab]</a><span class="c7 c0">I assume, as this is UDP, the GW does fire and forget anyway, correct?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref29" id="cmnt29">[ac]</a><span class="c7 c0">We should provide a way for the client to define the will topic and message. So, it should be possible for a Client to send a WILLTOPIC and a WILLMSG immediately after a CONNACK. We should not relay only on the WILLMSGREQ and WILLTOPICREQ reception as in a connectionless network they can be lost.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref30" id="cmnt30">[ad]</a><span class="c7 c0">We should provide a way for the client to define the will topic and message. So, it should be possible for a Client to send a WILLTOPIC and a WILLMSG immediately after a CONNACK. We should not relay only on the WILLMSGREQ and WILLTOPICREQ reception&nbsp;as in a connectionless network they can be lost.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref31" id="cmnt31">[ae]</a><span class="c7 c0">We should provide a way for the client to define the will topic and message. So, it should be possible for a Client to send a WILLTOPIC and a WILLMSG immediately after a CONNACK. We should not relay only on the WILLMSGREQ and WILLTOPICREQ reception as in a connectionless network they can be lost.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref32" id="cmnt32">[af]</a><span class="c7 c0">Like for MQTT v5.0, in order to allow interoperability I would recommend to add at least some Auth Method options and some example</span></p><p class="c56"><span class="c7 c0">1 total reaction</span></p><p class="c56"><span class="c7 c0">Stefan Hagen reacted with &#x1f44d; at 2023-10-12 11:50 AM</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref33" id="cmnt33">[ag]</a><span class="c7 c0">I think we just need to adapt the content of the chapter 4.12 of the MQTT v5 specs, right?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref34" id="cmnt34">[ah]</a><span class="c7 c0">it may generate confusion with the MQTTv5 0x94 &quot;invalid topic alias&quot; that has a different meaning. We should use &quot;Unknown Topic Alias&quot; in the MQTT-SN reason code table.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref35" id="cmnt35">[ai]</a><span class="c7 c0">Should it be a chapter including as subchapters the different publish packets?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref36" id="cmnt36">[aj]</a><span class="c7 c0">I didn&#39;t know that it can be sent in broadcast/multicast. Can we clearly state it in the document?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref37" id="cmnt37">[ak]</a><span class="c7 c0">We should add this to the list of Optional features in section 3.22&nbsp; if it is optional.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">What&nbsp;should the receiver do if the packet was received on something other than the Broadcast address?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref38" id="cmnt38">[al]</a><span class="c7 c0">The Publish MINUS-1 and the publish OOO can also be received with a normal destination address, right?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref39" id="cmnt39">[am]</a><span class="c7 c0">Could we clarify what &quot;Reference from 1.2&quot; means? There is no section 1.2 in this document.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref40" id="cmnt40">[an]</a><span class="c7 c0">Broadcast is a concept available in UDP but not on other transports like DTLS or non-Ip or QUIC. &quot;broadcast&quot; should be considered optional</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref41" id="cmnt41">[ao]</a><span class="c7 c0">We should clarify what &quot;certain topic&quot; means. Does it just mean a Topic?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref42" id="cmnt42">[ap]</a><span class="c7 c0">Can PUBLISH OUT OF BAND also be sent to the broadcast&nbsp;address like PUBLISH MINUS 1? If not then the two a re quite different. If So then there seems to be a case for omitting&nbsp;PUBLISH MINUS 1 from the specification.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref43" id="cmnt43">[aq]</a><span class="c7 c0">It is stated above that this packet can be received with no Session present in the Gateway or Broker.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">Does this mean that it could flow before a connect packet has started or continued a session? If so how is authentication and authorisation&nbsp;performed? How is any feedback provided to the sender that would cause a disconnect eg that the message is to big.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref44" id="cmnt44">[ar]</a><span class="c7 c0">I can&#39;t see at the moment a use case for PUBLISH OOB sent in broadcast.</span></p><p class="c56"><span class="c7 c0">If the PUBLISH OOB is sent inside a PROTECTION packet it can be sent/received without a session established</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref45" id="cmnt45">[as]</a><span class="c7 c0">We need to clearly exclude the possibility that this message is replied back in case of error for PUBLISH QoS-1, right?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref46" id="cmnt46">[at]</a><span class="c7 c0">I have added an exclusion statement, lets discuss on call</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref47" id="cmnt47">[au]</a><span class="c7 c0">Align with the reason code work</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref48" id="cmnt48">[av]</a><span class="c7 c0">Align with the reason code work</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref49" id="cmnt49">[aw]</a><span class="c7 c0">Align with the reason code work</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref50" id="cmnt50">[ax]</a><span class="c7 c0">it may generate confusion with the MQTTv5 0x94 &quot;invalid topic alias&quot; that has a different meaning. We should use &quot;Unknown Topic Alias&quot; in the MQTT-SN reason code table.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref51" id="cmnt51">[ay]</a><span class="c7 c0">Align with the reason code work</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref52" id="cmnt52">[az]</a><span class="c7 c0">Align with the reason code work</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref53" id="cmnt53">[ba]</a><span class="c7 c0">it may generate confusion with the MQTTv5 0x94 &quot;invalid topic alias&quot; that has a different meaning. We should use &quot;Unknown Topic Alias&quot; in the MQTT-SN reason code table.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref54" id="cmnt54">[bb]</a><span class="c7 c0">it may generate confusion with the MQTTv5 0x94 &quot;invalid topic alias&quot; that has a different meaning. We should use &quot;Unknown Topic Alias&quot; in the MQTT-SN reason code table.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref55" id="cmnt55">[bc]</a><span class="c7 c0">Need to sort column spacing here</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref56" id="cmnt56">[bd]</a><span class="c7 c0">Need to sort column spacing here</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref57" id="cmnt57">[be]</a><span class="c7 c0">Need to sort column spacing here</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref58" id="cmnt58">[bf]</a><span class="c7 c0">Need to sort column spacing here</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref59" id="cmnt59">[bg]</a><span class="c7 c0">Need to sort column spacing here</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref60" id="cmnt60">[bh]</a><span class="c7 c0">Need to sort column spacing here</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref61" id="cmnt61">[bi]</a><span class="c7 c0">Need to sort column spacing here</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref62" id="cmnt62">[bj]</a><span class="c7 c0">Need to sort column spacing here</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref63" id="cmnt63">[bk]</a><span class="c7 c0">it may generate confusion with the MQTTv5 0x94 &quot;invalid topic alias&quot; that has a different meaning. We should use &quot;Unknown Topic Alias&quot; in the MQTT-SN reason code table.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref64" id="cmnt64">[bl]</a><span class="c7 c0">Lets discuss on call, maybe aligned with the return code work</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref65" id="cmnt65">[bm]</a><span class="c7 c0">it may generate confusion with the MQTTv5 0x94 &quot;invalid topic alias&quot; that has a different meaning. We should use &quot;Unknown Topic Alias&quot; in the MQTT-SN reason code table.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref66" id="cmnt66">[bn]</a><span class="c7 c0">What is the max size of the &ldquo;wireless node id&rdquo;? Can we use the client id instead?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref67" id="cmnt67">[bo]</a><span class="c7 c0">The wireless node id, whilst analogous&nbsp;to, is not directly linked to the client id. Its ont he external network, and thus addressed in an unknown manner (perhaps we could look to bound this to a reasonable number of bytes).</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref68" id="cmnt68">[bp]</a><span class="c7 c0">I think we should define the length of the &quot;wireless node id&quot; via the CTRL for instance otherwise it is unclear how to decode this message. When the &quot;Wireless Node Id&quot; ends and the &quot;MQTT SN packet&quot; begins?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref69" id="cmnt69">[bq]</a><span class="c7 c0">Are both of these constant for the duration of the Virtual Connection?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref70" id="cmnt70">[br]</a><span class="c7 c0">The Protection packet can be sent also if a virtual connection has not been established (for instance if a publish OOB or QoS-1 is included). As explained in 1.1.21.5 the senderid can be derived from the Client Identifier or from a device unique identifier.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">Random has to be changed for each Protection packet created. I added a little sentence to clarify it</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref71" id="cmnt71">[bs]</a><span class="c7 c0">Are both of these constant for the duration of the Virtual Connection?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref72" id="cmnt72">[bt]</a><span class="c7 c0">The Protection packet can be sent also if a virtual connection has not been established (for instance if a publish OOB or QoS-1 is included). As explained in 1.1.21.5 the senderid can be derived from the Client Identifier or from a device unique identifier.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">Random has to be changed for each Protection packet created. I added a little sentence to clarify it</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref73" id="cmnt73">[bu]</a><span class="c7 c0">Break the conformance clauses out, and move&nbsp;the non-normative sections to the secutiry chapter (maybe)</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref74" id="cmnt74">[bv]</a><span class="c7 c0">Suggest to rewrite as Informative (anywhere we have non-normative)</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref75" id="cmnt75">[bw]</a><span class="c7 c0">Question: Scope of informative also includes these two behavior descriptions?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref76" id="cmnt76">[bx]</a><span class="c7 c0">Oh, and where is the source file for this resource (diagram)?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref77" id="cmnt77">[by]</a><span class="c7 c0">Suggest to simplify the diagram: Scopes with boxes connected by arrows crossing these borders or not are nice, but as soon as a box is displayed as crossing a border itself to me the diagram becomes noisy and unclear. Maybe just add a note in the surrounding prose if not already present?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref78" id="cmnt78">[bz]</a><span class="c7 c0">Dito: We should provide the source file</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref79" id="cmnt79">[ca]</a><span class="c7 c0">We will redo them, easily. Then the sources are there.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref80" id="cmnt80">[cb]</a><span class="c7 c0">why do we need to mention latency here? how do we define low latency? sub second?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref81" id="cmnt81">[cc]</a><span class="c7 c0">From https://issues.oasis-open.org/browse/MQTT-604: Is there a recommended way to test whether an MQTT CONNECT is being sent to an MQTT-SN Gateway</span></p><p class="c56"><span class="c7 c0">or an MQTT-SN CONNECT is being sent to an MQTT Server?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref82" id="cmnt82">[cd]</a><span class="c7 c0">From https://issues.oasis-open.org/browse/MQTT-604: MQTT reserved both the UDP and TCP ports but prohibits the use of UDP,</span></p><p class="c56"><span class="c7 c0">We should approach the MQTT TC to get this redesignated as MQTT/MQTT-SN.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref83" id="cmnt83">[ce]</a><span class="c7 c0">IANA 8883 and 1883 for both TCP and UDP are already registered to &ldquo;Secure MQTT&rdquo; and &ldquo;MQTT&rdquo; since 2015, so I suppose the UDP ports we can be reused for MQTT-SN</span></p><p class="c56"><span class="c7 c0">Furthermore in MQTT 5 specs on chapter 4.2: &ldquo;Connectionless network transports such as User Datagram Protocol (UDP) are not suitable on their own because they might lose or reorder data.&rdquo;. So there is no risk of impacting any MQTT service over UDP.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref84" id="cmnt84">[cf]</a><span class="c7 c0">Do these yellow&nbsp;highlights indicate content/rules and form equally to need work? I guess so.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">Depending on the underlying &quot;rules&quot; from enforcement per either hoping, convention, or enforcement I am sure we can write this statement shorter and to the point.</span></p><p class="c10"><span class="c7 c0"></span></p><p class="c56"><span class="c7 c0">Eg. assuming the gateways may not sync their client lists between each other, enforcement seems to be out. But is it a MUST, SHOULD or even a painful The client MAY connect to multiple same network gateways at the same time ... and then what? When we know, we can phrase.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref85" id="cmnt85">[cg]</a><span class="c7 c0">The highlight indicates it should be considered a conformance clause</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref86" id="cmnt86">[ch]</a><span class="c7 c0">Lets discuss the wording</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref87" id="cmnt87">[ci]</a><span class="c7 c0">Is this part if the document where we refer to logical&nbsp;connection?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref88" id="cmnt88">[cj]</a><span class="c7 c0">And three time is a charm: The source file for this figure we do need.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref89" id="cmnt89">[ck]</a><span class="c7 c0">Double check that all multiphase message exchanges are governed by the timers</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref90" id="cmnt90">[cl]</a><span class="c7 c0">If the network has high latency and/or big error rate the number of flights should be minimized in order to avoid a dramatic impact on the battery. We should explore options to minimize the number of flights in the CONNECT procedure. Considering also that the CONNECT procedure may be required in some case only ONCE in the lifetime of a MQTT-SN v2.0 device</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref91" id="cmnt91">[cm]</a><span class="c7 c0">Source file? We will redo these diagrams and then have sources as we would like to have as implementers.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref92" id="cmnt92">[cn]</a><span class="c7 c0">Source file?&nbsp;We will redo these diagrams and then have sources as we would like to have as implementers.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref93" id="cmnt93">[co]</a><span class="c7 c0">Let us ensure we spell out gateway and similar everywhere in the prose.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref94" id="cmnt94">[cp]</a><span class="c7 c0">MAY ? look like it is &#39;MUST&#39;</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref95" id="cmnt95">[cq]</a><span class="c7 c0">Can we maybe split the tabular presentation into&nbsp;</span></p><p class="c56"><span class="c7 c0">1) a table that maps state names to their (*) descriptions</span></p><p class="c56"><span class="c7 c0">2) a subsequent state diagram (Figure on next page already present)</span></p><p class="c56"><span class="c7 c0">?</span></p><p class="c56"><span class="c7 c0">*)&nbsp;long-winding / mini-page-like</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref96" id="cmnt96">[cr]</a><span class="c7 c0">Which &ldquo;supervised gateway timer&rdquo; may move the client to LOST?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref97" id="cmnt97">[cs]</a><span class="c7 c0">Which &ldquo;supervised gateway timer&rdquo; may move the client to LOST?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref98" id="cmnt98">[ct]</a><span class="c7 c0">What does it mean &ldquo;Session state may exist on the GW for a client in the LOST state&rdquo;? Until when this session state for LOST clients should be kept and why?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref99" id="cmnt99">[cu]</a><span class="c7 c0">_Marked as resolved_</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref100" id="cmnt100">[cv]</a><span class="c7 c0">_Re-opened_</span></p><p class="c56"><span class="c7 c0">Why has it been marked as resolved?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref101" id="cmnt101">[cw]</a><span class="c7 c0">What does it mean &ldquo;Session state may exist on the GW for a client in the LOST state&rdquo;? Until when this session state for LOST clients should be kept and why?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref102" id="cmnt102">[cx]</a><span class="c7 c0">Figure source file?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref103" id="cmnt103">[cy]</a><span class="c7 c0">We need an alternative solution if the requests are not received by the Client</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref104" id="cmnt104">[cz]</a><span class="c7 c0">What happen if a will topic or a will message was not previously defined? If it works normally this can be used as an alternative to the lost of WILLTOPICREQ and WILLMGSREQ</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref105" id="cmnt105">[da]</a><span class="c7 c0">When the &ldquo;Topic Alias mappings&rdquo; can be removed by a gateway? We need to be able to support PUBLISH OUT OF BAND</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref106" id="cmnt106">[db]</a><span class="c7 c0">Should we have something similar also for the CONNECT?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref107" id="cmnt107">[dc]</a><span class="c7 c0">We should clearly indicate that the support for &quot;broadcast&quot; is optional</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref108" id="cmnt108">[dd]</a><span class="c7 c0">Ensure we provide detailed example of how this related to example phases</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref109" id="cmnt109">[de]</a><span class="c7 c0">The client must send only one retransmittable packet at a time other wise we might not preserve message order. The same goes for CONNECT, SUBSCRIBE and UNSUBSCRIBE packets, otherwise a subscribe might be received in the gateway before the connect has been processed or the order of subscribe and unsubscribe might be reversed.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref110" id="cmnt110">[df]</a><span class="c7 c0">what if there is no other gateway(s).</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref111" id="cmnt111">[dg]</a><span class="c7 c0">The gateway will need to retransmit PUBLISH Qos=1&nbsp; where no PUBACK is received and PUBLISH Qos=2 packets where no PUBREC is received. The gateway also needs to retransmit a PUBREL of no PUBCOMP is received.</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref112" id="cmnt112">[dh]</a><span class="c7 c0">It is unclear to me. Which timer is used to detect this timeout?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref113" id="cmnt113">[di]</a><span class="c7 c0">Actually the transition Awake-&gt;Active is not present in Figure 4. Do I miss something?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref114" id="cmnt114">[dj]</a><span class="c7 c0">It seems we need a loop on the ASLEEP state with Disconnect (session expiry interval &gt;0), right?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref115" id="cmnt115">[dk]</a><span class="c0 c7">This is unclear to me. The topic alias mapping should be kept for the clients in Active, Asleep and Awake states, right?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref116" id="cmnt116">[dl]</a><span class="c7 c0">To be slided in multiple images</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref117" id="cmnt117">[dm]</a><span class="c7 c0">Would it make sense to provide separate sequence diagrams per QOS side by side?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref118" id="cmnt118">[dn]</a><span class="c7 c0">Figure source file(s)?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref119" id="cmnt119">[do]</a><span class="c7 c0">Can we just add here an adaptation of the chapter 4.12 of the MQTT v5 specs?</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref120" id="cmnt120">[dp]</a><span class="c7 c0">It should be be consistent with the Connect &quot;Keep Alive Timer&quot; chapter where we have &ldquo;If the Gateway does not receive an MQTT-SN Control Packet from the Client within one and a half times the Keep Alive time period, it MUST close the Network Connection and consider the Connection &lsquo;LOST&rsquo;.&rdquo;</span></p></div><div class="c135"><p class="c56"><a href="#cmnt_ref121" id="cmnt121">[dq]</a><span class="c7 c0">What is a recommended maximum backoff time?</span></p></div></body></html>