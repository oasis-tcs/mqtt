<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=cXxCiXacHPaqkz2Db3A6gDkoSpMNqERXUQJVKxk4yX3-SYK_Ln3uQOimoUBe-l5o);ul.lst-kix_p16zu2nyfx8k-7{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-8{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-0{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-1{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-2{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-3{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-4{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-5{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-6{list-style-type:none}.lst-kix_thr9qqed2qck-0>li:before{content:"\0025cf   "}ol.lst-kix_list_2-3.start{counter-reset:lst-ctn-kix_list_2-3 0}ol.lst-kix_lqfz53xxujmr-3.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-3 0}.lst-kix_thr9qqed2qck-6>li:before{content:"\0025cf   "}.lst-kix_thr9qqed2qck-8>li:before{content:"\0025a0   "}ol.lst-kix_list_17-1.start{counter-reset:lst-ctn-kix_list_17-1 0}ul.lst-kix_ktnmrk6fggmz-6{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-5{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-4{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-3{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-8{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-7{list-style-type:none}.lst-kix_thr9qqed2qck-2>li:before{content:"\0025a0   "}.lst-kix_thr9qqed2qck-4>li:before{content:"\0025cb   "}ol.lst-kix_list_16-5{list-style-type:none}ul.lst-kix_list_27-0{list-style-type:none}ol.lst-kix_list_16-6{list-style-type:none}ul.lst-kix_list_27-1{list-style-type:none}.lst-kix_list_24-8>li:before{content:"\0025aa   "}ol.lst-kix_list_16-7{list-style-type:none}ul.lst-kix_list_27-2{list-style-type:none}ol.lst-kix_list_16-8{list-style-type:none}ol.lst-kix_list_16-1{list-style-type:none}ol.lst-kix_list_16-2{list-style-type:none}ol.lst-kix_list_16-3{list-style-type:none}ol.lst-kix_list_16-4{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-2{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-1{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-0{list-style-type:none}.lst-kix_list_24-2>li:before{content:"\0025aa   "}ol.lst-kix_list_16-0{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-6{list-style-type:none}ul.lst-kix_tysnzt61ui6p-8{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-5{list-style-type:none}ul.lst-kix_tysnzt61ui6p-7{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-8{list-style-type:none}ul.lst-kix_tysnzt61ui6p-6{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-7{list-style-type:none}.lst-kix_list_24-4>li:before{content:"o  "}ul.lst-kix_tysnzt61ui6p-1{list-style-type:none}ul.lst-kix_list_27-3{list-style-type:none}ul.lst-kix_tysnzt61ui6p-0{list-style-type:none}ul.lst-kix_list_27-4{list-style-type:none}ul.lst-kix_list_27-5{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-0{list-style-type:none}ul.lst-kix_list_27-6{list-style-type:none}ul.lst-kix_tysnzt61ui6p-5{list-style-type:none}ul.lst-kix_list_27-7{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-2{list-style-type:none}ul.lst-kix_tysnzt61ui6p-4{list-style-type:none}ul.lst-kix_list_27-8{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-1{list-style-type:none}ul.lst-kix_tysnzt61ui6p-3{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-4{list-style-type:none}.lst-kix_list_24-6>li:before{content:"\0025cf   "}ul.lst-kix_tysnzt61ui6p-2{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-3{list-style-type:none}.lst-kix_list_23-6>li:before{content:"\0025cf   "}.lst-kix_list_23-2>li:before{content:"\0025a0   "}.lst-kix_list_23-0>li:before{content:"\0025cf   "}.lst-kix_list_23-8>li:before{content:"\0025a0   "}.lst-kix_list_24-0>li:before{content:"\0025cf   "}.lst-kix_list_23-4>li:before{content:"\0025a0   "}.lst-kix_7g5ij6v74lx-5>li:before{content:"\0025a0   "}.lst-kix_bupw68uclqhs-5>li:before{content:"\0025a0   "}.lst-kix_bupw68uclqhs-7>li:before{content:"\0025cb   "}.lst-kix_7g5ij6v74lx-3>li:before{content:"\0025cf   "}.lst-kix_7g5ij6v74lx-7>li:before{content:"\0025cb   "}ol.lst-kix_ev3c1abzhvq-3.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-3 0}.lst-kix_list_22-2>li:before{content:"\0025aa   "}.lst-kix_list_22-6>li:before{content:"\0025cf   "}.lst-kix_7g5ij6v74lx-1>li:before{content:"\0025cb   "}.lst-kix_bupw68uclqhs-1>li:before{content:"\0025cb   "}.lst-kix_bupw68uclqhs-3>li:before{content:"\0025cf   "}.lst-kix_462e54846fbo-2>li{counter-increment:lst-ctn-kix_462e54846fbo-2}.lst-kix_list_22-0>li:before{content:"\0025cf   "}.lst-kix_list_22-8>li:before{content:"\0025aa   "}.lst-kix_abwpot8mtzc7-2>li:before{content:"\0025a0   "}.lst-kix_list_22-4>li:before{content:"o  "}.lst-kix_abwpot8mtzc7-4>li:before{content:"\0025cb   "}.lst-kix_xx0koyk92fk7-7>li:before{content:"\0025cb   "}ol.lst-kix_tqyt4049oqum-5.start{counter-reset:lst-ctn-kix_tqyt4049oqum-5 0}.lst-kix_abwpot8mtzc7-6>li:before{content:"\0025cf   "}.lst-kix_abwpot8mtzc7-8>li:before{content:"\0025a0   "}ol.lst-kix_list_2-8.start{counter-reset:lst-ctn-kix_list_2-8 0}ol.lst-kix_lqfz53xxujmr-8.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-8 0}.lst-kix_abwpot8mtzc7-0>li:before{content:"\0025cf   "}.lst-kix_dh16vo1krifc-0>li:before{content:"\0025cf   "}.lst-kix_dh16vo1krifc-2>li:before{content:"\0025a0   "}.lst-kix_dh16vo1krifc-4>li:before{content:"\0025cb   "}.lst-kix_dh16vo1krifc-8>li:before{content:"\0025a0   "}.lst-kix_dh16vo1krifc-6>li:before{content:"\0025cf   "}.lst-kix_q0297iomcqw0-2>li:before{content:"\0025a0   "}.lst-kix_list_21-8>li:before{content:"\0025aa   "}.lst-kix_3lachvmklkpr-7>li:before{content:"\0025cb   "}ol.lst-kix_list_18-2.start{counter-reset:lst-ctn-kix_list_18-2 0}.lst-kix_list_26-8>li:before{content:"" counter(lst-ctn-kix_list_26-8,lower-roman) ". "}.lst-kix_16cnflin03zc-8>li:before{content:"\0025a0   "}.lst-kix_mu44woos9jdi-8>li:before{content:"\0025a0   "}.lst-kix_list_21-0>li:before{content:"\0025cf   "}.lst-kix_vwlh1djah97h-6>li:before{content:"\0025cf   "}.lst-kix_16cnflin03zc-4>li:before{content:"\0025cb   "}.lst-kix_mu44woos9jdi-4>li:before{content:"\0025cb   "}.lst-kix_list_26-4>li:before{content:"" counter(lst-ctn-kix_list_26-4,lower-latin) ". "}.lst-kix_16cnflin03zc-0>li:before{content:"\0025cf   "}.lst-kix_vwlh1djah97h-2>li:before{content:"\0025a0   "}.lst-kix_q0297iomcqw0-6>li:before{content:"\0025cf   "}.lst-kix_list_21-4>li:before{content:"o  "}.lst-kix_list_26-0>li:before{content:"" counter(lst-ctn-kix_list_26-0,decimal) ". "}.lst-kix_wcx7cglfpdrv-6>li:before{content:"\0025cf   "}ul.lst-kix_list_23-0{list-style-type:none}ul.lst-kix_list_23-1{list-style-type:none}ul.lst-kix_list_23-2{list-style-type:none}ul.lst-kix_list_23-3{list-style-type:none}ul.lst-kix_list_23-4{list-style-type:none}ul.lst-kix_list_23-5{list-style-type:none}ul.lst-kix_list_23-6{list-style-type:none}.lst-kix_xx0koyk92fk7-1>li:before{content:"\0025cb   "}ol.lst-kix_list_26-3.start{counter-reset:lst-ctn-kix_list_26-3 0}.lst-kix_xx0koyk92fk7-5>li:before{content:"\0025a0   "}.lst-kix_mu44woos9jdi-0>li:before{content:"\0025cf   "}ul.lst-kix_list_23-7{list-style-type:none}.lst-kix_list_25-0>li:before{content:"\0025cf   "}.lst-kix_wcx7cglfpdrv-2>li:before{content:"\0025a0   "}ul.lst-kix_list_23-8{list-style-type:none}.lst-kix_ul707ohtzd24-0>li{counter-increment:lst-ctn-kix_ul707ohtzd24-0}.lst-kix_3lachvmklkpr-3>li:before{content:"\0025cf   "}.lst-kix_qhy0wju04c4n-7>li:before{content:"\0025cb   "}.lst-kix_qhy0wju04c4n-3>li:before{content:"\0025cf   "}.lst-kix_list_2-2>li{counter-increment:lst-ctn-kix_list_2-2}.lst-kix_jnhkrhbaqe11-0>li:before{content:"\0025cf   "}.lst-kix_ev3c1abzhvq-1>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-1,lower-latin) ". "}.lst-kix_list_26-2>li{counter-increment:lst-ctn-kix_list_26-2}.lst-kix_jnhkrhbaqe11-4>li:before{content:"\0025cb   "}.lst-kix_list_27-4>li:before{content:"\0025a0   "}ul.lst-kix_list_7-5{list-style-type:none}.lst-kix_jnhkrhbaqe11-8>li:before{content:"\0025a0   "}ul.lst-kix_list_7-6{list-style-type:none}ul.lst-kix_list_7-3{list-style-type:none}ul.lst-kix_list_7-4{list-style-type:none}ul.lst-kix_list_7-7{list-style-type:none}ul.lst-kix_list_7-8{list-style-type:none}ol.lst-kix_list_26-8.start{counter-reset:lst-ctn-kix_list_26-8 0}.lst-kix_ev3c1abzhvq-5>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-5,lower-roman) ". "}.lst-kix_9yim5cm2a43p-7>li:before{content:"\0025cb   "}ul.lst-kix_list_7-1{list-style-type:none}ul.lst-kix_list_7-2{list-style-type:none}.lst-kix_list_27-0>li:before{content:"\0025cf   "}ul.lst-kix_list_7-0{list-style-type:none}.lst-kix_9yim5cm2a43p-3>li:before{content:"\0025cf   "}.lst-kix_tqyt4049oqum-5>li{counter-increment:lst-ctn-kix_tqyt4049oqum-5}.lst-kix_f7m1wa373t12-8>li:before{content:"\0025a0   "}.lst-kix_1fioxjrj066s-6>li:before{content:"\0025cf   "}.lst-kix_list_25-4>li:before{content:"\0025cb   "}.lst-kix_1fioxjrj066s-2>li:before{content:"\0025a0   "}.lst-kix_f7m1wa373t12-0>li:before{content:"\0025cf   "}.lst-kix_f7m1wa373t12-4>li:before{content:"\0025cb   "}.lst-kix_2nzowzum4fkx-8>li:before{content:"\0025a0   "}.lst-kix_list_25-8>li:before{content:"\0025a0   "}ol.lst-kix_list_26-6.start{counter-reset:lst-ctn-kix_list_26-6 0}li.li-bullet-8:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_2nzowzum4fkx-4>li:before{content:"\0025cb   "}.lst-kix_list_28-8>li:before{content:"\0025aa   "}.lst-kix_2nzowzum4fkx-0>li:before{content:"\0025cf   "}.lst-kix_list_17-3>li{counter-increment:lst-ctn-kix_list_17-3}.lst-kix_list_28-4>li:before{content:"o  "}.lst-kix_oy8s3o2zwdoj-7>li:before{content:"\0025cb   "}.lst-kix_ul707ohtzd24-7>li{counter-increment:lst-ctn-kix_ul707ohtzd24-7}ul.lst-kix_list_14-4{list-style-type:none}ul.lst-kix_list_14-3{list-style-type:none}ul.lst-kix_list_14-2{list-style-type:none}ul.lst-kix_list_14-1{list-style-type:none}ul.lst-kix_list_14-0{list-style-type:none}ul.lst-kix_list_14-8{list-style-type:none}ul.lst-kix_list_14-7{list-style-type:none}ul.lst-kix_list_14-6{list-style-type:none}ul.lst-kix_list_14-5{list-style-type:none}.lst-kix_list_28-0>li:before{content:"\0025cf   "}.lst-kix_list_27-8>li:before{content:"\0025a0   "}.lst-kix_list_19-1>li:before{content:"\0025cb   "}.lst-kix_xfrwmyc5vjsr-7>li:before{content:"\0025cb   "}ol.lst-kix_ul707ohtzd24-1.start{counter-reset:lst-ctn-kix_ul707ohtzd24-1 0}.lst-kix_list_19-3>li:before{content:"\0025cf   "}.lst-kix_xfrwmyc5vjsr-1>li:before{content:"\0025cb   "}.lst-kix_oy8s3o2zwdoj-1>li:before{content:"\0025cb   "}.lst-kix_oy8s3o2zwdoj-3>li:before{content:"\0025cf   "}.lst-kix_fna9vqak6p7f-0>li:before{content:"\0025cf   "}ol.lst-kix_list_16-3.start{counter-reset:lst-ctn-kix_list_16-3 0}.lst-kix_fna9vqak6p7f-2>li:before{content:"\0025a0   "}.lst-kix_ktnmrk6fggmz-2>li:before{content:"\0025a0   "}.lst-kix_list_26-7>li{counter-increment:lst-ctn-kix_list_26-7}.lst-kix_ktnmrk6fggmz-0>li:before{content:"\0025cf   "}.lst-kix_lqfz53xxujmr-8>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-8}.lst-kix_tqyt4049oqum-1>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-1,lower-latin) ". "}.lst-kix_fna9vqak6p7f-8>li:before{content:"\0025a0   "}ol.lst-kix_lqfz53xxujmr-1{list-style-type:none}ol.lst-kix_lqfz53xxujmr-0{list-style-type:none}ol.lst-kix_lqfz53xxujmr-3{list-style-type:none}.lst-kix_tqyt4049oqum-3>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-3,decimal) ". "}ol.lst-kix_lqfz53xxujmr-2{list-style-type:none}ol.lst-kix_lqfz53xxujmr-5{list-style-type:none}ol.lst-kix_lqfz53xxujmr-4{list-style-type:none}ol.lst-kix_lqfz53xxujmr-7{list-style-type:none}ol.lst-kix_lqfz53xxujmr-6{list-style-type:none}ol.lst-kix_lqfz53xxujmr-8{list-style-type:none}.lst-kix_list_26-0>li{counter-increment:lst-ctn-kix_list_26-0}li.li-bullet-2:before{margin-left:-21.6pt;white-space:nowrap;display:inline-block;min-width:21.6pt}.lst-kix_list_16-1>li{counter-increment:lst-ctn-kix_list_16-1}.lst-kix_lqfz53xxujmr-1>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-1}.lst-kix_list_17-5>li{counter-increment:lst-ctn-kix_list_17-5}ol.lst-kix_ul707ohtzd24-8.start{counter-reset:lst-ctn-kix_ul707ohtzd24-8 0}ul.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_3-8{list-style-type:none}ul.lst-kix_list_3-1{list-style-type:none}ul.lst-kix_list_3-2{list-style-type:none}.lst-kix_tqyt4049oqum-3>li{counter-increment:lst-ctn-kix_tqyt4049oqum-3}ul.lst-kix_list_3-0{list-style-type:none}ul.lst-kix_list_3-5{list-style-type:none}ul.lst-kix_list_3-6{list-style-type:none}ul.lst-kix_list_3-3{list-style-type:none}ul.lst-kix_list_3-4{list-style-type:none}ul.lst-kix_g0hqdl2at9s-2{list-style-type:none}ul.lst-kix_g0hqdl2at9s-3{list-style-type:none}ul.lst-kix_g0hqdl2at9s-0{list-style-type:none}.lst-kix_lqfz53xxujmr-4>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-4,lower-latin) ". "}ul.lst-kix_g0hqdl2at9s-1{list-style-type:none}ol.lst-kix_tqyt4049oqum-8.start{counter-reset:lst-ctn-kix_tqyt4049oqum-8 0}ul.lst-kix_g0hqdl2at9s-6{list-style-type:none}ul.lst-kix_g0hqdl2at9s-7{list-style-type:none}ul.lst-kix_g0hqdl2at9s-4{list-style-type:none}ul.lst-kix_g0hqdl2at9s-5{list-style-type:none}ul.lst-kix_g0hqdl2at9s-8{list-style-type:none}.lst-kix_list_16-8>li{counter-increment:lst-ctn-kix_list_16-8}.lst-kix_ktnmrk6fggmz-8>li:before{content:"\0025a0   "}.lst-kix_ovy3fm37rmlj-4>li:before{content:"\0025cb   "}ol.lst-kix_list_18-4.start{counter-reset:lst-ctn-kix_list_18-4 0}.lst-kix_list_20-4>li:before{content:"o  "}.lst-kix_ovy3fm37rmlj-2>li:before{content:"\0025a0   "}.lst-kix_list_20-2>li:before{content:"\0025aa   "}.lst-kix_lqfz53xxujmr-2>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-2,lower-roman) ". "}ol.lst-kix_ul707ohtzd24-6.start{counter-reset:lst-ctn-kix_ul707ohtzd24-6 0}ul.lst-kix_list_10-0{list-style-type:none}ol.lst-kix_list_16-8.start{counter-reset:lst-ctn-kix_list_16-8 0}ul.lst-kix_list_10-8{list-style-type:none}ul.lst-kix_list_10-7{list-style-type:none}ul.lst-kix_list_10-6{list-style-type:none}ul.lst-kix_list_10-5{list-style-type:none}ul.lst-kix_list_10-4{list-style-type:none}ul.lst-kix_list_10-3{list-style-type:none}ul.lst-kix_list_10-2{list-style-type:none}ul.lst-kix_list_10-1{list-style-type:none}.lst-kix_swkzokqpq63-0>li:before{content:"\0025cf   "}.lst-kix_ev3c1abzhvq-7>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-7}.lst-kix_25zuex9fsrpn-1>li:before{content:"\0025cb   "}.lst-kix_list_3-2>li:before{content:"\0025a0   "}.lst-kix_list_8-1>li:before{content:"o  "}.lst-kix_q0297iomcqw0-0>li:before{content:"\0025cf   "}.lst-kix_462e54846fbo-2>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-2,lower-roman) ". "}.lst-kix_list_18-0>li{counter-increment:lst-ctn-kix_list_18-0}.lst-kix_9xfwu95yhj84-0>li:before{content:"\0025cf   "}.lst-kix_list_30-7>li:before{content:"o  "}.lst-kix_cpfx7gaecdgo-0>li:before{content:"\0025cf   "}.lst-kix_16cnflin03zc-6>li:before{content:"\0025cf   "}.lst-kix_q0297iomcqw0-8>li:before{content:"\0025a0   "}.lst-kix_list_26-2>li:before{content:"" counter(lst-ctn-kix_list_26-2,lower-roman) ". "}.lst-kix_list_21-6>li:before{content:"\0025cf   "}.lst-kix_vwlh1djah97h-4>li:before{content:"\0025cb   "}.lst-kix_swkzokqpq63-8>li:before{content:"\0025a0   "}.lst-kix_lqfz53xxujmr-5>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-5}ol.lst-kix_list_16-0.start{counter-reset:lst-ctn-kix_list_16-0 0}.lst-kix_mu44woos9jdi-6>li:before{content:"\0025cf   "}ol.lst-kix_list_18-7.start{counter-reset:lst-ctn-kix_list_18-7 0}.lst-kix_abt812ykyt01-7>li:before{content:"\0025cb   "}.lst-kix_wcx7cglfpdrv-8>li:before{content:"\0025a0   "}ol.lst-kix_ul707ohtzd24-3.start{counter-reset:lst-ctn-kix_ul707ohtzd24-3 0}.lst-kix_list_17-1>li:before{content:"" counter(lst-ctn-kix_list_17-1,lower-latin) ". "}.lst-kix_xx0koyk92fk7-3>li:before{content:"\0025cf   "}li.li-bullet-10:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_fcknsouuy2mw-6>li:before{content:"\0025cf   "}.lst-kix_wcx7cglfpdrv-0>li:before{content:"\0025cf   "}.lst-kix_list_16-5>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) " "}ol.lst-kix_tqyt4049oqum-3.start{counter-reset:lst-ctn-kix_tqyt4049oqum-3 0}.lst-kix_list_16-4>li{counter-increment:lst-ctn-kix_list_16-4}.lst-kix_ev3c1abzhvq-0>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-0}.lst-kix_3lachvmklkpr-1>li:before{content:"\0025cb   "}ul.lst-kix_q0297iomcqw0-8{list-style-type:none}ul.lst-kix_q0297iomcqw0-7{list-style-type:none}ul.lst-kix_q0297iomcqw0-6{list-style-type:none}ul.lst-kix_q0297iomcqw0-5{list-style-type:none}ul.lst-kix_q0297iomcqw0-4{list-style-type:none}ol.lst-kix_list_16-5.start{counter-reset:lst-ctn-kix_list_16-5 0}.lst-kix_9xfwu95yhj84-8>li:before{content:"\0025a0   "}.lst-kix_qhy0wju04c4n-5>li:before{content:"\0025a0   "}.lst-kix_cpfx7gaecdgo-8>li:before{content:"\0025a0   "}.lst-kix_list_2-6>li:before{content:"" counter(lst-ctn-kix_list_2-6,decimal) ". "}.lst-kix_list_7-5>li:before{content:"\0025aa   "}.lst-kix_list_27-6>li:before{content:"\0025cf   "}.lst-kix_list_18-5>li:before{content:"" counter(lst-ctn-kix_list_18-5,decimal) ". "}.lst-kix_list_13-6>li:before{content:"\0025cf   "}.lst-kix_jnhkrhbaqe11-6>li:before{content:"\0025cf   "}.lst-kix_ev3c1abzhvq-7>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-7,lower-latin) ". "}.lst-kix_ehrpw4rq2afz-2>li:before{content:"\0025a0   "}.lst-kix_list_31-3>li:before{content:"\0025cf   "}.lst-kix_list_10-2>li:before{content:"\0025a0   "}.lst-kix_9yim5cm2a43p-1>li:before{content:"\0025cb   "}.lst-kix_f7m1wa373t12-6>li:before{content:"\0025cf   "}ul.lst-kix_5zlhnqlmzy4t-0{list-style-type:none}.lst-kix_1fioxjrj066s-4>li:before{content:"\0025cb   "}.lst-kix_list_4-6>li:before{content:"\0025cf   "}ul.lst-kix_5zlhnqlmzy4t-3{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-4{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-1{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-2{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-7{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-8{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-5{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-6{list-style-type:none}.lst-kix_ul707ohtzd24-4>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-4,lower-latin) ". "}.lst-kix_list_25-6>li:before{content:"\0025cf   "}ol.lst-kix_tqyt4049oqum-2.start{counter-reset:lst-ctn-kix_tqyt4049oqum-2 0}.lst-kix_list_9-5>li:before{content:"\0025a0   "}.lst-kix_list_29-6>li:before{content:"\0025cf   "}li.li-bullet-5:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_2nzowzum4fkx-2>li:before{content:"\0025a0   "}.lst-kix_list_12-2>li:before{content:"\0025aa   "}.lst-kix_list_11-6>li:before{content:"\0025cf   "}.lst-kix_tysnzt61ui6p-5>li:before{content:"\0025a0   "}.lst-kix_list_1-2>li:before{content:"\0025aa   "}ol.lst-kix_tqyt4049oqum-0.start{counter-reset:lst-ctn-kix_tqyt4049oqum-0 2}.lst-kix_list_18-7>li{counter-increment:lst-ctn-kix_list_18-7}.lst-kix_list_28-2>li:before{content:"\0025aa   "}ul.lst-kix_jnhkrhbaqe11-0{list-style-type:none}.lst-kix_list_14-1>li:before{content:"\0025cb   "}.lst-kix_g0hqdl2at9s-2>li:before{content:"\0025a0   "}.lst-kix_list_14-4>li:before{content:"\0025cb   "}.lst-kix_g0hqdl2at9s-3>li:before{content:"\0025cf   "}.lst-kix_list_14-5>li:before{content:"\0025a0   "}.lst-kix_list_14-7>li:before{content:"\0025cb   "}.lst-kix_p16zu2nyfx8k-0>li:before{content:"\0025cf   "}.lst-kix_ul707ohtzd24-3>li{counter-increment:lst-ctn-kix_ul707ohtzd24-3}.lst-kix_p16zu2nyfx8k-2>li:before{content:"\0025a0   "}ul.lst-kix_jnhkrhbaqe11-8{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-7{list-style-type:none}.lst-kix_p16zu2nyfx8k-3>li:before{content:"\0025cf   "}ul.lst-kix_jnhkrhbaqe11-6{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-5{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-4{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-3{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-2{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-1{list-style-type:none}.lst-kix_3bne7i3s1y6e-0>li:before{content:"\0025cf   "}ol.lst-kix_462e54846fbo-7.start{counter-reset:lst-ctn-kix_462e54846fbo-7 0}.lst-kix_list_14-8>li:before{content:"\0025a0   "}ul.lst-kix_lqv7ssenj7fn-1{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-2{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-3{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-4{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-0{list-style-type:none}.lst-kix_list_5-1>li:before{content:"o  "}ul.lst-kix_lqv7ssenj7fn-5{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-6{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-7{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-8{list-style-type:none}.lst-kix_list_5-7>li:before{content:"o  "}ul.lst-kix_list_8-4{list-style-type:none}ul.lst-kix_list_8-5{list-style-type:none}.lst-kix_list_5-8>li:before{content:"\0025aa   "}ul.lst-kix_list_8-2{list-style-type:none}ul.lst-kix_list_8-3{list-style-type:none}ul.lst-kix_list_8-8{list-style-type:none}.lst-kix_3bne7i3s1y6e-3>li:before{content:"\0025cf   "}.lst-kix_iv9tlmqkwvr-6>li:before{content:"\0025cf   "}ul.lst-kix_list_8-6{list-style-type:none}ul.lst-kix_list_8-7{list-style-type:none}.lst-kix_iv9tlmqkwvr-8>li:before{content:"\0025a0   "}.lst-kix_list_5-4>li:before{content:"o  "}.lst-kix_list_5-5>li:before{content:"\0025aa   "}ul.lst-kix_list_8-0{list-style-type:none}ul.lst-kix_list_8-1{list-style-type:none}.lst-kix_list_6-1>li:before{content:"\0025cb   "}.lst-kix_list_6-3>li:before{content:"\0025cf   "}.lst-kix_2q63dbptak0x-3>li:before{content:"\0025cf   "}.lst-kix_3bne7i3s1y6e-6>li:before{content:"\0025cf   "}.lst-kix_list_6-0>li:before{content:"\0025cf   "}.lst-kix_list_6-4>li:before{content:"\0025cb   "}.lst-kix_iv9tlmqkwvr-5>li:before{content:"\0025a0   "}.lst-kix_iv9tlmqkwvr-3>li:before{content:"\0025cf   "}.lst-kix_2q63dbptak0x-7>li:before{content:"\0025cb   "}.lst-kix_g0hqdl2at9s-5>li:before{content:"\0025a0   "}.lst-kix_list_2-5>li{counter-increment:lst-ctn-kix_list_2-5}.lst-kix_iv9tlmqkwvr-2>li:before{content:"\0025a0   "}.lst-kix_2q63dbptak0x-6>li:before{content:"\0025cf   "}.lst-kix_g0hqdl2at9s-6>li:before{content:"\0025cf   "}.lst-kix_list_6-7>li:before{content:"\0025cb   "}.lst-kix_g0hqdl2at9s-8>li:before{content:"\0025a0   "}.lst-kix_list_6-6>li:before{content:"\0025cf   "}.lst-kix_list_7-6>li:before{content:"\002022   "}.lst-kix_list_18-5>li{counter-increment:lst-ctn-kix_list_18-5}ul.lst-kix_q0297iomcqw0-3{list-style-type:none}ul.lst-kix_q0297iomcqw0-2{list-style-type:none}ul.lst-kix_q0297iomcqw0-1{list-style-type:none}.lst-kix_list_7-2>li:before{content:"\0025aa   "}ul.lst-kix_q0297iomcqw0-0{list-style-type:none}.lst-kix_5zlhnqlmzy4t-8>li:before{content:"\0025a0   "}.lst-kix_w4fcba4ygfgj-2>li:before{content:"\0025a0   "}.lst-kix_lqv7ssenj7fn-6>li:before{content:"\0025cf   "}.lst-kix_5zlhnqlmzy4t-6>li:before{content:"\0025cf   "}.lst-kix_list_31-0>li:before{content:"\0025cf   "}.lst-kix_lqv7ssenj7fn-0>li:before{content:"\0025cf   "}.lst-kix_lqv7ssenj7fn-4>li:before{content:"\0025cb   "}.lst-kix_ehrpw4rq2afz-3>li:before{content:"\0025cf   "}.lst-kix_ul707ohtzd24-5>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-5,lower-roman) ". "}.lst-kix_w4fcba4ygfgj-8>li:before{content:"\0025a0   "}.lst-kix_list_31-4>li:before{content:"\0025cb   "}.lst-kix_list_15-7>li:before{content:"\0025cb   "}.lst-kix_list_17-7>li{counter-increment:lst-ctn-kix_list_17-7}.lst-kix_list_4-5>li:before{content:"\0025aa   "}.lst-kix_ul707ohtzd24-1>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-1,lower-latin) ". "}.lst-kix_list_15-1>li:before{content:"\0025cb   "}.lst-kix_list_15-3>li:before{content:"\0025cf   "}.lst-kix_w4fcba4ygfgj-6>li:before{content:"\0025cf   "}ol.lst-kix_462e54846fbo-2.start{counter-reset:lst-ctn-kix_462e54846fbo-2 0}.lst-kix_list_12-3>li:before{content:"\002022   "}.lst-kix_list_16-3>li{counter-increment:lst-ctn-kix_list_16-3}.lst-kix_p16zu2nyfx8k-6>li:before{content:"\0025cf   "}.lst-kix_5zlhnqlmzy4t-2>li:before{content:"\0025a0   "}.lst-kix_list_13-5>li:before{content:"\0025aa   "}ol.lst-kix_tqyt4049oqum-7.start{counter-reset:lst-ctn-kix_tqyt4049oqum-7 0}.lst-kix_lqfz53xxujmr-7>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-7}.lst-kix_list_30-5>li:before{content:"\0025aa   "}.lst-kix_swkzokqpq63-2>li:before{content:"\0025a0   "}.lst-kix_list_30-1>li:before{content:"o  "}.lst-kix_25zuex9fsrpn-2>li:before{content:"\0025a0   "}.lst-kix_swkzokqpq63-6>li:before{content:"\0025cf   "}.lst-kix_list_3-0>li:before{content:"\0025cf   "}.lst-kix_list_30-2>li:before{content:"\0025aa   "}.lst-kix_462e54846fbo-1>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-1,lower-latin) ". "}.lst-kix_list_3-3>li:before{content:"\0025cf   "}.lst-kix_swkzokqpq63-3>li:before{content:"\0025cf   "}.lst-kix_tysnzt61ui6p-0>li:before{content:"\0025cf   "}ul.lst-kix_list_13-5{list-style-type:none}ul.lst-kix_list_13-4{list-style-type:none}ul.lst-kix_list_13-3{list-style-type:none}.lst-kix_tysnzt61ui6p-3>li:before{content:"\0025cf   "}ul.lst-kix_list_13-2{list-style-type:none}ul.lst-kix_list_13-1{list-style-type:none}ul.lst-kix_list_13-0{list-style-type:none}ul.lst-kix_list_13-8{list-style-type:none}.lst-kix_list_17-1>li{counter-increment:lst-ctn-kix_list_17-1}.lst-kix_list_11-1>li:before{content:"o  "}ul.lst-kix_list_13-7{list-style-type:none}ul.lst-kix_list_13-6{list-style-type:none}.lst-kix_ul707ohtzd24-2>li{counter-increment:lst-ctn-kix_ul707ohtzd24-2}.lst-kix_list_11-0>li:before{content:"\0025cf   "}.lst-kix_list_8-8>li:before{content:"\0025aa   "}.lst-kix_list_4-8>li:before{content:"\0025aa   "}.lst-kix_abt812ykyt01-6>li:before{content:"\0025cf   "}ul.lst-kix_list_4-8{list-style-type:none}.lst-kix_fcknsouuy2mw-8>li:before{content:"\0025a0   "}.lst-kix_list_16-0>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) " "}ul.lst-kix_list_4-6{list-style-type:none}ul.lst-kix_list_4-7{list-style-type:none}ul.lst-kix_list_4-0{list-style-type:none}ul.lst-kix_mu44woos9jdi-1{list-style-type:none}ul.lst-kix_list_4-1{list-style-type:none}ul.lst-kix_mu44woos9jdi-2{list-style-type:none}.lst-kix_list_16-3>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) " "}ul.lst-kix_mu44woos9jdi-0{list-style-type:none}ul.lst-kix_list_4-4{list-style-type:none}ul.lst-kix_mu44woos9jdi-5{list-style-type:none}ul.lst-kix_list_4-5{list-style-type:none}ul.lst-kix_mu44woos9jdi-6{list-style-type:none}ul.lst-kix_list_4-2{list-style-type:none}ul.lst-kix_mu44woos9jdi-3{list-style-type:none}ul.lst-kix_list_4-3{list-style-type:none}ul.lst-kix_mu44woos9jdi-4{list-style-type:none}.lst-kix_9xfwu95yhj84-5>li:before{content:"\0025a0   "}.lst-kix_9xfwu95yhj84-6>li:before{content:"\0025cf   "}ul.lst-kix_mu44woos9jdi-7{list-style-type:none}ul.lst-kix_mu44woos9jdi-8{list-style-type:none}.lst-kix_9xfwu95yhj84-2>li:before{content:"\0025a0   "}.lst-kix_list_17-8>li:before{content:"" counter(lst-ctn-kix_list_17-8,lower-roman) ". "}.lst-kix_462e54846fbo-4>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-4,lower-latin) ". "}.lst-kix_462e54846fbo-5>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-5,lower-roman) ". "}.lst-kix_cpfx7gaecdgo-7>li:before{content:"\0025cb   "}.lst-kix_462e54846fbo-8>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-8,lower-roman) ". "}.lst-kix_list_7-0>li:before{content:"\002022   "}.lst-kix_lqv7ssenj7fn-7>li:before{content:"\0025cb   "}.lst-kix_list_2-4>li:before{content:"" counter(lst-ctn-kix_list_2-4,lower-latin) ". "}.lst-kix_list_7-3>li:before{content:"\002022   "}.lst-kix_list_13-8>li:before{content:"\0025aa   "}.lst-kix_list_31-1>li:before{content:"\0025cb   "}.lst-kix_list_18-7>li:before{content:"" counter(lst-ctn-kix_list_18-7,decimal) ". "}.lst-kix_lqv7ssenj7fn-3>li:before{content:"\0025cf   "}.lst-kix_5zlhnqlmzy4t-5>li:before{content:"\0025a0   "}.lst-kix_list_15-4>li:before{content:"\0025cb   "}.lst-kix_list_10-4>li:before{content:"\0025cb   "}.lst-kix_list_10-8>li:before{content:"\0025a0   "}.lst-kix_list_15-0>li:before{content:"\0025cf   "}.lst-kix_ehrpw4rq2afz-0>li:before{content:"\0025cf   "}.lst-kix_ul707ohtzd24-2>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-2,lower-roman) ". "}.lst-kix_w4fcba4ygfgj-5>li:before{content:"\0025a0   "}.lst-kix_list_9-7>li:before{content:"\0025cb   "}.lst-kix_list_2-4>li{counter-increment:lst-ctn-kix_list_2-4}.lst-kix_list_29-4>li:before{content:"o  "}.lst-kix_list_11-4>li:before{content:"o  "}li.li-bullet-12:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_list_29-0>li:before{content:"\0025cf   "}.lst-kix_ktnmrk6fggmz-7>li:before{content:"\0025cb   "}.lst-kix_list_12-0>li:before{content:"\002022   "}ul.lst-kix_thr9qqed2qck-0{list-style-type:none}.lst-kix_list_1-4>li:before{content:"o  "}ul.lst-kix_thr9qqed2qck-1{list-style-type:none}ul.lst-kix_thr9qqed2qck-2{list-style-type:none}ul.lst-kix_thr9qqed2qck-3{list-style-type:none}ul.lst-kix_thr9qqed2qck-4{list-style-type:none}ul.lst-kix_thr9qqed2qck-5{list-style-type:none}ul.lst-kix_thr9qqed2qck-6{list-style-type:none}ul.lst-kix_thr9qqed2qck-7{list-style-type:none}ul.lst-kix_thr9qqed2qck-8{list-style-type:none}.lst-kix_list_2-0>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) ". "}.lst-kix_list_1-8>li:before{content:"\0025aa   "}.lst-kix_list_19-0>li:before{content:"\0025cf   "}ul.lst-kix_25zuex9fsrpn-7{list-style-type:none}ul.lst-kix_25zuex9fsrpn-6{list-style-type:none}ul.lst-kix_25zuex9fsrpn-8{list-style-type:none}ul.lst-kix_fcknsouuy2mw-3{list-style-type:none}ul.lst-kix_fcknsouuy2mw-2{list-style-type:none}ul.lst-kix_fcknsouuy2mw-5{list-style-type:none}ul.lst-kix_fcknsouuy2mw-4{list-style-type:none}ul.lst-kix_fcknsouuy2mw-7{list-style-type:none}ul.lst-kix_fcknsouuy2mw-6{list-style-type:none}ul.lst-kix_fcknsouuy2mw-8{list-style-type:none}.lst-kix_xfrwmyc5vjsr-0>li:before{content:"\0025cf   "}.lst-kix_oy8s3o2zwdoj-2>li:before{content:"\0025a0   "}.lst-kix_fna9vqak6p7f-1>li:before{content:"\0025cb   "}.lst-kix_xfrwmyc5vjsr-3>li:before{content:"\0025cf   "}.lst-kix_fna9vqak6p7f-4>li:before{content:"\0025cb   "}.lst-kix_ktnmrk6fggmz-1>li:before{content:"\0025cb   "}ol.lst-kix_462e54846fbo-1.start{counter-reset:lst-ctn-kix_462e54846fbo-1 0}.lst-kix_ul707ohtzd24-5>li{counter-increment:lst-ctn-kix_ul707ohtzd24-5}.lst-kix_list_19-7>li:before{content:"\0025cb   "}.lst-kix_tqyt4049oqum-4>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-4,lower-latin) ". "}.lst-kix_tqyt4049oqum-7>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-7,lower-latin) ". "}li.li-bullet-6:before{margin-left:-24.9pt;white-space:nowrap;display:inline-block;min-width:24.9pt}ol.lst-kix_462e54846fbo-6.start{counter-reset:lst-ctn-kix_462e54846fbo-6 0}.lst-kix_tqyt4049oqum-7>li{counter-increment:lst-ctn-kix_tqyt4049oqum-7}.lst-kix_462e54846fbo-4>li{counter-increment:lst-ctn-kix_462e54846fbo-4}ul.lst-kix_list_31-2{list-style-type:none}ul.lst-kix_list_31-3{list-style-type:none}ul.lst-kix_list_31-4{list-style-type:none}ul.lst-kix_list_31-5{list-style-type:none}ul.lst-kix_list_31-6{list-style-type:none}ul.lst-kix_list_31-7{list-style-type:none}ul.lst-kix_list_31-8{list-style-type:none}.lst-kix_list_18-1>li:before{content:"" counter(lst-ctn-kix_list_18-1,decimal) ". "}ul.lst-kix_list_31-0{list-style-type:none}ul.lst-kix_list_31-1{list-style-type:none}ul.lst-kix_fcknsouuy2mw-1{list-style-type:none}ul.lst-kix_fcknsouuy2mw-0{list-style-type:none}ul.lst-kix_25zuex9fsrpn-3{list-style-type:none}ul.lst-kix_25zuex9fsrpn-2{list-style-type:none}ul.lst-kix_25zuex9fsrpn-5{list-style-type:none}ul.lst-kix_25zuex9fsrpn-4{list-style-type:none}ul.lst-kix_25zuex9fsrpn-1{list-style-type:none}ul.lst-kix_25zuex9fsrpn-0{list-style-type:none}ul.lst-kix_list_22-0{list-style-type:none}.lst-kix_list_2-7>li:before{content:"" counter(lst-ctn-kix_list_2-7,lower-latin) ". "}.lst-kix_list_2-7>li{counter-increment:lst-ctn-kix_list_2-7}ul.lst-kix_list_22-1{list-style-type:none}ul.lst-kix_list_22-2{list-style-type:none}ul.lst-kix_list_22-3{list-style-type:none}ul.lst-kix_list_22-4{list-style-type:none}ul.lst-kix_list_22-5{list-style-type:none}ul.lst-kix_list_22-6{list-style-type:none}ul.lst-kix_list_22-7{list-style-type:none}.lst-kix_list_27-5>li:before{content:"\0025a0   "}.lst-kix_tqyt4049oqum-4>li{counter-increment:lst-ctn-kix_tqyt4049oqum-4}ul.lst-kix_abt812ykyt01-0{list-style-type:none}ul.lst-kix_abt812ykyt01-2{list-style-type:none}ul.lst-kix_abt812ykyt01-1{list-style-type:none}.lst-kix_list_10-1>li:before{content:"\0025cb   "}.lst-kix_list_18-4>li:before{content:"" counter(lst-ctn-kix_list_18-4,decimal) ". "}ul.lst-kix_abt812ykyt01-4{list-style-type:none}ul.lst-kix_abt812ykyt01-3{list-style-type:none}ul.lst-kix_abt812ykyt01-6{list-style-type:none}ul.lst-kix_list_22-8{list-style-type:none}ul.lst-kix_abt812ykyt01-5{list-style-type:none}ul.lst-kix_abt812ykyt01-8{list-style-type:none}ul.lst-kix_abt812ykyt01-7{list-style-type:none}ul.lst-kix_9yim5cm2a43p-5{list-style-type:none}ul.lst-kix_9yim5cm2a43p-4{list-style-type:none}ul.lst-kix_9yim5cm2a43p-3{list-style-type:none}ul.lst-kix_9yim5cm2a43p-2{list-style-type:none}.lst-kix_9yim5cm2a43p-0>li:before{content:"\0025cf   "}ul.lst-kix_9yim5cm2a43p-8{list-style-type:none}ul.lst-kix_9yim5cm2a43p-7{list-style-type:none}ul.lst-kix_9yim5cm2a43p-6{list-style-type:none}.lst-kix_fcknsouuy2mw-5>li:before{content:"\0025a0   "}.lst-kix_1fioxjrj066s-5>li:before{content:"\0025a0   "}ul.lst-kix_9yim5cm2a43p-1{list-style-type:none}ul.lst-kix_9yim5cm2a43p-0{list-style-type:none}.lst-kix_lqfz53xxujmr-6>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-6,decimal) ". "}.lst-kix_ev3c1abzhvq-2>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-2}.lst-kix_list_26-4>li{counter-increment:lst-ctn-kix_list_26-4}.lst-kix_list_20-8>li:before{content:"\0025aa   "}.lst-kix_list_29-7>li:before{content:"o  "}li.li-bullet-9:before{margin-left:-14.1pt;white-space:nowrap;display:inline-block;min-width:14.1pt}.lst-kix_list_9-4>li:before{content:"\0025cb   "}.lst-kix_ktnmrk6fggmz-4>li:before{content:"\0025cb   "}.lst-kix_lqfz53xxujmr-0>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-0,decimal) ". "}.lst-kix_2nzowzum4fkx-1>li:before{content:"\0025cb   "}.lst-kix_list_1-1>li:before{content:"o  "}.lst-kix_list_11-7>li:before{content:"o  "}.lst-kix_tysnzt61ui6p-6>li:before{content:"\0025cf   "}.lst-kix_oy8s3o2zwdoj-8>li:before{content:"\0025a0   "}ol.lst-kix_462e54846fbo-3.start{counter-reset:lst-ctn-kix_462e54846fbo-3 0}.lst-kix_ovy3fm37rmlj-8>li:before{content:"\0025a0   "}.lst-kix_list_28-1>li:before{content:"o  "}.lst-kix_list_30-8>li:before{content:"\0025aa   "}ul.lst-kix_ehrpw4rq2afz-8{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-7{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-6{list-style-type:none}.lst-kix_25zuex9fsrpn-8>li:before{content:"\0025a0   "}ul.lst-kix_ehrpw4rq2afz-5{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-4{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-3{list-style-type:none}.lst-kix_cpfx7gaecdgo-4>li:before{content:"\0025cb   "}ul.lst-kix_ehrpw4rq2afz-2{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-1{list-style-type:none}.lst-kix_list_26-6>li:before{content:"" counter(lst-ctn-kix_list_26-6,decimal) ". "}.lst-kix_list_8-2>li:before{content:"\0025aa   "}.lst-kix_cpfx7gaecdgo-1>li:before{content:"\0025cb   "}.lst-kix_25zuex9fsrpn-5>li:before{content:"\0025a0   "}.lst-kix_vwlh1djah97h-8>li:before{content:"\0025a0   "}.lst-kix_list_8-5>li:before{content:"\0025aa   "}.lst-kix_mu44woos9jdi-5>li:before{content:"\0025a0   "}.lst-kix_list_26-3>li:before{content:"" counter(lst-ctn-kix_list_26-3,decimal) ". "}.lst-kix_list_3-6>li:before{content:"\0025cf   "}.lst-kix_list_21-7>li:before{content:"o  "}ul.lst-kix_ehrpw4rq2afz-0{list-style-type:none}.lst-kix_ev3c1abzhvq-5>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-5}.lst-kix_16cnflin03zc-2>li:before{content:"\0025a0   "}.lst-kix_q0297iomcqw0-4>li:before{content:"\0025cb   "}.lst-kix_q0297iomcqw0-7>li:before{content:"\0025cb   "}ol.lst-kix_462e54846fbo-4.start{counter-reset:lst-ctn-kix_462e54846fbo-4 0}.lst-kix_wcx7cglfpdrv-7>li:before{content:"\0025cb   "}.lst-kix_list_16-6>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) "." counter(lst-ctn-kix_list_16-6,decimal) " "}.lst-kix_wcx7cglfpdrv-4>li:before{content:"\0025cb   "}.lst-kix_list_18-2>li{counter-increment:lst-ctn-kix_list_18-2}.lst-kix_mu44woos9jdi-2>li:before{content:"\0025a0   "}ol.lst-kix_462e54846fbo-5.start{counter-reset:lst-ctn-kix_462e54846fbo-5 0}ol.lst-kix_ev3c1abzhvq-1{list-style-type:none}ol.lst-kix_ev3c1abzhvq-2{list-style-type:none}ol.lst-kix_ev3c1abzhvq-3{list-style-type:none}ol.lst-kix_ev3c1abzhvq-4{list-style-type:none}ol.lst-kix_ev3c1abzhvq-5{list-style-type:none}ol.lst-kix_ev3c1abzhvq-6{list-style-type:none}ol.lst-kix_ev3c1abzhvq-7{list-style-type:none}ol.lst-kix_ev3c1abzhvq-8{list-style-type:none}.lst-kix_462e54846fbo-7>li{counter-increment:lst-ctn-kix_462e54846fbo-7}.lst-kix_3lachvmklkpr-0>li:before{content:"\0025cf   "}ol.lst-kix_ev3c1abzhvq-0{list-style-type:none}.lst-kix_abt812ykyt01-0>li:before{content:"\0025cf   "}.lst-kix_list_17-2>li:before{content:"" counter(lst-ctn-kix_list_17-2,lower-roman) ". "}.lst-kix_tqyt4049oqum-1>li{counter-increment:lst-ctn-kix_tqyt4049oqum-1}.lst-kix_abt812ykyt01-3>li:before{content:"\0025cf   "}.lst-kix_list_17-5>li:before{content:"" counter(lst-ctn-kix_list_17-5,lower-roman) ". "}ul.lst-kix_2nzowzum4fkx-3{list-style-type:none}.lst-kix_list_27-2>li:before{content:"\0025a0   "}ul.lst-kix_2nzowzum4fkx-2{list-style-type:none}ul.lst-kix_2nzowzum4fkx-5{list-style-type:none}ul.lst-kix_2nzowzum4fkx-4{list-style-type:none}.lst-kix_list_22-3>li:before{content:"\0025cf   "}.lst-kix_jnhkrhbaqe11-2>li:before{content:"\0025a0   "}ul.lst-kix_2nzowzum4fkx-1{list-style-type:none}ul.lst-kix_2nzowzum4fkx-0{list-style-type:none}.lst-kix_bupw68uclqhs-2>li:before{content:"\0025a0   "}.lst-kix_ev3c1abzhvq-3>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-3,decimal) ". "}ol.lst-kix_462e54846fbo-8.start{counter-reset:lst-ctn-kix_462e54846fbo-8 0}.lst-kix_1fioxjrj066s-8>li:before{content:"\0025a0   "}.lst-kix_list_16-6>li{counter-increment:lst-ctn-kix_list_16-6}ul.lst-kix_2nzowzum4fkx-7{list-style-type:none}ul.lst-kix_2nzowzum4fkx-6{list-style-type:none}.lst-kix_2q63dbptak0x-0>li:before{content:"\0025cf   "}ul.lst-kix_2nzowzum4fkx-8{list-style-type:none}.lst-kix_list_31-7>li:before{content:"\0025cb   "}.lst-kix_fcknsouuy2mw-2>li:before{content:"\0025a0   "}.lst-kix_abwpot8mtzc7-5>li:before{content:"\0025a0   "}.lst-kix_ul707ohtzd24-8>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-8,lower-roman) ". "}.lst-kix_ehrpw4rq2afz-6>li:before{content:"\0025cf   "}.lst-kix_list_4-2>li:before{content:"\0025aa   "}.lst-kix_list_17-4>li{counter-increment:lst-ctn-kix_list_17-4}.lst-kix_ul707ohtzd24-8>li{counter-increment:lst-ctn-kix_ul707ohtzd24-8}.lst-kix_list_26-1>li{counter-increment:lst-ctn-kix_list_26-1}.lst-kix_list_9-1>li:before{content:"\0025cb   "}.lst-kix_lqfz53xxujmr-3>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-3,decimal) ". "}.lst-kix_oy8s3o2zwdoj-5>li:before{content:"\0025a0   "}.lst-kix_list_12-6>li:before{content:"\002022   "}.lst-kix_list_13-2>li:before{content:"\0025aa   "}.lst-kix_list_2-1>li{counter-increment:lst-ctn-kix_list_2-1}ul.lst-kix_list_9-3{list-style-type:none}ul.lst-kix_list_9-4{list-style-type:none}ul.lst-kix_list_9-1{list-style-type:none}ul.lst-kix_list_9-2{list-style-type:none}ul.lst-kix_list_9-7{list-style-type:none}ul.lst-kix_list_9-8{list-style-type:none}ul.lst-kix_list_9-5{list-style-type:none}ul.lst-kix_list_9-6{list-style-type:none}ul.lst-kix_list_9-0{list-style-type:none}.lst-kix_thr9qqed2qck-7>li:before{content:"\0025cb   "}.lst-kix_ev3c1abzhvq-8>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-8}.lst-kix_thr9qqed2qck-1>li:before{content:"\0025cb   "}.lst-kix_thr9qqed2qck-3>li:before{content:"\0025cf   "}.lst-kix_list_18-8>li{counter-increment:lst-ctn-kix_list_18-8}.lst-kix_thr9qqed2qck-5>li:before{content:"\0025a0   "}ol.lst-kix_list_26-7.start{counter-reset:lst-ctn-kix_list_26-7 0}.lst-kix_list_24-7>li:before{content:"o  "}.lst-kix_list_24-3>li:before{content:"\0025cf   "}.lst-kix_list_24-5>li:before{content:"\0025aa   "}ol.lst-kix_list_16-4.start{counter-reset:lst-ctn-kix_list_16-4 0}ul.lst-kix_abwpot8mtzc7-1{list-style-type:none}ul.lst-kix_abwpot8mtzc7-2{list-style-type:none}ul.lst-kix_abwpot8mtzc7-0{list-style-type:none}.lst-kix_list_23-3>li:before{content:"\0025a0   "}.lst-kix_list_23-7>li:before{content:"\0025cb   "}.lst-kix_list_23-1>li:before{content:"\0025cb   "}.lst-kix_list_24-1>li:before{content:"o  "}.lst-kix_list_2-8>li{counter-increment:lst-ctn-kix_list_2-8}ol.lst-kix_list_26-2.start{counter-reset:lst-ctn-kix_list_26-2 0}ul.lst-kix_abwpot8mtzc7-7{list-style-type:none}ul.lst-kix_abwpot8mtzc7-8{list-style-type:none}ul.lst-kix_abwpot8mtzc7-5{list-style-type:none}ul.lst-kix_abwpot8mtzc7-6{list-style-type:none}ul.lst-kix_abwpot8mtzc7-3{list-style-type:none}.lst-kix_list_23-5>li:before{content:"\0025a0   "}ul.lst-kix_abwpot8mtzc7-4{list-style-type:none}.lst-kix_ev3c1abzhvq-2>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-2,lower-roman) ". "}.lst-kix_jnhkrhbaqe11-1>li:before{content:"\0025cb   "}.lst-kix_ev3c1abzhvq-0>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-0,decimal) ". "}.lst-kix_ev3c1abzhvq-4>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-4,lower-latin) ". "}.lst-kix_jnhkrhbaqe11-3>li:before{content:"\0025cf   "}.lst-kix_jnhkrhbaqe11-5>li:before{content:"\0025a0   "}ul.lst-kix_cpfx7gaecdgo-5{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-6{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-7{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-8{list-style-type:none}ol.lst-kix_462e54846fbo-0.start{counter-reset:lst-ctn-kix_462e54846fbo-0 0}.lst-kix_jnhkrhbaqe11-7>li:before{content:"\0025cb   "}.lst-kix_ev3c1abzhvq-8>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-8,lower-roman) ". "}.lst-kix_ev3c1abzhvq-6>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-6,decimal) ". "}.lst-kix_ev3c1abzhvq-1>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-1}ol.lst-kix_462e54846fbo-7{list-style-type:none}ol.lst-kix_462e54846fbo-6{list-style-type:none}ol.lst-kix_462e54846fbo-8{list-style-type:none}.lst-kix_f7m1wa373t12-7>li:before{content:"\0025cb   "}ol.lst-kix_462e54846fbo-3{list-style-type:none}ol.lst-kix_462e54846fbo-2{list-style-type:none}ol.lst-kix_462e54846fbo-5{list-style-type:none}ol.lst-kix_462e54846fbo-4{list-style-type:none}.lst-kix_f7m1wa373t12-5>li:before{content:"\0025a0   "}ol.lst-kix_462e54846fbo-1{list-style-type:none}ol.lst-kix_462e54846fbo-0{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-1{list-style-type:none}.lst-kix_f7m1wa373t12-1>li:before{content:"\0025cb   "}ul.lst-kix_cpfx7gaecdgo-2{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-3{list-style-type:none}.lst-kix_462e54846fbo-3>li{counter-increment:lst-ctn-kix_462e54846fbo-3}ul.lst-kix_cpfx7gaecdgo-4{list-style-type:none}.lst-kix_f7m1wa373t12-3>li:before{content:"\0025cf   "}.lst-kix_list_25-5>li:before{content:"\0025a0   "}ul.lst-kix_cpfx7gaecdgo-0{list-style-type:none}.lst-kix_list_25-7>li:before{content:"\0025cb   "}ol.lst-kix_list_18-3.start{counter-reset:lst-ctn-kix_list_18-3 0}ol.lst-kix_list_18-7{list-style-type:none}ol.lst-kix_list_18-8{list-style-type:none}ol.lst-kix_list_18-3{list-style-type:none}ol.lst-kix_list_18-4{list-style-type:none}ol.lst-kix_list_18-5{list-style-type:none}ul.lst-kix_list_29-0{list-style-type:none}ol.lst-kix_list_18-6{list-style-type:none}ol.lst-kix_list_18-0{list-style-type:none}ol.lst-kix_list_18-1{list-style-type:none}ol.lst-kix_list_18-2{list-style-type:none}ul.lst-kix_list_29-1{list-style-type:none}ul.lst-kix_list_29-2{list-style-type:none}ul.lst-kix_list_29-3{list-style-type:none}ul.lst-kix_list_29-4{list-style-type:none}ul.lst-kix_list_29-5{list-style-type:none}ul.lst-kix_list_29-6{list-style-type:none}ul.lst-kix_list_29-7{list-style-type:none}ul.lst-kix_list_29-8{list-style-type:none}ol.lst-kix_ul707ohtzd24-7.start{counter-reset:lst-ctn-kix_ul707ohtzd24-7 0}ul.lst-kix_list_5-7{list-style-type:none}ul.lst-kix_list_5-8{list-style-type:none}ul.lst-kix_list_5-5{list-style-type:none}.lst-kix_q0297iomcqw0-1>li:before{content:"\0025cb   "}ul.lst-kix_list_5-6{list-style-type:none}.lst-kix_list_26-5>li:before{content:"" counter(lst-ctn-kix_list_26-5,lower-roman) ". "}.lst-kix_list_16-0>li{counter-increment:lst-ctn-kix_list_16-0}.lst-kix_3lachvmklkpr-6>li:before{content:"\0025cf   "}ul.lst-kix_list_5-0{list-style-type:none}ul.lst-kix_list_5-3{list-style-type:none}ul.lst-kix_list_5-4{list-style-type:none}ul.lst-kix_list_5-1{list-style-type:none}ul.lst-kix_list_5-2{list-style-type:none}.lst-kix_list_26-1>li:before{content:"" counter(lst-ctn-kix_list_26-1,lower-latin) ". "}.lst-kix_list_21-1>li:before{content:"o  "}.lst-kix_16cnflin03zc-5>li:before{content:"\0025a0   "}.lst-kix_vwlh1djah97h-5>li:before{content:"\0025a0   "}.lst-kix_mu44woos9jdi-3>li:before{content:"\0025cf   "}.lst-kix_16cnflin03zc-1>li:before{content:"\0025cb   "}.lst-kix_vwlh1djah97h-1>li:before{content:"\0025cb   "}.lst-kix_list_21-5>li:before{content:"\0025aa   "}.lst-kix_q0297iomcqw0-5>li:before{content:"\0025a0   "}.lst-kix_mu44woos9jdi-7>li:before{content:"\0025cb   "}.lst-kix_wcx7cglfpdrv-5>li:before{content:"\0025a0   "}.lst-kix_xx0koyk92fk7-0>li:before{content:"\0025cf   "}ul.lst-kix_bupw68uclqhs-7{list-style-type:none}ul.lst-kix_bupw68uclqhs-8{list-style-type:none}.lst-kix_xx0koyk92fk7-4>li:before{content:"\0025cb   "}.lst-kix_wcx7cglfpdrv-1>li:before{content:"\0025cb   "}.lst-kix_list_25-1>li:before{content:"\0025cb   "}.lst-kix_3lachvmklkpr-2>li:before{content:"\0025a0   "}ul.lst-kix_list_12-6{list-style-type:none}ul.lst-kix_list_12-5{list-style-type:none}ul.lst-kix_list_12-4{list-style-type:none}ul.lst-kix_list_12-3{list-style-type:none}ul.lst-kix_list_12-2{list-style-type:none}.lst-kix_list_16-7>li{counter-increment:lst-ctn-kix_list_16-7}ul.lst-kix_list_12-1{list-style-type:none}ul.lst-kix_list_12-0{list-style-type:none}ul.lst-kix_bupw68uclqhs-5{list-style-type:none}ul.lst-kix_bupw68uclqhs-6{list-style-type:none}.lst-kix_qhy0wju04c4n-6>li:before{content:"\0025cf   "}ul.lst-kix_bupw68uclqhs-3{list-style-type:none}ul.lst-kix_bupw68uclqhs-4{list-style-type:none}ul.lst-kix_bupw68uclqhs-1{list-style-type:none}ul.lst-kix_bupw68uclqhs-2{list-style-type:none}ul.lst-kix_list_12-8{list-style-type:none}ul.lst-kix_list_12-7{list-style-type:none}ul.lst-kix_bupw68uclqhs-0{list-style-type:none}.lst-kix_list_16-5>li{counter-increment:lst-ctn-kix_list_16-5}.lst-kix_list_22-5>li:before{content:"\0025aa   "}.lst-kix_bupw68uclqhs-4>li:before{content:"\0025cb   "}.lst-kix_bupw68uclqhs-8>li:before{content:"\0025a0   "}.lst-kix_7g5ij6v74lx-4>li:before{content:"\0025cb   "}.lst-kix_7g5ij6v74lx-8>li:before{content:"\0025a0   "}.lst-kix_list_22-1>li:before{content:"o  "}ul.lst-kix_9xfwu95yhj84-4{list-style-type:none}ul.lst-kix_9xfwu95yhj84-3{list-style-type:none}ul.lst-kix_9xfwu95yhj84-6{list-style-type:none}ul.lst-kix_9xfwu95yhj84-5{list-style-type:none}ul.lst-kix_9xfwu95yhj84-8{list-style-type:none}ul.lst-kix_9xfwu95yhj84-7{list-style-type:none}.lst-kix_7g5ij6v74lx-0>li:before{content:"\0025cf   "}ul.lst-kix_9xfwu95yhj84-0{list-style-type:none}ul.lst-kix_9xfwu95yhj84-2{list-style-type:none}ul.lst-kix_9xfwu95yhj84-1{list-style-type:none}.lst-kix_abwpot8mtzc7-3>li:before{content:"\0025cf   "}.lst-kix_xx0koyk92fk7-8>li:before{content:"\0025a0   "}.lst-kix_abwpot8mtzc7-7>li:before{content:"\0025cb   "}li.li-bullet-3:before{margin-left:-14.1pt;white-space:nowrap;display:inline-block;min-width:14.1pt}ol.lst-kix_list_2-2.start{counter-reset:lst-ctn-kix_list_2-2 0}.lst-kix_bupw68uclqhs-0>li:before{content:"\0025cf   "}.lst-kix_lqfz53xxujmr-2>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-2}ul.lst-kix_1fioxjrj066s-1{list-style-type:none}ul.lst-kix_1fioxjrj066s-2{list-style-type:none}.lst-kix_ovy3fm37rmlj-5>li:before{content:"\0025a0   "}ul.lst-kix_1fioxjrj066s-3{list-style-type:none}ul.lst-kix_1fioxjrj066s-4{list-style-type:none}ul.lst-kix_list_25-0{list-style-type:none}ul.lst-kix_1fioxjrj066s-5{list-style-type:none}ul.lst-kix_list_25-1{list-style-type:none}ul.lst-kix_1fioxjrj066s-6{list-style-type:none}ul.lst-kix_list_25-2{list-style-type:none}ul.lst-kix_1fioxjrj066s-7{list-style-type:none}ul.lst-kix_list_25-3{list-style-type:none}ul.lst-kix_1fioxjrj066s-8{list-style-type:none}ul.lst-kix_list_25-4{list-style-type:none}ul.lst-kix_1fioxjrj066s-0{list-style-type:none}ul.lst-kix_3lachvmklkpr-0{list-style-type:none}.lst-kix_list_20-5>li:before{content:"\0025aa   "}ul.lst-kix_3lachvmklkpr-7{list-style-type:none}ul.lst-kix_list_25-5{list-style-type:none}ul.lst-kix_3lachvmklkpr-8{list-style-type:none}ul.lst-kix_list_25-6{list-style-type:none}ul.lst-kix_3lachvmklkpr-5{list-style-type:none}.lst-kix_ovy3fm37rmlj-1>li:before{content:"\0025cb   "}.lst-kix_list_20-1>li:before{content:"o  "}ul.lst-kix_list_25-7{list-style-type:none}ul.lst-kix_3lachvmklkpr-6{list-style-type:none}ul.lst-kix_list_25-8{list-style-type:none}ul.lst-kix_3lachvmklkpr-3{list-style-type:none}ul.lst-kix_3lachvmklkpr-4{list-style-type:none}ul.lst-kix_3lachvmklkpr-1{list-style-type:none}ul.lst-kix_3lachvmklkpr-2{list-style-type:none}ul.lst-kix_xx0koyk92fk7-8{list-style-type:none}ul.lst-kix_xx0koyk92fk7-6{list-style-type:none}ul.lst-kix_xx0koyk92fk7-7{list-style-type:none}ul.lst-kix_xx0koyk92fk7-0{list-style-type:none}.lst-kix_dh16vo1krifc-1>li:before{content:"\0025cb   "}ul.lst-kix_xx0koyk92fk7-1{list-style-type:none}ul.lst-kix_xx0koyk92fk7-4{list-style-type:none}ul.lst-kix_xx0koyk92fk7-5{list-style-type:none}ul.lst-kix_xx0koyk92fk7-2{list-style-type:none}ul.lst-kix_xx0koyk92fk7-3{list-style-type:none}.lst-kix_dh16vo1krifc-5>li:before{content:"\0025a0   "}.lst-kix_list_18-1>li{counter-increment:lst-ctn-kix_list_18-1}ul.lst-kix_list_1-0{list-style-type:none}.lst-kix_462e54846fbo-8>li{counter-increment:lst-ctn-kix_462e54846fbo-8}.lst-kix_list_19-4>li:before{content:"\0025cb   "}.lst-kix_xfrwmyc5vjsr-6>li:before{content:"\0025cf   "}ol.lst-kix_tqyt4049oqum-6.start{counter-reset:lst-ctn-kix_tqyt4049oqum-6 0}.lst-kix_xfrwmyc5vjsr-4>li:before{content:"\0025cb   "}ul.lst-kix_list_1-3{list-style-type:none}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-7{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-6{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-5{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-4{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-3{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-2{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-1{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-0{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-8{list-style-type:none}.lst-kix_fna9vqak6p7f-5>li:before{content:"\0025a0   "}.lst-kix_tqyt4049oqum-0>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-0,decimal) ". "}.lst-kix_fna9vqak6p7f-7>li:before{content:"\0025cb   "}.lst-kix_list_19-6>li:before{content:"\0025cf   "}.lst-kix_list_17-2>li{counter-increment:lst-ctn-kix_list_17-2}.lst-kix_tqyt4049oqum-6>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-6,decimal) ". "}.lst-kix_lqfz53xxujmr-4>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-4}.lst-kix_list_18-3>li{counter-increment:lst-ctn-kix_list_18-3}.lst-kix_tqyt4049oqum-8>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-8,lower-roman) ". "}.lst-kix_list_18-0>li:before{content:"" counter(lst-ctn-kix_list_18-0,decimal) ". "}.lst-kix_list_18-2>li:before{content:"" counter(lst-ctn-kix_list_18-2,decimal) ". "}.lst-kix_ev3c1abzhvq-6>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-6}.lst-kix_list_27-1>li:before{content:"\0025cb   "}.lst-kix_list_27-3>li:before{content:"\0025a0   "}.lst-kix_qhy0wju04c4n-2>li:before{content:"\0025a0   "}.lst-kix_qhy0wju04c4n-0>li:before{content:"\0025cf   "}.lst-kix_list_18-8>li:before{content:"" counter(lst-ctn-kix_list_18-8,decimal) ". "}.lst-kix_list_17-6>li{counter-increment:lst-ctn-kix_list_17-6}.lst-kix_9yim5cm2a43p-6>li:before{content:"\0025cf   "}.lst-kix_462e54846fbo-1>li{counter-increment:lst-ctn-kix_462e54846fbo-1}.lst-kix_list_10-7>li:before{content:"\0025cb   "}.lst-kix_fcknsouuy2mw-1>li:before{content:"\0025cb   "}.lst-kix_list_10-5>li:before{content:"\0025a0   "}.lst-kix_9yim5cm2a43p-4>li:before{content:"\0025cb   "}ol.lst-kix_list_18-6.start{counter-reset:lst-ctn-kix_list_18-6 0}.lst-kix_1fioxjrj066s-7>li:before{content:"\0025cb   "}.lst-kix_fcknsouuy2mw-3>li:before{content:"\0025cf   "}.lst-kix_list_9-2>li:before{content:"\0025a0   "}.lst-kix_2nzowzum4fkx-5>li:before{content:"\0025a0   "}.lst-kix_2nzowzum4fkx-7>li:before{content:"\0025cb   "}.lst-kix_list_9-0>li:before{content:"\0025cf   "}.lst-kix_1fioxjrj066s-1>li:before{content:"\0025cb   "}ul.lst-kix_list_21-1{list-style-type:none}ul.lst-kix_list_21-2{list-style-type:none}ul.lst-kix_list_21-3{list-style-type:none}ul.lst-kix_list_21-4{list-style-type:none}ul.lst-kix_list_21-5{list-style-type:none}ul.lst-kix_list_21-6{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-1{list-style-type:none}ul.lst-kix_list_21-7{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-0{list-style-type:none}ul.lst-kix_list_21-8{list-style-type:none}.lst-kix_list_11-3>li:before{content:"\0025cf   "}ul.lst-kix_list_21-0{list-style-type:none}.lst-kix_list_29-1>li:before{content:"o  "}.lst-kix_tysnzt61ui6p-8>li:before{content:"\0025a0   "}ul.lst-kix_3bne7i3s1y6e-3{list-style-type:none}.lst-kix_list_29-3>li:before{content:"\0025cf   "}ul.lst-kix_3bne7i3s1y6e-2{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-5{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-4{list-style-type:none}.lst-kix_list_9-8>li:before{content:"\0025a0   "}ul.lst-kix_3bne7i3s1y6e-7{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-6{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-8{list-style-type:none}.lst-kix_oy8s3o2zwdoj-6>li:before{content:"\0025cf   "}.lst-kix_oy8s3o2zwdoj-4>li:before{content:"\0025cb   "}.lst-kix_list_28-7>li:before{content:"o  "}.lst-kix_list_1-7>li:before{content:"o  "}.lst-kix_list_1-5>li:before{content:"\0025aa   "}.lst-kix_list_28-5>li:before{content:"\0025aa   "}.lst-kix_list_2-1>li:before{content:"" counter(lst-ctn-kix_list_2-1,lower-latin) ". "}.lst-kix_list_2-3>li:before{content:"" counter(lst-ctn-kix_list_2-3,decimal) ". "}.lst-kix_25zuex9fsrpn-4>li:before{content:"\0025cb   "}.lst-kix_list_30-4>li:before{content:"o  "}ol.lst-kix_tqyt4049oqum-1{list-style-type:none}ol.lst-kix_tqyt4049oqum-0{list-style-type:none}ol.lst-kix_tqyt4049oqum-3{list-style-type:none}ol.lst-kix_tqyt4049oqum-2{list-style-type:none}.lst-kix_list_26-7>li:before{content:"" counter(lst-ctn-kix_list_26-7,lower-latin) ". "}ol.lst-kix_ul707ohtzd24-4.start{counter-reset:lst-ctn-kix_ul707ohtzd24-4 0}ol.lst-kix_tqyt4049oqum-8{list-style-type:none}ol.lst-kix_tqyt4049oqum-5{list-style-type:none}ol.lst-kix_tqyt4049oqum-4{list-style-type:none}ol.lst-kix_tqyt4049oqum-7{list-style-type:none}.lst-kix_swkzokqpq63-5>li:before{content:"\0025a0   "}ol.lst-kix_tqyt4049oqum-6{list-style-type:none}.lst-kix_list_3-5>li:before{content:"\0025a0   "}.lst-kix_vwlh1djah97h-7>li:before{content:"\0025cb   "}.lst-kix_3lachvmklkpr-4>li:before{content:"\0025cb   "}ul.lst-kix_16cnflin03zc-4{list-style-type:none}ul.lst-kix_16cnflin03zc-5{list-style-type:none}ul.lst-kix_16cnflin03zc-2{list-style-type:none}ul.lst-kix_16cnflin03zc-3{list-style-type:none}ul.lst-kix_16cnflin03zc-8{list-style-type:none}.lst-kix_list_8-6>li:before{content:"\0025cf   "}ul.lst-kix_16cnflin03zc-6{list-style-type:none}ul.lst-kix_16cnflin03zc-7{list-style-type:none}.lst-kix_16cnflin03zc-3>li:before{content:"\0025cf   "}ul.lst-kix_16cnflin03zc-0{list-style-type:none}ol.lst-kix_list_16-6.start{counter-reset:lst-ctn-kix_list_16-6 0}ul.lst-kix_16cnflin03zc-1{list-style-type:none}.lst-kix_tysnzt61ui6p-2>li:before{content:"\0025a0   "}.lst-kix_q0297iomcqw0-3>li:before{content:"\0025cf   "}.lst-kix_list_21-3>li:before{content:"\0025cf   "}.lst-kix_abt812ykyt01-4>li:before{content:"\0025cb   "}ol.lst-kix_tqyt4049oqum-4.start{counter-reset:lst-ctn-kix_tqyt4049oqum-4 0}.lst-kix_list_25-3>li:before{content:"\0025cf   "}.lst-kix_ul707ohtzd24-6>li{counter-increment:lst-ctn-kix_ul707ohtzd24-6}.lst-kix_xx0koyk92fk7-6>li:before{content:"\0025cf   "}.lst-kix_list_16-2>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) " "}.lst-kix_mu44woos9jdi-1>li:before{content:"\0025cb   "}.lst-kix_list_26-6>li{counter-increment:lst-ctn-kix_list_26-6}.lst-kix_wcx7cglfpdrv-3>li:before{content:"\0025cf   "}ol.lst-kix_list_18-8.start{counter-reset:lst-ctn-kix_list_18-8 0}.lst-kix_ev3c1abzhvq-3>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-3}.lst-kix_9xfwu95yhj84-3>li:before{content:"\0025cf   "}.lst-kix_qhy0wju04c4n-8>li:before{content:"\0025a0   "}.lst-kix_cpfx7gaecdgo-5>li:before{content:"\0025a0   "}.lst-kix_list_17-6>li:before{content:"" counter(lst-ctn-kix_list_17-6,decimal) ". "}.lst-kix_462e54846fbo-7>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-7,lower-latin) ". "}.lst-kix_bupw68uclqhs-6>li:before{content:"\0025cf   "}ol.lst-kix_list_16-2.start{counter-reset:lst-ctn-kix_list_16-2 0}ol.lst-kix_ul707ohtzd24-5{list-style-type:none}ol.lst-kix_ul707ohtzd24-6{list-style-type:none}ol.lst-kix_ul707ohtzd24-3{list-style-type:none}ol.lst-kix_ul707ohtzd24-4{list-style-type:none}.lst-kix_list_22-7>li:before{content:"o  "}ol.lst-kix_ul707ohtzd24-1{list-style-type:none}ol.lst-kix_ul707ohtzd24-2{list-style-type:none}ol.lst-kix_ul707ohtzd24-0{list-style-type:none}.lst-kix_lqv7ssenj7fn-1>li:before{content:"\0025cb   "}.lst-kix_5zlhnqlmzy4t-3>li:before{content:"\0025cf   "}.lst-kix_list_26-3>li{counter-increment:lst-ctn-kix_list_26-3}ul.lst-kix_list_30-3{list-style-type:none}ul.lst-kix_list_30-4{list-style-type:none}ul.lst-kix_list_30-5{list-style-type:none}.lst-kix_list_15-6>li:before{content:"\0025cf   "}ul.lst-kix_list_30-6{list-style-type:none}.lst-kix_lqfz53xxujmr-7>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-7,lower-latin) ". "}ul.lst-kix_list_30-7{list-style-type:none}ul.lst-kix_2q63dbptak0x-0{list-style-type:none}ul.lst-kix_list_30-8{list-style-type:none}ul.lst-kix_list_30-0{list-style-type:none}ul.lst-kix_list_30-1{list-style-type:none}ul.lst-kix_list_30-2{list-style-type:none}.lst-kix_w4fcba4ygfgj-3>li:before{content:"\0025cf   "}.lst-kix_list_20-7>li:before{content:"o  "}ul.lst-kix_qhy0wju04c4n-0{list-style-type:none}ul.lst-kix_qhy0wju04c4n-1{list-style-type:none}ol.lst-kix_ul707ohtzd24-7{list-style-type:none}ul.lst-kix_qhy0wju04c4n-2{list-style-type:none}ol.lst-kix_ul707ohtzd24-8{list-style-type:none}ul.lst-kix_qhy0wju04c4n-3{list-style-type:none}ul.lst-kix_2q63dbptak0x-3{list-style-type:none}ul.lst-kix_qhy0wju04c4n-4{list-style-type:none}ul.lst-kix_2q63dbptak0x-4{list-style-type:none}ul.lst-kix_qhy0wju04c4n-5{list-style-type:none}ul.lst-kix_2q63dbptak0x-1{list-style-type:none}ul.lst-kix_qhy0wju04c4n-6{list-style-type:none}ul.lst-kix_2q63dbptak0x-2{list-style-type:none}ul.lst-kix_qhy0wju04c4n-7{list-style-type:none}ul.lst-kix_2q63dbptak0x-7{list-style-type:none}ol.lst-kix_ul707ohtzd24-2.start{counter-reset:lst-ctn-kix_ul707ohtzd24-2 0}ul.lst-kix_qhy0wju04c4n-8{list-style-type:none}ul.lst-kix_2q63dbptak0x-8{list-style-type:none}ul.lst-kix_2q63dbptak0x-5{list-style-type:none}.lst-kix_7g5ij6v74lx-6>li:before{content:"\0025cf   "}ul.lst-kix_2q63dbptak0x-6{list-style-type:none}.lst-kix_462e54846fbo-5>li{counter-increment:lst-ctn-kix_462e54846fbo-5}.lst-kix_ovy3fm37rmlj-7>li:before{content:"\0025cb   "}.lst-kix_ktnmrk6fggmz-5>li:before{content:"\0025a0   "}ol.lst-kix_tqyt4049oqum-1.start{counter-reset:lst-ctn-kix_tqyt4049oqum-1 0}.lst-kix_tqyt4049oqum-6>li{counter-increment:lst-ctn-kix_tqyt4049oqum-6}.lst-kix_p16zu2nyfx8k-5>li:before{content:"\0025a0   "}.lst-kix_abwpot8mtzc7-1>li:before{content:"\0025cb   "}ol.lst-kix_ul707ohtzd24-0.start{counter-reset:lst-ctn-kix_ul707ohtzd24-0 0}ol.lst-kix_list_16-1.start{counter-reset:lst-ctn-kix_list_16-1 0}.lst-kix_dh16vo1krifc-3>li:before{content:"\0025cf   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_14-3>li:before{content:"\0025cf   "}.lst-kix_g0hqdl2at9s-1>li:before{content:"\0025cb   "}ul.lst-kix_list_28-0{list-style-type:none}ul.lst-kix_list_28-1{list-style-type:none}.lst-kix_list_14-0>li:before{content:"  "}ol.lst-kix_list_18-5.start{counter-reset:lst-ctn-kix_list_18-5 0}.lst-kix_g0hqdl2at9s-4>li:before{content:"\0025cb   "}.lst-kix_list_14-6>li:before{content:"\0025cf   "}.lst-kix_list_17-0>li{counter-increment:lst-ctn-kix_list_17-0}ul.lst-kix_list_28-2{list-style-type:none}ul.lst-kix_list_28-3{list-style-type:none}.lst-kix_p16zu2nyfx8k-1>li:before{content:"\0025cb   "}ul.lst-kix_list_28-4{list-style-type:none}ul.lst-kix_list_28-5{list-style-type:none}ul.lst-kix_list_28-6{list-style-type:none}ul.lst-kix_list_28-7{list-style-type:none}.lst-kix_g0hqdl2at9s-0>li:before{content:"\0025cf   "}ul.lst-kix_list_28-8{list-style-type:none}.lst-kix_list_14-2>li:before{content:"\0025a0   "}ol.lst-kix_list_26-7{list-style-type:none}ol.lst-kix_list_26-6{list-style-type:none}ol.lst-kix_list_26-8{list-style-type:none}ol.lst-kix_list_26-3{list-style-type:none}ol.lst-kix_list_26-2{list-style-type:none}ol.lst-kix_list_26-5{list-style-type:none}ol.lst-kix_list_26-4{list-style-type:none}ol.lst-kix_list_26-1{list-style-type:none}ol.lst-kix_list_26-0{list-style-type:none}.lst-kix_462e54846fbo-6>li{counter-increment:lst-ctn-kix_462e54846fbo-6}.lst-kix_list_5-0>li:before{content:"\002022   "}.lst-kix_list_5-3>li:before{content:"\002022   "}.lst-kix_list_5-2>li:before{content:"\0025aa   "}ol.lst-kix_list_18-0.start{counter-reset:lst-ctn-kix_list_18-0 0}.lst-kix_3bne7i3s1y6e-1>li:before{content:"\0025cb   "}.lst-kix_list_5-6>li:before{content:"\002022   "}.lst-kix_3bne7i3s1y6e-2>li:before{content:"\0025a0   "}.lst-kix_3bne7i3s1y6e-4>li:before{content:"\0025cb   "}.lst-kix_3bne7i3s1y6e-5>li:before{content:"\0025a0   "}.lst-kix_iv9tlmqkwvr-7>li:before{content:"\0025cb   "}.lst-kix_2q63dbptak0x-1>li:before{content:"\0025cb   "}.lst-kix_3bne7i3s1y6e-8>li:before{content:"\0025a0   "}.lst-kix_3bne7i3s1y6e-7>li:before{content:"\0025cb   "}.lst-kix_2q63dbptak0x-2>li:before{content:"\0025a0   "}ul.lst-kix_vwlh1djah97h-8{list-style-type:none}.lst-kix_2q63dbptak0x-5>li:before{content:"\0025a0   "}.lst-kix_2q63dbptak0x-4>li:before{content:"\0025cb   "}.lst-kix_list_6-2>li:before{content:"\0025a0   "}.lst-kix_g0hqdl2at9s-7>li:before{content:"\0025cb   "}.lst-kix_iv9tlmqkwvr-4>li:before{content:"\0025cb   "}.lst-kix_list_6-8>li:before{content:"\0025a0   "}ul.lst-kix_vwlh1djah97h-6{list-style-type:none}ul.lst-kix_vwlh1djah97h-7{list-style-type:none}.lst-kix_iv9tlmqkwvr-0>li:before{content:"\0025cf   "}ul.lst-kix_vwlh1djah97h-4{list-style-type:none}.lst-kix_list_6-5>li:before{content:"\0025a0   "}ul.lst-kix_vwlh1djah97h-5{list-style-type:none}ul.lst-kix_vwlh1djah97h-2{list-style-type:none}ul.lst-kix_vwlh1djah97h-3{list-style-type:none}.lst-kix_iv9tlmqkwvr-1>li:before{content:"\0025cb   "}.lst-kix_2q63dbptak0x-8>li:before{content:"\0025a0   "}ul.lst-kix_vwlh1djah97h-0{list-style-type:none}ul.lst-kix_vwlh1djah97h-1{list-style-type:none}ol.lst-kix_list_17-8{list-style-type:none}.lst-kix_list_7-4>li:before{content:"o  "}ol.lst-kix_list_17-4{list-style-type:none}ol.lst-kix_list_17-5{list-style-type:none}ol.lst-kix_list_17-6{list-style-type:none}.lst-kix_lqv7ssenj7fn-8>li:before{content:"\0025a0   "}ol.lst-kix_list_17-7{list-style-type:none}.lst-kix_w4fcba4ygfgj-0>li:before{content:"\0025cf   "}ol.lst-kix_list_17-0{list-style-type:none}ol.lst-kix_list_17-1{list-style-type:none}ol.lst-kix_list_17-2{list-style-type:none}ol.lst-kix_list_17-3{list-style-type:none}.lst-kix_ehrpw4rq2afz-7>li:before{content:"\0025cb   "}.lst-kix_list_13-7>li:before{content:"o  "}.lst-kix_list_7-8>li:before{content:"\0025aa   "}.lst-kix_5zlhnqlmzy4t-4>li:before{content:"\0025cb   "}.lst-kix_lqv7ssenj7fn-2>li:before{content:"\0025a0   "}ol.lst-kix_list_2-5.start{counter-reset:lst-ctn-kix_list_2-5 0}.lst-kix_list_15-5>li:before{content:"\0025a0   "}.lst-kix_tqyt4049oqum-2>li{counter-increment:lst-ctn-kix_tqyt4049oqum-2}.lst-kix_list_31-6>li:before{content:"\0025cf   "}.lst-kix_list_31-8>li:before{content:"\0025a0   "}ol.lst-kix_list_26-0.start{counter-reset:lst-ctn-kix_list_26-0 0}.lst-kix_list_4-1>li:before{content:"o  "}.lst-kix_list_31-2>li:before{content:"\0025a0   "}.lst-kix_ehrpw4rq2afz-5>li:before{content:"\0025a0   "}.lst-kix_ul707ohtzd24-7>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-7,lower-latin) ". "}ul.lst-kix_list_19-7{list-style-type:none}.lst-kix_w4fcba4ygfgj-4>li:before{content:"\0025cb   "}ul.lst-kix_list_19-6{list-style-type:none}.lst-kix_list_4-3>li:before{content:"\0025cf   "}ul.lst-kix_list_19-5{list-style-type:none}ul.lst-kix_list_19-4{list-style-type:none}ol.lst-kix_ul707ohtzd24-5.start{counter-reset:lst-ctn-kix_ul707ohtzd24-5 0}ul.lst-kix_list_19-3{list-style-type:none}ul.lst-kix_list_19-2{list-style-type:none}ul.lst-kix_list_19-1{list-style-type:none}ul.lst-kix_list_19-0{list-style-type:none}.lst-kix_ehrpw4rq2afz-1>li:before{content:"\0025cb   "}.lst-kix_ul707ohtzd24-3>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-3,decimal) ". "}ul.lst-kix_list_19-8{list-style-type:none}.lst-kix_list_16-2>li{counter-increment:lst-ctn-kix_list_16-2}ol.lst-kix_list_16-7.start{counter-reset:lst-ctn-kix_list_16-7 0}.lst-kix_list_26-5>li{counter-increment:lst-ctn-kix_list_26-5}ol.lst-kix_ev3c1abzhvq-1.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-1 0}ul.lst-kix_f7m1wa373t12-3{list-style-type:none}ul.lst-kix_f7m1wa373t12-2{list-style-type:none}ul.lst-kix_f7m1wa373t12-1{list-style-type:none}ul.lst-kix_f7m1wa373t12-0{list-style-type:none}ul.lst-kix_f7m1wa373t12-7{list-style-type:none}.lst-kix_list_12-1>li:before{content:"o  "}ul.lst-kix_f7m1wa373t12-6{list-style-type:none}ul.lst-kix_f7m1wa373t12-5{list-style-type:none}ul.lst-kix_f7m1wa373t12-4{list-style-type:none}ul.lst-kix_f7m1wa373t12-8{list-style-type:none}.lst-kix_p16zu2nyfx8k-4>li:before{content:"\0025cb   "}.lst-kix_p16zu2nyfx8k-8>li:before{content:"\0025a0   "}.lst-kix_list_13-3>li:before{content:"\0025cf   "}.lst-kix_5zlhnqlmzy4t-0>li:before{content:"\0025cf   "}li.li-bullet-4:before{margin-left:-24.9pt;white-space:nowrap;display:inline-block;min-width:24.9pt}.lst-kix_lqfz53xxujmr-6>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-6}.lst-kix_list_12-5>li:before{content:"\0025aa   "}.lst-kix_list_18-4>li{counter-increment:lst-ctn-kix_list_18-4}.lst-kix_list_12-7>li:before{content:"o  "}.lst-kix_list_13-1>li:before{content:"o  "}ul.lst-kix_list_24-0{list-style-type:none}.lst-kix_25zuex9fsrpn-6>li:before{content:"\0025cf   "}ul.lst-kix_list_24-1{list-style-type:none}ul.lst-kix_list_24-2{list-style-type:none}ul.lst-kix_list_24-3{list-style-type:none}ul.lst-kix_list_24-4{list-style-type:none}.lst-kix_25zuex9fsrpn-3>li:before{content:"\0025cf   "}.lst-kix_25zuex9fsrpn-7>li:before{content:"\0025cb   "}ul.lst-kix_list_24-5{list-style-type:none}ol.lst-kix_list_2-6.start{counter-reset:lst-ctn-kix_list_2-6 0}.lst-kix_swkzokqpq63-7>li:before{content:"\0025cb   "}.lst-kix_cpfx7gaecdgo-3>li:before{content:"\0025cf   "}.lst-kix_cpfx7gaecdgo-2>li:before{content:"\0025a0   "}.lst-kix_9xfwu95yhj84-1>li:before{content:"\0025cb   "}ul.lst-kix_list_24-6{list-style-type:none}.lst-kix_462e54846fbo-0>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-0,decimal) ". "}ul.lst-kix_list_24-7{list-style-type:none}.lst-kix_list_3-4>li:before{content:"\0025cb   "}ul.lst-kix_list_24-8{list-style-type:none}.lst-kix_list_8-0>li:before{content:"\0025cf   "}.lst-kix_list_30-6>li:before{content:"\0025cf   "}.lst-kix_list_8-7>li:before{content:"o  "}.lst-kix_list_3-8>li:before{content:"\0025a0   "}.lst-kix_list_8-3>li:before{content:"\0025cf   "}.lst-kix_list_3-7>li:before{content:"\0025cb   "}.lst-kix_list_8-4>li:before{content:"o  "}ol.lst-kix_list_26-4.start{counter-reset:lst-ctn-kix_list_26-4 0}ol.lst-kix_list_2-2{list-style-type:none}.lst-kix_list_16-8>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) "." counter(lst-ctn-kix_list_16-6,decimal) "." counter(lst-ctn-kix_list_16-7,decimal) "." counter(lst-ctn-kix_list_16-8,decimal) " "}ol.lst-kix_list_2-3{list-style-type:none}ol.lst-kix_list_2-4{list-style-type:none}.lst-kix_list_16-7>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) "." counter(lst-ctn-kix_list_16-6,decimal) "." counter(lst-ctn-kix_list_16-7,decimal) " "}ol.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_17-8>li{counter-increment:lst-ctn-kix_list_17-8}ol.lst-kix_list_2-0{list-style-type:none}ol.lst-kix_list_2-1{list-style-type:none}.lst-kix_list_4-7>li:before{content:"o  "}.lst-kix_list_17-0>li:before{content:"" counter(lst-ctn-kix_list_17-0,decimal) ". "}li.li-bullet-7:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_abt812ykyt01-5>li:before{content:"\0025a0   "}ul.lst-kix_swkzokqpq63-3{list-style-type:none}ul.lst-kix_swkzokqpq63-4{list-style-type:none}.lst-kix_fcknsouuy2mw-7>li:before{content:"\0025cb   "}ul.lst-kix_swkzokqpq63-1{list-style-type:none}ul.lst-kix_swkzokqpq63-2{list-style-type:none}ul.lst-kix_swkzokqpq63-7{list-style-type:none}ul.lst-kix_swkzokqpq63-8{list-style-type:none}ul.lst-kix_swkzokqpq63-5{list-style-type:none}ul.lst-kix_swkzokqpq63-6{list-style-type:none}.lst-kix_list_16-4>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) " "}ol.lst-kix_list_2-6{list-style-type:none}ol.lst-kix_list_2-7{list-style-type:none}ul.lst-kix_swkzokqpq63-0{list-style-type:none}ol.lst-kix_list_2-8{list-style-type:none}ol.lst-kix_list_18-1.start{counter-reset:lst-ctn-kix_list_18-1 0}.lst-kix_list_17-7>li:before{content:"" counter(lst-ctn-kix_list_17-7,lower-latin) ". "}.lst-kix_list_17-3>li:before{content:"" counter(lst-ctn-kix_list_17-3,decimal) ". "}.lst-kix_list_17-4>li:before{content:"" counter(lst-ctn-kix_list_17-4,lower-latin) ". "}.lst-kix_cpfx7gaecdgo-6>li:before{content:"\0025cf   "}.lst-kix_abt812ykyt01-1>li:before{content:"\0025cb   "}.lst-kix_abt812ykyt01-2>li:before{content:"\0025a0   "}ul.lst-kix_ovy3fm37rmlj-6{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-7{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-4{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-5{list-style-type:none}.lst-kix_list_2-8>li:before{content:"" counter(lst-ctn-kix_list_2-8,lower-roman) ". "}ul.lst-kix_ovy3fm37rmlj-8{list-style-type:none}.lst-kix_w4fcba4ygfgj-1>li:before{content:"\0025cb   "}ul.lst-kix_ovy3fm37rmlj-2{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-3{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-0{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-1{list-style-type:none}ul.lst-kix_iv9tlmqkwvr-0{list-style-type:none}.lst-kix_list_10-0>li:before{content:"\0025cf   "}.lst-kix_list_18-3>li:before{content:"" counter(lst-ctn-kix_list_18-3,decimal) ". "}ul.lst-kix_iv9tlmqkwvr-7{list-style-type:none}ul.lst-kix_iv9tlmqkwvr-8{list-style-type:none}ul.lst-kix_iv9tlmqkwvr-5{list-style-type:none}.lst-kix_list_18-6>li{counter-increment:lst-ctn-kix_list_18-6}ul.lst-kix_iv9tlmqkwvr-6{list-style-type:none}ul.lst-kix_iv9tlmqkwvr-3{list-style-type:none}.lst-kix_ehrpw4rq2afz-8>li:before{content:"\0025a0   "}ul.lst-kix_iv9tlmqkwvr-4{list-style-type:none}ul.lst-kix_iv9tlmqkwvr-1{list-style-type:none}.lst-kix_list_7-7>li:before{content:"o  "}ul.lst-kix_iv9tlmqkwvr-2{list-style-type:none}.lst-kix_fcknsouuy2mw-0>li:before{content:"\0025cf   "}.lst-kix_lqfz53xxujmr-5>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-5,lower-roman) ". "}.lst-kix_ehrpw4rq2afz-4>li:before{content:"\0025cb   "}.lst-kix_ul707ohtzd24-6>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-6,decimal) ". "}.lst-kix_list_31-5>li:before{content:"\0025a0   "}.lst-kix_list_4-0>li:before{content:"\0025cf   "}.lst-kix_fcknsouuy2mw-4>li:before{content:"\0025cb   "}ul.lst-kix_list_15-3{list-style-type:none}ul.lst-kix_list_15-2{list-style-type:none}ul.lst-kix_list_15-1{list-style-type:none}.lst-kix_list_15-8>li:before{content:"\0025a0   "}ul.lst-kix_list_15-0{list-style-type:none}.lst-kix_list_4-4>li:before{content:"o  "}ul.lst-kix_list_15-8{list-style-type:none}ul.lst-kix_list_15-7{list-style-type:none}ul.lst-kix_list_15-6{list-style-type:none}.lst-kix_list_9-3>li:before{content:"\0025cf   "}ul.lst-kix_list_15-5{list-style-type:none}ul.lst-kix_list_15-4{list-style-type:none}.lst-kix_list_29-8>li:before{content:"\0025aa   "}.lst-kix_list_12-4>li:before{content:"o  "}ul.lst-kix_list_6-6{list-style-type:none}.lst-kix_ktnmrk6fggmz-3>li:before{content:"\0025cf   "}ul.lst-kix_list_6-7{list-style-type:none}ul.lst-kix_list_6-4{list-style-type:none}ul.lst-kix_list_6-5{list-style-type:none}.lst-kix_tysnzt61ui6p-7>li:before{content:"\0025cb   "}ul.lst-kix_list_6-8{list-style-type:none}.lst-kix_list_1-0>li:before{content:"\0025cf   "}.lst-kix_tqyt4049oqum-0>li{counter-increment:lst-ctn-kix_tqyt4049oqum-0}.lst-kix_lqfz53xxujmr-1>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-1,lower-latin) ". "}ul.lst-kix_list_6-2{list-style-type:none}.lst-kix_ev3c1abzhvq-4>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-4}.lst-kix_list_11-8>li:before{content:"\0025aa   "}ul.lst-kix_list_6-3{list-style-type:none}ol.lst-kix_list_2-0.start{counter-reset:lst-ctn-kix_list_2-0 0}ul.lst-kix_list_6-0{list-style-type:none}ul.lst-kix_list_6-1{list-style-type:none}.lst-kix_p16zu2nyfx8k-7>li:before{content:"\0025cb   "}.lst-kix_list_13-0>li:before{content:"\0025cf   "}.lst-kix_list_13-4>li:before{content:"o  "}.lst-kix_5zlhnqlmzy4t-1>li:before{content:"\0025cb   "}ol.lst-kix_list_26-5.start{counter-reset:lst-ctn-kix_list_26-5 0}ol.lst-kix_list_2-1.start{counter-reset:lst-ctn-kix_list_2-1 0}.lst-kix_list_12-8>li:before{content:"\0025aa   "}.lst-kix_xfrwmyc5vjsr-8>li:before{content:"\0025a0   "}ul.lst-kix_list_20-2{list-style-type:none}ul.lst-kix_list_20-3{list-style-type:none}ul.lst-kix_list_20-4{list-style-type:none}ul.lst-kix_list_20-5{list-style-type:none}ol.lst-kix_list_17-7.start{counter-reset:lst-ctn-kix_list_17-7 0}ul.lst-kix_list_20-6{list-style-type:none}ul.lst-kix_list_20-7{list-style-type:none}ul.lst-kix_list_20-8{list-style-type:none}.lst-kix_xfrwmyc5vjsr-5>li:before{content:"\0025a0   "}ol.lst-kix_list_26-1.start{counter-reset:lst-ctn-kix_list_26-1 0}.lst-kix_list_19-2>li:before{content:"\0025a0   "}ul.lst-kix_list_20-0{list-style-type:none}ul.lst-kix_list_20-1{list-style-type:none}ol.lst-kix_ev3c1abzhvq-7.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-7 0}.lst-kix_oy8s3o2zwdoj-0>li:before{content:"\0025cf   "}.lst-kix_xfrwmyc5vjsr-2>li:before{content:"\0025a0   "}ul.lst-kix_fna9vqak6p7f-0{list-style-type:none}ul.lst-kix_fna9vqak6p7f-2{list-style-type:none}ul.lst-kix_fna9vqak6p7f-1{list-style-type:none}.lst-kix_list_2-3>li{counter-increment:lst-ctn-kix_list_2-3}.lst-kix_fna9vqak6p7f-3>li:before{content:"\0025cf   "}ol.lst-kix_ev3c1abzhvq-2.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-2 0}.lst-kix_fna9vqak6p7f-6>li:before{content:"\0025cf   "}.lst-kix_list_19-8>li:before{content:"\0025a0   "}ul.lst-kix_fna9vqak6p7f-8{list-style-type:none}ul.lst-kix_fna9vqak6p7f-7{list-style-type:none}.lst-kix_list_19-5>li:before{content:"\0025a0   "}.lst-kix_tqyt4049oqum-2>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-2,lower-roman) ". "}ul.lst-kix_fna9vqak6p7f-4{list-style-type:none}ul.lst-kix_fna9vqak6p7f-3{list-style-type:none}ul.lst-kix_fna9vqak6p7f-6{list-style-type:none}ul.lst-kix_fna9vqak6p7f-5{list-style-type:none}ol.lst-kix_lqfz53xxujmr-4.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-4 0}.lst-kix_tqyt4049oqum-5>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-5,lower-roman) ". "}ol.lst-kix_list_17-2.start{counter-reset:lst-ctn-kix_list_17-2 0}ul.lst-kix_wcx7cglfpdrv-8{list-style-type:none}ul.lst-kix_7g5ij6v74lx-1{list-style-type:none}ul.lst-kix_7g5ij6v74lx-0{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-3{list-style-type:none}ul.lst-kix_7g5ij6v74lx-3{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-2{list-style-type:none}ul.lst-kix_7g5ij6v74lx-2{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-1{list-style-type:none}ul.lst-kix_7g5ij6v74lx-5{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-0{list-style-type:none}ul.lst-kix_7g5ij6v74lx-4{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-7{list-style-type:none}ul.lst-kix_7g5ij6v74lx-7{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-6{list-style-type:none}ul.lst-kix_7g5ij6v74lx-6{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-5{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-4{list-style-type:none}ul.lst-kix_7g5ij6v74lx-8{list-style-type:none}ol.lst-kix_list_2-4.start{counter-reset:lst-ctn-kix_list_2-4 0}.lst-kix_list_2-5>li:before{content:"" counter(lst-ctn-kix_list_2-5,lower-roman) ". "}ol.lst-kix_list_17-0.start{counter-reset:lst-ctn-kix_list_17-0 0}.lst-kix_list_18-6>li:before{content:"" counter(lst-ctn-kix_list_18-6,decimal) ". "}.lst-kix_9yim5cm2a43p-8>li:before{content:"\0025a0   "}.lst-kix_9yim5cm2a43p-2>li:before{content:"\0025a0   "}ul.lst-kix_w4fcba4ygfgj-0{list-style-type:none}.lst-kix_lqfz53xxujmr-8>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-8,lower-roman) ". "}li.li-bullet-1:before{margin-left:-21.6pt;white-space:nowrap;display:inline-block;min-width:21.6pt}.lst-kix_list_10-3>li:before{content:"\0025cf   "}ul.lst-kix_list_11-7{list-style-type:none}.lst-kix_list_2-6>li{counter-increment:lst-ctn-kix_list_2-6}ul.lst-kix_list_11-6{list-style-type:none}ul.lst-kix_list_11-5{list-style-type:none}ul.lst-kix_list_11-4{list-style-type:none}ul.lst-kix_list_11-3{list-style-type:none}ul.lst-kix_list_11-2{list-style-type:none}ul.lst-kix_list_11-1{list-style-type:none}ul.lst-kix_list_11-0{list-style-type:none}.lst-kix_1fioxjrj066s-3>li:before{content:"\0025cf   "}ol.lst-kix_lqfz53xxujmr-7.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-7 0}ul.lst-kix_list_11-8{list-style-type:none}.lst-kix_ovy3fm37rmlj-6>li:before{content:"\0025cf   "}.lst-kix_list_29-5>li:before{content:"\0025aa   "}.lst-kix_list_20-0>li:before{content:"\0025cf   "}.lst-kix_list_9-6>li:before{content:"\0025cf   "}.lst-kix_list_20-6>li:before{content:"\0025cf   "}.lst-kix_2nzowzum4fkx-3>li:before{content:"\0025cf   "}li.li-bullet-11:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_list_11-5>li:before{content:"\0025aa   "}.lst-kix_tysnzt61ui6p-4>li:before{content:"\0025cb   "}ul.lst-kix_w4fcba4ygfgj-3{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-4{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-1{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-2{list-style-type:none}.lst-kix_ovy3fm37rmlj-0>li:before{content:"\0025cf   "}ul.lst-kix_w4fcba4ygfgj-7{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-8{list-style-type:none}.lst-kix_ktnmrk6fggmz-6>li:before{content:"\0025cf   "}ul.lst-kix_w4fcba4ygfgj-5{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-6{list-style-type:none}.lst-kix_list_1-3>li:before{content:"\0025cf   "}.lst-kix_list_28-3>li:before{content:"\0025cf   "}.lst-kix_lqfz53xxujmr-0>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-0}ol.lst-kix_list_2-7.start{counter-reset:lst-ctn-kix_list_2-7 0}.lst-kix_ul707ohtzd24-4>li{counter-increment:lst-ctn-kix_ul707ohtzd24-4}.lst-kix_list_27-7>li:before{content:"\0025cb   "}ol.lst-kix_ev3c1abzhvq-0.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-0 0}.lst-kix_list_30-3>li:before{content:"\0025cf   "}.lst-kix_list_26-8>li{counter-increment:lst-ctn-kix_list_26-8}.lst-kix_swkzokqpq63-1>li:before{content:"\0025cb   "}ol.lst-kix_lqfz53xxujmr-6.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-6 0}.lst-kix_25zuex9fsrpn-0>li:before{content:"\0025cf   "}.lst-kix_list_3-1>li:before{content:"\0025cb   "}ol.lst-kix_list_17-4.start{counter-reset:lst-ctn-kix_list_17-4 0}.lst-kix_swkzokqpq63-4>li:before{content:"\0025cb   "}.lst-kix_3lachvmklkpr-5>li:before{content:"\0025a0   "}.lst-kix_16cnflin03zc-7>li:before{content:"\0025cb   "}.lst-kix_tysnzt61ui6p-1>li:before{content:"\0025cb   "}.lst-kix_list_21-2>li:before{content:"\0025aa   "}.lst-kix_list_2-0>li{counter-increment:lst-ctn-kix_list_2-0}.lst-kix_3lachvmklkpr-8>li:before{content:"\0025a0   "}ol.lst-kix_lqfz53xxujmr-1.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-1 0}.lst-kix_list_11-2>li:before{content:"\0025aa   "}.lst-kix_vwlh1djah97h-3>li:before{content:"\0025cf   "}.lst-kix_tqyt4049oqum-8>li{counter-increment:lst-ctn-kix_tqyt4049oqum-8}.lst-kix_vwlh1djah97h-0>li:before{content:"\0025cf   "}.lst-kix_abt812ykyt01-8>li:before{content:"\0025a0   "}.lst-kix_list_25-2>li:before{content:"\0025a0   "}.lst-kix_list_16-1>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) " "}.lst-kix_xx0koyk92fk7-2>li:before{content:"\0025a0   "}ol.lst-kix_lqfz53xxujmr-0.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-0 0}ol.lst-kix_ev3c1abzhvq-4.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-4 0}.lst-kix_9xfwu95yhj84-4>li:before{content:"\0025cb   "}ol.lst-kix_lqfz53xxujmr-5.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-5 0}.lst-kix_462e54846fbo-3>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-3,decimal) ". "}.lst-kix_462e54846fbo-6>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-6,decimal) ". "}.lst-kix_list_30-0>li:before{content:"\0025cf   "}ol.lst-kix_list_17-3.start{counter-reset:lst-ctn-kix_list_17-3 0}.lst-kix_9xfwu95yhj84-7>li:before{content:"\0025cb   "}.lst-kix_qhy0wju04c4n-4>li:before{content:"\0025cb   "}.lst-kix_list_7-1>li:before{content:"o  "}.lst-kix_lqv7ssenj7fn-5>li:before{content:"\0025a0   "}.lst-kix_qhy0wju04c4n-1>li:before{content:"\0025cb   "}.lst-kix_7g5ij6v74lx-2>li:before{content:"\0025a0   "}.lst-kix_5zlhnqlmzy4t-7>li:before{content:"\0025cb   "}.lst-kix_9yim5cm2a43p-5>li:before{content:"\0025a0   "}ol.lst-kix_list_17-8.start{counter-reset:lst-ctn-kix_list_17-8 0}.lst-kix_462e54846fbo-0>li{counter-increment:lst-ctn-kix_462e54846fbo-0}ol.lst-kix_list_17-5.start{counter-reset:lst-ctn-kix_list_17-5 0}.lst-kix_ul707ohtzd24-0>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-0,decimal) ". "}.lst-kix_2nzowzum4fkx-6>li:before{content:"\0025cf   "}.lst-kix_w4fcba4ygfgj-7>li:before{content:"\0025cb   "}.lst-kix_1fioxjrj066s-0>li:before{content:"\0025cf   "}.lst-kix_list_15-2>li:before{content:"\0025a0   "}ol.lst-kix_ev3c1abzhvq-8.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-8 0}.lst-kix_f7m1wa373t12-2>li:before{content:"\0025a0   "}.lst-kix_list_10-6>li:before{content:"\0025cf   "}ol.lst-kix_ev3c1abzhvq-5.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-5 0}.lst-kix_ovy3fm37rmlj-3>li:before{content:"\0025cf   "}.lst-kix_list_20-3>li:before{content:"\0025cf   "}.lst-kix_list_29-2>li:before{content:"\0025aa   "}ul.lst-kix_dh16vo1krifc-7{list-style-type:none}ul.lst-kix_dh16vo1krifc-8{list-style-type:none}.lst-kix_ul707ohtzd24-1>li{counter-increment:lst-ctn-kix_ul707ohtzd24-1}ul.lst-kix_dh16vo1krifc-5{list-style-type:none}ul.lst-kix_dh16vo1krifc-6{list-style-type:none}ul.lst-kix_dh16vo1krifc-3{list-style-type:none}ul.lst-kix_dh16vo1krifc-4{list-style-type:none}ul.lst-kix_dh16vo1krifc-1{list-style-type:none}ul.lst-kix_dh16vo1krifc-2{list-style-type:none}.lst-kix_lqfz53xxujmr-3>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-3}ol.lst-kix_list_17-6.start{counter-reset:lst-ctn-kix_list_17-6 0}.lst-kix_list_28-6>li:before{content:"\0025cf   "}.lst-kix_list_1-6>li:before{content:"\0025cf   "}ol.lst-kix_ev3c1abzhvq-6.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-6 0}ol.lst-kix_lqfz53xxujmr-2.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-2 0}.lst-kix_list_2-2>li:before{content:"" counter(lst-ctn-kix_list_2-2,lower-roman) ". "}ul.lst-kix_dh16vo1krifc-0{list-style-type:none}.lst-kix_dh16vo1krifc-7>li:before{content:"\0025cb   "}ol{margin:0;padding:0}table td,table th{padding:0}.c27{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:11.2pt;border-top-color:#000000;border-bottom-style:solid}.c57{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:18.8pt;border-top-color:#000000;border-bottom-style:solid}.c29{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:7.5pt;border-top-color:#000000;border-bottom-style:solid}.c138{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:44.2pt;border-top-color:#000000;border-bottom-style:solid}.c191{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#d9d2e9;border-left-style:solid;border-bottom-width:1pt;width:99pt;border-top-color:#000000;border-bottom-style:solid}.c114{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:78pt;border-top-color:#000000;border-bottom-style:solid}.c9{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cfe2f3;border-left-style:solid;border-bottom-width:1pt;width:40.3pt;border-top-color:#000000;border-bottom-style:solid}.c78{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:40.5pt;border-top-color:#000000;border-bottom-style:solid}.c135{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cccccc;border-left-style:solid;border-bottom-width:1pt;width:56pt;border-top-color:#000000;border-bottom-style:solid}.c85{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:42pt;border-top-color:#000000;border-bottom-style:solid}.c91{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:99pt;border-top-color:#000000;border-bottom-style:solid}.c52{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cccccc;border-left-style:solid;border-bottom-width:1pt;width:44.2pt;border-top-color:#000000;border-bottom-style:solid}.c132{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.9pt;border-top-color:#000000;border-bottom-style:solid}.c157{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.2pt;border-top-color:#000000;border-bottom-style:solid}.c185{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.5pt;border-top-color:#000000;border-bottom-style:solid}.c258{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.6pt;border-top-color:#000000;border-bottom-style:solid}.c364{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.8pt;border-top-color:#000000;border-bottom-style:solid}.c154{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:159pt;border-top-color:#000000;border-bottom-style:solid}.c473{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.1pt;border-top-color:#000000;border-bottom-style:solid}.c162{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:423.8pt;border-top-color:#000000;border-bottom-style:solid}.c251{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.6pt;border-top-color:#000000;border-bottom-style:solid}.c96{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:233.8pt;border-top-color:#000000;border-bottom-style:solid}.c149{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:90.6pt;border-top-color:#000000;border-bottom-style:solid}.c148{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.5pt;border-top-color:#000000;border-bottom-style:solid}.c479{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:282pt;border-top-color:#000000;border-bottom-style:solid}.c397{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:91.5pt;border-top-color:#000000;border-bottom-style:solid}.c219{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:18.8pt;border-top-color:#000000;border-bottom-style:solid}.c389{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.7pt;border-top-color:#000000;border-bottom-style:solid}.c286{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.3pt;border-top-color:#000000;border-bottom-style:solid}.c236{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:75pt;border-top-color:#000000;border-bottom-style:solid}.c323{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.5pt;border-top-color:#000000;border-bottom-style:solid}.c358{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.2pt;border-top-color:#000000;border-bottom-style:solid}.c536{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:28.4pt;border-top-color:#000000;border-bottom-style:solid}.c461{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c372{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:173.1pt;border-top-color:#000000;border-bottom-style:solid}.c119{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.3pt;border-top-color:#000000;border-bottom-style:solid}.c398{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:312.3pt;border-top-color:#000000;border-bottom-style:solid}.c370{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.5pt;border-top-color:#000000;border-bottom-style:solid}.c341{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:73.5pt;border-top-color:#000000;border-bottom-style:solid}.c49{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63.8pt;border-top-color:#000000;border-bottom-style:solid}.c388{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:410.7pt;border-top-color:#000000;border-bottom-style:solid}.c351{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:9.2pt;border-top-color:#000000;border-bottom-style:solid}.c36{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52pt;border-top-color:#000000;border-bottom-style:solid}.c112{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:96.8pt;border-top-color:#000000;border-bottom-style:solid}.c533{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.2pt;border-top-color:#000000;border-bottom-style:solid}.c463{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:80.4pt;border-top-color:#000000;border-bottom-style:solid}.c244{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:28.4pt;border-top-color:#000000;border-bottom-style:solid}.c125{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c519{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:24pt;border-top-color:#000000;border-bottom-style:solid}.c175{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.3pt;border-top-color:#000000;border-bottom-style:solid}.c528{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:106.5pt;border-top-color:#000000;border-bottom-style:solid}.c365{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:25.8pt;border-top-color:#000000;border-bottom-style:solid}.c287{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.8pt;border-top-color:#000000;border-bottom-style:solid}.c436{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c24{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:390.8pt;border-top-color:#000000;border-bottom-style:solid}.c379{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.1pt;border-top-color:#000000;border-bottom-style:solid}.c128{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:214.8pt;border-top-color:#000000;border-bottom-style:solid}.c38{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.3pt;border-top-color:#000000;border-bottom-style:solid}.c94{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2pt;border-top-color:#000000;border-bottom-style:solid}.c462{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:82.2pt;border-top-color:#000000;border-bottom-style:solid}.c312{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.2pt;border-top-color:#000000;border-bottom-style:solid}.c527{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:3.5pt;border-top-color:#000000;border-bottom-style:solid}.c76{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.5pt;border-top-color:#000000;border-bottom-style:solid}.c535{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:164.3pt;border-top-color:#000000;border-bottom-style:solid}.c356{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:114pt;border-top-color:#000000;border-bottom-style:solid}.c406{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:98.9pt;border-top-color:#000000;border-bottom-style:solid}.c484{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:39.8pt;border-top-color:#000000;border-bottom-style:solid}.c189{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:67.5pt;border-top-color:#000000;border-bottom-style:solid}.c116{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:129.8pt;border-top-color:#000000;border-bottom-style:solid}.c143{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.8pt;border-top-color:#000000;border-bottom-style:solid}.c14{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:403.9pt;border-top-color:#000000;border-bottom-style:solid}.c10{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99.2pt;border-top-color:#000000;border-bottom-style:solid}.c314{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:376.9pt;border-top-color:#000000;border-bottom-style:solid}.c233{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60pt;border-top-color:#000000;border-bottom-style:solid}.c272{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:91.9pt;border-top-color:#000000;border-bottom-style:solid}.c357{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:89.2pt;border-top-color:#000000;border-bottom-style:solid}.c340{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c504{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:84.8pt;border-top-color:#000000;border-bottom-style:solid}.c496{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.1pt;border-top-color:#000000;border-bottom-style:solid}.c137{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:92.2pt;border-top-color:#000000;border-bottom-style:solid}.c428{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:118.5pt;border-top-color:#000000;border-bottom-style:solid}.c158{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:371.2pt;border-top-color:#000000;border-bottom-style:solid}.c305{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:11.2pt;border-top-color:#000000;border-bottom-style:solid}.c387{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53pt;border-top-color:#000000;border-bottom-style:solid}.c178{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:102pt;border-top-color:#000000;border-bottom-style:solid}.c171{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:72pt;border-top-color:#000000;border-bottom-style:solid}.c394{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:61.1pt;border-top-color:#000000;border-bottom-style:solid}.c401{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c420{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c506{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.1pt;border-top-color:#000000;border-bottom-style:solid}.c145{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:101.4pt;border-top-color:#000000;border-bottom-style:solid}.c429{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2.4pt;border-top-color:#000000;border-bottom-style:solid}.c163{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47.2pt;border-top-color:#000000;border-bottom-style:solid}.c208{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:20.2pt;border-top-color:#000000;border-bottom-style:solid}.c44{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:36pt;border-top-color:#000000;border-bottom-style:solid}.c180{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:128.2pt;border-top-color:#000000;border-bottom-style:solid}.c243{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57.8pt;border-top-color:#000000;border-bottom-style:solid}.c297{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:9.2pt;border-top-color:#000000;border-bottom-style:solid}.c108{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99.8pt;border-top-color:#000000;border-bottom-style:solid}.c245{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.4pt;border-top-color:#000000;border-bottom-style:solid}.c483{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:7.1pt;border-top-color:#000000;border-bottom-style:solid}.c129{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.4pt;border-top-color:#000000;border-bottom-style:solid}.c195{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:195.8pt;border-top-color:#000000;border-bottom-style:solid}.c131{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.8pt;border-top-color:#000000;border-bottom-style:solid}.c221{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:117.8pt;border-top-color:#000000;border-bottom-style:solid}.c196{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.5pt;border-top-color:#000000;border-bottom-style:solid}.c105{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63.5pt;border-top-color:#000000;border-bottom-style:solid}.c153{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:93.3pt;border-top-color:#000000;border-bottom-style:solid}.c202{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:33pt;border-top-color:#000000;border-bottom-style:solid}.c90{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.8pt;border-top-color:#000000;border-bottom-style:solid}.c226{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.5pt;border-top-color:#000000;border-bottom-style:solid}.c373{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:140.2pt;border-top-color:#000000;border-bottom-style:solid}.c100{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.5pt;border-top-color:#000000;border-bottom-style:solid}.c51{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:37.5pt;border-top-color:#000000;border-bottom-style:solid}.c216{border-right-style:solid;padding:1.8pt 0pt 0pt 0pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60.8pt;border-top-color:#000000;border-bottom-style:solid}.c405{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:3.6pt;border-top-color:#000000;border-bottom-style:solid}.c32{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.2pt;border-top-color:#000000;border-bottom-style:solid}.c523{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47pt;border-top-color:#000000;border-bottom-style:solid}.c380{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:120.8pt;border-top-color:#000000;border-bottom-style:solid}.c151{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:39pt;border-top-color:#000000;border-bottom-style:solid}.c291{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:429.8pt;border-top-color:#000000;border-bottom-style:solid}.c271{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:405pt;border-top-color:#000000;border-bottom-style:solid}.c123{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c223{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.7pt;border-top-color:#000000;border-bottom-style:solid}.c204{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.8pt;border-top-color:#000000;border-bottom-style:solid}.c457{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:77.2pt;border-top-color:#000000;border-bottom-style:solid}.c45{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:149.2pt;border-top-color:#000000;border-bottom-style:solid}.c359{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.9pt;border-top-color:#000000;border-bottom-style:solid}.c353{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:374.2pt;border-top-color:#000000;border-bottom-style:solid}.c497{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:27pt;border-top-color:#000000;border-bottom-style:solid}.c256{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.4pt;border-top-color:#000000;border-bottom-style:solid}.c382{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c225{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.4pt;border-top-color:#000000;border-bottom-style:solid}.c441{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:100pt;border-top-color:#000000;border-bottom-style:solid}.c328{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:482.4pt;border-top-color:#000000;border-bottom-style:solid}.c62{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:66pt;border-top-color:#000000;border-bottom-style:solid}.c306{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.3pt;border-top-color:#000000;border-bottom-style:solid}.c164{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.6pt;border-top-color:#000000;border-bottom-style:solid}.c263{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:74.2pt;border-top-color:#000000;border-bottom-style:solid}.c277{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:423pt;border-top-color:#000000;border-bottom-style:solid}.c184{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.8pt;border-top-color:#000000;border-bottom-style:solid}.c331{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.6pt;border-top-color:#000000;border-bottom-style:solid}.c417{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:94.2pt;border-top-color:#000000;border-bottom-style:solid}.c130{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.8pt;border-top-color:#000000;border-bottom-style:solid}.c316{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.1pt;border-top-color:#000000;border-bottom-style:solid}.c285{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:389.7pt;border-top-color:#000000;border-bottom-style:solid}.c524{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:148.8pt;border-top-color:#000000;border-bottom-style:solid}.c347{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:25.8pt;border-top-color:#000000;border-bottom-style:solid}.c303{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.5pt;border-top-color:#000000;border-bottom-style:solid}.c127{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:149.4pt;border-top-color:#000000;border-bottom-style:solid}.c113{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:7.5pt;border-top-color:#000000;border-bottom-style:solid}.c464{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:173.1pt;border-top-color:#000000;border-bottom-style:solid}.c418{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.3pt;border-top-color:#000000;border-bottom-style:solid}.c147{border-right-style:solid;padding:1.8pt 0pt 0pt 0pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:168.8pt;border-top-color:#000000;border-bottom-style:solid}.c407{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:61.5pt;border-top-color:#000000;border-bottom-style:solid}.c507{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:33pt;border-top-color:#000000;border-bottom-style:solid}.c220{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:414.8pt;border-top-color:#000000;border-bottom-style:solid}.c465{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.6pt;border-top-color:#000000;border-bottom-style:solid}.c139{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c252{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c423{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:135.8pt;border-top-color:#000000;border-bottom-style:solid}.c247{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.5pt;border-top-color:#000000;border-bottom-style:solid}.c326{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:78.3pt;border-top-color:#000000;border-bottom-style:solid}.c280{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.5pt;border-top-color:#000000;border-bottom-style:solid}.c248{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:131.2pt;border-top-color:#000000;border-bottom-style:solid}.c17{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:146.2pt;border-top-color:#000000;border-bottom-style:solid}.c541{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:107.2pt;border-top-color:#000000;border-bottom-style:solid}.c311{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:35.4pt;border-top-color:#000000;border-bottom-style:solid}.c214{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.7pt;border-top-color:#000000;border-bottom-style:solid}.c63{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.8pt;border-top-color:#000000;border-bottom-style:solid}.c234{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:36.8pt;border-top-color:#000000;border-bottom-style:solid}.c469{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.9pt;border-top-color:#000000;border-bottom-style:solid}.c378{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.3pt;border-top-color:#000000;border-bottom-style:solid}.c477{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:41pt;border-top-color:#000000;border-bottom-style:solid}.c107{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:377.2pt;border-top-color:#000000;border-bottom-style:solid}.c262{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.1pt;border-top-color:#000000;border-bottom-style:solid}.c543{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c315{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.5pt;border-top-color:#000000;border-bottom-style:solid}.c537{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.7pt;border-top-color:#000000;border-bottom-style:solid}.c179{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:8.8pt;border-top-color:#000000;border-bottom-style:solid}.c362{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:85pt;border-top-color:#000000;border-bottom-style:solid}.c534{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:65.2pt;border-top-color:#000000;border-bottom-style:solid}.c103{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:86.5pt;border-top-color:#000000;border-bottom-style:solid}.c508{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.7pt;border-top-color:#000000;border-bottom-style:solid}.c299{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50pt;border-top-color:#000000;border-bottom-style:solid}.c227{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:276.4pt;border-top-color:#000000;border-bottom-style:solid}.c98{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.5pt;border-top-color:#000000;border-bottom-style:solid}.c142{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:8.2pt;border-top-color:#000000;border-bottom-style:solid}.c199{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.2pt;border-top-color:#000000;border-bottom-style:solid}.c3{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:6pt;border-top-color:#000000;border-bottom-style:solid}.c165{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:70.5pt;border-top-color:#000000;border-bottom-style:solid}.c242{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.3pt;border-top-color:#000000;border-bottom-style:solid}.c56{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:5.2pt;border-top-color:#000000;border-bottom-style:solid}.c460{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:8.8pt;border-top-color:#000000;border-bottom-style:solid}.c300{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:311.9pt;border-top-color:#000000;border-bottom-style:solid}.c470{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83.2pt;border-top-color:#000000;border-bottom-style:solid}.c229{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:107.2pt;border-top-color:#000000;border-bottom-style:solid}.c170{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56pt;border-top-color:#000000;border-bottom-style:solid}.c166{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83.5pt;border-top-color:#000000;border-bottom-style:solid}.c284{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.2pt;border-top-color:#000000;border-bottom-style:solid}.c232{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41pt;border-top-color:#000000;border-bottom-style:solid}.c168{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:108pt;border-top-color:#000000;border-bottom-style:solid}.c265{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54pt;border-top-color:#000000;border-bottom-style:solid}.c261{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:135pt;border-top-color:#000000;border-bottom-style:solid}.c491{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:185.9pt;border-top-color:#000000;border-bottom-style:solid}.c514{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.4pt;border-top-color:#000000;border-bottom-style:solid}.c455{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:154.8pt;border-top-color:#000000;border-bottom-style:solid}.c446{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:155.9pt;border-top-color:#000000;border-bottom-style:solid}.c31{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.6pt;border-top-color:#000000;border-bottom-style:solid}.c136{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:78pt;border-top-color:#000000;border-bottom-style:solid}.c450{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:29.2pt;border-top-color:#000000;border-bottom-style:solid}.c215{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.5pt;border-top-color:#000000;border-bottom-style:solid}.c174{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.5pt;border-top-color:#000000;border-bottom-style:solid}.c111{border-right-style:solid;padding:1.8pt 0pt 0pt 0pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83pt;border-top-color:#000000;border-bottom-style:solid}.c35{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51pt;border-top-color:#000000;border-bottom-style:solid}.c489{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.5pt;border-top-color:#000000;border-bottom-style:solid}.c66{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c525{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:209.2pt;border-top-color:#000000;border-bottom-style:solid}.c183{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.8pt;border-top-color:#000000;border-bottom-style:solid}.c435{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:202.1pt;border-top-color:#000000;border-bottom-style:solid}.c97{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:115.5pt;border-top-color:#000000;border-bottom-style:solid}.c320{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.1pt;border-top-color:#000000;border-bottom-style:solid}.c538{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:196.5pt;border-top-color:#000000;border-bottom-style:solid}.c241{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:153pt;border-top-color:#000000;border-bottom-style:solid}.c198{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46pt;border-top-color:#000000;border-bottom-style:solid}.c307{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:39pt;border-top-color:#000000;border-bottom-style:solid}.c505{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:59.2pt;border-top-color:#000000;border-bottom-style:solid}.c350{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.6pt;border-top-color:#000000;border-bottom-style:solid}.c237{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:128pt;border-top-color:#000000;border-bottom-style:solid}.c228{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:7.1pt;border-top-color:#000000;border-bottom-style:solid}.c468{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:42.9pt;border-top-color:#000000;border-bottom-style:solid}.c430{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:77.8pt;border-top-color:#000000;border-bottom-style:solid}.c513{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:62.2pt;border-top-color:#000000;border-bottom-style:solid}.c218{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57pt;border-top-color:#000000;border-bottom-style:solid}.c109{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42pt;border-top-color:#000000;border-bottom-style:solid}.c451{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:164.3pt;border-top-color:#000000;border-bottom-style:solid}.c188{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:413.8pt;border-top-color:#000000;border-bottom-style:solid}.c197{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:102pt;border-top-color:#000000;border-bottom-style:solid}.c172{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.2pt;border-top-color:#000000;border-bottom-style:solid}.c325{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.7pt;border-top-color:#000000;border-bottom-style:solid}.c186{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:413.2pt;border-top-color:#000000;border-bottom-style:solid}.c159{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:77pt;border-top-color:#000000;border-bottom-style:solid}.c250{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:62.4pt;border-top-color:#000000;border-bottom-style:solid}.c427{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.1pt;border-top-color:#000000;border-bottom-style:solid}.c294{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:78.3pt;border-top-color:#000000;border-bottom-style:solid}.c335{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:3.5pt;border-top-color:#000000;border-bottom-style:solid}.c40{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c181{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:418.1pt;border-top-color:#000000;border-bottom-style:solid}.c53{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.7pt;border-top-color:#000000;border-bottom-style:solid}.c396{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:69pt;border-top-color:#000000;border-bottom-style:solid}.c318{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:168pt;border-top-color:#000000;border-bottom-style:solid}.c260{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.7pt;border-top-color:#000000;border-bottom-style:solid}.c385{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:411.9pt;border-top-color:#000000;border-bottom-style:solid}.c492{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:71pt;border-top-color:#000000;border-bottom-style:solid}.c510{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:97.2pt;border-top-color:#000000;border-bottom-style:solid}.c474{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:81.8pt;border-top-color:#000000;border-bottom-style:solid}.c295{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:322.6pt;border-top-color:#000000;border-bottom-style:solid}.c355{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:61.5pt;border-top-color:#000000;border-bottom-style:solid}.c69{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.2pt;border-top-color:#000000;border-bottom-style:solid}.c167{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:8.8pt;border-top-color:#000000;border-bottom-style:solid}.c206{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:417.8pt;border-top-color:#000000;border-bottom-style:solid}.c438{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99pt;border-top-color:#000000;border-bottom-style:solid}.c80{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.2pt;border-top-color:#000000;border-bottom-style:solid}.c193{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.6pt;border-top-color:#000000;border-bottom-style:solid}.c322{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.8pt;border-top-color:#000000;border-bottom-style:solid}.c449{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:87.6pt;border-top-color:#000000;border-bottom-style:solid}.c77{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47.2pt;border-top-color:#000000;border-bottom-style:solid}.c182{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48pt;border-top-color:#000000;border-bottom-style:solid}.c150{border-right-style:solid;border-top-width:0pt;border-bottom-color:#000000;border-right-width:0pt;padding-left:0pt;border-left-color:#000000;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;border-top-color:#000000;border-bottom-style:solid;padding-right:0pt}.c369{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-left-style:solid;border-bottom-width:1pt;width:202.1pt;border-bottom-style:solid}.c476{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-left-style:solid;border-bottom-width:1pt;width:41pt;border-bottom-style:solid}.c390{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-left-style:solid;border-bottom-width:1pt;width:48.2pt;border-bottom-style:solid}.c440{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-left-style:solid;border-bottom-width:1pt;width:2.1pt;border-bottom-style:solid}.c498{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-left-style:solid;border-bottom-width:1pt;width:9.2pt;border-bottom-style:solid}.c511{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-left-style:solid;border-bottom-width:1pt;width:107.2pt;border-bottom-style:solid}.c475{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-left-style:solid;border-bottom-width:1pt;width:42.9pt;border-bottom-style:solid}.c346{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-left-style:solid;border-bottom-width:1pt;width:3.5pt;border-bottom-style:solid}.c501{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-left-style:solid;border-bottom-width:1pt;width:42.5pt;border-bottom-style:solid}.c336{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-left-style:solid;border-bottom-width:1pt;width:2.4pt;border-bottom-style:solid}.c58{padding-top:6pt;border-top-width:0.5pt;border-top-color:#808080;padding-bottom:18pt;line-height:1.0;page-break-after:avoid;orphans:2;border-top-style:solid;widows:2;text-align:left;margin-right:0.2pt}.c1{padding-top:0pt;border-top-width:0pt;border-top-color:#000000;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;orphans:2;border-top-style:solid;widows:2;text-align:left;margin-right:0.2pt}.c25{padding-top:1pt;border-top-width:0.5pt;border-top-color:#808080;padding-bottom:12pt;line-height:1.0;orphans:2;border-top-style:solid;widows:2;text-align:left}.c93{margin-left:41.9pt;padding-top:0pt;padding-left:-3.9pt;padding-bottom:15.3pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c4{margin-left:-0.8pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:center;margin-right:0.2pt}.c207{padding-top:0pt;border-top-width:0pt;border-top-color:#000000;padding-bottom:3.2pt;line-height:1.0791666666666666;page-break-after:avoid;border-top-style:solid;text-align:left}.c37{background-color:#ffffff;color:#172b4d;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:"Liberation Sans";font-style:normal}.c99{margin-left:-0.8pt;padding-top:0pt;padding-bottom:8.7pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:justify;margin-right:49.5pt}.c203{padding-top:0pt;border-top-width:0pt;border-top-color:#000000;padding-bottom:7.2pt;line-height:1.0791666666666666;page-break-after:avoid;border-top-style:solid;text-align:left}.c74{margin-left:-0.2pt;padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c30{background-color:#ffffff;color:#446caa;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c200{padding-top:0pt;border-top-width:0pt;border-top-color:#000000;padding-bottom:3.9pt;line-height:1.0791666666666666;page-break-after:avoid;border-top-style:solid;text-align:left}.c6{background-color:#ffffff;color:#172b4d;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c68{margin-left:-0.2pt;padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c270{padding-top:0pt;border-top-width:0pt;padding-bottom:4pt;line-height:1.0;border-top-style:solid;text-align:left}.c381{margin-left:18pt;padding-top:0pt;padding-left:6.9pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify;margin-right:0.3pt}.c391{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify;margin-right:0.3pt}.c255{padding-top:6pt;border-top-width:0.5pt;border-top-color:#808080;padding-bottom:6pt;line-height:1.0;border-top-style:solid;text-align:left}.c278{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:8.7pt;line-height:1.0333333333333334;text-align:left;margin-right:49.5pt}.c342{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:left;margin-right:0.3pt}.c424{padding-top:0pt;border-top-width:0pt;padding-bottom:4pt;line-height:1.0333333333333334;border-top-style:solid;text-align:justify}.c415{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:7.2pt;line-height:1.0333333333333334;text-align:justify}.c16{background-color:#ffffff;color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:italic}.c50{padding-top:12pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{background-color:#ffffff;color:#000000;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c11{background-color:#ffffff;color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c408{margin-left:7.2pt;padding-top:12pt;text-indent:-0.8pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c101{-webkit-text-decoration-skip:none;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:10pt;font-style:normal}.c269{padding-top:0pt;padding-left:0pt;padding-bottom:12pt;line-height:1.0333333333333334;text-align:left}.c522{padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;text-align:center;margin-right:-6.8pt}.c71{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;page-break-after:avoid;text-align:left}.c433{padding-top:4pt;text-indent:14.9pt;padding-bottom:17.7pt;line-height:1.0;text-align:left}.c7{margin-left:54pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c452{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:center;margin-right:-6.8pt}.c83{margin-left:36pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c293{padding-top:0pt;padding-bottom:15.3pt;line-height:1.0333333333333334;text-align:justify;margin-right:49.5pt}.c81{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c368{margin-left:38.5pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:left}.c140{margin-left:1pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c445{padding-top:0pt;padding-bottom:14pt;line-height:1.0291666666666666;text-align:left;margin-right:0.3pt}.c26{color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c70{padding-top:12pt;padding-left:0pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c55{color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-style:normal}.c453{margin-left:74.5pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:left}.c34{color:#000000;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-style:normal}.c8{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left;height:10.5pt}.c72{color:#212529;text-decoration:none;vertical-align:super;font-size:11pt;font-style:normal}.c238{margin-left:-0.2pt;padding-top:4pt;padding-bottom:0pt;line-height:1.0250000000000001;text-align:center}.c120{margin-left:-0.2pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c512{padding-top:0pt;padding-bottom:7.3pt;line-height:1.0333333333333334;text-align:justify}.c413{padding-top:4pt;padding-bottom:0pt;line-height:1.0791666666666666;text-align:center}.c332{padding-top:4pt;padding-bottom:0pt;line-height:1.0250000000000001;text-align:left}.c73{padding-top:0pt;padding-bottom:10.8pt;line-height:1.0;text-align:left}.c289{padding-top:0pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c144{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0333333333333334;text-align:justify}.c376{padding-top:4pt;padding-bottom:10.6pt;line-height:1.1041666666666667;text-align:center}.c210{padding-top:14pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c217{padding-top:2pt;padding-bottom:2pt;line-height:1.0;text-align:left}.c156{padding-top:4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c399{padding-top:4pt;padding-bottom:17.6pt;line-height:1.0;text-align:center}.c75{color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:9pt}.c456{padding-top:4pt;padding-bottom:10.2pt;line-height:1.1041666666666667;text-align:center}.c259{padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c290{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0333333333333334;text-align:left}.c115{padding-top:0pt;padding-bottom:4.9pt;line-height:1.0333333333333334;text-align:left}.c454{padding-top:0pt;padding-bottom:4.7pt;line-height:1.0791666666666666;text-align:left}.c134{padding-top:12pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c354{padding-top:0pt;padding-bottom:2.6pt;line-height:1.0791666666666666;text-align:left}.c412{padding-top:4pt;padding-bottom:7.2pt;line-height:1.0;text-align:left}.c222{padding-top:4pt;padding-bottom:0pt;line-height:1.0791666666666666;text-align:left}.c421{padding-top:12pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c304{padding-top:4pt;padding-bottom:1.2pt;line-height:1.0;text-align:left}.c393{padding-top:0pt;padding-bottom:15.3pt;line-height:1.0333333333333334;text-align:justify}.c126{padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:center}.c402{padding-top:4pt;padding-bottom:17.4pt;line-height:1.1041666666666667;text-align:center}.c392{padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:center}.c146{border-spacing:0;border-collapse:collapse;margin-right:auto}.c344{padding-top:4pt;padding-bottom:0.2pt;line-height:1.0;text-align:left}.c264{padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;text-align:left}.c345{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;text-align:center}.c281{padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:left}.c82{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;text-align:left}.c343{padding-top:4pt;padding-bottom:1.1pt;line-height:1.0;text-align:left}.c485{padding-top:4pt;padding-bottom:17.1pt;line-height:1.0;text-align:left}.c374{padding-top:0pt;padding-bottom:7.5pt;line-height:1.0333333333333334;text-align:justify}.c266{margin-left:36pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c301{padding-top:0pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c46{text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c363{padding-top:4pt;padding-bottom:15.1pt;line-height:1.0;text-align:left}.c211{padding-top:0pt;padding-bottom:0pt;line-height:1.7583333333333335;text-align:justify}.c268{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0;text-align:justify}.c348{padding-top:0pt;padding-bottom:2.4pt;line-height:1.0791666666666666;text-align:left}.c371{padding-top:4pt;padding-bottom:1.3pt;line-height:1.0;text-align:left}.c60{padding-top:4pt;padding-bottom:17.6pt;line-height:1.0;text-align:left}.c515{padding-top:4pt;padding-bottom:6.3pt;line-height:1.0;text-align:left}.c426{padding-top:0pt;padding-bottom:12pt;line-height:1.0333333333333334;text-align:left}.c324{padding-top:6pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c432{margin-left:18pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c521{padding-top:4pt;padding-bottom:1.4pt;line-height:1.0;text-align:left}.c500{padding-top:4pt;padding-bottom:0.9pt;line-height:1.0;text-align:left}.c439{padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify}.c471{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c352{padding-top:12pt;padding-bottom:12pt;line-height:1.15;text-align:justify}.c19{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c517{padding-top:0pt;padding-bottom:6.2pt;line-height:1.0333333333333334;text-align:left}.c288{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:justify}.c283{padding-top:4pt;padding-bottom:17.3pt;line-height:1.0;text-align:left}.c520{padding-top:4pt;padding-bottom:23pt;line-height:1.0;text-align:left}.c339{padding-top:0pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c296{padding-top:0pt;padding-bottom:5.5pt;line-height:1.0791666666666666;text-align:left}.c486{padding-top:4pt;padding-bottom:15.4pt;line-height:1.0;text-align:left}.c383{padding-top:0pt;padding-bottom:12pt;line-height:1.15;text-align:left}.c459{padding-top:4pt;padding-bottom:0.3pt;line-height:1.0;text-align:left}.c400{padding-top:0pt;padding-bottom:5pt;line-height:1.0333333333333334;text-align:justify}.c273{padding-top:4pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c124{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c530{margin-left:15.9pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c310{padding-top:4pt;padding-bottom:7.6pt;line-height:1.0;text-align:left}.c22{margin-left:-0.8pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c467{padding-top:4pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c161{padding-top:6pt;padding-bottom:6pt;line-height:1.5;text-align:center}.c308{padding-top:4pt;padding-bottom:28.6pt;line-height:1.1041666666666667;text-align:center}.c235{padding-top:12pt;padding-bottom:12pt;line-height:1.0333333333333334;text-align:left}.c458{padding-top:0pt;padding-bottom:15.4pt;line-height:1.0250000000000001;text-align:left}.c466{padding-top:0pt;padding-bottom:14.8pt;line-height:1.0333333333333334;text-align:justify}.c509{padding-top:4pt;padding-bottom:0.7pt;line-height:1.0;text-align:left}.c431{padding-top:0pt;padding-bottom:15.3pt;line-height:1.0;text-align:left}.c173{padding-top:4pt;padding-bottom:1.5pt;line-height:1.0;text-align:left}.c448{padding-top:0pt;padding-bottom:14pt;line-height:1.0;text-align:left}.c15{margin-left:-0.8pt;orphans:2;widows:2;margin-right:0.2pt}.c416{padding-top:0pt;padding-bottom:5.9pt;line-height:1.0791666666666666;text-align:left}.c526{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c425{-webkit-text-decoration-skip:none;text-decoration:line-through;text-decoration-skip-ink:none}.c409{font-size:7pt;font-family:"Times New Roman";font-weight:400}.c20{margin-left:36pt;orphans:2;widows:2}.c122{font-weight:400;font-size:12pt;font-family:"Roboto"}.c88{margin-left:108pt;orphans:2;widows:2}.c240{border-top-width:0pt;border-top-color:#000000;border-top-style:solid}.c249{-webkit-text-decoration-skip:none;text-decoration:underline;text-decoration-skip-ink:none}.c84{margin-left:72pt;orphans:2;widows:2}.c118{text-decoration:none;vertical-align:baseline;font-style:normal}.c231{font-weight:400;font-family:"Verdana";font-style:normal}.c92{text-decoration:none;vertical-align:super;font-style:normal}.c43{background-color:#fff2cc;font-style:italic;color:#222222}.c292{margin-left:-0.8pt;margin-right:-5pt}.c480{margin-left:24.9pt;margin-right:0.3pt}.c5{border:1px solid black;margin:5px}.c395{margin-left:39.3pt;padding-left:-3.9pt}.c59{padding:0;margin:0}.c48{color:inherit;text-decoration:inherit}.c495{font-family:"Calibri";font-weight:400}.c478{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c21{background-color:#ffff00;font-size:10.5pt}.c267{font-family:"Roboto";font-weight:400}.c254{font-weight:700;font-family:"Liberation Sans"}.c65{padding-left:0pt;margin-right:0.2pt}.c403{font-family:"Verdana";font-weight:400}.c0{font-weight:400;font-family:"Arial"}.c422{text-indent:14.9pt;margin-right:46.5pt}.c282{margin-left:18pt;padding-left:3.6pt}.c212{font-size:18pt;color:#446caa}.c360{font-weight:700;font-family:"Roboto"}.c338{font-weight:400;font-family:"MingLiu"}.c177{margin-left:36pt;padding-left:0pt}.c64{font-weight:400;font-family:"Liberation Sans"}.c42{font-weight:700;font-family:"Arial"}.c141{margin-left:-0.8pt;margin-right:-36.4pt}.c419{margin-left:33pt;padding-left:-8.1pt}.c276{text-decoration:none;font-style:normal}.c102{margin-left:72pt;padding-left:0pt}.c121{color:#446caa;font-size:13pt}.c110{orphans:2;widows:2}.c28{font-size:11pt;color:#000000}.c169{font-size:10.5pt}.c201{margin-left:35.2pt}.c187{color:#0000ee}.c499{height:43.6pt}.c447{height:30.8pt}.c279{background-color:#ffe599}.c160{color:#212529}.c257{vertical-align:sub}.c95{margin-right:0.2pt}.c411{margin-left:45pt}.c33{color:#ff0000}.c298{height:15pt}.c239{page-break-after:avoid}.c349{height:39.8pt}.c246{margin-left:39pt}.c319{height:29.2pt}.c230{color:#446caa}.c437{font-size:13pt}.c275{margin-left:42.5pt}.c404{margin-left:27pt}.c333{font-size:18pt}.c444{height:12.3pt}.c337{text-decoration:none}.c375{font-style:normal}.c192{color:#172b4d}.c502{margin-left:14.2pt}.c205{background-color:#d9d2e9}.c327{margin-left:-0.2pt}.c61{color:#800080}.c482{height:57.8pt}.c317{height:43.5pt}.c540{height:24.9pt}.c309{height:20.2pt}.c414{background-color:#9fc5e8}.c377{font-weight:700}.c302{color:#333333}.c529{font-size:24pt}.c176{margin-right:-3pt}.c472{height:60pt}.c443{margin-left:18pt}.c41{color:#000000}.c67{background-color:#cfe2f3}.c330{text-indent:29.9pt}.c384{text-indent:0.2pt}.c410{margin-right:7.3pt}.c367{height:13.7pt}.c386{height:50.4pt}.c481{margin-left:32pt}.c516{color:#1155cc}.c532{text-indent:0.8pt}.c190{background-color:#fff2cc}.c518{height:17.1pt}.c539{height:13pt}.c209{color:#666666}.c89{font-size:8pt}.c434{height:16.4pt}.c274{vertical-align:super}.c39{color:#202124}.c87{font-size:11pt}.c334{margin-right:49.5pt}.c503{margin-left:21.6pt}.c213{vertical-align:baseline}.c493{margin-left:29.1pt}.c155{background-color:#cccccc}.c86{height:10.5pt}.c106{font-size:10pt}.c361{text-indent:36pt}.c23{background-color:#ffff00}.c531{color:#1f1f1f}.c487{height:15.8pt}.c152{height:10pt}.c321{font-size:12pt}.c490{margin-right:0.3pt}.c329{margin-left:-0.8pt}.c313{padding-left:0pt}.c442{height:19.4pt}.c54{background-color:#ffffff}.c47{font-style:italic}.c194{background-color:#efefef}.c104{font-size:9pt}.c253{font-size:14pt}.c494{font-size:7pt}.c542{margin-right:-14.3pt}.c488{margin-left:144pt}.c117{background-color:#d9d9d9}.c366{margin-left:36pt}.c224{margin-left:1pt}.c18{height:0pt}.c79{color:#222222}.c133{height:38.9pt}.title{padding-top:1pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:24pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;background-color:#ffffff;border-top-color:#808080;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}.subtitle{padding-top:1pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:18pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;background-color:#ffffff;border-top-color:#808080;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}li{background-color:#ffffff;color:#172b4d;font-size:10.5pt;font-family:"Liberation Sans"}p{background-color:#ffffff;margin:0;color:#172b4d;font-size:10.5pt;font-family:"Liberation Sans"}h1{padding-top:6pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:18pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#808080;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h2{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:14pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h3{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:13pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h4{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:12pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h5{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:12pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h6{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:11pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}</style></head><body class="c54 c478 doc-content"><div><p class="c19 c15 c86"><span class="c55 c64 c54"></span></p></div><p class="c25 c95 c329 title"><span class="c118 c42 c230 c54 c529">MQTT for Sensor Networks (MQTT-SN) Version 2.0</span></p><p class="c25 c95 c329 subtitle"><span class="c118 c212 c42 c54">Committee Specification Draft 01</span></p><p class="c12 c110" id="h.30j0zll"><span class="c42 c230">01 August 2024</span><span class="c118 c0 c41 c333">&nbsp;</span></p><p class="c324 c15 c239"><span class="c118 c42 c169 c230 c54">This stage:</span></p><p class="c324 c110 c239"><span class="c42 c230">&hellip;</span><sup><a href="#cmnt1" id="cmnt_ref1">[a]</a></sup></p><p class="c324 c15 c239"><span class="c118 c42 c169 c230 c54">Previous stage:</span></p><p class="c324 c110 c239"><span class="c118 c42 c169 c230 c54">N/A</span></p><p class="c324 c15 c239"><span class="c118 c42 c169 c230 c54">Latest stage:</span></p><p class="c324 c15 c239"><span class="c118 c42 c169 c230 c54">&hellip;</span></p><p class="c324 c110 c239"><span class="c46 c42 c230">Technical Committee:</span></p><p class="c12 c110 c361" id="h.1fob9te"><span class="c46 c0 c187"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/&amp;sa=D&amp;source=editors&amp;ust=1724799528125413&amp;usg=AOvVaw2DTUlCyXFDQwUtSEShu4OY">OASIS Message Queuing Telemetry Transport (MQTT) TC</a></span></p><p class="c324 c110 c239"><span class="c46 c42 c230">Chairs:</span></p><p class="c12 c20"><span class="c13 c0">Ian Craggs (</span><span class="c13 c0"><a class="c48" href="mailto:icraggs@gmail.com">icraggs@gmail.com</a></span><span class="c13 c0">), Individual</span></p><p class="c12 c20"><span class="c46 c0 c41">Simon Johnson (</span><span class="c0 c337 c41 c106">simon.johnson@hivemq.com</span><span class="c46 c0 c41">), </span><span class="c0 c41 c106">HiveMQ GmbH</span></p><p class="c324 c110 c239"><span class="c46 c42 c230">Editors:</span></p><p class="c12 c20"><span class="c46 c0 c41">Andrew B</span><span class="c0 c41 c106">anks </span><span class="c0 c41 c106">(andrewdjbanks@gmail.com</span><span class="c46 c0 c41">), Individual</span></p><p class="c12 c20"><span class="c46 c0 c41">Andy Stanford-Clark (andysc@uk.ibm.com), IBM</span></p><p class="c12 c20"><span class="c0 c41 c106">Davide Lenzarini (</span><span class="c0 c41 c106"><a class="c48" href="mailto:davide.lenzarini@u-blox.com">davide.lenzarini@u-blox.com</a></span><span class="c46 c0 c41">), u-blox AG</span></p><p class="c12 c20"><span class="c0 c41 c106">Ian Craggs (</span><span class="c0 c41 c106"><a class="c48" href="mailto:icraggs@gmail.com">icraggs@gmail.com</a></span><span class="c46 c0 c41">), Individual</span></p><p class="c12 c20"><span class="c0 c41 c106">Rahul Gupta (</span><span class="c0 c41 c106"><a class="c48" href="mailto:rahul.gupta@us.ibm.com">rahul.gupta@us.ibm.com</a></span><span class="c0 c41 c106">), </span><span class="c0 c41 c106"><a class="c48" href="https://www.google.com/url?q=http://www.ibm.com&amp;sa=D&amp;source=editors&amp;ust=1724799528127382&amp;usg=AOvVaw2UW2GN8YZVdicWo2DmW5WC">IBM</a></span></p><p class="c12 c20"><span class="c0 c41 c106">Simon Johnson (</span><span class="c0 c41 c106"><a class="c48" href="mailto:simon622@gmail.com">simon</a></span><span class="c46 c0 c41">.johnson@hivemq.com), HiveMQ GmbH</span></p><p class="c12 c20"><span class="c0 c41 c106">Stefan Hagen (</span><span class="c0 c41 c106"><a class="c48" href="mailto:stefan@hagen.link">stefan@hagen.link</a></span><span class="c46 c0 c41">), Individual</span></p><p class="c12 c20"><span class="c0 c41 c106">Tara E. Walker (</span><span class="c0 c41 c106"><a class="c48" href="mailto:tara.walker@microsoft.com">tara.walker@microsoft.com</a></span><span class="c0 c41 c106">), </span><span class="c0 c41 c106"><a class="c48" href="https://www.google.com/url?q=http://www.microsoft.com/&amp;sa=D&amp;source=editors&amp;ust=1724799528128167&amp;usg=AOvVaw1ZZtqbm5R2eYFfzMemJ4oM">Microsoft Corporation</a></span></p><a id="id.2et92p0"></a><p class="c324 c110 c239"><span class="c46 c42 c230">Related work:</span></p><p class="c12 c20"><span class="c46 c0 c41">This specification is related to:</span></p><ul class="c59 lst-kix_list_1-0 start"><li class="c12 c84 c313 li-bullet-0"><span class="c0 c337 c41 c213 c106 c47">MQTT Version 5.0</span><span class="c46 c0 c41">. Edited by Andrew Banks, Ed Briggs, Ken Borgendale, and Rahul Gupta. OASIS Standard. Latest version: </span><span class="c46 c0 c187"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html&amp;sa=D&amp;source=editors&amp;ust=1724799528128630&amp;usg=AOvVaw1Q38ZGaSXjxcurcdMAx_ts">https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html</a></span><span class="c46 c0 c187">.</span></li><li class="c12 c84 c313 li-bullet-0"><span class="c0 c337 c41 c213 c106 c47">MQTT Version 3.1.1</span><span class="c46 c0 c41">. Edited by Andrew Banks and Rahul Gupta. OASIS Standard. Latest version: </span><span class="c46 c0 c187"><a class="c48" href="https://www.google.com/url?q=http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html&amp;sa=D&amp;source=editors&amp;ust=1724799528128964&amp;usg=AOvVaw2uEPqeLmpjkHoN2ibOIrVj">http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html</a></span><span class="c46 c0 c41">.</span></li><li class="c12 c84 c313 li-bullet-0"><span class="c0 c337 c41 c213 c106 c47">MQTT-SN Version 1.2</span><span class="c46 c0 c41">&nbsp;by Andy Stanford-Clark and Hong Linh Truong. Link: </span><span class="c46 c0 c187"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/download.php/66091/MQTT-SN_spec_v1.2.pdf&amp;sa=D&amp;source=editors&amp;ust=1724799528129331&amp;usg=AOvVaw0wtYFSbm_tDwfmPutwapbo">https://www.oasis-open.org/committees/download.php/66091/MQTT-SN_spec_v1.2.pdf</a></span><span class="c46 c0 c41">.</span></li></ul><p class="c110 c239 c324"><span class="c46 c42 c230">Abstract:</span></p><p class="c289 c20"><span class="c46 c0 c41">This specification defines the MQTT for Sensor Networks protocol (MQTT-SN). It is closely related to the MQTT v3.1.1 and MQTT v5.0 standards. MQTT-SN is optimized for implementation on low-cost, battery-operated devices with limited processing and storage resources. It is designed so that it will work over a variety of networking technologies and bridge to an MQTT network.</span></p><p class="c324 c110 c239"><span class="c46 c42 c230">Status:</span></p><p class="c289 c20"><span class="c46 c0 c41">This </span><span class="c0">document was last revised or approved by the OASIS Message Queuing Telemetry Transport (MQTT) TC on the above date.</span><span class="c46 c0 c41">&nbsp;</span><span class="c0">The level of approval is also listed above. Check the &quot;Latest stage&quot; location noted above for possible later revisions of this document. Any other numbered Versions and other technical work produced by the Technical Committee (TC) are listed at </span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/tc_home.php?wg_abbrev%3Dmqtt%23technical&amp;sa=D&amp;source=editors&amp;ust=1724799528129892&amp;usg=AOvVaw27JZ-pX2EI9UEKrK2E3l_d">https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=mqtt#technical</a></span><span class="c46 c0 c41">&nbsp;.</span></p><p class="c289 c20"><span class="c0">TC members should send comments on this document to the TC&#39;s email list. Others should send comments to the TC&#39;s public comment list, after subscribing to it by following the instructions at the &quot;</span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/comments/index.php?wg_abbrev%3Dmqtt&amp;sa=D&amp;source=editors&amp;ust=1724799528130200&amp;usg=AOvVaw31QLJv5WAAPPWpdSSDHWXU">Send A Comment</a></span><span class="c0">&quot; button on the TC&#39;s web page at </span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/&amp;sa=D&amp;source=editors&amp;ust=1724799528130398&amp;usg=AOvVaw3U8ioYLFQtkMEGTv3aekRf">https://www.oasis-open.org/committees/mqtt/</a></span><span class="c55 c0 c54">.</span></p><p class="c289 c20"><span class="c46 c0 c41">This specification is provided under the </span><span class="c46 c0 c187"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr%23Non-Assertion-Mode&amp;sa=D&amp;source=editors&amp;ust=1724799528130681&amp;usg=AOvVaw0s-9KWwLG5XOYcMwx1Y0JQ">Non-Assertion</a></span><span class="c46 c0 c41">&nbsp;Mode of the </span><span class="c46 c0 c187"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr&amp;sa=D&amp;source=editors&amp;ust=1724799528130872&amp;usg=AOvVaw331JNRK2KHWFgIYPKF4jFz">OASIS IPR Policy</a></span><span class="c46 c0 c41">, the mode chosen when the Technical Committee was established. For information on whether any patents have been disclosed that may be essential to implementing this specification, and any offers of patent licensing terms, refer to the Intellectual Property Rights section of the TC&rsquo;s web page (</span><span class="c46 c0 c187"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/ipr.php&amp;sa=D&amp;source=editors&amp;ust=1724799528131081&amp;usg=AOvVaw2dHhU4oOaSpq8ugrHNkXXb">https://www.oasis-open.org/committees/mqtt/ipr.php</a></span><span class="c46 c0 c187">).</span></p><p class="c289 c20"><span class="c46 c0 c41">Note that any machine-readable content (</span><span class="c46 c0 c187"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsCompLang&amp;sa=D&amp;source=editors&amp;ust=1724799528131372&amp;usg=AOvVaw0SHd4m0Bqu4oyQVzQ1dAg5">Computer Language Definitions</a></span><span class="c46 c0 c41">) declared Normative for this Work Product is provided in separate plain text files. In the event of a discrepancy between any such plain text file and display content in the Work Product&#39;s prose narrative document(s), the content in the separate plain text file prevails.</span></p><p class="c324 c110 c239"><span class="c42 c230">Citation format</span><span class="c46 c42 c230">:</span></p><p class="c110 c201 c95 c301"><span class="c55 c0 c54">When referencing this document, the following citation format should be used:</span></p><p class="c301 c110 c201 c95"><span class="c55 c42 c54">[MQTT-SN-v2.0]</span></p><p class="c12 c20"><span class="c0 c41 c106 c47">MQTT for Sensor Networks Version 2.0</span><span class="c0 c41 c106">. Edited by Andrew Banks, Davide Lenzarini, Ian Craggs, Rahul Gupta, Simon Johnson, Stefan Hagen, and Tara E. Walker. 01 August 2024. OASIS Committee Specification Draft 01. </span><span class="c249 c0 c41 c106"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt-sn/v12.30/csd01/mqtt-sn-v12.30-csd01.docx&amp;sa=D&amp;source=editors&amp;ust=1724799528131989&amp;usg=AOvVaw1u6ohrbRXWU19OI7lFICwo">https://docs.oasis-open.org/mqtt/mqtt-sn/v2.0/csd01/mqtt-sn-v2.0-csd01.docx</a></span><span class="c0 c41 c106">. Latest stage: </span><span class="c0 c41 c106 c249"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt-sn/v12.30/mqtt-sn-v12.30.docx&amp;sa=D&amp;source=editors&amp;ust=1724799528132210&amp;usg=AOvVaw2n1KKEhIyUK4RWAPM22O2B">https://docs.oasis-open.org/mqtt/mqtt-sn/v2.0/mqtt-sn-v2.0.docx</a></span><sup><a href="#cmnt2" id="cmnt_ref2">[b]</a></sup></p><p class="c289 c20"><span class="c46 c0 c41 c23">(</span><span class="c46 c42 c41 c23">Note:</span><span class="c46 c0 c41 c23">&nbsp;Publication URIs are managed by OASIS TC Administration; please don&#39;t modify. The </span><span class="c46 c0 c41 c23"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsGeneral&amp;sa=D&amp;source=editors&amp;ust=1724799528132628&amp;usg=AOvVaw1-xGGTBEGDuH_ZbQ5d6-_2">OASIS TC Process</a></span><span class="c46 c0 c41 c23">&nbsp;requires that Work Products at any level of approval must use the </span><span class="c46 c0 c41 c23"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/specGuidelines/ndr/namingDirectives.html&amp;sa=D&amp;source=editors&amp;ust=1724799528132848&amp;usg=AOvVaw0ll3ib_JnfgiwYzQncXVT6">OASIS file naming scheme</a></span><span class="c0 c41 c23 c46">, and must include the OASIS copyright notice. The URIs above have been constructed according to the file naming scheme. Remove this note before submitting for publication.)</span></p><p class="c25"><span class="c118 c212 c42">Notices</span></p><p class="c301 c15"><span class="c55 c0 c54">Copyright &copy; OASIS Open 2024. All Rights Reserved.</span></p><p class="c301 c15"><span class="c0">Distributed under the terms of the OASIS IPR Policy, [</span><span class="c249 c0 c61"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1724799528133318&amp;usg=AOvVaw3r2X-EaEaks_cmYD_4qhSO">https://www.oasis-open.org/policies-guidelines/ipr/</a></span><span class="c55 c0 c54">]. For complete copyright information see the full Notices section in an Appendix below.</span></p><p class="c25"><span class="c118 c212 c42">Table of Contents</span></p><p class="c259"><span class="c34 c0"><a class="c48" href="#h.3dy6vkm">1 Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.uokut45h8sy1">1.0 Intellectual property rights policy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.v5qicb1pcnem">1.1 Changes from earlier Versions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.5u7dbejbytfw">1.1.1 MQTT-SN v1.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.4d34og8">1.2 Organization of the MQTT-SN specification&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.17dp8vu">1.3 Terminology&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.k1nv0xr6w25">1.4 Normative references&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.wi8cs5zgi8fo">1.5 Informative References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.4olrp2glo5nb">1.6 MQTT For Sensor Networks (MQTT-SN)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.ox4v8n854qgm">1.6.1 MQTT-SN and MQTT Differences&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.2bn6wsx">1.7 Data representation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.qsh70q">1.7.1 Bits (Byte)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.3as4poj">1.7.2 Two Byte Integer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1pxezwc">1.7.3 Four Byte Integer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.49x2ik5">1.7.4 UTF-8 Encoded String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;17</a></span></p><p class="c259"><span class="c34 c0"><a class="c48" href="#h.3o7alnk">2 MQTT-SN Control Packet format&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.23ckvvd">2.1 Structure of an MQTT-SN Control Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1hmsyys">2.1.1 Packet Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.vx1227">2.1.2 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1v1yuxt">2.1.3 MQTT-SN Control Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.19c6y18">2.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.nmf14n">2.3 MQTT-SN Packet Fields&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.37m2jsg">2.3.1 Protocol Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1mrcu09">2.3.2 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.46r0co2">2.3.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.111kx3o">2.3.4 Topic Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.3l18frh">2.3.5 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.2zbgiuw">2.4 Topic Types&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c259"><span class="c34 c0"><a class="c48" href="#h.1egqt2p">3 MQTT-SN Control Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.2dlolyb">3.1 ADVERTISE - Gateway Advertisement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.sqyw64">3.1.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3cqmetx">3.1.2 GwId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1rvwp1q">3.1.3 Duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.4bvk7pj">3.2 SEARCHGW - Search for A Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2r0uhxc">3.2.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1664s55">3.2.2 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.3q5sasy">3.3 GWINFO - Gateway Information&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.25b2l0r">3.3.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.kgcv8k">3.3.2 GwId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.34g0dwd">3.3.3 GwAdd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1jlao46">3.4 CONNECT - Connection Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.43ky6rz">3.4.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2iq8gzs">3.4.2 Connect Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.kxsqte300p6i">3.4.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.xvir7l">3.4.4 Protocol Version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.4h042r0">3.4.5 Keep Alive Timer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1baon6m">3.4.6 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3vac5uf">3.4.7 Maximum Packet Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.pkwqa1">3.4.8 Client Identifier (ClientID)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.u38i2mpp332q">3.4.9 Connect Will Flags (optional, only with Will flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.6mntinqaom6n">3.4.10 Will Topic Short or Will Topic Length (optional, only with Will flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.g5w1zpmaiace">3.4.11 Will Payload Length (optional, only with Will flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.o88zms19c5d1">3.4.12 Will Payload (optional, only with Will flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.mw1gvx9qi5t0">3.4.13 Authentication Method Length (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.4ydjyi9y5y20">3.4.14 Authentication Method (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.5hocu94eubqg">3.4.15 Authentication Data Length (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.g9mib2nvvlzy">3.4.16 Authentication Data (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.6hlt7zbtaja">3.4.17 CONNECT Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.39kk8xu">3.5 CONNACK - Connect Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2nusc19">3.5.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3mzq4wv">3.5.2 Connack Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.lnmexuhpjkl8">3.5.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1302m92">3.5.4 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2250f4o">3.5.5 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3wmneavoet74">3.5.6 Authentication Method Length (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.ydayklwjstjk">3.5.7 Authentication Method (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.kvppk7yh36lv">3.5.8 Authentication Data Length (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.600ktmi3vm5o">3.5.9 Authentication Data (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.haapch">3.5.10 Assigned Client Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.184mhaj">3.6 AUTH - Authentication Exchange&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3s49zyc">3.6.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.6cbjggtsyz0j">3.7.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.279ka65">3.6.2 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.meukdy">3.6.3 Auth Method Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.36ei31r">3.6.4 Auth Method&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1ljsd9k">3.6.5 Auth Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.psc1lxe4uzxw">3.6.6 Auth Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.45jfvxd">3.7 REGISTER - Register Topic Alias Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2koq656">3.7.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3jtnz0s">3.7.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.zu0gcz">3.7.3 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1yyy98l">3.7.4 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.2jnkuws4c71i">3.7.5 Register Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.4iylrwe">3.8 REGACK - Register Topic Alias Response&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2y3w247">3.8.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1d96cc0">3.8.2 REGACK Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c7"><span class="c0 c34"><a class="c48" href="#h.2ce457m">3.8.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3x8tuzt">3.8.4 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.rjefff">3.8.5 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c83"><span class="c34 c64"><a class="c48" href="#h.3bj1y38">3.9 Publish Variants&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.j8sehv">3.10 PUBWOS - Publish Without Session&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.338fx5o">3.10.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1idq7dh">3.10.2 PUBWOS Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.42ddq1a">3.10.3 Topic Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2hio093">3.10.4 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.whhpchgpz502">3.12.7 PUBWOS Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.wnyagw">3.11 PUBLISH - QoS 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3gnlt4p">3.11.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1vsw3ci">3.11.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.4fsjm0b">3.11.3 Topic Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2uxtw84">3.11.4 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.inu1col38lh0">3.11.5 PUBLISH - QoS 0 Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1a346fx">3.12 PUBLISH - QoS 1 and 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3u2rp3q">3.12.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2981zbj">3.12.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1nia2ey">3.12.4 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.47hxl2r">3.12.5 Topic Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2mn7vak">3.12.6 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.3hu8nopr74va">3.12.7 PUBLISH Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.11si5id">3.13 PUBACK &ndash; Publish Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3ls5o66">3.13.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.20xfydz">3.13.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.4kx3h1s">3.13.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.xgybvs5ktz8v">3.13.4 PUBACK Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.302dr9l">3.14 PUBREC (QoS 2 delivery part 1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1f7o1he">3.14.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3z7bk57">3.14.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.e5jf58hkzqw8">3.14.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.kktb96s9v8sj">3.14.4 PUBREC Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.2eclud0">3.15 PUBREL (QoS 2 delivery part 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.thw4kt">3.15.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3dhjn8m">3.15.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.o7qegribw1em">3.15.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.nj4sqaal9xm4">3.15.4 PUBREL Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1smtxgf">3.16 PUBCOMP - Publish Complete (QoS 2 delivery part 3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.4cmhg48">3.16.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2rrrqc1">3.16.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.j9ce9nedlrkd">3.16.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.wwlbpe629g7j">3.16.4 PUBCOMP Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.16x20ju">3.17 SUBSCRIBE - Subscribe Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3qwpj7n">3.17.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.261ztfg">3.17.2 SUBSCRIBE Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.l7a3n9">3.17.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.356xmb2">3.17.4 Topic Data or Topic Filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.8f4jncpi264u">3.17.5 SUBSCRIBE Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1kc7wiv">3.18 SUBACK - Subscribe Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.44bvf6o">3.18.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2jh5peh">3.18.2 Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.ymfzma">3.18.3 Topic Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3im3ia3">3.18.4 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1xrdshw">3.18.5 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.4hr1b5p">3.19 UNSUBSCRIBE - Unsubscribe Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;65</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1c1lvlb">3.19.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3w19e94">3.19.2 UNSUBSCRIBE Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2b6jogx">3.19.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.qbtyoq">3.19.4 Topic Data or Topic Filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.yu0e4zurjnhj">3.19.4 UNSUBSCRIBE Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.3abhhcj">3.20 UNSUBACK - Unsubscribe Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1pgrrkc">3.20.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.49gfa85">3.20.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2olpkfy">3.20.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.13qzunr">3.21 PINGREQ - Ping Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3nqndbk">3.21.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.sqbpplpqb01e">3.21.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.22vxnjd">3.21.3 Client Identifier (optional)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.1bpzu4dgtzqz">3.21.4 PINGREQ Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.i17xr6">3.22 PINGRESP - Ping Response&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;69</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.320vgez">3.22.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;69</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.fodwg3l5deju">3.22.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;69</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1h65qms">3.22.3 Application Messages Remaining&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;69</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.415t9al">3.23 DISCONNECT - Disconnect Notification&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;70</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2gb3jie">3.23.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.vgdtq7">3.23.2 Disconnect Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3fg1ce0">3.23.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1ulbmlt">3.23.4 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.4ekz59m">3.23.5 Reason String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.wsl51zt8cr34">3.23.6 DISCONNECT Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.elrc49qsiunp">3.24 WAKEUP - Wake up request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.lrkcmnrrlwx6">3.24.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.2sa95hk6sfa3">3.24.2 WAKEUP Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1e03kqp">3.25 Forwarder Encapsulation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3xzr3ei">3.25.1 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.2d51dmb">3.25.2 Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.sabnu4">3.25.3 Ctrl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3c9z6hx">3.25.4 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.1rf9gpq">3.25.5 Wireless Node Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.4bewzdj">3.25.6 MQTT SN Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.15cqrsoyxc87">3.26 Protection Encapsulation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.j9tutdzg8gdj">3.26.1 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;76</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.8duggxbcbw2">3.26.2 Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;76</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.g1mmf1c4lvqh">3.26.3 Protection Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.m1zk7agco355">3.26.4 Protection Scheme&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.jo2d2fngx6hj">3.26.5 Sender Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.vjl219ghlhvi">3.26.6 Random&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.q30yx1mc4rc1">3.26.7 Crypto Material&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3y6o9vhqakro">3.26.8 Monotonic Counter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.dovnwl46a7is">3.26.9 Protected MQTT-SN Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.j75p96o6vesm">3.26.10 Authentication Tag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c259"><span class="c34 c0"><a class="c48" href="#h.2qk79lc">4 Operational behavior&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.21od6so">4.1 Session state&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.nasxg3iedd75">4.1.1 Storing Session State&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.434ayfz">4.1.2 Session Establishment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;82</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.fc1j1f7dq6oy">4.2 Networks and Virtual Connections&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.2i9l8ns">4.3 Quality of Service levels and protocol flows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;84</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.be76rdrlcegt">4.3.1 Publish without session: Any number of deliveries&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;84</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.xevivl">4.3.2 QoS 0: At most once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;85</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1au1eum">4.3.3 QoS 1: At least once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;85</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1o97atn">4.3.4 QoS 2: Exactly once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.6udnv5yl5cv5">4.4 Packet delivery retry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;87</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.kc8msbstg9e">4.4.1 Virtual Connection End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;87</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.17nz8yj">4.4.1 Unacknowledged Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;88</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.xoc2pfhnyfst">4.5 Application Message receipt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;89</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.rrfw7sclv8s">4.6 Application Message ordering&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;89</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.g7vjj8m1vj3z">4.7 Topic Names and Topic Filters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;89</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.q0s32id4lv9p">4.7.1 Topic wildcards&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;89</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.3kbulner4ob4">4.7.1.1 Topic level separator&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;90</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.ychcrpqsu69r">4.7.1.2 Multi-level wildcard&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;90</a></span></p><p class="c7"><span class="c8 c0"><a class="c48" href="#h.x4yye38w41vd">4.7.1.3 Single-level wildcard&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;90</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.p61p07rh2x26">4.7.2 &nbsp;Topics beginning with $&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.rvcur5x0am">4.7.3 Topic semantic and usage&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.zh9mgr3i86c2">4.8 Subscriptions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;92</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.bfojn6tjnvgm">4.9 Flow Control&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;92</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.k5nujtaz6h05">4.10 Server redirection&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.n3l7hni8c3ae">4.11 Enhanced authentication&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.ut22r1f7l7us">4.11.1 Re-authentication&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;94</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.v8vlgf6xm72a">4.12 Handling errors&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;95</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.kbby30dtgah8">4.12.1 Malformed Packet and Protocol Errors&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;95</a></span></p><p class="c83"><span class="c8 c0"><a class="c48" href="#h.j0ufrffgt029">4.12.2 Other errors&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;96</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.1vpy4wyrild2">4.13 Example MQTT-SN Architectures&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;96</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.3pp52gy">4.13.1 Transparent Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;97</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.24ufcor">4.13.2 Aggregating Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;98</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.1j4nfs6">4.14 Gateway Advertisement and Discovery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;101</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.3mj2wkv">4.15 Client states&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;101</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.qfa0p4gzzbmu">4.15.1 Gateway timers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;103</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.gtnh0h">4.16 Clean start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;104</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.1fyl9w3">4.17 Topic Registration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;104</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.3zy8sjw">4.18 Topic Mapping and Aliasing&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;105</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.2f3j2rp">4.19 Predefined topic aliases and short topic names&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;105</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.u8tczi">4.20 Client&rsquo;s Topic Subscribe/Unsubscribe Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;106</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.3e8gvnb">4.21 Client Publish Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;106</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.1tdr5v4">4.22 Gateway Publish Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;106</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.4ddeoix">4.23 Keep Alive and PING Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;107</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.2sioyqq">4.24 Client&rsquo;s Disconnect Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;107</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.3rnmrmc">4.25 Sleeping clients&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;107</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.ly7c1y">4.26 Retained Messages&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;110</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.mo7ahow0t2fa">4.27 Optional Features&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;110</a></span></p><p class="c259"><span class="c8 c42"><a class="c48" href="#h.ao41zqqg0txn">5 Security (Informative)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;112</a></span></p><p class="c81"><span class="c8 c0"><a class="c48" href="#h.l3biudxg4em6">5.1 Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;113</a></span></p><p class="c259"><span class="c34 c0"><a class="c48" href="#h.2k82xt6">6 Conformance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;114</a></span></p><p class="c259"><span class="c34 c42"><a class="c48" href="#h.zdd80z">Appendix A. References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;115</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.2pjpzxrro3v8">A.1 Normative References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;116</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.wmz8ensz9jqs">A.2 Informative References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;116</a></span></p><p class="c259"><span class="c34 c42"><a class="c48" href="#h.twhu880t27o">Appendix B. Backwards Compatibility&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;117</a></span></p><p class="c83"><span class="c34 c0"><a class="c48" href="#h.1qoc8b1">B.1 PUBLISH QoS -1 (Packet from MQTT-SN 1.2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;117</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.4anzqyu">B.1.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;117</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.14ykbeg">B.1.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;117</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.3oy7u29">B.1.3 Topic Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;118</a></span></p><p class="c7"><span class="c34 c0"><a class="c48" href="#h.243i4a2">B.1.4 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;118</a></span></p><p class="c259"><span class="c34 c42"><a class="c48" href="#h.55r6c0xsdoov">Appendix C. Security and Privacy Considerations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;119</a></span></p><p class="c259"><span class="c34 c42"><a class="c48" href="#h.bc8w7ov5oli4">Appendix D. Acknowledgments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.glow6i83isd5">D.1 Special Thanks&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.tdeowwajj1wf">D.2 Participants&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120</a></span></p><p class="c259"><span class="c34 c42"><a class="c48" href="#h.ewpzaw2f211a">Appendix E. Revision History&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;121</a></span></p><p class="c259"><span class="c34 c42"><a class="c48" href="#h.3jd0qos">Appendix F. Implementation Notes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;126</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.1yib0wl">F.1 Support of PUBLISH WITHOUT SESSION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;126</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.4ihyjke">F.2 &ldquo;Best practice&rdquo; values for timers and counters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;126</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.2xn8ts7">F.3 Mapping of Topic Alias to Topic Names and Topic Filters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;126</a></span></p><p class="c81"><span class="c34 c0"><a class="c48" href="#h.1csj400">F.4 Exponential Backoff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;126</a></span></p><p class="c259"><span class="c34 c42"><a class="c48" href="#h.sg1xgdru14ui">Appendix G. Notices&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;128</a></span></p><p class="c19 c15 c86" id="h.tyjcwt"><span class="c55 c0 c54"></span></p><h1 class="c255 c110 c95 c239" id="h.3dy6vkm"><span class="c118 c254 c212 c54">1 Introduction</span></h1><p class="c19 c15"><span class="c0">[</span><span class="c0 c23">All text is normative unless otherwise labeled</span><span class="c55 c0 c54">]</span></p><h2 class="c15 c270" id="h.uokut45h8sy1"><span class="c118 c254 c230 c54 c253">1.0 Intellectual property rights policy</span></h2><p class="c134 c110"><span class="c0">This specification is provided under the</span><span class="c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr%23Non-Assertion-Mode&amp;sa=D&amp;source=editors&amp;ust=1724799528159974&amp;usg=AOvVaw2pi91niKu5OWdL9gzQWZ9p">&nbsp;</a></span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr%23Non-Assertion-Mode&amp;sa=D&amp;source=editors&amp;ust=1724799528160412&amp;usg=AOvVaw39Vfz5wqICQpAXnBz5ksoQ">Non-Assertion</a></span><span class="c0">&nbsp;Mode of the</span><span class="c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr&amp;sa=D&amp;source=editors&amp;ust=1724799528160769&amp;usg=AOvVaw15G_t8GzflitHv-wZSNhRD">&nbsp;</a></span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr&amp;sa=D&amp;source=editors&amp;ust=1724799528161033&amp;usg=AOvVaw1fZyaOs3UUq0jk9ZQ1o0t-">OASIS IPR Policy</a></span><span class="c0">, the mode chosen when the Technical Committee was established. For information on whether any patents have been disclosed that may be essential to implementing this specification, and any offers of patent licensing terms, refer to the Intellectual Property Rights section of the TC&rsquo;s web page (</span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/ipr.php&amp;sa=D&amp;source=editors&amp;ust=1724799528161332&amp;usg=AOvVaw2cHcnj_haP7cw0woxdZsFT">https://www.oasis-open.org/committees/mqtt/ipr.php</a></span><span class="c55 c0 c54">).</span></p><h2 class="c1" id="h.v5qicb1pcnem"><span class="c118 c254 c230 c54 c253">1.1 Changes from earlier Versions</span></h2><p class="c19 c15"><span class="c0 c187">[</span><span class="c0 c187 c23">Optional section.</span><span class="c118 c0 c169 c187 c54">]</span></p><p class="c301 c15"><span class="c0 c187">This section provides a description of significant differences from previously published, differently numbered Versions of this specification, if any. (Detailed revision history of this numbered Version should be tracked in an Appendix.)</span></p><h3 class="c1" id="h.5u7dbejbytfw"><span class="c118 c42 c121 c54">1.1.1 MQTT-SN v1.2</span></h3><p class="c19 c15"><span class="c0">Text describing the changes/differences</span><sup><a href="#cmnt3" id="cmnt_ref3">[c]</a></sup></p><h2 class="c1" id="h.4d34og8"><span>1.2 </span><span class="c118 c42 c230 c54 c253">Organization of the MQTT-SN specification</span></h2><p class="c19 c15"><span class="c55 c0 c54">The specification is split into five chapters:</span></p><ul class="c59 lst-kix_list_13-0 start"><li class="c156 c110 c411 c313 li-bullet-0" id="h.2s8eyo1"><span class="c46 c0 c41"><a class="c48" href="#h.2bxgwvm">Chapter</a></span><span class="c46 c0 c41">&nbsp;1 &ndash; Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></li><li class="c12 c110 c313 c411 li-bullet-0"><span class="c46 c0 c41">Chapter 2 &ndash; MQTT-SN Control Packet format</span></li><li class="c12 c110 c411 c313 li-bullet-0"><span class="c46 c0 c41">Chapter 3 &ndash; MQTT-SN Control Packet</span><span class="c0 c41 c106">s</span></li><li class="c12 c110 c411 c313 li-bullet-0"><span class="c46 c0 c41">Chapter 4 &ndash; Operational Behavior</span></li><li class="c289 c110 c411 c313 li-bullet-0"><span class="c46 c0 c41">Chapter </span><span class="c0">5</span><span class="c46 c0 c41">&nbsp;&ndash; Conformance</span></li></ul><h2 class="c1" id="h.17dp8vu"><span class="c0">1.3 </span><span>Terminology</span></h2><p class="c134 c15" id="h.3rdcrjn"><span class="c0">The keywords &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this specification are to be interpreted as described in IETF RFC 2119 </span><span class="c0 c187">[RFC2119]</span><span class="c0">, except where they appear in text that is marked as non-normative.</span></p><p class="c383 c110"><span class="c8 c42">Datagram:</span></p><p class="c110 c383"><span class="c8 c0">An independent, self-contained sequence of bytes. If received, the contents of a datagram must be correct.</span></p><p class="c383 c110"><span class="c8 c42">Underlying Network:</span></p><p class="c383 c110"><span class="c8 c0">The underlying network which provides the means to send datagrams from one Network Address to another. </span></p><p class="c383 c110"><span class="c0 c28">Th</span><span class="c0 c28">e arrival of a datagram is not guaranteed, but the contents of any datagram which does arrive at its destination must be correct.</span><sup><a href="#cmnt4" id="cmnt_ref4">[d]</a></sup><sup><a href="#cmnt5" id="cmnt_ref5">[e]</a></sup></p><p class="c383 c110"><span class="c8 c42">Network Address:</span></p><p class="c50"><span class="c0 c28">A</span><span class="c0 c28">&nbsp;unique label </span><span class="c8 c0">provided by the Underlying Network to identify a network endpoint.</span></p><p class="c50"><span class="c8 c0">To receive datagrams, an MQTT-SN Client or Server listens to the network for packets addressed to a specific Network Address.</span></p><p class="c50"><span class="c8 c42">Unicast Address:</span></p><p class="c50"><span class="c8 c0">A Network Address which represents one device on a network. For packets intended to reach one network endpoint.</span></p><p class="c50"><span class="c8 c42">Multicast Address:</span></p><p class="c50"><span class="c8 c0">A Network Address which represents all or groups of devices on a network. For packets intended for more than one network endpoint.</span></p><p class="c50 c366"><span class="c8 c42">Informative:</span></p><p class="c50 c366"><span class="c0 c28">Multicast Address as used in this specification also includes the concept of broadcast addresses, </span><span class="c8 c0">for brevity.</span></p><p class="c50"><span class="c8 c42">Network Identity:</span></p><p class="c50"><span class="c8 c0">The identity used to establish that a sequence of datagrams originates from the same network source. This could be, for example:</span></p><ul class="c59 lst-kix_3bne7i3s1y6e-0 start"><li class="c50 c177 li-bullet-0"><span class="c8 c0">A Network Address</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">A DTLS connection ID</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">An MQTT-SN Protection Packet sender ID</span></li></ul><p class="c50"><span class="c42 c28">Virtual Connection:</span></p><p class="c50"><span class="c8 c0">An MQTT-SN construct corresponding to the network connection in MQTT. It associates a Network Identity with an MQTT-SN endpoint.</span></p><p class="c50"><span class="c8 c42">Application Message:</span></p><p class="c50"><span class="c8 c0">The data carried by the MQTT-SN protocol across the network for the application. When an Application Message is transported by MQTT-SN it contains payload data, a Quality of Service (QoS), and a Topic Name.</span></p><p class="c50"><span class="c8 c42">Client:</span></p><p class="c50"><span class="c8 c0">A program or device that uses MQTT-SN. A Client:</span></p><ul class="c59 lst-kix_p16zu2nyfx8k-0 start"><li class="c50 c177 li-bullet-0"><span class="c8 c0">creates a Virtual Connection to a Server.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">publishes Application Messages that other Clients might be interested in.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">subscribes to request Application Messages that it is interested in receiving.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">unsubscribes to remove a request for Application Messages.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">deletes the Virtual Connection to the Server.</span></li></ul><p class="c50"><span class="c8 c0">and/or:</span></p><ul class="c59 lst-kix_jnhkrhbaqe11-0 start"><li class="c50 c177 li-bullet-0"><span class="c0 c28">publishes Application Messages to a Multicast Address.</span></li></ul><p class="c50"><span class="c8 c0">and/or:</span></p><ul class="c59 lst-kix_9yim5cm2a43p-0 start"><li class="c50 c177 li-bullet-0"><span class="c0 c28">accepts Application Messages from a Multicast Address.</span></li></ul><p class="c50"><span class="c8 c42">Server:</span></p><p class="c50"><span class="c8 c0">A program or device that acts as an intermediary between Clients which publish Application Messages and Clients which have made Subscriptions. </span></p><p class="c50"><span class="c0 c28">Also known as a </span><span class="c42 c28">Gateway</span><span class="c8 c0">.</span></p><p class="c50"><span class="c8 c0">A Server:</span></p><ul class="c59 lst-kix_bupw68uclqhs-0 start"><li class="c50 c177 li-bullet-0"><span class="c8 c0">accepts CONNECT requests from Clients.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">accepts Application Messages published by Clients.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">processes Subscribe and Unsubscribe requests from Clients.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">forwards Application Messages that match Client Subscriptions.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">accepts DISCONNECT requests from connected Clients.</span></li></ul><p class="c50"><span class="c8 c0">and/or</span></p><ul class="c59 lst-kix_7g5ij6v74lx-0 start"><li class="c50 c177 li-bullet-0"><span class="c8 c0">accepts packets from a Multicast Address.</span></li></ul><p class="c50"><span class="c8 c0">and/or</span></p><ul class="c59 lst-kix_lqv7ssenj7fn-0 start"><li class="c50 c177 li-bullet-0"><span class="c8 c0">opens an MQTT Network Connection to an MQTT Server.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">accepts Application Messages from the MQTT Server and forwards some or all to MQTT-SN Clients.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">accepts Application Messages from MQTT-SN Clients and forwards some or all to the MQTT Server.</span></li></ul><p class="c50"><span class="c8 c0">and/or</span></p><ul class="c59 lst-kix_fcknsouuy2mw-0 start"><li class="c50 c177 li-bullet-0"><span class="c8 c0">opens an MQTT Network Connection to an MQTT Server for every MQTT-SN CONNECT request</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">forwards equivalent MQTT packets to the MQTT Server for each MQTT-SN packet received</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">forwards equivalent MQTT-SN packets to the MQTT-SN Client for each MQTT packet received</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">closes the MQTT Network Connection when the Virtual Connection is deleted</span></li></ul><p class="c383 c110"><span class="c42 c28">MQTT Server:</span><sup><a href="#cmnt6" id="cmnt_ref6">[f]</a></sup></p><p class="c50"><span class="c8 c0">A program or device that acts as an intermediary between MQTT Clients which publish Application Messages and MQTT Clients which have made Subscriptions. </span></p><p class="c50"><span class="c0 c28">Also known as a </span><span class="c42 c28">Broker</span><span class="c8 c0">.</span></p><p class="c50"><span class="c8 c0">An MQTT Server:</span></p><ul class="c59 lst-kix_iv9tlmqkwvr-0 start"><li class="c50 c177 li-bullet-0"><span class="c8 c0">accepts Network Connections from MQTT Clients.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">accepts Application Messages published by MQTT Clients.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">processes Subscribe and Unsubscribe requests from MQTT Clients.</span></li><li class="c50 c177 li-bullet-0"><span class="c8 c0">forwards Application Messages that match MQTT Client Subscriptions.</span></li><li class="c50 c177 li-bullet-0"><span class="c0 c28">closes the </span><span class="c0 c28">Network</span><span class="c8 c0">&nbsp;Connection from the MQTT Client.</span></li></ul><p class="c383 c110"><span class="c42 c28">Session</span><span class="c8 c42">:</span></p><p class="c50"><span class="c8 c0">A stateful interaction between a Client and a Gateway. Some Sessions last only as long as the Virtual Connection, others can span multiple consecutive Virtual Connections between a Client and a Gateway.</span></p><p class="c50"><span class="c8 c42">Session State:</span></p><p class="c50"><span class="c0 c28">The set of data that describes a Session. The Session State held by a Client is different to that held by a Server. See </span><span class="c124 c0 c87"><a class="c48" href="#h.21od6so">section 4.1</a></span><span class="c8 c0">&nbsp;for details.</span></p><p class="c383 c110"><span class="c8 c42">Subscription:</span></p><p class="c50"><span class="c8 c0">A Subscription comprises a Topic Filter and a maximum QoS. A Subscription is associated with a single Session. A Session can contain more than one Subscription. Each Subscription within a Session has a different Topic Filter.</span></p><p class="c110 c352"><span class="c8 c42">Wildcard Subscription:</span></p><p class="c50"><span class="c0 c28">A Wildcard Subscription is a Subscription with a Topic Filter containing one or more wildcard characters. This allows the subscription to match more than one Topic Name. Refer to </span><span class="c124 c0 c87"><a class="c48" href="#h.q0s32id4lv9p">section 4.7.1</a></span><span class="c0 c28">&nbsp;</span><span class="c8 c0">for a description of wildcard characters in a Topic Filter.</span></p><p class="c352 c110"><span class="c8 c42">Topic Name:</span></p><p class="c50"><span class="c8 c0">The label attached to an Application Message which is matched against the Subscriptions known to the Server.</span></p><p class="c50"><span class="c8 c42">Topic Alias:</span></p><p class="c50"><span class="c0 c28">A Topic Alias is an integer value that is used to identify the Topic instead of using the Topic Name, to reduce packet size.</span><sup><a href="#cmnt7" id="cmnt_ref7">[g]</a></sup><sup><a href="#cmnt8" id="cmnt_ref8">[h]</a></sup></p><p class="c352 c110"><span class="c8 c42">Topic Filter:</span></p><p class="c50"><span class="c8 c0">An expression contained in a Subscription to indicate an interest in one or more topics. A Topic Filter can include wildcard characters.</span></p><p class="c50"><span class="c8 c42">MQTT-SN Control Packet:</span></p><p class="c352 c110"><span class="c8 c0">A packet of information that is sent to a Network Address. </span></p><p class="c50"><span class="c8 c42">Malformed Packet:</span></p><p class="c50"><span class="c0 c28">A Control Packet that cannot be parsed according to this specification. Refer to</span><span class="c0 c28">&nbsp;</span><span class="c124 c0 c87"><a class="c48" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c8 c0">&nbsp;for information about error handling.</span></p><p class="c50"><span class="c8 c42">Protocol Error:</span></p><p class="c50"><span class="c0 c28">An error that is detected after the packet has been parsed and found to contain data that is not allowed by the protocol or is inconsistent with the state of the Client or Server. Refer to </span><span class="c124 c0 c87"><a class="c48" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c0 c8">&nbsp;for information about error handling.</span></p><p class="c50"><span class="c8 c42">Will Message:</span></p><p class="c50"><span class="c0 c28">An Application Message which is published by the Server after the Virtual Connection is deleted in cases where the Virtual Connection is not deleted normally. Refer to </span><span class="c124 c0 c87"><a class="c48" href="#h.u38i2mpp332q">section 3.4.9</a></span><span class="c0 c28">&nbsp;</span><span class="c8 c0">for information about Will Messages.</span></p><p class="c50"><span class="c8 c42">Retained Message:</span></p><p class="c50"><span class="c0 c28">An Application Message which is stored by the Server for a topic on the receipt of a Publish Packet with the retained flag set. When a Client subscribes to a topic with a Retained Message set, the Server sends the Retained Message to the Client, depending on the setting of the Retain Handling Subscribe Flags. Refer to </span><span class="c124 c0 c87"><a class="c48" href="#h.261ztfg">section 3.17.2</a></span><span class="c0 c28">&nbsp;and </span><span class="c124 c0 c87"><a class="c48" href="#h.ly7c1y">section 4.26</a></span><span class="c8 c0">&nbsp;for more information about Retained Messages.</span></p><p class="c50"><span class="c8 c42">Disallowed Unicode code point:</span></p><p class="c50"><span class="c0 c28">The set of Unicode </span><span class="c0 c28">Control Codes</span><span class="c0 c28">&nbsp;and Unicode Noncharacters which should not be included in a UTF-8 Encoded String. Refer to </span><span class="c124 c0 c87"><a class="c48" href="#h.49x2ik5">section 1.7.4</a></span><span class="c0 c28">&nbsp;</span><span class="c8 c0">for more information about the Disallowed Unicode code points.</span></p><p class="c60 c15"><span class="c55 c42 c54">Wireless Sensor Network:</span></p><p class="c60 c15"><span class="c118 c0 c39 c87 c54">Spatially dispersed and dedicated sensors that monitor and record the physical conditions of the environment and forward the collected data to a central location.</span></p><p class="c15 c60"><span class="c0 c39">Also known as </span><span class="c42 c39">WSN</span><span class="c118 c0 c169 c39 c54">, for short.</span></p><h2 class="c270 c15" id="h.k1nv0xr6w25"><span class="c118 c254 c230 c54 c253">1.4 Normative references</span></h2><p class="c134 c110"><span class="c118 c42 c169 c39 c54">[RFC2119]</span></p><p class="c134 c110"><span class="c118 c0 c169 c39 c54">Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997,</span></p><p class="c134 c110"><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc2119&amp;sa=D&amp;source=editors&amp;ust=1724799528170112&amp;usg=AOvVaw3a6ZHzLKcIESvtX2zHd4KI">http://www.rfc-editor.org/info/rfc2119</a></span></p><p class="c134 c110"><span class="c118 c42 c169 c39 c54">[RFC3629]</span></p><p class="c134 c110"><span class="c118 c0 c169 c39 c54">Yergeau, F., &quot;UTF-8, a transformation format of ISO 10646&quot;, STD 63, RFC 3629, DOI 10.17487/RFC3629, November 2003,</span></p><p class="c134 c110"><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc3629&amp;sa=D&amp;source=editors&amp;ust=1724799528170869&amp;usg=AOvVaw3jXHeRJgJc9Deb4axZxETV">http://www.rfc-editor.org/info/rfc3629</a></span></p><p class="c134 c110"><span class="c118 c42 c169 c39 c54">[RFC6455]</span></p><p class="c134 c110"><span class="c118 c0 c169 c39 c54">Fette, I. and A. Melnikov, &quot;The WebSocket Protocol&quot;, RFC 6455, DOI 10.17487/RFC6455, December 2011,</span></p><p class="c134 c110"><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc6455&amp;sa=D&amp;source=editors&amp;ust=1724799528171241&amp;usg=AOvVaw2-vEtFWB7gxK3nRnVkcEx1">http://www.rfc-editor.org/info/rfc6455</a></span></p><p class="c134 c110"><span class="c118 c42 c169 c39 c54">[Unicode]</span></p><p class="c134 c110"><span class="c118 c0 c169 c39 c54">The Unicode Consortium. The Unicode Standard,</span></p><p class="c134 c110"><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=http://www.unicode.org/versions/latest/&amp;sa=D&amp;source=editors&amp;ust=1724799528171561&amp;usg=AOvVaw0RPO2gL8I0vlRLmS1IbjSQ">http://www.unicode.org/versions/latest/</a></span></p><h2 class="c339 c240 c110 c239" id="h.wi8cs5zgi8fo"><span class="c118 c254 c230 c54 c253">1.5 Informative References</span></h2><h2 class="c1" id="h.4olrp2glo5nb"><span class="c118 c254 c230 c54 c253">1.6 MQTT For Sensor Networks (MQTT-SN) </span></h2><p class="c19 c15"><span class="c55 c0 c54">Sensor Networks are simple, low cost and easy to deploy. They are typically used to provide event detection, monitoring, automation, process control and more. Sensor Networks often comprise many battery-powered sensors and actuators, each containing a limited amount of storage and processing capability. They usually communicate wirelessly.</span></p><p class="c19 c15"><span class="c55 c0 c54">Sensor Networks are typically self-forming, continually changing, and do not have any central control. The wireless network connections and processing nodes will fail, and the batteries will run out. The nodes will be replaced, added or removed in an unplanned way. The identities of the devices are usually created when they are manufactured, this avoids the need for specialist configuration when they are deployed. Applications running outside the Sensor Network do not need to know the details of the devices in it. The applications consume information from the sensors and send instructions to actuators based only on labels created by the application designers. The labels are called Topic Names in the MQTT and MQTT-SN protocols. The MQTT-SN implementation carries information between a set of applications and the correct set of devices based on its knowledge of the network and the applications designer&rsquo;s choice of Topic Names. </span></p><p class="c19 c15"><span class="c55 c0 c54">Consider an example of a medicine tracking application. The application needs to know the location and temperature of the medicine, but it does not want to concern itself with the network details of the devices providing the data. It may be that the number and types of the devices changes over time. There may also be other applications using the same sensor data for other purposes. The model is that the devices and applications produce and consume data addressed by the Topics rather than the other devices and applications.</span></p><p class="c15 c156"><span class="c55 c0 c54">This MQTT-SN specification is a variant of the MQTT version 5 specification. It is adapted to exploit low power and low bandwidth wireless networks. Low power wireless radio links typically have higher numbers of transmission errors compared to more powerful networks because they are more susceptible to interference and fading of the radio signals. They also have lower transmission rates. </span></p><p class="c156 c15"><span class="c55 c0 c54">For example, wireless networks based on the IEEE 802.15.4 standard used by Zigbee have a maximum bandwidth of 250 kbit/s in the 2.4 GHz band. To reduce transmission errors the packets are kept short. The maximum packet length at the physical layer is 128 bytes and half of these may be used for Media Access Control and security.</span></p><p class="c19 c15"><span class="c55 c0 c54">The MQTT-SN protocol is optimized for implementation on low-cost, battery-operated devices with limited processing and storage resources. The capabilities are kept simple and the specification allows partial implementations.</span></p><h3 class="c1" id="h.ox4v8n854qgm"><span class="c118 c254 c121 c54">1.6.1 MQTT-SN and MQTT Differences</span></h3><p class="c19 c15"><span class="c55 c267 c54">To facilitate interoperation the MQTT-SN specification is similar in many ways to MQTT, but the two &nbsp;are independent of each other.</span></p><p class="c19 c15"><span class="c55 c0 c54">MQTT-SN can work isolated from other networks or in conjunction with MQTT. The main differences between MQTT-SN and MQTT are:</span></p><ol class="c59 lst-kix_list_16-0 start" start="1"><li class="c19 c282 c110 c95 li-bullet-1"><span class="c55 c0 c54">In addition to Topic Alias and long Topic Names MQTT-SN allows predefined and short two-byte Topic Names.</span></li><li class="c19 c282 c110 c95 li-bullet-2"><span class="c55 c0 c54">If the network supports Multicast, Gateway discovery can be implemented, otherwise the Gateway addresses must be configured in the nodes.</span></li><li class="c19 c282 c110 c95 li-bullet-1"><span class="c55 c0 c54">Support for sleeping clients allows battery operated devices to enter a low power mode. In this state, Application Messages for the Client are buffered by the Gateway and delivered when the client wakes.</span></li><li class="c19 c282 c110 c95 li-bullet-2"><span class="c55 c0 c54">A new Quality of Service level (WITHOUT SESSION) is introduced in MQTT-SN, allowing devices to publish without a session having been established.</span></li><li class="c19 c110 c95 c282 li-bullet-2"><span class="c55 c0 c54">MQTT-SN has fewer requirements on the underlying transport and it can use connectionless network transports such as User Datagram Protocol (UDP).</span></li><li class="c19 c282 c110 c95 li-bullet-2"><span class="c0">MQTT-SN introduces the PROTECTION packet for packet-based security based on symmetric-key cryptography. </span></li></ol><h2 class="c1" id="h.2bn6wsx"><span class="c118 c254 c230 c54 c253">1.7 Data representation</span></h2><h3 class="c1" id="h.qsh70q"><span>1.7.1 </span><span class="c118 c42 c121 c54">Bits (Byte)</span></h3><p class="c19 c15"><span class="c55 c0 c54">Bits in a byte are labeled 7 to 0. Bit number 7 is the most significant bit, the least significant bit is assigned bit number 0.</span></p><h3 class="c1" id="h.3as4poj"><span>1.7.2 </span><span class="c118 c42 c121 c54">Two Byte Integer</span></h3><p class="c19 c15"><span class="c55 c0 c54">Two Byte Integer data values are 16-bit unsigned integers in big-endian order: the high order byte precedes the lower order byte. This means that a 16-bit word is presented on the network as Most Significant Byte (MSB), followed by Least Significant Byte (LSB).</span></p><h3 class="c1" id="h.1pxezwc"><span>1.7.3 </span><span class="c118 c42 c121 c54">Four Byte Integer</span></h3><p class="c19 c15"><span class="c0 c41">Four Byte Integer data values are 32-bit unsigned integers in big-endian order: the high order byte precedes the successively lower order bytes. This means that a 32-bit word is presented on the network as Most Significant Byte (MSB), followed by the next most Significant Byte (MSB), followed by the next most Significant Byte (MSB), followed by Least Significant Byte (LSB).</span></p><h3 class="c1" id="h.49x2ik5"><span>1.7.4 </span><span class="c118 c42 c121 c54">UTF-8 Encoded String</span></h3><p class="c19 c15"><span class="c0 c41">Text fields within the MQTT-SN Control Packets are encoded as fixed length UTF-8 strings. UTF-8&nbsp;</span><span class="c0 c337 c61"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC3629&amp;sa=D&amp;source=editors&amp;ust=1724799528173746&amp;usg=AOvVaw1VT1o48pvVfwPKqz53OVUR">[RFC3629]</a></span><span class="c0 c41">&nbsp;is an efficient encoding of Unicode&nbsp;</span><span class="c0 c337 c61"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1724799528173993&amp;usg=AOvVaw1FEm2Sct-iwUToNhstC_Zd">[Unicode]</a></span><span class="c34 c0 c54">&nbsp;characters that optimizes the encoding of ASCII characters in support of text-based communications.</span></p><p class="c19 c15"><span class="c0 c41">Unless stated otherwise all variable length UTF-8 encoded strings can have any length in the range 0 to 65,535 bytes.</span></p><table class="c146"><tr class="c18"><td class="c67 c455" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c307 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c307 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c307 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c307 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c67 c307" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c307 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c307 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c307 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c455" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte </span><span class="c11 c0">1 &hellip;.</span></p></td><td class="c398" colspan="8" rowspan="1"><p class="c4 c239"><span class="c11 c0">UTF-8 encoded character data, if length &gt; 0.</span></p></td></tr></table><p class="c4"><span class="c0">Table 1: </span><span class="c34 c0 c54">Structure of UTF-8 Encoded Strings</span></p><p class="c19 c15"><span class="c0 c41 c23">The character data in a UTF-8 Encoded String MUST be well-formed UTF-8 as defined by the Unicode specification&nbsp;</span><span class="c0 c337 c61 c23"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1724799528179179&amp;usg=AOvVaw2fe5E1Cw5lBTh36iyMAlkj">[Unicode]</a></span><span class="c0 c41 c23">&nbsp;and restated in RFC 3629&nbsp;</span><span class="c0 c337 c61 c23"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC3629&amp;sa=D&amp;source=editors&amp;ust=1724799528179466&amp;usg=AOvVaw1Tq6gl-xOgGwyySm3Ry34a">[RFC3629]</a></span><span class="c0 c41 c23">. In particular, the character data MUST NOT include encodings of code points between U+D800 and U+DFFF</span><span class="c0 c41">&nbsp;</span><span class="c0 c33">[MQTT-SN-1.7.4-1]</span><span class="c34 c0 c54">.</span></p><p class="c19 c15"><span class="c0 c41">If the Client or Server receives an </span><span class="c0 c41">MQTT-SN Control Packet </span><span class="c0 c41">containing ill-formed UTF-8 it is a Malformed </span><span class="c0 c41">Packet</span><span class="c0 c41">.</span><span class="c0 c41">&nbsp;Refer to</span><span class="c0 c41"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23S4_13_Errors&amp;sa=D&amp;source=editors&amp;ust=1724799528179955&amp;usg=AOvVaw0qXgyzLQaIAfTyiU62QO2m">&nbsp;</a></span><span class="c124 c0"><a class="c48" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c34 c0 c54">&nbsp;for information about handling errors.</span></p><p class="c19 c15"><span class="c0 c41 c23">A UTF-8 Encoded String MUST NOT include an encoding of the null character U+0000</span><span class="c0 c41">&nbsp; </span><span class="c0 c33">[MQTT-SN-1.7.4-2].</span><span class="c0 c41">&nbsp;If a receiver (Server or Client)</span><span class="c0 c41">&nbsp;</span><span class="c0 c41">receives an </span><span class="c0 c41">Control Pac</span><span class="c34 c0 c54">ket containing U+0000 in a UTF-8 Encoded String it is a Malformed Packet.</span></p><p class="c19 c15"><span class="c0 c41">UTF-8 Encoded Strings SHOULD NOT include the Unicode</span><span class="c0 c41">&nbsp;[Unicode]</span><span class="c0 c41">&nbsp;code points listed below. If a receiver (Server or Client) </span><span class="c0 c41">receives an MQTT-SN </span><span class="c0 c41">Control Packet with UTF-8 Encoded Strings containing any of them it MAY treat it as a Malformed Packet. These are the Disallowed Unicode code points.</span></p><ul class="c59 lst-kix_abwpot8mtzc7-0 start"><li class="c156 c20 c313 li-bullet-0"><span class="c46 c0 c41">U+0001..U+001F control characters</span></li><li class="c156 c20 c313 li-bullet-0"><span class="c46 c0 c41">U+007F..U+009F control characters</span></li><li class="c156 c20 c313 li-bullet-0"><span class="c46 c0 c41">Code points defined in the Unicode specification&nbsp;</span><span class="c46 c0 c61"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1724799528180914&amp;usg=AOvVaw1eQHrANJ0gry_Cq2hpZqPh">[Unicode]</a></span><span class="c46 c0 c41">&nbsp;to be non-characters (for example U+0FFFF)</span></li></ul><p class="c19 c15"><span class="c0 c41 c23">A UTF-8 encoded sequence 0xEF 0xBB 0xBF is always interpreted as U+FEFF (&quot;ZERO WIDTH NO-BREAK SPACE&quot;) wherever it appears in a string and MUST NOT be skipped over or stripped off by a packet receiver</span><span class="c0 c41">&nbsp;</span><span class="c118 c0 c169 c33 c54">[MQTT-SN-1.7.4-3].</span></p><p class="c19 c110 c95 c404" id="h.2p2csry"><span class="c55 c42 c54">Informative example</span></p><p class="c288 c110 c95 c404"><span class="c0">For example, </span><span class="c0">the string A</span><span class="c338">&#173780;</span><span class="c0">&nbsp;which</span><sup><a href="#cmnt9" id="cmnt_ref9">[i]</a></sup><sup><a href="#cmnt10" id="cmnt_ref10">[j]</a></sup><span class="c0">&nbsp;is </span><span class="c0 c41">LATIN CAPITAL Letter A followed by the code point U+2A6D4 (which represents a CJK IDEOGRAPH EXTENSION B character)</span><span class="c0">&nbsp;is encoded as follows: </span></p><table class="c146"><tr class="c18"><td class="c153 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c260 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">7</span></p></td><td class="c260 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">6</span></p></td><td class="c131 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">5</span></p></td><td class="c131 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">4</span></p></td><td class="c131 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">3</span></p></td><td class="c131 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">2</span></p></td><td class="c131 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">1</span></p></td><td class="c131 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">0</span></p></td></tr><tr class="c18"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte </span><span class="c11 c0">1</span></p></td><td class="c353" colspan="8" rowspan="1"><p class="c4"><span class="c11 c0">&lsquo;A&rsquo; (0x41)</span></p></td></tr><tr class="c18"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td></tr><tr class="c18"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte </span><span class="c11 c0">2</span></p></td><td class="c353" colspan="8" rowspan="1"><p class="c4"><span class="c11 c0">(0xF0)</span></p></td></tr><tr class="c18"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td></tr><tr class="c18"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte </span><span class="c11 c0">3</span></p></td><td class="c353" colspan="8" rowspan="1"><p class="c4"><span class="c11 c0">(0xAA)</span></p></td></tr><tr class="c18"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td></tr><tr class="c540"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte </span><span class="c11 c0">4</span></p></td><td class="c353" colspan="8" rowspan="1"><p class="c4"><span class="c11 c0">(0x9B)</span></p></td></tr><tr class="c18"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td></tr><tr class="c18"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte </span><span class="c11 c0">5</span></p></td><td class="c353" colspan="8" rowspan="1"><p class="c4"><span class="c11 c0">(0x94)</span></p></td></tr><tr class="c18"><td class="c153" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c260" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c4 c239"><span class="c11 c0">0</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 2: Fixed Length UTF-8 Encoded String </span><span class="c249">inf</span><span class="c101 c64 c41">ormative example</span></p><h1 class="c255 c110 c95 c239" id="h.3o7alnk"><span class="c118 c212 c42 c54">2 MQTT-SN Control Packet format</span></h1><h2 class="c1" id="h.23ckvvd"><span class="c118 c42 c230 c54 c253">2.1 Structure of an MQTT-SN Control Packet</span></h2><p class="c19 c15"><span class="c55 c0 c54">The MQTT-SN protocol operates by exchanging a series of MQTT-SN Control Packets in a defined way. This section describes the format of these packets. </span></p><p class="c19 c15"><span class="c55 c0 c54">An MQTT-SN Control Packet consists of up to two parts, always in the following order as shown below. </span></p><table class="c146"><tr class="c18"><td class="c328" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Control Packet Header, present in all MQTT-SN Control Packets</span></p></td></tr><tr class="c18"><td class="c328" colspan="1" rowspan="1"><p class="c4 c239"><span class="c11 c0">Control Packet Variable Part, present in some MQTT-SN Control Packets</span></p></td></tr></table><p class="c161 c110" id="h.32hioqz"><span class="c101 c64 c41">Table 3: Structure of an MQTT-SN Control Packet</span></p><h3 class="c1" id="h.1hmsyys"><span>2.1.1 </span><span class="c118 c42 c121 c54">Packet Header</span></h3><p class="c19 c15"><span class="c0">Each MQTT-SN Control Packet contains a Header of format 1 or format 2 as shown below.</span></p><table class="c120"><tr class="c18"><td class="c159 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Byte</span></p></td><td class="c24 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Use</span></p></td></tr><tr class="c18"><td class="c159" colspan="1" rowspan="1"><p class="c4" id="h.41mghml"><span class="c11 c0">1</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Length</span></p></td></tr><tr class="c18"><td class="c159" colspan="1" rowspan="1"><p class="c4" id="h.2grqrue"><span class="c11 c0">2</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c4 c239"><span class="c11 c0">MQTT-SN Control Packet Type</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 4: Packet Header Format 1</span></p><table class="c120"><tr class="c18"><td class="c67 c159" colspan="1" rowspan="1"><p class="c4"><span class="c6">Byte</span></p></td><td class="c24 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Use</span></p></td></tr><tr class="c18"><td class="c159" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">1</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Length 0x01</span></p></td></tr><tr class="c18"><td class="c159" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">2</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Length MSB</span></p></td></tr><tr class="c18"><td class="c159" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">3</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Length LSB</span></p></td></tr><tr class="c18"><td class="c159" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">4</span></p></td><td class="c24" colspan="1" rowspan="1"><p class="c4 c239"><span class="c11 c0">MQTT-SN Control Packet Type</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 5: Packet Header Format 2</span></p><h3 class="c203 c110 c95" id="h.vx1227"><span>2.1.2 </span><span class="c118 c42 c121 c54">Length</span></h3><p class="c15 c500"><span class="c0">The </span><span class="c0 c47">Length </span><span class="c0">field is either 1-byte or 3-byte integer and specifies the total number of bytes contained in the packet (including the </span><span class="c0 c47">Length </span><span class="c55 c0 c54">field itself).</span></p><p class="c15 c344"><span class="c0">If the first byte of the </span><span class="c0 c47">Length </span><span class="c0">field is coded &ldquo;0x01&rdquo; then the </span><span class="c0 c47">Length </span><span class="c0">field is 3-bytes long; in this case, the two following bytes specify the total number of bytes of the packet (most-significant byte first). Otherwise, the </span><span class="c0 c47">Length </span><span class="c55 c0 c54">field is only 1-byte long and specifies itself the total number of bytes contained in the packet.</span></p><p class="c156 c15"><span class="c0">The 3-byte format allows the encoding of packet lengths up to 65,535 bytes. It is more efficient to use the shorter 1-byte format for p</span><span class="c0">ackets with lengths up to and including 255 bytes.</span></p><p class="c156 c15"><span class="c0 c23">A client or gateway receiving MQTT-SN control packets MUST be able to process both 1-byte and 3-byte length formats. &nbsp;</span><span class="c0 c33">[</span><span class="c118 c0 c169 c33 c54">MQTT-SN-2.1.2-1]</span></p><p class="c19 c15 c330" id="h.3fwokq0"><span class="c55 c42 c54">Informative comment</span></p><p class="c264 c110 c95 c493"><span class="c55 c0 c54">MQTT-SN does not support packet fragmentation and reassembly, the maximum packet length that could be used in a network is governed by the maximum packet size that is supported by that network, and not by the maximum length that could be encoded by MQTT-SN.</span></p><h3 class="c203 c110 c95" id="h.1v1yuxt"><span>2.1.3 </span><span class="c118 c42 c121 c54">MQTT-SN Control Packet Type</span></h3><p class="c19 c15"><span class="c0">The MQTT-SN Control Packet Type</span><span class="c0 c47">&nbsp;</span><span class="c55 c0 c54">field is 1-byte long and specifies the MQTT-SN Control Packet type which is one of the values shown below.</span></p><table class="c146"><tr class="c18"><td class="c67 c438" colspan="1" rowspan="1"><p class="c4"><span class="c6">Name</span></p></td><td class="c62 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Value</span></p></td><td class="c112 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Direction of flow</span></p></td><td class="c66 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Description</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c0">Reserved</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x00</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Forbidden</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Reserved</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">ADVERTISE</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x0</span><span class="c11 c0">1</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Gateway Multicast</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Advertise the gateway presence</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">SEARCHGW</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x02</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client Multicast</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Client GWINFO request</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">GWINFO</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x03</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Response to a SEARCHGW</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">AUTH</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x04</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway or Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Authentication handshake</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">CONNECT</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x05</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Virtual Connection request</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">CONNACK</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x06</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Virtual Connection acknowledgement</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">REGISTER</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x0A</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Request topic alias</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">REGACK</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x0B</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Supply topic alias</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBLISH</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x0C</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway or</span></p><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Publish packet</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBACK</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x0D</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway or</span></p><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Publish acknowledgment (QoS 1) or Publish error (Any QoS).</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBCOMP</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x0E</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway or</span></p><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Publish complete (QoS 2 delivery part 3)</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBREC</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x0F</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway or</span></p><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Publish received (QoS 2 delivery part 1)</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBREL</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x10</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway or</span></p><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Publish release (QoS 2 delivery part 2)</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBLISH-WITHOUT-SESSION</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x11</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Publish packet for out of a session messages which have no session on the gateway</span><span class="c0">&nbsp;or broker</span><sup><a href="#cmnt11" id="cmnt_ref11">[k]</a></sup></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">SUBSCRIBE</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x12</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Subscribe request</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">SUBACK</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x13</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Subscribe acknowledgment</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">UNSUBSCRIBE</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x14</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Unsubscribe request</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">UNSUBACK</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x15</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Unsubscribe acknowledgment</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PINGREQ</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x16</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PING request</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PINGRESP</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x17</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PING response</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">DISCONNECT</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c8 c0 c54">0x18</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c8 c0 c54">Client to Gateway or</span></p><p class="c4"><span class="c8 c0 c54">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c8 c0 c54">Disconnect notification</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c8 c42 c54">WAKEUP </span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c8 c0 c54">0x19</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c8 c0 c54"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c8 c0 c54">Wake up request</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c118 c42 c209 c87 c54">- Reserved - </span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c118 c0 c209 c87 c54">0x1A-0x1D</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c0 c209 c87 c54"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c209">Forbidden</span><span class="c118 c0 c209 c87 c54">&nbsp;(Old Will Range)</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c118 c42 c209 c87 c54">- Reserved - </span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c118 c0 c209 c87 c54">0x1E-0xFD</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c0 c209 c87 c54"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c209">Forbidden</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">FORWARDER ENCAPSULATION</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0xFE</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Forwarder to Client or</span></p><p class="c4"><span class="c11 c0">Forwarder to Gateway</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Encapsulated MQTT-SN packet</span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PROTECTION ENCAPSULATION</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0xFF</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Client to Gateway or</span></p><p class="c4"><span class="c11 c0">Gateway to Client</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c239"><span class="c11 c0">A protection envelope that can encapsulate any MQTT-SN packet with the exception of Forwarder-Encapsulation packet (0xFE)</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 6: Packet type listing</span></p><p class="c161 c110 c86"><span class="c101 c64 c41"></span></p><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><table class="c146"><tr class="c18"><td class="c438 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Name</span></p></td><td class="c62 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Value</span></p></td><td class="c112 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Direction of flow</span></p></td><td class="c66 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Description</span></p><sup><a href="#cmnt12" id="cmnt_ref12">[l]</a></sup></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c0">Reserved</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0x00</span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Forbidden</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Reserved</span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">CONNECT</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x01</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">CONNACK</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x02</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBLISH</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x03</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBACK</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x04</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBREC</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x05</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBREL</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x06</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c42">PUBCOMP</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x07</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">SUBSCRIBE</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x08</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">SUBACK</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x09</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">UNSUBSCRIBE</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x0A</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">UNSUBACK</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x0B</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">PINGREQ</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x0C</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">PINGRESP</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x0D</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">DISCONNECT</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x0E</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c191" colspan="1" rowspan="1"><p class="c4"><span class="c6">AUTH</span></p></td><td class="c62 c205" colspan="1" rowspan="1"><p class="c4"><span class="c0">0x0F</span></p></td><td class="c112 c205" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66 c205" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">Reserved</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">REGISTER</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">REGACK</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PUBLISHWOS</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">ADVERTISE</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">SEARCHGW</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">GWINFO</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">FORWARDER ENCAPSULATION</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4"><span class="c6">PROTECTION ENCAPSULATION</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c42 c209 c87 c54"></span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c0 c209 c87 c54"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c0 c209 c87 c54"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c118 c0 c209 c87 c54"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c42 c209 c87 c54"></span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c0 c209 c87 c54"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c0 c209 c87 c54"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c118 c0 c209 c87 c54"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c42 c209 c87 c54"></span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c0 c209 c87 c54"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c118 c0 c209 c87 c54"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c118 c0 c209 c87 c54"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4 c86"><span class="c6"></span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c91" colspan="1" rowspan="1"><p class="c4 c86"><span class="c6"></span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c112" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c19 c15 c239 c86"><span class="c11 c0"></span></p></td></tr></table><p class="c161 c110 c86"><span class="c101 c64 c41"></span></p><p class="c161 c110 c86"><span class="c101 c64 c41"></span></p><h2 class="c1" id="h.19c6y18"><span class="c118 c42 c230 c54 c253">2.2 Packet Identifier</span></h2><p class="c19 c15" id="h.3tbugp1"><span class="c0">The Variable Header component of many of the MQTT-SN Control Packet types includes a Two Byte Integer Packet Identifier field. </span><span class="c0">MQTT-SN Control Packets that require a Packet Identifier are shown below</span><sup><a href="#cmnt13" id="cmnt_ref13">[m]</a></sup><sup><a href="#cmnt14" id="cmnt_ref14">[n]</a></sup><span class="c55 c0 c54">:</span></p><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><table class="c432"><tr class="c18"><td class="c145 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">MQTT-SN Control Packet</span></p></td><td class="c180 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Packet Identifier field</span></p></td></tr><tr class="c518"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">CONNECT</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">NO</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">CONNACK</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">NO</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PUBLISH</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES (If QoS &gt; 0)</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">PUBWOS</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">NO</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PUBACK</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PUBREC</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PUBREL</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PUBCOMP</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">SUBSCRIBE</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">SUBACK</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">UNSUBSCRIBE</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">UNSUBACK</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PINGREQ</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PINGRESP</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">NO</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">AUTH</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">NO</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">ADVERTISE</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">NO</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">SEARCHGW</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">NO</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">GWINFO</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">NO</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">REGISTER</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">REGACK</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">YES</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">FORWARDER ENCAPSULATION</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15 c239"><span class="c11 c0">NO</span></p></td></tr><tr class="c18"><td class="c145" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">PROTECTION ENCAPSULATION</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c19 c15 c239"><span class="c11 c0">NO</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 8 </span><sup><a href="#cmnt15" id="cmnt_ref15">[o]</a></sup><span class="c101 c64 c41">Packets with Packet Identifier</span></p><p class="c19 c15"><span class="c0 c23">A PUBLISH packet MUST NOT contain a Packet Identifier if its QoS value is set to 0</span><span class="c118 c0 c169 c33 c54">.</span></p><p class="c19 c15"><span class="c0 c23">Each time a Client sends a new </span><span class="c0 c23">SUBSCRIBE, UNSUBSCRIBE, or PUBLISH</span><sup><a href="#cmnt16" id="cmnt_ref16">[p]</a></sup><sup><a href="#cmnt17" id="cmnt_ref17">[q]</a></sup><span class="c0 c23">&nbsp;(where QoS &gt; 0) MQTT-SN Control Packet it MUST assign it a non-zero Packet Identifier that is currently unused</span><span class="c0 c33">.</span></p><p class="c19 c15"><span class="c0 c23">Each time a Gateway sends a new PUBLISH (with QoS &gt; 0) MQTT-SN Control Packet it MUST assign it a non zero Packet Identifier that is currently unused</span><span class="c0 c33">.</span><span class="c55 c0 c54">&nbsp;</span></p><p class="c19 c15"><span class="c55 c0 c54">The Packet Identifier becomes available for reuse after the sender has processed the corresponding acknowledgement packet, defined as follows. In the case of a QoS 1 PUBLISH, this is the corresponding PUBACK; in the case of QoS 2 PUBLISH it is PUBCOMP or a PUBREC with a Reason Code of 128 or greater. For SUBSCRIBE or UNSUBSCRIBE it is the corresponding SUBACK or UNSUBACK. </span></p><p class="c19 c15"><span class="c0">Packet Identifiers used with PUBLISH, SUBSCRIBE and UNSUBSCRIBE packets form a single, unified set of identifiers separately for the Client and the Gateway in a Session. A Packet Identifier cannot be used by more than one </span><span class="c0">command </span><sup><a href="#cmnt18" id="cmnt_ref18">[r]</a></sup><span class="c0">at any time.</span><sup><a href="#cmnt19" id="cmnt_ref19">[s]</a></sup></p><p class="c19 c15"><span class="c0 c23">A PUBACK, PUBREC , PUBREL, or PUBCOMP packet MUST contain the same Packet Identifier as the PUBLISH packet that was originally sent</span><span class="c0 c33 c23">. </span><span class="c0 c23">A SUBACK and UNSUBACK MUST contain the Packet Identifier that was used in the corresponding SUBSCRIBE and UNSUBSCRIBE packet respectively</span><span class="c0 c33 c23">.</span></p><p class="c19 c15"><span class="c0">The Client and Gateway assign Packet Identifiers independently of each other. As a result, Client-Server pairs can participate in concurrent Packet exchanges using the same Packet Identifiers. </span><sup><a href="#cmnt20" id="cmnt_ref20">[t]</a></sup></p><p class="c19 c20 c95"><span class="c55 c42 c54">Informative comment</span></p><p class="c19 c20 c95"><span class="c55 c0 c54">It is possible for a Client to send a PUBLISH packet with Packet Identifier 0x1234 and then receive a different PUBLISH packet with Packet Identifier 0x1234 from its Server before it receives a PUBACK for the PUBLISH packet that it sent.</span></p><p class="c19 c20 c95"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 340.83px; height: 267.50px;"><img alt="" src="images/image3.png" style="width: 340.83px; height: 267.50px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c1" id="h.nmf14n"><span class="c0">2.3 MQTT-SN Packet Fields</span></h2><h3 class="c110 c95 c203" id="h.37m2jsg"><span>2.3.1 </span><span class="c0">Protocol </span><span class="c0">Id</span><sup><a href="#cmnt21" id="cmnt_ref21">[u]</a></sup></h3><p class="c74"><span class="c0">The </span><span class="c0 c47">Protocol </span><span class="c0 c47">Id</span><span class="c0 c47">&nbsp;</span><span class="c55 c0 c54">is 1-byte long. It is only present in a CONNECT packet and corresponds to the MQTT &lsquo;protocol name&rsquo; and &lsquo;protocol version&rsquo;.</span></p><p class="c15 c363"><span class="c55 c0 c54">It is coded 0x02. 0x01 was used for MQTT-SN 1.2. &nbsp;All other values are reserved.</span></p><h3 class="c203 c110 c95" id="h.1mrcu09"><span>2.3.2 </span><span class="c118 c42 c121 c54">Radius</span></h3><p class="c68"><span class="c0">The </span><span class="c0 c47">Radius </span><span class="c0">field is 1-byte long and indicates the value of the transmission radius. The value 0x00 means &ldquo;send to all nodes in the network&rdquo;.</span><sup><a href="#cmnt22" id="cmnt_ref22">[v]</a></sup></p><h3 class="c203 c110 c95" id="h.46r0co2"><span>2.3.3 </span><span class="c118 c42 c121 c54">Reason Code</span></h3><p class="c82 c110 c95 c327"><span class="c0 c41">A Reason Code is a one-byte </span><span class="c0">unsigned</span><span class="c34 c0 c54">&nbsp;value that indicates the result of an operation.&nbsp;Reason Codes share a common set of values across the various Control Packet types. Reason Code values of 0x80 or greater indicate failure.</span></p><p class="c82 c110 c95 c327"><span class="c0 c41">Each </span><span class="c0">value and meaning of each </span><span class="c0 c47">Reason Code </span><span class="c55 c0 c54">field is shown below.</span></p><table class="c120"><tr class="c18"><td class="c67 c341" colspan="2" rowspan="1"><p class="c345 c15" id="h.2lwamvv"><span class="c11 c0">Identifier</span></p></td><td class="c116 c67" colspan="1" rowspan="2"><p class="c15 c345"><span class="c11 c0">Name</span></p></td><td class="c97 c67" colspan="1" rowspan="2"><p class="c345 c15"><span class="c11 c0">Packets </span></p></td><td class="c45 c67" colspan="1" rowspan="2"><p class="c345 c15"><span class="c11 c0">Description </span></p></td></tr><tr class="c18"><td class="c44" colspan="1" rowspan="1"><p class="c345 c15"><span class="c11 c0">Dec</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c345 c15"><span class="c11 c0">Hex</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x00</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Success</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15 c384"><span class="c11 c0">CONNACK, SUBACK, UNSUBACK, REGACK, PUBACK, PUBREC, PUBREL, PUBCOMP, &nbsp;AUTH (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15 c384"><span class="c11 c0">The operation was successful.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x00</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Normal disconnection</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Delete the Virtual Connection normally. Do not send the Will Message.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x00</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Granted QoS 0</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">SUBACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The subscription is accepted and the maximum QoS sent will be QoS 0. This might be a lower QoS than was requested.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">1</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c15 c82"><span class="c11 c0">0x01</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Granted QoS 1</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">SUBACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The subscription is accepted and the maximum QoS sent will be QoS 1. This might be a lower QoS than was requested.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">2</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x02</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Granted QoS 2</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">SUBACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The subscription is accepted and any received QoS will be sent to this subscription.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">4</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x04</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Disconnect with will message</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">DISCONNECT (client only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Client wishes to disconnect but requires that the Server also publishes its Will Message. </span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">16</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x10</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">No matching subscribers</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">PUBACK, PUBREC</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Application Message is accepted but there are no subscribers. If the Server knows that there are no matching subscribers, it MAY use this Reason Code instead of 0x00 (Success).</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">17</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x11</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">No subscription existed</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">UNSUBACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">No matching Topic Filter is being used by the Client.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">24</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x18</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Continue authentication</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">AUTH</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Continue the authentication with another step.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">25</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x19</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Re-authenticate</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">AUTH (client only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Initiate a re-authentication.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">128</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x80</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Unspecified error</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK, PUBACK, PUBREC, SUBACK, UNSUBACK, DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The receiver does not accept the request but either does not want to reveal the reason, or it does not match one of the other values.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">129</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x81</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Malformed packet</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK, DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The received packet does not conform to this specification.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">130</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x82</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Protocol error</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK, DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">An unexpected or out of order packet was received.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">131</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x83</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Implementation specific error</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK, PUBACK, PUBREC, REGACK, SUBACK, UNSUBACK, DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The packet received is valid but cannot be processed by this implementation.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">132</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x84</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Unsupported Protocol Version</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">The Server does not support the version of the </span><span class="c0">MQTT or MQTT-SN &nbsp;protocol requested by the Client.</span><sup><a href="#cmnt23" id="cmnt_ref23">[w]</a></sup><sup><a href="#cmnt24" id="cmnt_ref24">[x]</a></sup><sup><a href="#cmnt25" id="cmnt_ref25">[y]</a></sup></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">133</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x85</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Client identifier not valid</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Client Identifier is a valid string but is not allowed by the Server.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">134</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x86</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Bad user name or password</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Server does not accept the User Name or Password specified by the Client </span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">135</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x87</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Not authorized</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK, PUBACK, PUBREC, REGACK, SUBACK, UNSUBACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The request is not authorized.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">136</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x88</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Server unavailable</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">The </span><span class="c0">MQTT</span><span class="c0">&nbsp;Server</span><sup><a href="#cmnt26" id="cmnt_ref26">[z]</a></sup><sup><a href="#cmnt27" id="cmnt_ref27">[aa]</a></sup><sup><a href="#cmnt28" id="cmnt_ref28">[ab]</a></sup><span class="c0">&nbsp;is not available</span><span class="c11 c0">.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">137</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x89</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Server busy</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Server is busy and cannot continue processing requests from this Client.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">138</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x8A</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Banned</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">This Client has been banned by administrative action. Contact the server administrator.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">139</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x8B</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Server shutting down</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Server is shutting down. </span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">140</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x8C</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Bad authentication method</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK, DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The authentication method is not supported or does not match the authentication method currently in use.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">141</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x8D</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Keep alive timeout</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Connection is closed because no packet has been received for 1.5 times the Keepalive time.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">142</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x8E</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Session taken over</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Another Connection using the same ClientID has connected causing this Connection to be closed.</span></p><sup><a href="#cmnt29" id="cmnt_ref29">[ac]</a></sup></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">143</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x8F</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Topic filter invalid</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">SUBACK, UNSUBACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Topic Filter is correctly formed, but is not accepted by this Server.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">144</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x90</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Topic name invalid</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK, PUBACK, PUBREC, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Topic Name is correctly formed, but is not accepted by this Client or Server.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">145</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x91</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Packet identifier in use</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">PUBACK, PUBREC, SUBACK, UNSUBACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The specified Packet Identifier is already in use.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">146</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x92</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Packet identifier not found</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">PUBREL, </span><span class="c0">PUBCOMP</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Packet Identifier is not known. This is not an error during recovery, but at other times indicates a mismatch between the Session State on the Client and Server. </span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">147</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x93</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Receive maximum exceeded</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Client or Server has received more than Receive Maximum publication for which it has not sent PUBACK or PUBCOMP. </span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">148</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x94</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Topic alias invalid</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Client or Server has received a PUBLISH packet containing a Topic Alias which is greater than the Maximum Topic Alias it sent in the CONNECT or CONNACK packet. </span></p><p class="c82 c15"><span class="c11 c0">(Transparent gateway only)</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">149</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c8 c0 c54">0x95</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Packet too large</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">CONNACK,</span></p><p class="c82 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The packet size is greater than Maximum Packet Size for this Client or Server.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">150</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">0x96</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Packet rate too high</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The received data rate is too high.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">151</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c8 c0 c54">0x97</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Quota exceeded</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">REGACK, SUBACK, DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">An implementation or administrative imposed limit has been exceeded.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">152</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">0x98</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Administrative action</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">The Virtual Connection is deleted due to an administrative action.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">153</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c8 c0 c54">0x99</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Payload format invalid</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">PUBACK, PUBREC, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">The MQTT payload format does not match the one specified by the Payload Format Indicator.</span></p><p class="c71 c15"><span class="c11 c0">(Transparent gateway only)</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">154</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">0x9A</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Retain not supported</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">CONNACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">The MQTT Server does not support retained messages.</span></p><p class="c71 c15"><span class="c11 c0">(Transparent gateway only)</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">155</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x9B</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">QoS not supported</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">CONNACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">The Client specified a QoS greater than the QoS specified in a Maximum QoS in the MQTT CONNACK.</span></p><p class="c71 c15"><span class="c11 c0">(Transparent gateway only)</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">156</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x9C</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Use another server</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">CONNACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">The Client should temporarily change its Server.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">157</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x9D</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Server moved</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">CONNACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">The Server is moved and the Client should permanently change its server location.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">158</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x9E</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Shared subscription not supported</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">SUBACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">The MQTT Server does not support Shared Subscriptions.</span></p><p class="c71 c15"><span class="c11 c0">(Transparent gateway only)</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">159</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0x9F</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Connection rate exceeded</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">CONNACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">This Virtual Connection is deleted because the connection rate is too high.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">160</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xAD</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Maximum connect time</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">The maximum connection time authorized for this Virtual Connection has been exceeded.</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">161</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xA1</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Subscription identifiers not supported</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">SUBACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">The MQTT Server does not support Subscription Identifiers; the subscription is not accepted.</span></p><p class="c71 c15"><span class="c11 c0">(Transparent gateway only)</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">162</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xA2</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Wildcard subscription not supported</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">SUBACK, DISCONNECT (server only)</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">The MQTT Server does not support Wildcard Subscriptions; the subscription is not accepted.</span></p><p class="c71 c15"><span class="c11 c0">(Transparent gateway only)</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">230</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xE6</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">Only PROTECTION packet supported</span><span class="c0 c89">&nbsp;(Note 1)</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">Any packet except PROTECTION and Forwarder Encapsulation</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">Specific to MQTT-SN</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">231</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xE7</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Protection scheme invalid</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">Specific to MQTT-SN</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">232</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xE8</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Unknown Sender Id</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">Specific to MQTT-SN</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">240</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xF0</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Unknown Topic Alias</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c0">PUBACK, SUBACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c15 c71"><span class="c11 c0">Specific to MQTT-SN</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">241</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xF1</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Congestion</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">SUBACK, REGACK, CONNACK, PUBACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">Specific to MQTT-SN</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">242</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xF2</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Protection packet not supported</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">Specific to MQTT-SN</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">243</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xF3</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Forwarder Encapsulation not supported</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">DISCONNECT</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">Specific to MQTT-SN</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">244</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">0xF4</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">Unknown topic alias</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15"><span class="c0">SUBACK, UNSUBACK, PUBACK, REGACK</span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c0">Specific to MQTT-SN</span></p></td></tr><tr class="c133"><td class="c44" colspan="1" rowspan="1"><p class="c82 c15"><span class="c0">24</span><span class="c0">5</span><span class="c11 c0">-255</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">0xF5-0xFF</span></p></td><td class="c116" colspan="1" rowspan="1"><p class="c82 c15"><span class="c11 c0">Reserved for MQTT-SN</span></p></td><td class="c97" colspan="1" rowspan="1"><p class="c71 c15 c86"><span class="c11 c0"></span></p></td><td class="c45" colspan="1" rowspan="1"><p class="c71 c15"><span class="c11 c0">Specific to MQTT-SN</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 9: Reason Code Values</span></p><p class="c19 c15"><span class="c55 c64 c54">Note(s):</span></p><ol class="c59 lst-kix_list_17-0 start" start="1"><li class="c12 c20 c65 li-bullet-0"><span class="c0">It is used by a receiver to indicate that it expected a packet to be protected and it wasn&#39;t.</span></li></ol><p class="c12 c15 c86"><span class="c55 c0 c54"></span></p><h3 class="c203 c110 c95" id="h.111kx3o"><span>2.3.4 </span><span class="c0">Topic </span><span>Data</span></h3><p class="c68"><span class="c0">The </span><span class="c0 c47">Topic Data </span><span class="c55 c0 c54">field is 2-byte long and contains the value of the topic alias or the short topic name. The values &ldquo;0x0000&rdquo; and &ldquo;0xFFFF&rdquo; are reserved and therefore should not be used.</span></p><h3 class="c203 c110 c95" id="h.3l18frh"><span>2.3.5 </span><span class="c118 c42 c121 c54">Topic Name</span></h3><p class="c110 c95 c327 c486"><span class="c0">The </span><span class="c0 c47">Topic Name </span><span class="c55 c0 c54">field has a variable length and contains an UTF8-encoded string that specifies the topic name.</span></p><h2 class="c207 c110 c95" id="h.2zbgiuw"><span class="c118 c42 c230 c54 c253">2.4 Topic Types</span></h2><p class="c60 c110 c95 c327"><span class="c55 c0 c54">Several packets will refer to a topic type in their flags. This is a 2-bit field which determines the format of the topic value. </span></p><p class="c60 c110 c95 c327"><span class="c55 c0 c54">The allowable values are as follows:</span></p><table class="c120"><tr class="c18"><td class="c67 c536" colspan="1" rowspan="1"><p class="c15 c86 c399"><span class="c6"></span></p></td><td class="c67 c535" colspan="1" rowspan="1"><p class="c399 c15"><span class="c6">Topic Type Value</span></p></td><td class="c67 c178" colspan="1" rowspan="1"><p class="c399 c15"><span class="c6">Name</span></p></td><td class="c67 c464" colspan="1" rowspan="1"><p class="c399 c15"><span class="c6">Description</span></p></td></tr><tr class="c499"><td class="c244" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">0</span></p></td><td class="c451" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">0b00</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">Session Topic Alias</span></p></td><td class="c372" colspan="1" rowspan="1"><p class="c60 c15"><span class="c0">A session topic alias is negotiated between the gateway and client within the scope of a </span><span class="c0">gateway </span><span class="c11 c0">session.</span></p></td></tr><tr class="c18"><td class="c244" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">1</span></p></td><td class="c451" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">0b01</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">Predefined Topic Alias</span></p></td><td class="c372" colspan="1" rowspan="1"><p class="c60 c15"><span class="c0">A predefined alias is known statically by both the gateway and the client outside the scope of a </span><span class="c0">gateway </span><span class="c11 c0">session. No negotiation is required since both entities have knowledge of the topic alias mapping.</span></p></td></tr><tr class="c18"><td class="c244" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">2</span></p></td><td class="c451" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">0b10</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">Short Topic Name</span></p></td><td class="c372" colspan="1" rowspan="1"><p class="c60 c15"><span class="c0">A 2-byte topic name which requires </span><span class="c0">no negotiation.</span><sup><a href="#cmnt30" id="cmnt_ref30">[ad]</a></sup></p></td></tr><tr class="c18"><td class="c244" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">3</span></p></td><td class="c451" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">0b11</span></p></td><td class="c197" colspan="1" rowspan="1"><p class="c60 c15"><span class="c11 c0">Long Topic Name</span></p></td><td class="c372" colspan="1" rowspan="1"><p class="c60 c15 c239"><span class="c11 c0">A full topic, which requires no session negotiation.</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 10: Topic types and their description</span></p><p class="c60 c110 c95 c327"><span class="c0">Refer to </span><span class="c124 c0"><a class="c48" href="#h.2qk79lc">section 4</a></span><span class="c0">&nbsp;for detailed descriptions of</span><span class="c0">&nbsp;topic names and aliases.</span><sup><a href="#cmnt31" id="cmnt_ref31">[ae]</a></sup></p><p class="c60 c110 c95 c327 c86"><span class="c55 c0 c54"></span></p><h1 class="c255 c110 c95 c239" id="h.1egqt2p"><span class="c118 c212 c42 c54">3 MQTT-SN Control Packets</span></h1><h3 class="c200 c110 c95" id="h.2dlolyb"><span>3.1 </span><span class="c0">ADVERTISE - Gateway Advertisement</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">GwId</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Duration MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Duration LSB</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 11: &nbsp;ADVERTISE Packet</span></p><p class="c19 c15"><span class="c0">The ADVERTISE packet is sent periodically by the gateway to advertise its presence. The time interval until the next transmission is indicated by the </span><span class="c0 c47">Duration </span><span class="c55 c0 c54">field.</span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c190">If the Transport Layer supports multicast, like UDP/IP, the ADVERTISE packet is generally sent using the Multicast Address as destination.</span></p><h4 class="c1" id="h.sqyw64"><span class="c30">3.1.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.3cqmetx"><span class="c30">3.1.2 GwId</span></h4><p class="c144 c15"><span class="c0">The </span><span class="c0 c47">GwId </span><span class="c55 c0 c54">field is at least 1-byte identifier and uniquely identifies a gateway which is advertising itself in the network.</span></p><p class="c144 c15"><span class="c0">The MQTT-SN protocol itself doesn&rsquo;t guarantee the uniqueness of the </span><span class="c0 c47">GwId </span><span class="c55 c0 c54">field.</span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c190">If the Gateway has a MAC address, it can be used as </span><span class="c0 c190 c47">GwId</span><span class="c0 c190">. </span></p><h4 class="c1" id="h.1rvwp1q"><span class="c30">3.1.3 Duration</span></h4><p class="c467 c15"><span class="c0">The </span><span class="c0 c47">Duration </span><span class="c55 c0 c54">field is a 2-byte integer. It specifies the time interval in seconds until the next ADVERTISE packet is transmitted by this gateway period. </span></p><p class="c68"><span class="c55 c0 c54">The maximum value that can be encoded is approximately 18 hours.</span></p><h3 class="c200 c110 c95" id="h.4bvk7pj"><span>3.2 </span><span class="c0">SEARCHGW - Search for A Gateway</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Radius</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 12: &nbsp;SEARCHGW packet</span></p><p class="c19 c15"><span class="c0">The SEARCHGW packet is sent by a client when it searches for a </span><span class="c0 c41">Gateway</span><span class="c0">. The transmission radius of the SEARCHGW is limited and depends on the density of the clients deployment, e.g. only </span><span class="c0">1-hop </span><sup><a href="#cmnt32" id="cmnt_ref32">[af]</a></sup><span class="c55 c0 c54">transmission in case of a very dense network in which every MQTT-SN client is reachable from each other within 1-hop transmission.</span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c190">If the Transport Layer supports multicast, like UDP/IP, the SEARCHGW packet is generally sent using the Multicast Address as destination</span><span class="c0 c190">.</span><span class="c0 c190">.</span></p><h4 class="c1" id="h.2r0uhxc"><span class="c30">3.2.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the </span><span class="c0">variable length packet header </span><span class="c0">format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.1664s55"><span class="c30">3.2.2 Radius</span></h4><p class="c15 c264"><span class="c55 c0 c54">The transmission radius is also indicated to the underlying network layer when MQTT-SN gives this packet for transmission.</span></p><p class="c264 c15"><span class="c55 c0 c54">A Client or a Gateway MUST NOT forward the SEARCHGW received if the Radius value is 0.</span></p><p class="c264 c15"><span class="c0">If a Client or a Gateway forwards the SEARCHGW received, it MUST reduce the Radius value by 1.</span></p><h3 class="c200 c110 c95" id="h.3q5sasy"><span>3.3 </span><span class="c0">GWINFO - Gateway Information</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">GwId</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4 &hellip; N</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">GwAddress </span><span class="c0 c47">(optional)</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 13: &nbsp;GWINFO packet</span></p><p class="c19 c15"><span class="c0">The GWINFO packet is sent as response to a SEARCHGW packet with the radius as indicated in the SEARCHGW packet. If sent by a </span><span class="c0 c41">Gateway</span><span class="c0">, it contains only the id of the sending </span><span class="c0 c41">Gateway</span><span class="c0">; otherwise, if sent by a client, it also includes the address of the </span><span class="c0 c41">Gateway</span><span class="c55 c0 c54">.</span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c55 c0 c190">If the Transport Layer supports multicast, like UDP/IP, the GWINFO packet is generally sent using the Multicast Address as destination.</span></p><h4 class="c1" id="h.25b2l0r"><span class="c30">3.3.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.kgcv8k"><span class="c30">3.3.2 GwId</span></h4><p class="c19 c110 c95 c327"><span class="c0">The </span><span class="c0 c47">GwId </span><span class="c0">field is </span><span class="c0">1-byte long</span><sup><a href="#cmnt33" id="cmnt_ref33">[ag]</a></sup><span class="c0">&nbsp;and uniquely identifies a </span><span class="c0 c41">Gateway </span><span class="c55 c0 c54">in the network.</span></p><h4 class="c1" id="h.34g0dwd"><span class="c30">3.3.3 GwAdd</span></h4><p class="c15 c400"><span class="c0">The </span><span class="c0 c47">GwAdd </span><span class="c0">field has a variable length and contains the address of a Gateway. Its length depends on the type of network over which MQTT-SN operates and is specified by the Length byte. </span><span class="c0">&nbsp;</span><span class="c55 c0 c54">Optional, only included if the packet is sent by a client.</span></p><h3 class="c354 c240 c110 c95 c239" id="h.1jlao46"><span>3.4 </span><span class="c0">CONNECT - Connection Request</span></h3><table class="c146"><tr class="c18"><td class="c136 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c497 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c189 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c67 c519" colspan="2" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c184 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c67 c396" colspan="2" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c174 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c243 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c67 c470" colspan="2" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c309"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c152"><td class="c136" colspan="1" rowspan="2"><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c162 c117" colspan="13" rowspan="1"><p class="c4"><span class="c42 c47">CONNECT FLAGS</span></p></td></tr><tr class="c152"><td class="c263" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c318" colspan="6" rowspan="1"><p class="c4"><span class="c0">Default Awake Messages</span></p></td><td class="c90" colspan="2" rowspan="1"><p class="c4"><span class="c0">Auth</span></p></td><td class="c90" colspan="2" rowspan="1"><p class="c4"><span class="c0">Will</span></p></td><td class="c136" colspan="1" rowspan="1"><p class="c4"><span class="c0">Clean Start</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c263" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c208" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c219" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c534" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c90" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c90" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c136" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c162 c117" colspan="13" rowspan="1"><p class="c4"><span class="c42 c47">WILL FLAGS (OPTIONAL - ONLY WHEN WILL FLAG SET)</span></p></td></tr><tr class="c152"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c194 c428" colspan="5" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c184 c194" colspan="1" rowspan="1"><p class="c4"><span class="c0">Will Retain</span></p></td><td class="c194 c380" colspan="4" rowspan="1"><p class="c4"><span class="c0">Will QoS</span></p></td><td class="c116 c194" colspan="3" rowspan="1"><p class="c4"><span class="c0">Will Topic Type</span></p></td></tr><tr class="c152"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (3 + 1)</span></p></td><td class="c194 c497" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c77 c194" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c151 c194" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c233 c194" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c396 c194" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c90 c194" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c90 c194" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c114" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 6</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Protocol Version</span><sup><a href="#cmnt34" id="cmnt_ref34">[ah]</a></sup><sup><a href="#cmnt35" id="cmnt_ref35">[ai]</a></sup></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 7</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Keep Alive MSB</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 8</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Keep Alive LSB</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 9</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval MSB</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 10</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 11</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 12</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval LSB</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 13</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Max Packet Size MSB</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 14</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4"><span class="c0">Max Packet Size LSB</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c162 c117" colspan="13" rowspan="1"><p class="c4"><span class="c42 c47">WILL DATA (OPTIONAL - ONLY WHEN WILL FLAG SET)</span></p></td></tr><tr class="c152"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + 1)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Will Topic Data MSB</span></p></td></tr><tr class="c152"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + 2)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Will Topic Data LSB</span></p></td></tr><tr class="c18"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + 3)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Will Payload Length MSB</span></p></td></tr><tr class="c18"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + 4)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Will Payload Length LSB</span></p></td></tr><tr class="c309"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + N)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Will Payload Or (Will Topic Name + Will Payload)</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c162 c117" colspan="13" rowspan="1"><p class="c4"><span class="c42 c47">AUTH DATA (OPTIONAL - ONLY WHEN AUTH FLAG SET)</span></p></td></tr><tr class="c18"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + 1)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Auth Method Length</span></p></td></tr><tr class="c18"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + 2)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Auth Method</span></p></td></tr><tr class="c18"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + 3)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Auth Data Length MSB</span></p></td></tr><tr class="c18"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + 4)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Auth Data Length LSB</span></p></td></tr><tr class="c18"><td class="c114" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (14 + 5)</span></p></td><td class="c162 c194" colspan="13" rowspan="1"><p class="c4"><span class="c0">Auth Data</span></p></td></tr><tr class="c18"><td class="c136" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 15 &hellip; N</span></p></td><td class="c162" colspan="13" rowspan="1"><p class="c4 c239"><span class="c0">Client Identifier</span></p></td></tr></table><p class="c110 c161"><span class="c101 c64 c41">Table 14: &nbsp;CONNECT packet</span></p><p class="c19 c15"><span class="c0">The CONNECT packet is sent from the Client to the </span><span class="c0 c41">Gateway </span><span class="c0">to create </span><span class="c0">or continue a Session. </span></p><h4 class="c1" id="h.43ky6rz"><span class="c30">3.4.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.2iq8gzs"><span class="c30">3.4.2 Connect Flags</span></h4><p class="c19 c15"><span class="c0 c41">The Connect Flags is 1 byte field which contains several parameters specifying the behavior of the MQTT-SN Virtual </span><span class="c0">C</span><span class="c34 c0 c54">onnection. </span></p><p class="c19 c15"><span class="c0">The Connect </span><span class="c0 c47">Flags </span><span class="c55 c0 c54">field includes the following flags:</span></p><ul class="c59 lst-kix_list_4-0 start"><li class="c156 c20 c65 li-bullet-0"><span class="c46 c42 c41">Clean Start:</span><span class="c46 c0 c41">&nbsp;Stored in Bit 0 and specifies whether the Virtua</span><span class="c0">l </span><span class="c46 c0 c41">Connection starts a new Session or is a continuation of an existing Session</span></li><li class="c20 c65 c439 li-bullet-0"><span class="c46 c42 c41">Will</span><span class="c46 c0 c41">:&nbsp;Stored in Bit 1 and if set to 1 it indicates that the </span><span class="c0">Will Flags and the Will Data sections are present</span><span class="c46 c0 c41">&nbsp;</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c46 c42 c41">Auth</span><span class="c46 c0 c41">: Stored in Bit 2 and indicates </span><span class="c0">if the packet contains</span><span class="c46 c0 c41">&nbsp;authentication </span><span class="c0">data</span></li><li class="c289 c20 c65 li-bullet-0"><span class="c46 c42 c41">Default Awake Messages</span><span class="c46 c0 c41">: A value between 0-15 to indicate the maximum number of messages a client shall receive during an AWAKE session. Specifying 0 will mean it is up to the gateway to determine how many messages it will send, which </span><span class="c0">may be</span><span class="c46 c0 c41">&nbsp;unbounded.</span></li></ul><p class="c19 c110 c95 c443"><span class="c55 c0 c54">The Gateway MUST validate that the reserved flags in the CONNECT packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c1" id="h.kxsqte300p6i"><span class="c30">3.4.3 Packet Identifier</span></h4><p class="c99"><span class="c0">Used to identify the corresponding </span><span class="c0">CONNACK </span><sup><a href="#cmnt36" id="cmnt_ref36">[aj]</a></sup><span class="c55 c0 c54">packet. It should ideally be populated with a random integer value.</span></p><h4 class="c1" id="h.xvir7l"><span class="c30">3.4.4 Protocol Version</span></h4><p class="c19 c15" id="h.3hv69ve"><span class="c34 c0 c54">The one-byte unsigned value that represents the revision level of the protocol used by the Client. </span></p><table class="c146"><tr class="c18"><td class="c96 c67" colspan="1" rowspan="1"><p class="c4"><span class="c8 c42 c54">Protocol Version</span></p></td><td class="c67 c96" colspan="1" rowspan="1"><p class="c4"><span class="c8 c42 c54">Value</span></p></td></tr><tr class="c18"><td class="c96" colspan="1" rowspan="1"><p class="c19 c15"><span class="c8 c0 c54">Version 1.2</span></p></td><td class="c96" colspan="1" rowspan="1"><p class="c4"><span class="c8 c0 c54">0x01</span></p></td></tr><tr class="c18"><td class="c96" colspan="1" rowspan="1"><p class="c19 c15"><span class="c8 c42 c54">Version 2.0</span></p></td><td class="c96" colspan="1" rowspan="1"><p class="c4"><span class="c8 c42 c54">0x02</span></p></td></tr><tr class="c18"><td class="c96" colspan="1" rowspan="1"><p class="c19 c15"><span class="c8 c0 c54">Reserved for future versions</span></p></td><td class="c96" colspan="1" rowspan="1"><p class="c4 c239"><span class="c8 c0 c54">0x03 &ndash; 0xFF</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 15: Protocol version values</span></p><p class="c19 c15"><span class="c0 c41 c23">The value of the Protocol Version field for MQTT-SN version 2.0 </span><span class="c0 c23">MUST</span><span class="c0 c41 c23">&nbsp;be 2 (0x02).</span></p><p class="c19 c15"><span class="c0">A Gateway which supports multiple versions of the MQTT-SN protocol uses the Protocol Version to determine which version of MQTT-SN the Client is using. </span><span class="c0 c23">If the Protocol Version is not 2 and the Gateway does not want to accept the CONNECT packet, the Server MAY send a CONNACK packet with Reason Code 0x84 (Unsupported Protocol Version).</span></p><h4 class="c1" id="h.4h042r0"><span class="c30">3.4.5 Keep Alive Timer</span></h4><p class="c19 c15"><span class="c0 c41">The Keep Alive is a Two Byte Integer greater than 0 (1 - 65,535), which is a time interval measured in seconds. It is the maximum time interval that is permitted to elapse between the point at which the Client finishes transmitting one MQTT-SN Control Packet and the point it starts sending the next. It is the responsibility of the Client to ensure that the interval between MQTT-SN Control Packets being sent does not exceed the Keep Alive value.&nbsp;</span><span class="c34 c0 c23">In the absence of sending any other MQTT-SN Control Packets, the Client MUST send a PINGREQ packet.</span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c41 c190">The Client can send PINGREQ at any time, irrespective of the Keep Alive value, and check for a corresponding PINGRESP to determine that the network and the Gateway are available.</span></p><p class="c19 c15"><span class="c0 c23">If the Gateway does not receive an MQTT-SN Control Packet from the Client within one and a half times the Keep Alive time period, it MUST consider the </span><span class="c0 c23">session </span><span class="c0 c23">&lsquo;LOST&rsquo; (</span><span class="c0 c23">see state description in table 3.6</span><sup><a href="#cmnt37" id="cmnt_ref37">[ak]</a></sup><span class="c0 c23">).</span><sup><a href="#cmnt38" id="cmnt_ref38">[al]</a></sup><sup><a href="#cmnt39" id="cmnt_ref39">[am]</a></sup><sup><a href="#cmnt40" id="cmnt_ref40">[an]</a></sup><sup><a href="#cmnt41" id="cmnt_ref41">[ao]</a></sup><sup><a href="#cmnt42" id="cmnt_ref42">[ap]</a></sup></p><p class="c19 c15"><span class="c0 c41 c23">If a Client does not receive a PINGRESP packet within a </span><span class="c0 c23 c47">T</span><span class="c0 c23 c47 c494">retry</span><span class="c0 c41 c23">&nbsp;amount of time after it has sent a PINGREQ, it SHOULD retry the transmission according to </span><span class="c124 c0 c23"><a class="c48" href="#h.17nz8yj">section 4.24</a></span><sup><a href="#cmnt43" id="cmnt_ref43">[aq]</a></sup><span class="c0 c41 c23">&nbsp;up to the maximum number of attempts. If a PINGRESP is still not received it </span><span class="c0 c23">MUST</span><span class="c0 c41 c23">&nbsp;close the Session to the Gateway by way of a DISCONNECT, with the</span><span class="c0 c23">&nbsp;understanding that the GW may no longer be reachable</span><span class="c0 c41 c23">.</span></p><p class="c19 c15"><span class="c0 c41 c23">A Keep Alive must have a value greater than 0. It is considered a protocol error </span><span class="c0 c41 c23">I</span><span class="c0 c41 c23">f a Keep Alive value of 0 </span><span class="c0 c41 c23">is set.</span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span><span class="c0 c41 c190"><br>The Gateway may have other reasons to disconnect the Client, for instance because it is shutting down. Setting Keep Alive does not guarantee that the Client will remain connected.</span></p><p class="c19 c20 c95"><span class="c55 c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c41 c190">The actual value of the Keep Alive is application specific; typically, this is a few minutes. The maximum value of 65,535 is 18 hours 12 minutes and 15 seconds.</span></p><h4 class="c1" id="h.1baon6m"><span class="c30">3.4.6 Session Expiry Interval</span></h4><p class="c19 c15"><span class="c55 c0 c54">The Session Expiry Interval is a four-byte integer time interval measured in seconds. If the Session Expiry Interval is set to 0, the Session ends (and state deleted) when a (non SLEEPING) DISCONNECT packet is sent from either the client or gateway. </span></p><p class="c19 c15"><span class="c55 c0 c54">If the Session Expiry Interval is 0xFFFFFFFF (UINT_MAX), the Session does not expire. </span></p><p class="c19 c15"><span class="c0 c23">The Client and </span><span class="c0 c41 c23">Gateway </span><span class="c0 c23">MUST store the Session State after a DISCONNECT is issued if the Session Expiry Interval is greater than 0.</span></p><p class="c19 c110 c95 c201"><span class="c37">Informative comment</span></p><p class="c19 c110 c201 c95"><span class="c55 c64 c54">The clock in the Client or Gateway may not be running for part of the time interval, for instance because the Client or Gateway are not running. This might cause the deletion of the state to be delayed.</span></p><p class="c19 c110 c201 c95"><span class="c37">Informative comment</span></p><p class="c19 c110 c201 c95"><span>The client and gateway between them should negotiate a reasonable and practical session expiry interval according to the network and infrastructure environment in which they are deployed. For example, it would not be practical to set a session expiry interval of many months on a gateway whose hardware is only capable of storing a few client sessions.</span></p><h4 class="c1" id="h.3vac5uf"><span class="c30">3.4.7 Maximum Packet Size</span></h4><p class="c19 c15"><span class="c34 c0 c54">A Two Byte (16-bit) Integer representing the Maximum Packet Size the Client is willing to accept. If the Maximum Packet Size is set to 0, no limit on the packet size is imposed beyond the limitations in the protocol as a result of the remaining length encoding and the protocol header sizes.</span></p><p class="c19 c20 c95"><span class="c42">Informative comment</span></p><p class="c19 c20 c95"><span class="c34 c0 c54">It is the responsibility of the application to select a suitable Maximum Packet Size value if it chooses to restrict the Maximum Packet Size.</span></p><p class="c19 c15"><span class="c0 c41">The packet size is the total number of bytes in an </span><span class="c0 c41">MQTT-SN Control Packet,</span><span class="c0 c41">&nbsp;as defined in </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c34 c0 c54">. The Client uses the Maximum Packet Size to inform the Server that it will not process packets exceeding this limit.</span></p><p class="c19 c15"><span class="c0 c41 c23">The Gateway MUST NOT send packets exceeding Maximum Packet Size to the Client.&nbsp;If a Client receives a packet whose size exceeds this limit, this is a Protocol Error, the Client uses DISCONNECT with Reason Code 0x95 (Packet too large).</span></p><p class="c19 c15"><span class="c0 c41 c23">Where a Packet is too large to send, the Gateway MUST discard it without sending it and then behave as if it had completed sending that Application Message.</span></p><p class="c19 c20 c95" id="h.2afmg28"><span class="c42">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c41">Where a packet is discarded without being sent, the Gateway could take some diagnostic action including alerting the Server administrator. Such actions are outside the scope of this specification.</span></p><h4 class="c1" id="h.pkwqa1"><span class="c30">3.4.8 Client Identifier (ClientID)</span></h4><p class="c288 c15"><span class="c0 c41">The Client Identifier (ClientID) identifies the Client to the Gateway. Each Client connecting to the Gateway has a unique ClientID.&nbsp;</span><span class="c0 c41 c23">The ClientID MUST be used by Clients and by Gateway to </span><span class="c0 c23">identify the state</span><span class="c0 c41 c23">&nbsp;that they hold relating to this MQTT-SN Session between the Client and the Gateway</span><span class="c34 c0 c54">. </span></p><p class="c19 c20 c95"><span class="c42">Informative comment</span></p><p class="c288 c20 c95"><span class="c0 c41">A Client Identifier can be between 0 - </span><span class="c55 c0 c54">65,521 bytes. We advise for practicality, ClientID&rsquo;s are restricted to a reasonable size (less than 243 bytes to fit within a small CONNECT packet).</span></p><p class="c19 c15"><span class="c0 c23">When the ClientID is present (greater than 0 bytes), t</span><span class="c0 c41 c23">he Gateway MUST allow </span><span class="c0 c23">values</span><span class="c34 c0 c23">&nbsp;which are between 1 and 23 UTF-8 encoded bytes in length, and that contain only the characters &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&rdquo;. </span></p><p class="c19 c15"><span class="c0 c41 c23">The Gateway may choose to allow more than 23 bytes.</span></p><p class="c19 c15"><span class="c0 c41 c23">The Client Identifier MUST be a </span><span class="c0 c23">UTF-8 Encoded String</span><span class="c0 c41">.</span><span class="c34 c0 c23">&nbsp;</span></p><h4 class="c1" id="h.u38i2mpp332q"><span class="c0">3.4.9 </span><span>Connect Will Flags (optional, only with </span><span class="c47">Will </span><span>flag set)</span><span class="c0">&nbsp;</span></h4><p class="c19 c15"><span class="c0">The Connect optional </span><span class="c0 c47">Will Flags</span><span class="c0">&nbsp;is 1 byte field which contains several parameters specifying the handling of the Will Message. It is present only if the Will flag in the Connect </span><span class="c0 c47">Flags</span><span class="c55 c0 c54">&nbsp;contains the value 1.</span></p><p class="c19 c15"><span class="c0">The Connect optional </span><span class="c0 c47">Will Flags </span><span class="c55 c0 c54">field includes the following flags:</span></p><ul class="c59 lst-kix_list_4-0"><li class="c439 c20 c313 c490 li-bullet-0"><span class="c42">Will Topic Type:</span><span class="c0">&nbsp;This is a 2-bit field in Bit 0 and 1 which determines the format of the topic value. Refer to </span><span class="c0 c187"><a class="c48" href="#h.2zbgiuw">Table 10</a></span><span class="c0">&nbsp;for the definition of the various topic types.</span></li><li class="c156 c20 c65 li-bullet-0"><span class="c42">Will QoS</span><span class="c0">: Stored in Bit 2 and 3, these two bits specify the QoS level to be used. The value of Will QoS can be 0 (0x00), 1 (0x01), or 2 (0x02). A value of 3 (0x03) is a Malformed Packet.</span></li><li class="c156 c20 c65 li-bullet-0"><span class="c42 c41 c106">Will Retain</span><span class="c0 c41 c106">: Stored in Bit 4, this bit specifies if the Will Message is to be </span><span class="c0 c41 c106">retained when it is published</span><sup><a href="#cmnt44" id="cmnt_ref44">[ar]</a></sup><sup><a href="#cmnt45" id="cmnt_ref45">[as]</a></sup><sup><a href="#cmnt46" id="cmnt_ref46">[at]</a></sup><span class="c0 c41 c106">.</span></li></ul><p class="c156 c110 c95"><span class="c0 c41 c106 c23">If the Will Flag is set to 1 this indicates that a Will Message MUST be stored on the Server and associated with the Session</span><span class="c0 c41 c106">&nbsp;</span><span class="c0 c33 c106">[MQTT-SN-3.4.9-1]</span><span class="c0 c41 c106">. The Will Message consists of the Will Topic, and Will Payload fields in the CONNECT Packet. </span><span class="c0 c41 c106 c23">The Will Message MUST be published after the Virtual Connection is deleted or the Session ends, unless the Will Message has been deleted by the Server on receipt of a DISCONNECT packet with Reason Code 0x00 (Normal disconnection)</span><span class="c0 c41 c106">&nbsp;</span><span class="c0 c33 c106">[MQTT-SN--3.4.9-2]</span><span class="c13 c0">.</span></p><p class="c110 c134"><span class="c13 c0">Situations in which the Will Message is published include, but are not limited to:</span></p><ul class="c59 lst-kix_f7m1wa373t12-0 start"><li class="c339 c20 c313 li-bullet-0"><span class="c0 c41 c106">The Server deletes the Virtual Connection as a result of a</span><span class="c0 c41 c106">n I/O error or network failure</span><span class="c13 c0">&nbsp;it has detected.</span></li><li class="c339 c20 c313 li-bullet-0"><span class="c13 c0">The Client fails to communicate within the Keep Alive time.</span></li><li class="c339 c20 c313 li-bullet-0"><span class="c0 c41 c106">The Server deletes the Virtual Connection because of a protocol error.</span><sup><a href="#cmnt47" id="cmnt_ref47">[au]</a></sup></li></ul><p class="c134 c110"><span class="c0 c41 c106 c23">If the Will Flag is set to 1, the Will Topic, and Will Payload fields MUST be present in the Packet</span><span class="c0 c41 c106">&nbsp;</span><span class="c0 c33 c106">[MQTT-SN-3.4.9-3]</span><span class="c0 c41 c106">. </span><span class="c0 c41 c106 c23">The Will Message MUST be removed from the stored Session State in the Server once it has</span><span class="c0 c41 c106 c23">&nbsp;been published</span><sup><a href="#cmnt48" id="cmnt_ref48">[av]</a></sup><span class="c0 c41 c106 c23">&nbsp;or the Server has received a DISCONNECT packet with a Reason Code of 0x00 (Normal disconnection) from the Client</span><span class="c0 c41 c106">&nbsp;</span><span class="c0 c33 c106">[MQTT-SN-3.4.9-4]</span><span class="c0 c13">.</span></p><p class="c134 c110"><span class="c0 c41 c106">The Server SHOULD publish Will Messages promptly after the Virtual Connection is deleted or the </span><span class="c0 c41 c106">Session</span><span class="c13 c0">&nbsp;ends, whichever occurs first. In the case of a Server shutdown or failure, the Server MAY defer publication of Will Messages until a subsequent restart. If this happens, there might be a delay between the time the Server experienced failure and when the Will Message is published.</span></p><h4 class="c1" id="h.6mntinqaom6n"><span class="c0">3.4.10 Will Topic </span><span class="c0">Short or Will Topic Length</span><span class="c0">&nbsp;(optional</span><span>, only with </span><span class="c47">Will </span><span>flag set</span><span class="c30">)</span></h4><p class="c393 c15"><span class="c55 c0 c54">In the case of Will Topic Type being b11 this field will refer to the length of data assigned to the &ldquo;Will Full Topic Name&rdquo;, in all other cases, this will be the value used as the Will topic alias or Will short topic name.</span></p><h4 class="c1" id="h.g5w1zpmaiace"><span class="c0">3.4.11 Will Payload Length (optional</span><span>, only with </span><span class="c47">Will </span><span>flag set</span><span class="c30">)</span></h4><p class="c144 c15"><span class="c55 c0 c54">Contains the length of the Will Payload field.</span></p><h4 class="c1" id="h.o88zms19c5d1"><span class="c0">3.4.12 Will Payload (optional</span><span>, only with </span><span class="c47">Will </span><span>flag set</span><span class="c30">)</span></h4><p class="c19 c15"><span class="c55 c64 c54">It contains the content of the Will Message which is published after the Virtual Connection is deleted. &nbsp;</span></p><p class="c19 c15"><span>In the case of Topic Type b11 the payload section will be prefixed with a &ldquo;Will Full Topic Name&rdquo; encoded with a UTF-8 encoded string value of length determined by the previously defined length field. Thereafter, </span><span class="c0">the </span><span class="c0 c47">Will Payload </span><span class="c55 c0 c54">field corresponds to the MQTT Will Payload and so it defines the Application Message Payload that is to be published to the Will Topic and this field consists of Binary Data. It has a variable length defined by the Will Payload Length fields.</span></p><h4 class="c1" id="h.mw1gvx9qi5t0"><span class="c0">3.4.13 Authentication Method Length (optional</span><span>, only with </span><span class="c47">Auth </span><span>flag set</span><span class="c30">)</span></h4><p class="c134 c15"><span class="c0">Single byte value (max 0-255 bytes), representing the length of field used to specify the authentication method. Refer to </span><span class="c124 c0"><a class="c48" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c187">&nbsp;</span><span class="c55 c0 c54">for more information about extended authentication.</span></p><h4 class="c1" id="h.4ydjyi9y5y20"><span class="c0">3.4.14 Authentication Method (optional</span><span>, only with </span><span class="c47">Auth </span><span>flag set</span><span class="c30">)</span></h4><p class="c134 c15"><span class="c0">A UTF-8 Encoded String containing the name of the authentication method. Refer to </span><span class="c124 c0"><a class="c48" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c187">&nbsp;</span><span class="c55 c0 c54">for more information about extended authentication.</span></p><h4 class="c1" id="h.5hocu94eubqg"><span class="c0">3.4.15 Authentication Data Length (optional</span><span>, only with </span><span class="c47">Auth </span><span>flag set</span><span class="c30">)</span></h4><p class="c134 c15"><span class="c0">Two byte value (max 0-65535 bytes), representing the length of field used to specify the authentication data. Refer to </span><span class="c124 c0"><a class="c48" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c187">&nbsp;</span><span class="c55 c0 c54">for more information about extended authentication.</span></p><h4 class="c1" id="h.g9mib2nvvlzy"><span class="c0">3.4.16 Authentication Data (optional</span><span>, only with </span><span class="c47">Auth </span><span>flag set</span><span class="c30">)</span></h4><p class="c134 c15"><span class="c0">Binary Data containing authentication data. The contents of this data are defined by the authentication method. Refer to </span><span class="c124 c0"><a class="c48" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c187">&nbsp;</span><span class="c55 c0 c54">for more information about extended authentication.</span></p><h4 class="c270 c15" id="h.6hlt7zbtaja"><span class="c118 c254 c230 c321 c54">3.4.17 CONNECT Actions</span></h4><p class="c134 c110"><span class="c55 c0 c54">Note that a Server MAY support multiple protocols on the same network endpoint. If the Server determines that the protocol is MQTT-SN 2.0 then it validates the connection attempt as follows.</span></p><ol class="c59 lst-kix_ev3c1abzhvq-0 start" start="1"><li class="c70 c20 li-bullet-0"><span class="c0 c23">The Server MUST validate that the CONNECT packet matches the format described in</span><span class="c124 c0 c23"><a class="c48" href="#h.1jlao46">&nbsp;section 3.4</a></span><span class="c0 c23">&nbsp;and MUST NOT create a Virtual Connection for this CONNECT if it does not match.</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.4.17-1]</span><span class="c0 c41">&nbsp;The Server MAY send a CONNACK with a Reason Code of 0x80 or greater as described in </span><span class="c124 c0"><a class="c48" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c34 c0 c54">.</span></li><li class="c339 c20 c313 li-bullet-0"><span class="c0 c23">The Server MAY check that the contents of the CONNECT packet meet any further restrictions and SHOULD perform authentication and authorization checks. If any of these checks fail, it MUST NOT create a Virtual Connection for this CONNECT</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.4.17-2]</span><span class="c0">. It MAY send an appropriate CONNACK response with a Reason Code of 0x80 or greater as described in </span><span class="c0 c124"><a class="c48" href="#h.39kk8xu">section 3.5</a></span><span class="c0">&nbsp;and </span><span class="c124 c0"><a class="c48" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c0">.</span></li></ol><p class="c134 c110"><span class="c55 c0 c54">If validation is successful, the Server performs the following steps.</span></p><ol class="c59 lst-kix_lqfz53xxujmr-0 start" start="1"><li class="c70 c20 li-bullet-0"><span class="c0 c23">If the ClientID represents a Client already connected to the Server, the Server sends a DISCONNECT packet to the existing Client with Reason Code of 0x8E (Session taken over) as described in </span><span class="c124 c0 c23"><a class="c48" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c0 c23">&nbsp;and MUST delete the Virtual Connection of the existing Client</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.4.17-3]</span><span class="c0">. If the existing Client has a Will Message, that Will Message is published as described in</span><span class="c0">&nbsp;</span><span class="c124 c0"><a class="c48" href="#h.u38i2mpp332q">section 3.4.9</a></span><span class="c55 c0 c54">. </span></li><li class="c20 c70 li-bullet-0"><span class="c0 c23">The Server MUST perform the processing of Clean Start</span><span class="c0">&nbsp;that is described in </span><span class="c124 c0"><a class="c48" href="#h.gtnh0h">section 4.16</a></span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.4.17-4]</span><span class="c55 c0 c54">.</span></li><li class="c70 c20 li-bullet-0"><span class="c0 c23">The Server MUST acknowledge the CONNECT packet with a CONNACK packet containing a 0x00 (Success) Reason Code</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.4.17-5]</span><span class="c55 c0 c54">.</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c0 c54">Start Application Message delivery and Keep Alive monitoring.</span></li></ol><p class="c134 c20"><span class="c42">Informative comment</span></p><p class="c134 c20"><span class="c55 c0 c54">It is recommended that authentication and authorization checks be performed if the Server is being used to process any form of business critical data. If these checks succeed, the Server responds by sending CONNACK with a 0x00 (Success) Reason Code. If they fail, it is suggested that the Server does not send a CONNACK at all, as this could alert a potential attacker to the presence of the MQTT-SN Server and encourage such an attacker to launch a denial of service or password-guessing attack.</span></p><p class="c134 c110"><span class="c0">Clients must wait for a CONNACK packet with a 0x00 (Success) Reason Code to arrive from the Server before sending any packet that needs a Virtual Connection. T</span><span class="c0 c23">he Server MUST NOT process any data sent by the Client after the CONNECT packet except AUTH packets</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.4.17-6]</span><span class="c55 c0 c54">.</span></p><h3 class="c240 c110 c95 c239 c354" id="h.39kk8xu"><span>3.5 </span><span class="c0">CONNACK - Connect Acknowledgement</span></h3><table class="c146"><tr class="c18"><td class="c165 c67" colspan="1" rowspan="1"><p class="c4" id="h.1opuj5n"><span class="c42">Bit</span></p></td><td class="c67 c450" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c247 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c63 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c63 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c247 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c35 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c157 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c67 c236" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c152"><td class="c165" colspan="1" rowspan="2"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c117 c271" colspan="14" rowspan="1"><p class="c4"><span class="c42 c47">CONNACK FLAGS</span></p></td></tr><tr class="c152"><td class="c479" colspan="12" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c182" colspan="1" rowspan="1"><p class="c4"><span class="c0">Auth</span></p></td><td class="c236" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Session</span></p><p class="c4"><span class="c0">Present</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c234" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c182" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c182" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c63" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c247" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c35" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c182" colspan="1" rowspan="1"><p class="c4"><span class="c0">X</span></p></td><td class="c236" colspan="1" rowspan="1"><p class="c4"><span class="c0">X</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 6</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4"><span class="c0">Reason Code</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 7</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval MSB</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 8</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 9</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 10</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval LSB</span></p></td></tr><tr class="c152"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c271 c117" colspan="14" rowspan="1"><p class="c4"><span class="c42 c47">AUTH DATA (OPTIONAL - ONLY WHEN AUTH FLAG SET)</span></p></td></tr><tr class="c152"><td class="c165 c194" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (10+1)</span></p></td><td class="c271 c194" colspan="14" rowspan="1"><p class="c4"><span class="c0">Auth Method Length</span></p></td></tr><tr class="c152"><td class="c165 c194" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (10+2)</span></p></td><td class="c271 c194" colspan="14" rowspan="1"><p class="c4"><span class="c0">Auth Method</span></p></td></tr><tr class="c152"><td class="c165 c194" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (10+3)</span></p></td><td class="c271 c194" colspan="14" rowspan="1"><p class="c4"><span class="c0">Auth Data Length MSB</span></p></td></tr><tr class="c152"><td class="c165 c194" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (10+4)</span></p></td><td class="c271 c194" colspan="14" rowspan="1"><p class="c4"><span class="c0">Auth Data Length LSB</span></p></td></tr><tr class="c152"><td class="c165 c194" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (10+5)</span></p></td><td class="c271 c194" colspan="14" rowspan="1"><p class="c4"><span class="c0">Auth Data</span></p></td></tr><tr class="c18"><td class="c165" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 11</span><sup><a href="#cmnt49" id="cmnt_ref49">[aw]</a></sup><span class="c0">&hellip;N</span></p></td><td class="c271" colspan="14" rowspan="1"><p class="c4 c239"><span class="c0">Assigned Client Identifier (optional)</span></p></td></tr></table><p class="c161 c110" id="h.48pi1tg"><span class="c101 c64 c41">Table 16: CONNACK packet</span></p><p class="c15 c515"><span class="c0">The CONNACK packet is sent by the </span><span class="c0 c41">Gateway </span><span class="c55 c0 c54">in response to a CONNECT request from a client.</span></p><h4 class="c1" id="h.2nusc19"><span class="c30">3.5.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c0">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.3mzq4wv"><span class="c30">3.5.2 Connack Flags</span></h4><p class="c19 c15"><span class="c0 c41">The CONNACK FLAGS is a 1 byte field </span><span class="c0 c41">located at byte 4 </span><span class="c0 c41">which contains flags specifying the behavior of the MQTT-SN </span><span class="c0">Virtual C</span><span class="c0 c41">onnection on the gateway</span><span class="c0 c41 c106">. </span><span class="c0 c41 c106 c23">Bits 7-2 of the CONNACK FLAGS are reserved and MUST be set to 0</span><span class="c34 c0 c54">.</span></p><p class="c19 c15"><span class="c0">The Connack </span><span class="c0 c47">Flags </span><span class="c55 c0 c54">field includes the following flags:</span></p><ul class="c59 lst-kix_list_25-0 start"><li class="c19 c20 c65 li-bullet-0"><span class="c42 c213">Session Present:</span><span class="c0 c213">&nbsp;</span><span class="c213">Stored in Bit 0 and specifies whether an existing session was present on the gateway for the given client identifier</span><span>. A value of 1 indicates a session was present, a value 0 indicates no session was present.<br><br></span><span class="c23">If the Gateway accepts a CONNECT with Clean Start set to 1, the Gateway MUST set Session Present to 0 in the CONNACK Packet in addition to setting a 0x00 (Success) Reason Code in the CONNACK packet. </span></li></ul><p class="c19 c20 c95"><span class="c23">If the Gateway accepts a CONNECT with Clean Start set to 0 and the Gateway has Session State for the client identifier it MUST set Session Present to 1 in the CONNACK packet, otherwise it MUST set Session Present to 0 in the CONNACK packet. In both cases it MUST set a 0x00 (Success) Reason Code in the CONNACK packet.</span><span>&nbsp;<br><br>If the value of Session Present received by the Client from the Gateway </span><span>&nbsp;</span><span class="c55 c64 c54">is not as expected, the Client proceeds as follows:</span></p><p class="c156 c20 c95"><span class="c23">If the Client does not have Session State and receives Session Present set to 1 it MUST delete the Virtual Connection.</span><span>&nbsp;</span><span class="c23">If it wishes to restart with a new Session the Client can reconnect using Clean Start set to 1.</span></p><p class="c20 c95 c289"><span class="c55 c64 c23">If the Client does have Session State and receives Session Present set to 0 it MUST discard its Session State if it continues with the Virtual Connection.</span></p><p class="c150 c12 c20 c54"><span class="c23">If a Gateway sends a CONNACK packet containing a non-zero Reason Code it MUST set Session Present to 0.</span></p><ul class="c59 lst-kix_list_6-0 start"><li class="c19 c20 c65 li-bullet-0"><span class="c377">Auth:</span><span>&nbsp;</span><span class="c0">Stored in Bit 1 and specifies whether the packet contains Auth material that </span><span class="c0">should</span><sup><a href="#cmnt50" id="cmnt_ref50">[ax]</a></sup><span class="c55 c0 c54">&nbsp;be considered.</span></li></ul><p class="c19 c15"><span class="c55 c0 c23">The Client MUST validate that the reserved flags in the CONNACK packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c1" id="h.lnmexuhpjkl8"><span class="c30">3.5.3 Packet Identifier</span></h4><p class="c15 c211"><span class="c0">The same value as the Packet Identifier in the </span><span class="c0">CONNECT </span><sup><a href="#cmnt51" id="cmnt_ref51">[ay]</a></sup><span class="c55 c0 c54">Packet being acknowledged.</span></p><h4 class="c1" id="h.1302m92"><span class="c30">3.5.4 Reason Code</span></h4><p class="c19 c15"><span class="c0">Byte 5 in the CONNACK header contains the Connect Reason Code. </span><span>The values for the Connect Reason Code field are shown in Table 9: Reason Code Values. </span><span class="c23">The Server sending the CONNACK packet MUST use one of the </span><span class="c23">Connect Reason Code values</span><sup><a href="#cmnt52" id="cmnt_ref52">[az]</a></sup><span class="c23">.</span></p><p class="c19 c15"><span class="c23">If a Server sends a CONNACK packet containing a Reason code of </span><span class="c23">128</span><sup><a href="#cmnt53" id="cmnt_ref53">[ba]</a></sup><sup><a href="#cmnt54" id="cmnt_ref54">[bb]</a></sup><span class="c23">&nbsp;or greater it MUST then delete the Virtual Connection.</span></p><h4 class="c1" id="h.2250f4o"><span class="c30">3.5.5 Session Expiry Interval</span></h4><p class="c12 c15"><span class="c0 c41">If the Session Expiry Interval is 0, the value of Session Expiry Interval in the CONNECT Packet is used. </span><span class="c87 c47 c495">The server uses this property to inform the Client that it is using a value other than that sent by the Client in the CONNECT</span><span class="c0 c41">. </span></p><h4 class="c1" id="h.3wmneavoet74"><span class="c0">3.5.6 Authentication Method Length (optional</span><span>, only with </span><span class="c47">Auth </span><span>flag set</span><span class="c30">)</span></h4><p class="c134 c110 c95"><span class="c0">Single byte value (max 0-255 bytes), representing the length of field used to specify the authentication method. Refer to </span><span class="c124 c0"><a class="c48" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c187">&nbsp;</span><span class="c55 c0 c54">for more information about extended authentication.</span></p><h4 class="c1" id="h.ydayklwjstjk"><span class="c0">3.5.7 Authentication Method (optional</span><span>, only with </span><span class="c47">Auth </span><span>flag set</span><span class="c30">)</span></h4><p class="c134 c15"><span class="c0">A UTF-8 Encoded String containing the name of the authentication method. Refer to </span><span class="c124 c0"><a class="c48" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c55 c0 c54">&nbsp;for more information about extended authentication.</span></p><h4 class="c1" id="h.kvppk7yh36lv"><span class="c0">3.5.8 Authentication Data Length (optional</span><span>, only with </span><span class="c47">Auth </span><span>flag set</span><span class="c30">)</span></h4><p class="c134 c15"><span class="c0">Two byte value (max 0-65535 bytes), representing the length of field used to specify the authentication data. Refer to </span><span class="c124 c0"><a class="c48" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c187">&nbsp;</span><span class="c55 c0 c54">for more information about extended authentication.</span></p><h4 class="c1" id="h.600ktmi3vm5o"><span class="c0">3.5.9 Authentication Data (optional</span><span>, only with </span><span class="c47">Auth </span><span>flag set</span><span class="c30">)</span></h4><p class="c134 c110 c95"><span class="c0">Binary Data containing authentication data. The contents of this data are defined by the authentication method and the state of already exchanged authentication data. Refer to </span><span class="c124 c0"><a class="c48" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c187">&nbsp;</span><span class="c55 c0 c54">for more information about extended authentication.</span></p><h4 class="c1" id="h.haapch"><span class="c30">3.5.10 Assigned Client Identifier</span></h4><p class="c19 c15"><span class="c0">The Client Identifier assigned by the gateway when the associated CONNECT packet contained no Client Identifier. </span><span class="c0 c23">If the Client connects using a zero length Client Identifier, the Server MUST respond with a CONNACK containing an Assigned Client Identifier. The Assigned Client Identifier MUST be a new Client Identifier not used by any other Session currently in the Gateway</span><span class="c0">.</span></p><p class="c19 c15"><span class="c0 c41 c23">The Assigned Client Identifier MUST be a </span><span class="c0 c23">UTF-8 Encoded String</span><span class="c0 c41">.</span></p><p class="c19 c20 c95"><span class="c42">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c41">Assigned Client Identifiers SHOULD be less than </span><span class="c0 c41">247 </span><sup><a href="#cmnt55" id="cmnt_ref55">[bc]</a></sup><span class="c34 c0 c54">bytes so they can be accommodated in a small packet version. This is also to cater for devices which may not support larger Client Identifiers.</span></p><p class="c19 c20 c95"><span class="c42">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c41">Where a transparent gateway obtains an Assigned Client Identifier which is deemed too large for a device, it should maintain a registry to map shorter gateway generated Client Identifiers with their versions returned from the broker.</span></p><h3 class="c416 c240 c110 c95 c239" id="h.184mhaj"><span>3.6 </span><span class="c0">AUTH</span><span class="c0">&nbsp;- Authentication Exchange</span></h3><table class="c146"><tr class="c18"><td class="c67 c430" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c67 c311" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c193 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c430" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte 1</span></p></td><td class="c285" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c430" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte 2</span></p></td><td class="c285" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c430" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte 3</span></p></td><td class="c285" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c430" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte 4</span></p></td><td class="c285" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c430" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte 5</span></p></td><td class="c285" colspan="8" rowspan="1"><p class="c4"><span class="c0">Auth Reason Code</span></p></td></tr><tr class="c18"><td class="c430" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte 6</span></p></td><td class="c285" colspan="8" rowspan="1"><p class="c4"><span class="c0">Auth Method Length (K)</span></p></td></tr><tr class="c18"><td class="c430" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte 7:7+K</span></p></td><td class="c285" colspan="8" rowspan="1"><p class="c4"><span class="c0">Auth Method</span></p></td></tr><tr class="c18"><td class="c430" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">byte 8+K:N</span></p></td><td class="c285" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Auth Data (N)</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 22</span><sup><a href="#cmnt56" id="cmnt_ref56">[bd]</a></sup><span class="c101 c64 c41">: AUTH packet</span></p><p class="c15 c19"><span class="c0 c54">The authentication method and data is first sent by the Client as part of a CONNECT exchange.&nbsp;If the Server requires additional information to complete the authentication, it responds with an AUTH packet to </span><span class="c0 c54">signal</span><span class="c55 c0 c54">&nbsp;that the Client generates and sends another AUTH packet with the required information and so on until the authentication is complete. The server then responds with a CONNACK message.</span></p><h4 class="c1" id="h.3s49zyc"><span class="c30">3.6.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.6cbjggtsyz0j"><span class="c30">3.7.2 Packet Identifier</span></h4><p class="c290 c110 c334 c329"><span class="c0">Used to identify the corresponding </span><span class="c0">CONNECT</span><span class="c0">,</span><span class="c0">&nbsp;</span><sup><a href="#cmnt57" id="cmnt_ref57">[be]</a></sup><span class="c0">AUTH </span><span class="c0">or CONNACK </span><span class="c0">packet. It should ideally be populated with a random integer value when sent from Client to Server. </span><span class="c0 c23">When sent from Server to Client, it MUST contain the packet identifier of the CONNECT or AUTH packet being responded to</span><span class="c55 c0 c54">.</span></p><h4 class="c1" id="h.279ka65"><span class="c30">3.6.2 Reason Code</span></h4><p class="c19 c15"><span class="c0 c54">Byte 3 in the Auth packet holds the Authentication Reason Code. </span><span class="c0 c54">The values for the Authentication Reason Code field are shown in </span><span>Table 9: Reason Code Values. </span><span class="c0 c54">The sender of the AUTH Packet MUST use one of the</span><span class="c0 c54">&nbsp;Authenticate Reason Codes</span><sup><a href="#cmnt58" id="cmnt_ref58">[bf]</a></sup><span class="c0 c54">.</span></p><h4 class="c1" id="h.meukdy"><span class="c30">3.6.3 Auth Method Length</span></h4><p class="c19 c15"><span class="c55 c0 c54">The length of the auth method string.</span></p><h4 class="c1" id="h.36ei31r"><span class="c30">3.6.4 Auth Method</span></h4><p class="c19 c15"><span class="c55 c0 c54">A UTF-8 Encoded String containing the name of the authentication method.</span></p><h4 class="c1" id="h.1ljsd9k"><span class="c30">3.6.5 Auth Data</span></h4><p class="c19 c15"><span class="c0 c54">Binary Data containing authentication data. The contents of this data are defined by the authentication method.</span></p><p class="c19 c20 c95"><span class="c42">Informative comment</span></p><p class="c19 c20 c95"><span class="c55 c0 c54">For a simple cleartext password analogous to MQTT username and password, the SASL PLAIN method can be used.</span></p><h4 class="c1" id="h.psc1lxe4uzxw"><span class="c118 c254 c230 c321 c54">3.6.6 Auth Actions</span></h4><p class="c339 c110"><span>Refer to </span><span class="c124"><a class="c48" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c55 c64 c54">&nbsp;for more information about extended authentication.</span></p><h3 class="c416 c240 c110 c95 c239" id="h.45jfvxd"><span>3.7 </span><span class="c0">REGISTER - Register Topic Alias Request</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Topic Alias MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 6</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Topic Alias LSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 7&hellip;N</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Topic Name</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table </span><span class="c101 c64 c41">24</span><sup><a href="#cmnt59" id="cmnt_ref59">[bg]</a></sup><span class="c101 c64 c41">: REGISTER packet</span></p><p class="c19 c110 c327 c334"><span class="c0">The REGISTER packet </span><sup><a href="#cmnt60" id="cmnt_ref60">[bh]</a></sup><span class="c55 c0 c54">is sent by a client to a GW for requesting a topic alias value for the included topic name. It is also sent by a GW to inform a client about the topic alias value it has assigned to the included topic name.</span></p><h4 class="c1" id="h.2koq656"><span class="c30">3.7.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.3jtnz0s"><span class="c30">3.7.2 Packet Identifier</span></h4><p class="c99"><span class="c55 c0 c54">Used to identify the corresponding REGACK packet. It should ideally be populated with a random integer value. </span></p><h4 class="c1" id="h.zu0gcz"><span class="c30">3.7.3 Topic Alias</span></h4><p class="c99"><span class="c55 c0 c54">If sent by a client, it is coded 0x0000 and is not relevant; if sent by a GW, it contains the topic alias value assigned to the topic name included in the Topic Name field.</span></p><h4 class="c1" id="h.1yyy98l"><span class="c30">3.7.4 Topic Name</span></h4><p class="c293 c110 c329"><span class="c55 c0 c54">Fixed Length UTF-8 Encoded String Contains the fully qualified topic name.</span></p><h4 class="c240 c110 c239 c293" id="h.2jnkuws4c71i"><span class="c118 c254 c230 c321 c54">3.7.5 Register Actions</span></h4><p class="c293 c110 c329"><span class="c0">As described in </span><span class="c124 c0"><a class="c48" href="#h.1fyl9w3">section 4.17</a></span><span class="c55 c0 c54">.</span></p><h3 class="c200 c110 c95" id="h.4iylrwe"><span>3.8 </span><span class="c0">REGACK - Register Topic Alias Response</span></h3><table class="c146"><tr class="c18"><td class="c77 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c243 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c157 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c218 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c226 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c63 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c62 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c284 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c174 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c77" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c277" colspan="10" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c77" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c277" colspan="10" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c152"><td class="c77" colspan="1" rowspan="2"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c277 c155" colspan="10" rowspan="1"><p class="c4"><span class="c42 c47">REGACK FLAGS</span></p></td></tr><tr class="c152"><td class="c243" colspan="1" rowspan="1"><p class="c4"><span class="c0">Reserved</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c4"><span class="c0">Reserved</span></p></td><td class="c218" colspan="1" rowspan="1"><p class="c4"><span class="c0">Reserved</span></p></td><td class="c226" colspan="1" rowspan="1"><p class="c4"><span class="c0">Reserved</span></p></td><td class="c218" colspan="2" rowspan="1"><p class="c4"><span class="c0">Reserved</span></p></td><td class="c243" colspan="1" rowspan="1"><p class="c4"><span class="c0">Reserved</span></p></td><td class="c504" colspan="3" rowspan="1"><p class="c4"><span class="c0">Topic Type</span></p></td></tr><tr class="c18"><td class="c77" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c243" colspan="1" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c218" colspan="1" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c226" colspan="1" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c218" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c243" colspan="1" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c151" colspan="1" rowspan="1"><p class="c4"><span class="c0">X</span></p></td><td class="c204" colspan="2" rowspan="1"><p class="c4"><span class="c0">X</span></p></td></tr><tr class="c18"><td class="c77" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c277" colspan="10" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c77" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c277" colspan="10" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c77" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 6</span></p></td><td class="c277" colspan="10" rowspan="1"><p class="c4"><span class="c0">Topic Alias MSB</span></p></td></tr><tr class="c18"><td class="c77" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 7</span></p></td><td class="c277" colspan="10" rowspan="1"><p class="c4"><span class="c0">Topic Alias LSB</span></p></td></tr><tr class="c18"><td class="c77" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 8</span></p></td><td class="c277" colspan="10" rowspan="1"><p class="c4 c239"><span class="c0">Reason Code</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 25: REGACK packet</span></p><p class="c19 c15"><span class="c55 c0 c54">The REGACK packet is sent by a client or by a GW as an acknowledgment to the receipt and processing of a REGISTER packet.</span></p><h4 class="c1" id="h.2y3w247"><span class="c30">3.8.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.1d96cc0"><span class="c30">3.8.2 REGACK Flags</span></h4><p class="c115 c15"><span class="c0 c41">The REGACK Flags is 1 byte field </span><span class="c0 c41">in Byte position 3 </span><span class="c0 c41">of the REGACK packet. &nbsp;</span></p><p class="c19 c15"><span class="c0">The REGACK Flags</span><span class="c0 c47">&nbsp;</span><span class="c55 c0 c54">field includes the following flag:</span></p><ul class="c59 lst-kix_list_11-0 start"><li class="c393 c110 c95 c395 li-bullet-3"><span class="c46 c42 c41">Topic Type</span><span class="c46 c0 c41">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic value. Refer to </span><span class="c46 c0 c187"><a class="c48" href="#h.2zbgiuw">Table 10</a></span><span class="c46 c0 c41">&nbsp;for the definition of the various topic types.</span></li></ul><h4 class="c1" id="h.2ce457m"><span class="c30">3.8.3 Packet Identifier</span></h4><p class="c466 c110 c95"><span class="c0">The same value as the Packet Identifier in the REGISTER packet being acknowledged.</span></p><h4 class="c1" id="h.3x8tuzt"><span class="c0">3.8.4</span><span class="c0">&nbsp;Topic Alias</span><sup><a href="#cmnt61" id="cmnt_ref61">[bi]</a></sup></h4><p class="c144 c15"><span class="c55 c0 c54">A Topic Alias is an integer value that is used to identify the Topic instead of the Topic Name. This numeric value is used as the Topic Alias.</span></p><h4 class="c1" id="h.rjefff"><span class="c30">3.8.5 Reason Code</span></h4><p class="c19 c15"><span class="c0 c54">Byte 8 in the REGACK packet holds the Register Reason Code. </span><span>The values for the Register Reason Code field are shown in Table 9: Reason Code Values. </span><span class="c23">The sender of the REGACK Packet MUST use one of the </span><span class="c23">Register Reason Codes</span><sup><a href="#cmnt62" id="cmnt_ref62">[bj]</a></sup><span class="c23">.</span></p><h3 class="c1" id="h.3bj1y38"><span class="c118 c254 c121 c54">3.9 Publish Variants</span></h3><p class="c19 c15"><span>MQTT-SN is designed to be optimized for packet size. For this reason, the PUBLISH packet has been split into 3 variants; Variant 1 catering for PUBLISH WITHOUT SESSION where no </span><span>GW </span><span>session is required, Variant 2 catering for Quality of Service 0 where no response ACK is required and thus no packet identifier is required and Quality of Service 1 and 2 where a response is expected. The </span><span>table below</span><sup><a href="#cmnt63" id="cmnt_ref63">[bk]</a></sup><span>&nbsp;breaks down the different versions of the PUBLISH packet and their respective type identifiers.</span></p><table class="c120"><tr class="c386"><td class="c137 c67" colspan="1" rowspan="1"><p class="c82 c292 c110"><span class="c55 c42 c54">Packet Type</span></p></td><td class="c49 c67" colspan="1" rowspan="1"><p class="c82 c110 c292"><span class="c55 c42 c54">Type</span></p></td><td class="c300 c67" colspan="1" rowspan="1"><p class="c345 c110 c334 c329"><span class="c55 c42 c54">Description</span></p></td></tr><tr class="c386"><td class="c137" colspan="1" rowspan="1"><p class="c82 c15"><span class="c55 c42 c54">Publish</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c82 c110 c141"><span class="c55 c0 c54">0x0C</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c82 c110 c384 c334 c329"><span class="c0 c169">A PUBLISH packet corresponding to Quality of Service (QoS) </span><span class="c0 c169">&nbsp;</span><span class="c55 c0 c54">0, 1 or 2</span></p></td></tr><tr class="c386"><td class="c137" colspan="1" rowspan="1"><p class="c82 c15"><span class="c55 c42 c54">Publish Without Session</span></p></td><td class="c49" colspan="1" rowspan="1"><p class="c82 c141 c110"><span class="c55 c0 c54">0x11</span></p></td><td class="c300" colspan="1" rowspan="1"><p class="c82 c110 c334 c329"><span class="c55 c0 c54">A PUBLISH Packet sent by a Client and does not need not to have an active Session</span></p></td></tr></table><h3 class="c200 c110 c95" id="h.j8sehv"><span>3.10 </span><span class="c0">PUB</span><span>WOS - Publish Without Session</span></h3><table class="c146"><tr class="c18"><td class="c38 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c67 c129" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c325 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c130 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c198 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c473 c67" colspan="3" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c67 c263" colspan="2" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c32 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c322 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Type (0x11)</span></p></td></tr><tr class="c152"><td class="c38" colspan="1" rowspan="2"><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c186 c155" colspan="14" rowspan="1"><p class="c4"><span class="c42 c47">PUBWOS FLAGS</span></p></td></tr><tr class="c152"><td class="c423" colspan="4" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c316" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">Retain</span></p></td><td class="c237" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c10" colspan="4" rowspan="1"><p class="c4"><span class="c16 c0">Topic Type</span></p><p class="c19 c15 c86"><span class="c16 c0"></span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c164" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c76" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c316" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c320" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c389" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c247" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td></tr><tr class="c152"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Topic Data MSB</span></p></td></tr><tr class="c152"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Topic Data LSB</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (6 + TL) .. N</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4 c239"><span class="c0">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 28</span><sup><a href="#cmnt64" id="cmnt_ref64">[bl]</a></sup><span class="c101 c64 c41">: PUBW</span><span class="c249 c41 c106">O</span><span class="c101 c64 c41">S packet</span></p><p class="c19 c15"><span class="c0">This packet is used by both clients and gateways to publish data for a certain topic.</span></p><p class="c19 c110 c95"><span class="c0">The </span><span class="c0">PUBWOS packet does not have a corresponding feature in MQTT. </span><span class="c0 c23">If forwarded to an MQTT connection, PUBWOS packets MUST have their MQTT Quality of Service level set to 0. </span><span class="c118 c0 c169 c33 c54">[MQTT-SN-3.10-1]</span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c55 c0 c190">If the Transport Layer supports multicast, like UDP/IP, the PUBWOS packet is generally sent to a Multicast Address.</span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c190">PUBWOS packets received by a Gateway are not associated with a MQTT-SN Client Session and can be optionally discarded by the Gateway without being processed for onward delivery.</span></p><h4 class="c1" id="h.338fx5o"><span class="c30">3.10.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.1idq7dh"><span class="c30">3.10.2 PUBWOS Flags</span></h4><p class="c19 c15"><span class="c0">The PUBWOS Flags field is 1-byte </span><span class="c0">located in the Byte 3 position </span><span class="c55 c0 c54">of the PUBWOS control packet. </span></p><p class="c19 c15"><span class="c55 c0 c54">The PUBWOS Flags includes the following flags:</span></p><ul class="c59 lst-kix_list_7-0 start"><li class="c381 c110 li-bullet-4"><span class="c42">Topic Type</span><span class="c0">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic data field. Refer to </span><span class="c0 c187"><a class="c48" href="#h.2zbgiuw">Table 10</a></span><span class="c0">&nbsp;for the definition of the various topic types. </span><span class="c42">NOTE: only predefined topic alias, short topic or full topic types are allowed in PUBWOS packets.</span></li><li class="c445 c419 c110 li-bullet-5"><span class="c42">Retain</span><span class="c0">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing Retained Message for this topic is replaced or kept. For a detailed description of Retained Messages see </span><span class="c124 c0"><a class="c48" href="#h.ly7c1y">section 4.26</a></span><span class="c55 c0 c54">.</span></li></ul><h4 class="c1" id="h.42ddq1a"><span class="c30">3.10.3 Topic Data</span></h4><p class="c15 c393"><span class="c0">Contains 2 bytes of topic length (if the topic type is Full Topic Name) or the topic alias (predefined), or short topic name as indicated in the </span><span class="c0 c47">Topic Type </span><span class="c55 c0 c54">field in flags. Determines the topic which this payload will be published to.</span></p><h4 class="c1" id="h.2hio093"><span class="c30">3.10.4 Data</span></h4><p class="c19 c15"><span>In the case of Topic Alias Type b11 the data section will be prefixed with a &ldquo;Full Topic Name&rdquo; encoded with a UTF-8 encoded string value of length determined by the previously defined length field. Thereafter, </span><span class="c0">the </span><span class="c0 c47">Data </span><span class="c55 c0 c54">field corresponds to the payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><h4 class="c431 c240 c110 c95 c239 c327" id="h.whhpchgpz502"><span class="c118 c254 c230 c321 c54">3.10.5 PUBWOS Actions</span></h4><p class="c134 c110"><span class="c55 c0 c54">The Client or Server uses a PUBWOS packet to send an Application Message to a Network Address, for possible receipt by a Server or another Client.</span></p><p class="c134 c110"><span class="c0 c23">If received by a Client or Server, the PUBWOS packet MUST be treated as if its QoS were 0 </span><span class="c0 c33">[MQTT-SN-3.10.5-1] </span><span class="c0 c41">as described in </span><span class="c124 c0"><a class="c48" href="#h.3hu8nopr74va">section 3.12.7</a></span><span class="c34 c0 c54">.</span></p><h3 class="c110 c95 c200" id="h.wnyagw"><span>3.</span><span>11 </span><span class="c0">PUBLISH - QoS 0</span></h3><table class="c146"><tr class="c18"><td class="c265 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c90 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c98 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c204 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c204 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c355 c67" colspan="3" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c67 c457" colspan="2" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c98 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c184 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c265" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c291" colspan="14" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c265" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c291" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Type (0x0C)</span></p></td></tr><tr class="c152"><td class="c265" colspan="1" rowspan="2"><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c291 c155" colspan="14" rowspan="1"><p class="c4"><span class="c42 c47">PUBLISH QoS 0 FLAGS</span></p></td></tr><tr class="c152"><td class="c218" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">Reserved</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c474" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">QoS</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c80" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">Retain</span></p></td><td class="c80" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c528" colspan="4" rowspan="1"><p class="c4"><span class="c16 c0">Topic Type</span></p><p class="c19 c15 c86"><span class="c16 c0"></span></p></td></tr><tr class="c18"><td class="c265" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c218" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c312" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c174" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c80" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c80" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c218" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c247" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td></tr><tr class="c18"><td class="c265" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c291" colspan="14" rowspan="1"><p class="c4"><span class="c0">Topic Data MSB</span></p></td></tr><tr class="c18"><td class="c265" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c291" colspan="14" rowspan="1"><p class="c4"><span class="c0">Topic Data LSB</span></p></td></tr><tr class="c18"><td class="c265" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (6 + TL) .. N</span></p></td><td class="c291" colspan="14" rowspan="1"><p class="c4 c239"><span class="c0">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 29: PUBLISH packet</span></p><p class="c19 c15"><span class="c0">This packet is used by both clients and gateways to publish data for a certain topic. </span><span class="c0 c23">PUBLISH QoS 0, 1 &amp; 2 packets received by a Gateway </span><span class="c0 c23">MUST be associated with a </span><span class="c0 c23">valid Client </span><span class="c0 c23">Session</span><span class="c0 c23">&nbsp;</span><sup><a href="#cmnt65" id="cmnt_ref65">[bm]</a></sup><span class="c118 c0 c169 c33 c54">[MQTT-SN-3.11-1].</span></p><h4 class="c1" id="h.3gnlt4p"><span class="c0">3.</span><span class="c30">11.1 Length &amp; Packet Type</span></h4><p class="c15 c268"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.1vsw3ci"><span class="c30">3.11.2 PUBLISH Flags</span></h4><p class="c19 c15"><span class="c55 c0 c54">The PUBLISH Flags field is 1-byte located in Byte 3 position of the PUBLISH control packet. </span></p><p class="c19 c15"><span class="c55 c0 c54">The PUBLISH Flags includes the following flags:</span></p><ul class="c59 lst-kix_list_7-0"><li class="c110 c381 li-bullet-6"><span class="c42">Topic Type</span><span class="c0">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic data field. Refer to </span><span class="c0 c187"><a class="c48" href="#h.2zbgiuw">Table 10</a></span><span class="c55 c0 c54">&nbsp;for the definition of the various topic types.</span></li><li class="c110 c342 li-bullet-7"><span class="c46 c42 c41">QoS</span><span class="c46 c0 c41">: This is a 2-bit field stored in Bit 5 and 6. QoS has the same meaning as with MQTT indicating the Quality of Service. This field is set to &ldquo;0b00&rdquo; for QoS 0. For a detailed description of the various Quality Of Service levels refer to </span><span class="c124 c0 c106"><a class="c48" href="#h.2i9l8ns">section 4.3</a></span><span class="c46 c0 c41">.</span></li><li class="c445 c419 c110 li-bullet-8"><span class="c42">Retain</span><span class="c0">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing Retained Message for this topic is replaced or kept. For a detailed description of Retained Messages see </span><span class="c124 c0"><a class="c48" href="#h.ly7c1y">section 4.26</a></span><span class="c55 c0 c54">.</span></li></ul><h4 class="c1" id="h.4fsjm0b"><span class="c30">3.11.3 Topic Data</span></h4><p class="c393 c15"><span class="c0">Contains 2 bytes of topic length (if the topic type is Full Topic Name) or the topic alias (predefined or </span><span class="c0">normal</span><span class="c0">), or short topic name as indicated in the </span><span class="c0 c47">Topic Type </span><span class="c55 c0 c54">field in flags. Determines the topic which this payload will be published to.</span></p><h4 class="c1" id="h.2uxtw84"><span class="c30">3.11.4 Data</span></h4><p class="c19 c15"><span>In the case of Topic Type b11 the data section will be prefixed with a &ldquo;Full Topic Name&rdquo; encoded with a UTF-8 encoded string value of length determined by the previously defined length field. Thereafter, </span><span class="c0">the </span><span class="c0 c47">Data </span><span class="c55 c0 c54">field corresponds to the payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><h4 class="c1" id="h.inu1col38lh0"><span>3.11.5 </span><span class="c118 c254 c230 c321 c54">PUBLISH - QoS 0 Actions</span></h4><p class="c19 c15"><span class="c0">As described in </span><span class="c124 c0"><a class="c48" href="#h.3hu8nopr74va">section 3.12.7</a></span><span class="c0">.</span></p><h3 class="c200 c110 c95" id="h.1a346fx"><span>3.12 </span><span class="c0">PUBLISH - QoS 1 and 2</span></h3><table class="c146"><tr class="c18"><td class="c38 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c129 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c67 c325" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c130 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c198 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c473 c67" colspan="3" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c263 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c32 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c322 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Type (0x0C)</span></p></td></tr><tr class="c152"><td class="c38" colspan="1" rowspan="2"><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c186 c155" colspan="14" rowspan="1"><p class="c4"><span class="c42 c47">PUBLISH QoS 1&amp;2 FLAGS</span></p></td></tr><tr class="c152"><td class="c164" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">DUP</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c462" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">QoS</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c316" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">Retain</span></p></td><td class="c320" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c10" colspan="4" rowspan="1"><p class="c4"><span class="c16 c0">Topic Type</span></p><p class="c19 c15 c86"><span class="c16 c0"></span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c164" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c76" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c316" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c320" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c389" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c247" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 6</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Topic Data MSB</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 7</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4"><span class="c0">Topic Data LSB</span></p></td></tr><tr class="c18"><td class="c38" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (8 + TL) .. N</span></p></td><td class="c186" colspan="14" rowspan="1"><p class="c4 c239"><span class="c0">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 30: PUBLISH packet</span></p><p class="c19 c15"><span class="c55 c0 c54">This packet is used by both clients and gateways to publish data for a certain topic.</span></p><p class="c19 c110 c95"><span class="c0 c23">PUBLISH QoS 0, 1 &amp; 2 packets received by a Gateway MUST be associated with a </span><span class="c0 c23">valid Client </span><span class="c0 c23">Session </span><span class="c118 c0 c169 c33 c54">[MQTT-SN-3.12-1].</span></p><h4 class="c1" id="h.3u2rp3q"><span class="c0">3.</span><span class="c30">12.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.2981zbj"><span class="c30">3.12.2 PUBLISH Flags</span></h4><p class="c19 c15" id="h.odc9jc"><span class="c0">The PUBLISH Flags field is 1-byte</span><span class="c0">&nbsp;located in Byte 3 position</span><span class="c55 c0 c54">&nbsp;of the PUBLISH control packet. </span></p><p class="c19 c15"><span class="c55 c0 c54">The PUBLISH Flags includes the following flags:</span></p><ul class="c59 lst-kix_list_7-0"><li class="c391 c110 li-bullet-7"><span class="c46 c42 c41">Topic Type</span><span class="c46 c0 c41">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic </span><span class="c0">data</span><span class="c46 c0 c41">&nbsp;</span><span class="c0">field</span><span class="c46 c0 c41">. Refer to </span><span class="c46 c0 c187"><a class="c48" href="#h.2zbgiuw">Table 10</a></span><span class="c46 c0 c41">&nbsp;for the definition of the various topic types.</span></li><li class="c391 c110 li-bullet-5"><span class="c46 c42 c41">QoS</span><span class="c46 c0 c41">: This is a 2-bit field stored in Bit 5 and 6. QoS has the same meaning as with MQTT indicating the Quality of Service. The </span><span class="c46 c0 c41">QoS levels are shown below:</span></li></ul><table class="c146"><tr class="c298"><td class="c397" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c42 c41">QoS value</span></p></td><td class="c323" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c42 c41">Bit 6</span></p></td><td class="c163" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c42 c41">bit 5</span></p></td><td class="c195" colspan="1" rowspan="1"><p class="c110 c126"><span class="c46 c42 c41">Description</span></p></td></tr><tr class="c298"><td class="c397" colspan="1" rowspan="1"><p class="c126 c110"><span class="c0 c41 c106">0</span></p></td><td class="c323" colspan="1" rowspan="1"><p class="c126 c110"><span class="c0 c41 c106">0</span></p></td><td class="c163" colspan="1" rowspan="1"><p class="c126 c110"><span class="c0 c41 c106">0</span></p></td><td class="c195" colspan="1" rowspan="1"><p class="c439 c110"><span class="c0 c41 c106">At most once delivery</span></p></td></tr><tr class="c298"><td class="c397" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c0 c41">1</span></p></td><td class="c323" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c0 c41">0</span></p></td><td class="c163" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c0 c41">1</span></p></td><td class="c195" colspan="1" rowspan="1"><p class="c439 c110"><span class="c46 c0 c41">At least once delivery</span></p></td></tr><tr class="c298"><td class="c397" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c0 c41">2</span></p></td><td class="c323" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c0 c41">1</span></p></td><td class="c163" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c0 c41">0</span></p></td><td class="c195" colspan="1" rowspan="1"><p class="c439 c110"><span class="c46 c0 c41">Exactly once delivery</span></p></td></tr><tr class="c298"><td class="c397" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c0 c41">-</span></p></td><td class="c323" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c0 c41">1</span></p></td><td class="c163" colspan="1" rowspan="1"><p class="c126 c110"><span class="c46 c0 c41">1</span></p></td><td class="c195" colspan="1" rowspan="1"><p class="c439 c110"><span class="c46 c0 c41">Reserved &ndash; must not be used</span></p></td></tr></table><p class="c439 c20 c490"><span class="c0 c41 c106">Table 3&#8209;2</span><sup><a href="#cmnt66" id="cmnt_ref66">[bn]</a></sup><span class="c46 c0 c41">&nbsp;- QoS definitions</span></p><p class="c439 c110 c480"><span class="c46 c0 c41">For a detailed description of the various Quality Of Service levels</span><span class="c0 c41 c106">&nbsp;</span><span class="c46 c0 c41">refer to </span><span class="c124 c0 c106"><a class="c48" href="#h.2i9l8ns">section 4.3</a></span><span class="c46 c0 c41">.</span></p><ul class="c59 lst-kix_list_7-0"><li class="c391 c110 li-bullet-7"><span class="c46 c42 c41">DUP</span><span class="c46 c0 c41">: 1 bit field stored in Bit 7 and has the same meaning as with MQTT. It notes the duplicate delivery of </span><span class="c0">packets</span><span class="c46 c0 c41">. </span><span class="c46 c0 c41">If the DUP flag </span><span class="c0">is set</span><span class="c46 c0 c41">&nbsp;to &ldquo;0&rdquo;, it signifies that the packet is sent for the first time. If the DUP flag is set to &ldquo;1&rdquo;, it signifies that the packet was retransmitted or retried.</span><span class="c46 c0 c41">&nbsp;</span></li><li class="c445 c419 c110 li-bullet-7"><span class="c42">Retain</span><span class="c0">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether an existing Retained Message for this topic is replaced or kept. For a detailed description of Retained Messages see </span><span class="c124 c0"><a class="c48" href="#h.ly7c1y">section 4.26</a></span><span class="c55 c0 c54">.</span></li></ul><h4 class="c1" id="h.1nia2ey"><span class="c30">3.12.4 Packet Identifier</span></h4><p class="c144 c15"><span class="c55 c0 c54">Used to identify the corresponding PUBACK packet in the case of QoS 1. Used to identify the corresponding PUBREC, PUBREL and PUBCOMP packets in the case of QoS 2. It should ideally be populated with a random integer value.</span></p><h4 class="c1" id="h.47hxl2r"><span class="c30">3.12.5 Topic Data</span></h4><p class="c393 c15"><span class="c0">Contains 2 bytes of topic length (if the topic type is Full Topic Name) or the topic alias (predefined or </span><span class="c0">normal</span><span class="c0">), or short topic name as indicated in the </span><span class="c0 c47">Topic Type </span><span class="c55 c0 c54">field in flags. Determines the topic which this payload will be published to.</span></p><h4 class="c1" id="h.2mn7vak"><span class="c30">3.12.6 Data</span></h4><p class="c68"><span class="c0">The </span><span class="c0 c47">Data </span><span class="c0">field corresponds to the payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><h4 class="c240 c110 c95 c239 c327 c431" id="h.3hu8nopr74va"><span>3.</span><span class="c118 c254 c230 c321 c54">12.7 PUBLISH Actions</span></h4><p class="c339 c110"><span class="c0 c23">The receiver of a PUBLISH </span><span class="c0 c23">P</span><span class="c0 c23">acket MUST respond with the packet as determined by the QoS in the PUBLISH Packet. </span><span class="c0 c33">[MQTT-SN-3.12.7-1]</span><span class="c34 c0 c54">.</span></p><p class="c134 c110"><span class="c0 c41">&nbsp;</span><span class="c0 c41">Table 3&#8209;3</span><sup><a href="#cmnt67" id="cmnt_ref67">[bo]</a></sup><span class="c34 c0 c54">&nbsp;Expected PUBLISH packet response</span></p><table class="c146"><tr class="c298"><td class="c221" colspan="1" rowspan="1"><p class="c110 c471"><span class="c55 c42 c54">QoS Level</span></p></td><td class="c373" colspan="1" rowspan="1"><p class="c471 c110"><span class="c55 c42 c54">Expected Response</span></p></td></tr><tr class="c298"><td class="c221" colspan="1" rowspan="1"><p class="c12 c110"><span class="c55 c0 c54">QoS 0</span></p></td><td class="c373" colspan="1" rowspan="1"><p class="c12 c110"><span class="c55 c0 c54">None</span></p></td></tr><tr class="c298"><td class="c221" colspan="1" rowspan="1"><p class="c12 c110"><span class="c55 c0 c54">QoS 1</span></p></td><td class="c373" colspan="1" rowspan="1"><p class="c12 c110"><span class="c55 c0 c54">PUBACK packet</span></p></td></tr><tr class="c298"><td class="c221" colspan="1" rowspan="1"><p class="c12 c110"><span class="c55 c0 c54">QoS 2</span></p></td><td class="c373" colspan="1" rowspan="1"><p class="c12 c110"><span class="c55 c0 c54">PUBREC packet</span></p></td></tr></table><p class="c134 c110"><span class="c55 c0 c54">The Client uses a PUBLISH packet to send an Application Message to the Server, for distribution to Clients with matching subscriptions.</span></p><p class="c134 c110"><span class="c0">The Server uses a PUBLISH packet to send an Application Message to each Client which has a matching subscription. The PUBLISH packet includes </span><span class="c0">the Subscription Identifier </span><sup><a href="#cmnt68" id="cmnt_ref68">[bp]</a></sup><span class="c55 c0 c54">carried in the SUBSCRIBE packet, if there was one. </span></p><p class="c134 c110"><span class="c0">When Clients make subscriptions with Topic Filters that include wildcards, it is possible for a Client&rsquo;s subscriptions to overlap so that a published Application Message might match multiple filters. </span><span class="c0 c23">In this case the Server MUST deliver the Application Message to the Client respecting the maximum QoS of all the matching subscriptions</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.12.7-2]</span><span class="c55 c0 c54">. In addition, the Server MAY deliver further copies of the Application Message, one for each additional matching subscription and respecting the subscription&rsquo;s QoS in each case. </span></p><p class="c134 c110"><span class="c0">The action of the recipient when it receives a PUBLISH packet depends on the QoS level as described in </span><span class="c124 c0"><a class="c48" href="#h.2i9l8ns">section 4.3</a></span><span class="c0 c516">.</span></p><p class="c134 c110 c361"><span class="c55 c42 c54">Informative Comment</span></p><p class="c134 c20"><span class="c55 c0 c54">If the Server distributes Application Messages to Clients to different protocols and levels (such as MQTT V3.1.1) which do not support features provided by this specification, some information in the Application Message can be lost, and applications which depend on this information might not work correctly.</span></p><p class="c134 c110"><span class="c0 c23">The Client MUST NOT send more than one QoS 1 or QoS 2 PUBLISH packet for which it has not received PUBACK, PUBCOMP, or PUBREC </span><span class="c0 c23">with a Reason Code of 128 or greater from the </span><span class="c0 c23">Server</span><sup><a href="#cmnt69" id="cmnt_ref69">[bq]</a></sup><sup><a href="#cmnt70" id="cmnt_ref70">[br]</a></sup><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-3.3.4-7]</span><span class="c0">. If </span><span class="c0">it </span><sup><a href="#cmnt71" id="cmnt_ref71">[bs]</a></sup><span class="c0">receives more than one QoS 1 or QoS 2 PUBLISH packets where it has not sent a PUBACK or PUBCOMP in response, the Server uses a DISCONNECT packet with Reason Code 0x93 (Receive Maximum exceeded) as described in </span><span class="c124 c0"><a class="c48" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c0">&nbsp;Handling errors. Refer to</span><span class="c124 c0"><a class="c48" href="#h.bfojn6tjnvgm">&nbsp;section 4.9</a></span><span class="c0">&nbsp;for more information about flow control.</span><sup><a href="#cmnt72" id="cmnt_ref72">[bt]</a></sup><sup><a href="#cmnt73" id="cmnt_ref73">[bu]</a></sup></p><p class="c134 c20"><span class="c55 c42 c54">Informative comment</span></p><p class="c134 c20"><span class="c55 c0 c54">The Client might choose to suspend the sending of QoS 0 PUBLISH packets when it suspends the sending of QoS 1 and QoS 2 PUBLISH packets. </span></p><p class="c134 c110"><span class="c0 c23">The Server MUST NOT send more than one QoS 1 and QoS 2 PUBLISH packet for which it has not received PUBACK, PUBCOMP, or PUBREC with a Reason Code of 128 or greater from the Client</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-3.3.4-9]</span><span class="c0">. If it receives more than one QoS 1 and QoS 2 PUBLISH packets where it has not sent a PUBACK or PUBCOMP in response, the Client uses DISCONNECT with Reason Code 0x93 (Receive Maximum exceeded) as described in </span><span class="c124 c0"><a class="c48" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c0">&nbsp;Handling errors. Refer to </span><span class="c124 c0"><a class="c48" href="#h.bfojn6tjnvgm">section 4.9</a></span><span class="c0">&nbsp;for more information about flow control.</span><sup><a href="#cmnt74" id="cmnt_ref74">[bv]</a></sup></p><p class="c134 c20"><span class="c55 c42 c54">Informative comment</span></p><p class="c134 c20"><span class="c55 c0 c54">The Server might choose to suspend the sending of QoS 0 PUBLISH packets when it suspends the sending of QoS 1 and QoS 2 PUBLISH packets.</span></p><h3 class="c200 c110 c95" id="h.11si5id"><span>3.13 </span><span class="c0">PUBACK &ndash; Publish Acknowledgement</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Reason Code</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 31: PUBACK packet</span></p><p class="c19 c15"><span class="c0">A PUBACK packet is the response to a PUBLISH packet with QoS 1. </span><span class="c0">It can also be sent as response to a PUBLISH packet of any QoS</span><sup><a href="#cmnt75" id="cmnt_ref75">[bw]</a></sup><span class="c0">&nbsp;(</span><span class="c0 c47">with the exception of </span><span class="c0 c47">QoS -1</span><sup><a href="#cmnt76" id="cmnt_ref76">[bx]</a></sup><span class="c0 c47">, or PUBWOS</span><span class="c0">) in case of an error; the error reason is then indicated in the </span><span class="c0 c47">Reason Code </span><span class="c55 c0 c54">field.</span></p><h4 class="c1" id="h.3ls5o66"><span class="c30">3.13.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.20xfydz"><span class="c30">3.13.2 Packet Identifier</span></h4><p class="c211 c15"><span class="c55 c0 c54">The same value as the Packet Identifier in the PUBLISH Packet being acknowledged.</span></p><h4 class="c1" id="h.4kx3h1s"><span class="c30">3.13.3 Reason Code</span></h4><p class="c144 c15"><span class="c0">Byte 5 in the PUBACK packet holds the Reason code in response to the PUBLISH packet. </span><span class="c0">The PUBACK Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c55 c0 c54">The Client or Server sending the PUBACK packet MUST use one of the PUBACK Reason Codes.</span></p><h4 class="c144 c240 c110 c95 c239" id="h.xgybvs5ktz8v"><span>3.13.4 </span><span class="c118 c254 c230 c321 c54">PUBACK Actions</span></h4><p class="c19 c15"><span>As described in </span><span class="c124"><a class="c48" href="#h.1au1eum">section 4.3.3</a></span><span class="c55 c64 c54">.</span></p><h3 class="c296 c240 c110 c95 c239" id="h.302dr9l"><span>3.</span><span>14 </span><span class="c0">PUBREC (QoS 2 delivery part 1)</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;LSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Reason Code</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 33</span><sup><a href="#cmnt77" id="cmnt_ref77">[by]</a></sup><span class="c101 c64 c41">: PUBREC packet</span></p><p class="c19 c15"><span class="c55 c0 c54">A PUBREC packet is the response to a PUBLISH packet with QoS 2. It is the second packet of the QoS 2 protocol exchange.</span></p><h4 class="c1" id="h.1f7o1he"><span class="c30">3.14.1 Length &amp; Packet Type</span></h4><p class="c15 c144"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.3z7bk57"><span class="c30">3.14.2 Packet Identifier</span></h4><p class="c211 c15"><span class="c55 c0 c54">The same value as the Packet Identifier in the PUBLISH Packet being acknowledged.</span></p><h4 class="c1" id="h.e5jf58hkzqw8"><span class="c30">3.14.3 Reason Code</span></h4><p class="c144 c15"><span class="c0">Byte 5 in the PUBREC packet holds the Reason code in response to the PUBLISH packet. </span><span class="c0">The PUBREC Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c55 c0 c54">The Client or Server sending the PUBREC packet MUST use one of the PUBREC Reason Codes.</span></p><h4 class="c144 c110 c95 c239 c240" id="h.kktb96s9v8sj"><span>3.14.4 </span><span class="c118 c254 c230 c321 c54">PUBREC Actions</span></h4><p class="c144 c15"><span class="c0">As described in </span><span class="c124 c0"><a class="c48" href="#h.1o97atn">section 4.3.4</a></span><span class="c0">.</span></p><h3 class="c240 c110 c95 c239 c296" id="h.2eclud0"><span>3.15 </span><span class="c0">PUBREL (QoS 2 delivery part 2)</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;LSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Reason Code</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 34: PUBREL packet</span></p><p class="c19 c15"><span class="c55 c0 c54">A PUBREL packet is the response to a PUBREC packet. It is the third packet of the QoS 2 protocol exchange.</span></p><h4 class="c1" id="h.thw4kt"><span class="c30">3.15.1 Length &amp; Packet Type</span></h4><p class="c144 c110 c95"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.3dhjn8m"><span class="c30">3.15.2 Packet Identifier</span></h4><p class="c211 c15"><span class="c55 c0 c54">The same value as the Packet Identifier in the PUBLISH Packet being acknowledged.</span></p><h4 class="c1" id="h.o7qegribw1em"><span class="c30">3.15.3 Reason Code</span></h4><p class="c144 c15"><span class="c0">Byte 5 in the PUBREL packet holds the Reason code in response to the PUBREC packet. </span><span class="c0">The PUBREL Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c55 c0 c54">The Client or Server sending the PUBREL packet MUST use one of the PUBREL Reason Codes.</span></p><h4 class="c144 c240 c110 c95 c239" id="h.nj4sqaal9xm4"><span class="c118 c254 c230 c321 c54">3.15.4 PUBREL Actions</span></h4><p class="c144 c15"><span class="c0">As described in </span><span class="c124 c0"><a class="c48" href="#h.1o97atn">section 4.3.4</a></span><span class="c55 c0 c54">.</span></p><h3 class="c296 c240 c110 c95 c239" id="h.1smtxgf"><span>3.16 </span><span class="c0">PUBCOMP - Publish Complete (QoS 2 delivery part 3)</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;LSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Reason Code</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 35: PUBCOMP packet</span></p><p class="c19 c15"><span class="c55 c0 c54">The PUBCOMP packet is the response to a PUBREL packet. It is the fourth and final packet of the QoS 2 protocol exchange.</span></p><h4 class="c1" id="h.4cmhg48"><span class="c30">3.16.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.2rrrqc1"><span class="c30">3.16.2 Packet Identifier</span></h4><p class="c211 c15"><span class="c55 c0 c54">The same value as the Packet Identifier in the PUBLISH Packet being acknowledged.</span></p><h4 class="c1" id="h.j9ce9nedlrkd"><span class="c30">3.16.3 Reason Code</span></h4><p class="c144 c15"><span class="c0">Byte 5 in the PUBCOMP packet holds the Reason code in response to the PUBREL packet. </span><span class="c0">The PUBCOMP Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c55 c0 c54">The Client or Server sending the PUBCOMP packet MUST use one of the PUBCOMP Reason Codes.</span></p><h4 class="c144 c240 c110 c95 c239" id="h.wwlbpe629g7j"><span class="c118 c254 c230 c321 c54">3.16.4 PUBCOMP Actions</span></h4><p class="c144 c15"><span class="c0">As described in </span><span class="c124 c0"><a class="c48" href="#h.1o97atn">section 4.3.4</a></span><span class="c55 c0 c54">.</span></p><h3 class="c240 c110 c95 c239 c416" id="h.16x20ju"><span>3.17 </span><span class="c0">SUBSCRIBE - Subscribe Request</span></h3><table class="c146"><tr class="c18"><td class="c251 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c67 c287" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c67 c533" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c284 c67" colspan="3" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c294 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c67 c258" colspan="2" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c100 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c100 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c67 c508" colspan="2" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c251" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c385" colspan="13" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c251" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c385" colspan="13" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c152"><td class="c251" colspan="1" rowspan="2"><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c155 c385" colspan="13" rowspan="1"><p class="c4"><span class="c42 c47">SUBSCRIBE FLAGS</span></p></td></tr><tr class="c152"><td class="c496" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">No Local</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c362" colspan="3" rowspan="1"><p class="c4"><span class="c16 c0">QoS</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c463" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">Retain as published</span></p></td><td class="c417" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">Retain Handling</span></p></td><td class="c510" colspan="3" rowspan="1"><p class="c4"><span class="c16 c0">Topic Type</span></p><p class="c19 c15 c86"><span class="c16 c0"></span></p></td></tr><tr class="c18"><td class="c251" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c496" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c359" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c427" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c463" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c258" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c223" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c196" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td></tr><tr class="c18"><td class="c251" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c385" colspan="13" rowspan="1"><p class="c4"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;MSB</span></p></td></tr><tr class="c18"><td class="c251" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c385" colspan="13" rowspan="1"><p class="c4"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;LSB</span></p></td></tr><tr class="c18"><td class="c251" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 6</span></p></td><td class="c229" colspan="4" rowspan="1"><p class="c4"><span class="c0">Topic Data MSB</span></p></td><td class="c446" colspan="4" rowspan="2"><p class="c4"><span class="c42">OR</span></p></td><td class="c524" colspan="5" rowspan="2"><p class="c4"><span class="c11 c0">Topic Filter</span></p><p class="c4"><span class="c0">Byte 6 &hellip; N</span></p></td></tr><tr class="c18"><td class="c251" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 7</span></p></td><td class="c240 c511" colspan="4" rowspan="1"><p class="c4"><span class="c0">Topic Data LSB</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 36: SUBSCRIBE packet</span></p><p class="c19 c110 c95 c327"><span class="c0">The SUBSCRIBE packet</span><sup><a href="#cmnt78" id="cmnt_ref78">[bz]</a></sup><span class="c55 c0 c54">&nbsp;is used by a client to subscribe to a certain topic name.</span></p><h4 class="c1" id="h.3qwpj7n"><span class="c30">3.17.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.261ztfg"><span class="c30">3.17.2 SUBSCRIBE Flags</span></h4><p class="c19 c15"><span class="c55 c0 c54">The SUBSCRIBE Flags field is 1-byte and contains the following flags:</span></p><ul class="c59 lst-kix_list_8-0 start"><li class="c65 c110 c368 li-bullet-0"><span class="c46 c42 c41">QoS</span><span class="c46 c0 c41">: maximum QoS. This gives the maximum QoS level at which the Server can send Application Messages to the Client. It is a Protocol Error if the Maximum QoS field has the value 3.</span></li><li class="c368 c65 c110 li-bullet-0"><span class="c46 c42 c41 c23">No Local</span><span class="c46 c0 c41 c23">: if the value is 1, Application Messages MUST NOT be forwarded to a</span><span class="c46 c0 c41 c23">&nbsp;Virtual Connection with a ClientID</span><sup><a href="#cmnt79" id="cmnt_ref79">[ca]</a></sup><span class="c46 c0 c41 c23">&nbsp;equal to the ClientID of the publishing </span><span class="c0 c23">Virtual C</span><span class="c46 c0 c41 c23">onnection.</span></li><li class="c368 c65 c110 li-bullet-0"><span class="c46 c42 c41">Retain as published</span><span class="c46 c0 c41">: If 1, Application Messages forwarded using this subscription keep the RETAIN flag they were published with. If 0, Application Messages forwarded using this subscription have the RETAIN flag set to 0. </span><span class="c46 c0 c41">Retained messages sent when the subscription is established have the RETAIN flag set to 1.</span><sup><a href="#cmnt80" id="cmnt_ref80">[cb]</a></sup></li><li class="c368 c65 c110 li-bullet-0"><span class="c46 c42 c41">Retain handling</span><span class="c46 c0 c41">: This option specifies whether retained messages are sent when the subscription is established. This does not affect the sending of retained messages at any point after the subscribe. If there are no retained messages matching the Topic Filter, all these values act the same. The values are:</span></li></ul><ul class="c59 lst-kix_list_8-1 start"><li class="c65 c110 c453 li-bullet-0"><span class="c46 c0 c41">0: Send retained messages at the time of the subscribe</span></li><li class="c453 c65 c110 li-bullet-0"><span class="c46 c0 c41">1: Send retained messages at subscribe only</span><span class="c46 c0 c41">&nbsp;if the subscription does not currently exist</span></li><li class="c453 c65 c110 li-bullet-0"><span class="c46 c0 c41">2: Do not send retained messages at the time </span><span class="c0">the new subscription is processed</span><span class="c46 c0 c41">.</span></li></ul><p class="c368 c110 c95"><span class="c46 c0 c41">It is a Protocol Error to send a Retain Handling value of 3.</span></p><ul class="c59 lst-kix_list_11-0"><li class="c93 li-bullet-9"><span class="c46 c42 c41">Topic Type</span><sup><a href="#cmnt81" id="cmnt_ref81">[cc]</a></sup><span class="c46 c0 c41">: </span><span class="c0">This is a 2-bit field in Bit 0 and 1 which determines the format of the topic data field. Refer to </span><span class="c0 c187"><a class="c48" href="#h.2zbgiuw">Table 10</a></span><span class="c0">&nbsp;for the definition of the various topic types.</span><sup><a href="#cmnt82" id="cmnt_ref82">[cd]</a></sup></li></ul><h4 class="c1" id="h.l7a3n9"><span class="c30">3.17.3 Packet Identifier</span></h4><p class="c99"><span class="c55 c0 c54">Used to identify the corresponding SUBACK packet. It should ideally be populated with a random integer value.</span></p><h4 class="c1" id="h.356xmb2"><span class="c30">3.17.4 Topic Data or Topic Filter</span></h4><p class="c393 c15"><span class="c0">Contains Fixed Length UTF-8 Encoded String topic filter, topic alias (predefined or </span><span class="c0">normal</span><span class="c0">), or short topic name as indicated in the </span><span class="c0 c47">Topic Type </span><span class="c55 c0 c54">field in flags. Determines the topic names which this subscription is interested in.</span></p><h4 class="c424 c15" id="h.8f4jncpi264u"><span>3.</span><span class="c118 c254 c230 c321 c54">17.5 SUBSCRIBE Actions</span></h4><p class="c235 c110"><span class="c0 c23">When the Server receives a SUBSCRIBE packet from a Client, the Server MUST respond with a SUBACK packet</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.17.5-1]</span><span class="c0">. </span><span class="c0 c23">The SUBACK packet MUST have the same Packet Identifier as the SUBSCRIBE packet that it is acknowledging</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.17.5-2]</span><span class="c55 c0 c54">.</span></p><p class="c110 c235"><span class="c0">The Server is permitted to start sending PUBLISH packets matching the Subscription before the Server sends the SUBACK packet.</span><sup><a href="#cmnt83" id="cmnt_ref83">[ce]</a></sup></p><p class="c235 c110"><span class="c0 c23">If a Server receives a SUBSCRIBE packet containing a Topic Filter that is identical to a Subscription&rsquo;s Topic Filter for the current Session, then it MUST replace that existing Subscription with a new Subscription</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.17.5-3]</span><span class="c0">. The Topic Filter in the new Subscription will be identical to that in the previous Subscription, although its Subscription Options could be different. </span><span class="c0 c23">If the Retain Handling option is 0, any existing retained messages matching the Topic Filter MUST be re-sent, </span><span class="c0 c23">but Application Messages MUST NOT be lost due to replacing the Subscription</span><sup><a href="#cmnt84" id="cmnt_ref84">[cf]</a></sup><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.17.5-4]</span><span class="c55 c0 c54">.</span></p><p class="c235 c110"><span class="c0">If a Server receives a Topic Filter that is not identical to any Topic Filter for the current Session, a new Subscription is created. If the Retain Handling option is not 2, all matching retained messages are sent to the Client.</span></p><p class="c235 c110"><span class="c0 c23">The SUBACK packet sent by the Server to the Client MUST contain a Reason Code</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.17.5-5]</span><span class="c0">. </span><span class="c0 c23">This Reason Code MUST either show the maximum QoS that was granted for that Subscription or indicate that the subscription failed</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.17.5-6]</span><span class="c0 c41">. The Server might grant a lower Maximum QoS than the subscriber requested. </span><span class="c0 c23">The QoS of Application Messages sent in response to a Subscription MUST be the minimum of the QoS of the originally published Application message and the Maximum QoS granted by the Server</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.17.5-7]</span><span class="c0">. The server is permitted to send duplicate copies of a </span><span class="c0">Application </span><span class="c0">message to a subscriber in the case where the original </span><span class="c0">Application </span><span class="c55 c0 c54">message was published with QoS 1 and the maximum QoS granted was QoS 0.</span></p><p class="c235 c20"><span class="c42">Informative comment<br></span><span class="c0">If a subscribing Client has been granted maximum QoS 1 for a particular Topic Filter, then a QoS 0 Application Message matching the filter is delivered to the Client at QoS 0. This means that at most one copy of the </span><span class="c0">Application M</span><span class="c0">essage is received by the Client. On the other hand, a QoS 2 </span><span class="c0">Application </span><span class="c0">Message published to the same topic is downgraded by the Server to QoS 1 for delivery to the Client, so that Client might receive duplicate copies of the </span><span class="c0">Application </span><span class="c55 c0 c54">Message. </span></p><p class="c235 c20"><span class="c55 c42 c54">Informative comment</span></p><p class="c235 c20"><span class="c55 c0 c54">If the subscribing Client has been granted maximum QoS 0, then an Application Message originally published as QoS 2 might get lost on the hop to the Client, but the Server should never send a duplicate of that Application Message. A QoS 1 Application Message published to the same topic might either get lost or duplicated on its transmission to that Client.</span></p><p class="c235 c20"><span class="c55 c42 c54">Informative comment</span></p><p class="c235 c20"><span class="c0">Subscribing to a Topic Filter at QoS 2 is equivalent to saying &quot;I would like to receive Application Messages matching this filter at the QoS with which they were published&quot;. This means a publisher is responsible for determining the maximum QoS an </span><span class="c0">Application </span><span class="c55 c0 c54">Message can be delivered at, but a subscriber is able to require that the Server downgrades the QoS to one more suitable for its usage.</span></p><h3 class="c200 c110 c95" id="h.1kc7wiv"><span>3.18 </span><span class="c0">SUBACK - Subscribe Acknowledgement</span></h3><table class="c146"><tr class="c18"><td class="c143 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c132 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c260 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c67 c489" colspan="2" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c299 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c67 c242" colspan="2" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c287 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c245 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c38 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c143" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c388" colspan="13" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c143" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c388" colspan="13" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c152"><td class="c143" colspan="1" rowspan="2"><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c388 c155" colspan="13" rowspan="1"><p class="c4"><span class="c42 c47">SUBACK FLAGS</span></p></td></tr><tr class="c152"><td class="c175" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">Reserved</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c449" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">Reserved</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c506" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c175" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c514" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c441" colspan="3" rowspan="1"><p class="c4"><span class="c16 c0">Topic Type</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td></tr><tr class="c18"><td class="c143" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c175" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c284" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c506" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c175" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c514" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c523" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c387" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td></tr><tr class="c18"><td class="c143" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c388" colspan="13" rowspan="1"><p class="c4"><span class="c0">Topic Data MSB</span></p></td></tr><tr class="c18"><td class="c143" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c388" colspan="13" rowspan="1"><p class="c4"><span class="c0">Topic Data LSB</span></p></td></tr><tr class="c18"><td class="c143" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 6</span></p></td><td class="c388" colspan="13" rowspan="1"><p class="c4"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;MSB</span></p></td></tr><tr class="c18"><td class="c143" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 7</span></p></td><td class="c388" colspan="13" rowspan="1"><p class="c4"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;LSB</span></p></td></tr><tr class="c18"><td class="c143" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 8</span></p></td><td class="c388" colspan="13" rowspan="1"><p class="c4 c239"><span class="c0">Reason Code</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 37: SUBACK packet</span></p><p class="c19 c15"><span class="c55 c0 c54">The SUBACK packet is sent by a gateway to a client as an acknowledgment to the receipt and processing of a SUBSCRIBE packet.</span></p><h4 class="c1" id="h.44bvf6o"><span class="c30">3.18.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.2jh5peh"><span class="c30">3.18.2 Flags</span></h4><p class="c19 c15"><span class="c0">The SUBACK Flags field is 1-byte </span><span class="c0">located in Byte 3 position </span><span class="c55 c0 c54">of the SUBACK control packet. The SUBACK Flags includes the following flags:</span></p><ul class="c59 lst-kix_list_7-0"><li class="c110 c391 li-bullet-10"><span class="c46 c42 c41">Topic Type</span><sup><a href="#cmnt85" id="cmnt_ref85">[cg]</a></sup><span class="c46 c0 c41">. </span><span class="c0">This is a 2-bit field in Bit 0 and 1 which determines the format of the topic data field. Refer to </span><span class="c0 c187"><a class="c48" href="#h.2zbgiuw">Table 10</a></span><span class="c0">&nbsp;for the definition of the various topic types.</span></li></ul><h4 class="c1" id="h.ymfzma"><span class="c30">3.18.3 Topic Data</span></h4><p class="c15 c512"><span class="c0">In case of &ldquo;accepted&rdquo;</span><sup><a href="#cmnt86" id="cmnt_ref86">[ch]</a></sup><span class="c0">&nbsp;the </span><span class="c0">value that</span><span class="c0">&nbsp;will be used as topic alias by the gateway when sending PUBLISH packets to the client (</span><span class="c0">not relevant</span><span class="c0">&nbsp;in case of subscriptions to a short topic name or to a topic name which contains wildcard characters</span><sup><a href="#cmnt87" id="cmnt_ref87">[ci]</a></sup><span class="c0">)</span><sup><a href="#cmnt88" id="cmnt_ref88">[cj]</a></sup></p><h4 class="c1" id="h.3im3ia3"><span class="c30">3.18.4 Packet Identifier</span></h4><p class="c15 c526"><span class="c55 c0 c54">The same value as the Packet Identifier in the SUBSCRIBE Packet being acknowledged.</span></p><h4 class="c1" id="h.1xrdshw"><span class="c30">3.18.5 Reason Code</span></h4><p class="c144 c15"><span class="c0">Byte 8 in the SUBACK packet holds the Reason code in response to the SUBSCRIBE packet. </span><span class="c0">The SUBACK Reason Codes are shown in </span><span>Table 9: Reason Code Values.</span><span class="c0">The Server sending the SUBACK packet MUST use one of the SUBACK Reason Codes.</span></p><h3 class="c416 c240 c110 c95 c239" id="h.4hr1b5p"><span>3.19 </span><span class="c0">UNSUBSCRIBE - Unsubscribe Request</span></h3><table class="c146"><tr class="c18"><td class="c53 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c67 c364" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c67 c537" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c67 c379" colspan="2" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c252 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c67 c492" colspan="4" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c53 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c331 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c67 c465" colspan="2" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c53" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c188" colspan="14" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c53" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c188" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c152"><td class="c53" colspan="1" rowspan="2"><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c188 c155" colspan="14" rowspan="1"><p class="c4"><span class="c42 c47">UNSUBSCRIBE FLAGS</span></p></td></tr><tr class="c152"><td class="c170" colspan="2" rowspan="1"><p class="c19 c15"><span class="c0 c47">Reserved</span></p></td><td class="c166" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c132" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c189" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c53" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">Reserved</span></p></td><td class="c10" colspan="3" rowspan="1"><p class="c4"><span class="c16 c0">Topic Type</span></p><p class="c19 c15 c86"><span class="c16 c0"></span></p></td></tr><tr class="c18"><td class="c53" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c170" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c139" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c232" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c132" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c189" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c53" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">0</span></p></td><td class="c469" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c286" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td></tr><tr class="c18"><td class="c53" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c188" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c53" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c188" colspan="14" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c53" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 6</span></p></td><td class="c435" colspan="8" rowspan="1"><p class="c4"><span class="c0">Topic Data MSB</span></p></td><td class="c347" colspan="1" rowspan="2"><p class="c4"><span class="c42">OR</span></p></td><td class="c491" colspan="5" rowspan="2"><p class="c4"><span class="c11 c0">Topic Filter</span></p><p class="c4"><span class="c0">Byte 6 &hellip; N</span></p></td></tr><tr class="c18"><td class="c53" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 7</span></p></td><td class="c240 c369" colspan="8" rowspan="1"><p class="c4"><span class="c0">Topic Data LSB</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 39</span><sup><a href="#cmnt89" id="cmnt_ref89">[ck]</a></sup><span class="c101 c64 c41">: UNSUBSCRIBE packet</span></p><p class="c110 c327 c334 c467" id="h.2wwbldi"><span class="c0">An UNSUBSCRIBE packet </span><sup><a href="#cmnt90" id="cmnt_ref90">[cl]</a></sup><span class="c0">is sent by the client to the GW to unsubscribe from </span><span class="c0">named </span><span class="c55 c0 c54">topics.</span></p><h4 class="c1" id="h.1c1lvlb"><span class="c30">3.19.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.3w19e94"><span class="c30">3.19.2 UNSUBSCRIBE Flags</span></h4><p class="c19 c15"><span class="c0">For The UNSUBSCRIBE Flags is 1 byte field </span><span class="c0">in Byte position 3 </span><span class="c55 c0 c54">of the UNSUBSCRIBE packet. &nbsp;</span></p><p class="c19 c15"><span class="c55 c0 c54">The UNSUBSCRIBE Flags field includes the following flag:</span></p><ul class="c59 lst-kix_list_30-0 start"><li class="c19 c20 c65 li-bullet-0"><span class="c46 c42 c41">Topic Type</span><sup><a href="#cmnt91" id="cmnt_ref91">[cm]</a></sup><span class="c46 c42 c41">.</span><span class="c46 c0 c41">&nbsp;This is a 2-bit field in Bit 0 and 1 which determines the format of the topic </span><span class="c46 c0 c41">Id</span><span class="c46 c0 c41">&nbsp;value. Refer to </span><span class="c46 c0 c187"><a class="c48" href="#h.2zbgiuw">Table 10</a></span><span class="c46 c0 c41">&nbsp;for the definition of the various topic types.</span></li></ul><h4 class="c1" id="h.2b6jogx"><span class="c30">3.19.3 Packet Identifier</span></h4><p class="c99"><span class="c55 c0 c54">Used to identify the corresponding UNSUBACK packet. It should ideally be populated with a random integer value.</span></p><h4 class="c1" id="h.qbtyoq"><span class="c30">3.19.4 Topic Data or Topic Filter</span></h4><p class="c393 c15"><span class="c0">Contains Fixed Length UTF-8 Encoded String topic filter, topic alias (predefined or </span><span class="c0">normal</span><span class="c0">), or short topic name as indicated in the </span><span class="c0 c47">Topic Type </span><span class="c55 c0 c54">field in flags. Determines the topic names which this subscription is interested in.</span></p><h4 class="c15 c424" id="h.yu0e4zurjnhj"><span>3.</span><span class="c118 c254 c230 c321 c54">19.4 UNSUBSCRIBE Actions</span></h4><p class="c235 c110"><span class="c0 c23">The </span><span class="c0 c23">Topic Filter</span><sup><a href="#cmnt92" id="cmnt_ref92">[cn]</a></sup><span class="c0 c23">&nbsp;(whether it contains wildcards or not) supplied in an UNSUBSCRIBE packet MUST be compared character-by-character with the current set of Topic Filters held by the Server for the Client. If any filter matches exactly then its owning Subscription MUST be deleted</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.19.4-1]</span><span class="c55 c0 c54">, otherwise no additional processing occurs. </span></p><p class="c235 c110"><span class="c0 c23">When a Server receives UNSUBSCRIBE </span><span class="c55 c0 c54">:</span></p><ul class="c59 lst-kix_qhy0wju04c4n-0 start"><li class="c269 c20 li-bullet-0"><span class="c0 c23">It MUST stop adding any new Application Messages which match the </span><span class="c0 c23">Topic Filters</span><sup><a href="#cmnt93" id="cmnt_ref93">[co]</a></sup><span class="c0 c23">, for delivery to the Client</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.19.4-2]</span><span class="c55 c0 c54">.</span></li><li class="c269 c20 li-bullet-0"><span class="c0 c23">It MUST complete the delivery of any QoS 1 or QoS 2 Application Messages which match the </span><span class="c0 c23">Topic Filters</span><sup><a href="#cmnt94" id="cmnt_ref94">[cp]</a></sup><span class="c0 c23">&nbsp;and it has started to send to the Client</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.19.4-3]</span><span class="c55 c0 c54">.</span></li><li class="c20 c269 li-bullet-0"><span class="c0">It MAY continue to deliver any existing </span><span class="c0 c23">Application </span><span class="c0">M</span><span class="c0">essages </span><span class="c55 c0 c54">buffered for delivery to the Client.</span></li></ul><p class="c110 c426"><span class="c0 c23">The Server MUST respond to an UNSUBSCRIBE request by sending an UNSUBACK packet</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-3.19.4-4]</span><span class="c0">. </span><span class="c0 c23">The UNSUBACK packet MUST have the same Packet Identifier as the UNSUBSCRIBE packet. Even where no Topic Subscriptions are deleted, the Server MUST respond with an UNSUBACK</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-3.19.4-5]</span><span class="c55 c0 c54">.</span></p><h3 class="c240 c110 c95 c239 c348" id="h.3abhhcj"><span>3.20 </span><span class="c0">UNSUBACK - Unsubscribe Acknowledgement</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Id</span><span class="c0">entifier</span><span class="c0">&nbsp;LSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Reason Code</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 40: UNSUBACK packet</span></p><p class="c15 c412"><span class="c55 c0 c54">An UNSUBACK packet is sent by a GW to acknowledge the receipt and processing of an UNSUBSCRIBE packet.</span></p><h4 class="c1" id="h.1pgrrkc"><span class="c30">3.20.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.49gfa85"><span class="c30">3.20.2 Packet Identifier</span></h4><p class="c15 c466"><span class="c55 c0 c54">The same value as the Packet Identifier in the UNSUBSCRIBE packet being acknowledged.</span></p><h4 class="c1" id="h.2olpkfy"><span class="c30">3.20.3 Reason Code</span></h4><p class="c144 c15"><span class="c0">Byte 5 in the UNSUBACK packet holds the Reason code in response to UNSUBSCRIBE packet. </span><span class="c0">The UNSUBACK Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c0">The server sending the UNSUBACK packet MUST use one of the UNSUBACK Reason Codes.</span></p><h3 class="c200 c110 c95" id="h.13qzunr"><span>3.21 </span><span class="c0">PINGREQ - Ping Request</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5&hellip;N</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Client Identifier (optional)</span><sup><a href="#cmnt95" id="cmnt_ref95">[cq]</a></sup></p></td></tr></table><p class="c19 c15"><span class="c249 c41 c106">T</span><span class="c55 c0 c54">he PINGREQ packet is an &rdquo;are you alive&rdquo; packet that is sent from or received by a connected client.</span></p><h4 class="c1" id="h.3nqndbk"><span class="c30">3.21.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.sqbpplpqb01e"><span class="c30">3.21.2 Packet Identifier</span></h4><p class="c99"><span class="c55 c0 c54">Used to identify the corresponding PINGRESP packet. It should ideally be set to a random integer value.</span></p><h4 class="c1" id="h.22vxnjd"><span class="c30">3.21.3 Client Identifier (optional)</span></h4><p class="c15 c458"><span class="c0">Contains the client identifier (ClientID); this field is optional and is included by a &ldquo;sleeping&rdquo; client when it goes to the &ldquo;awake&rdquo; state and is waiting for packets sent by the </span><span class="c0">server/</span><span class="c55 c0 c54">gateway.</span></p><p class="c19 c15"><span class="c0 c41 c23">The Client Identifier MUST be a Fixed Length UTF-8 Encoded String </span><span class="c0 c33">[MQTT-SN-3.21.3-1].</span></p><h4 class="c270 c15" id="h.1bpzu4dgtzqz"><span>3.</span><span class="c118 c254 c230 c321 c54">21.4 PINGREQ Actions</span></h4><p class="c134 c110"><span class="c0 c41 c23">The Server MUST send a PINGRESP packet in response to a PINGREQ packet </span><span class="c0 c33">[MQTT-SN-3.21.4-1]</span><span class="c34 c0 c54">.</span></p><p class="c134 c110"><span class="c0 c41 c23">The Client MAY send a PINGRESP packet in response to a PINGREQ packet </span><span class="c0 c33">[MQTT-SN-3.21.4-2]</span><span class="c34 c0 c54">. </span></p><h3 class="c200 c110 c95" id="h.i17xr6"><span>3.22 </span><span class="c0">PINGRESP - Ping Response</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier MSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Identifier LSB</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">Application Messages Remaining (optional)</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 43</span><sup><a href="#cmnt96" id="cmnt_ref96">[cr]</a></sup><span class="c101 c64 c41">: PINGRESP packet</span></p><p class="c156 c15"><span class="c55 c0 c54">A PINGRESP packet is the response to a PINGREQ packet and means &rdquo;yes I am alive&rdquo;. PINGREQ packets flow in either direction, sent either by a connected client or the gateway. it has only a header and no variable part.</span></p><p class="c264 c15"><span class="c0">A PINGRESP packet is also sent by a Gateway to inform a sleeping C</span><span class="c0">L</span><span class="c55 c0 c54">ient that it has no more buffered packets for that Client.</span></p><h4 class="c1" id="h.320vgez"><span class="c30">3.22.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.fodwg3l5deju"><span class="c30">3.22.2 Packet Identifier</span></h4><p class="c466 c15"><span class="c55 c0 c54">The same value as the Packet Identifier in the PINGREQ Packet being acknowledged.</span></p><h4 class="c1" id="h.1h65qms"><span class="c30">3.22.3 Application Messages Remaining</span></h4><p class="c264 c15"><span class="c0">The number of Application Messages still queued for delivery at the Server </span><span class="c0">when a Client is sent back to sleep</span><sup><a href="#cmnt97" id="cmnt_ref97">[cs]</a></sup><span class="c55 c0 c54">. Optional &ndash; for use at the end of a client&#39;s awake period. &nbsp;Values can be:</span></p><table class="c22"><tr class="c349"><td class="c357 c67" colspan="1" rowspan="1"><p class="c522 c110 c329"><span class="c6">Allowed Values</span></p></td><td class="c107 c67" colspan="1" rowspan="1"><p class="c110 c329 c522"><span class="c6">Description</span></p></td></tr><tr class="c349"><td class="c357 c117" colspan="1" rowspan="1"><p class="c110 c329 c452"><span class="c11 c0">0</span></p></td><td class="c107" colspan="1" rowspan="1"><p class="c19 c110 c176"><span class="c0">No </span><span class="c21 c0">Application </span><span class="c0">M</span><span class="c11 c0">essages are waiting to be delivered</span></p></td></tr><tr class="c349"><td class="c357 c117" colspan="1" rowspan="1"><p class="c452 c110 c329"><span class="c11 c0">1 &ndash; 254 (incl.)</span></p></td><td class="c107" colspan="1" rowspan="1"><p class="c19 c110 c176"><span class="c0">The number of </span><span class="c21 c0">Application </span><span class="c0">M</span><span class="c11 c0">essages waiting to be delivered</span></p></td></tr><tr class="c349"><td class="c117 c357" colspan="1" rowspan="1"><p class="c452 c110 c329"><span class="c11 c0">255 (0xFF)</span></p></td><td class="c107" colspan="1" rowspan="1"><p class="c19 c110 c239 c176"><span class="c0">An unspecified positive number of </span><span class="c0 c21">Application </span><span class="c0">M</span><span class="c11 c0">essages waiting to be delivered greater than 0.</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 44: &nbsp;Allowed PINGRESP continuation values</span></p><h3 class="c200 c110 c95" id="h.415t9al"><span>3.23 </span><span class="c0">DISCONNECT - Disconnect Notification</span></h3><table class="c146"><tr class="c18"><td class="c67 c218" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c51 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c226 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c226 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c226 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c109 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c157 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c157 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c67 c513" colspan="3" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c218" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c220" colspan="16" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c218" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c220" colspan="16" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c152"><td class="c218" colspan="1" rowspan="2"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c220 c155" colspan="16" rowspan="1"><p class="c4"><span class="c42 c47">DISCONNECT FLAGS</span></p></td></tr><tr class="c152"><td class="c525" colspan="8" rowspan="1"><p class="c4"><span class="c0 c47 c104">Reserved</span></p></td><td class="c109" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47 c104">Reason Code Present</span></p></td><td class="c157" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47 c104">Session Expiry Interval Present</span></p></td><td class="c315" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47 c104">Reason String Present</span></p></td><td class="c90" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47 c104">Retain Registrations</span></p></td></tr><tr class="c18"><td class="c218" colspan="1" rowspan="1"><sup><a href="#cmnt98" id="cmnt_ref98">[ct]</a></sup><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c130" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c226" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c226" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c226" colspan="2" rowspan="1"><p class="c4"><span class="c0">0</span></p></td><td class="c109" colspan="2" rowspan="1"><p class="c4"><span class="c0">X</span></p></td><td class="c157" colspan="2" rowspan="1"><p class="c4"><span class="c0">X</span></p></td><td class="c157" colspan="2" rowspan="1"><p class="c4"><span class="c0">X</span></p></td><td class="c218" colspan="2" rowspan="1"><p class="c4"><span class="c0">X</span></p></td></tr><tr class="c18"><td class="c218" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c220" colspan="16" rowspan="1"><p class="c4"><span class="c0">Reason Code (optional)</span></p></td></tr><tr class="c18"><td class="c218" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5</span></p></td><td class="c220" colspan="16" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval MSB (optional)</span></p></td></tr><tr class="c18"><td class="c218" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 6</span></p></td><td class="c220" colspan="16" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval (optional)</span></p></td></tr><tr class="c18"><td class="c218" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 7</span></p></td><td class="c220" colspan="16" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval (optional)</span></p></td></tr><tr class="c18"><td class="c218" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 8</span></p></td><td class="c220" colspan="16" rowspan="1"><p class="c4"><span class="c0">Session Expiry Interval LSB (optional)</span></p></td></tr><tr class="c18"><td class="c218" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Bytes 9..N</span></p></td><td class="c220" colspan="16" rowspan="1"><p class="c4 c239"><span class="c0">Reason String (optional)</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 45: DISCONNECT packet</span></p><p class="c343 c15"><span class="c0">As</span><span class="c0">&nbsp;with MQTT</span><span class="c0">, the DISCONNECT packet is sent by a client to indicate that it </span><span class="c0">wants to </span><sup><a href="#cmnt99" id="cmnt_ref99">[cu]</a></sup><span class="c0">delete</span><span class="c0">&nbsp;</span><span class="c0">the Virtual connection. </span><span class="c0">The gateway will acknowledge the receipt of that packet by returning a DISCONNECT to the client.</span><sup><a href="#cmnt100" id="cmnt_ref100">[cv]</a></sup><sup><a href="#cmnt101" id="cmnt_ref101">[cw]</a></sup><sup><a href="#cmnt102" id="cmnt_ref102">[cx]</a></sup><span class="c0">&nbsp;</span><span class="c0">A server </span><span class="c0">or gateway </span><span class="c0">may also send a DISCONNECT to a client</span><span class="c0">, e.g. in case a gateway,</span><span class="c0">&nbsp;due to an error</span><span class="c0">,</span><span class="c0">&nbsp;cannot map a received packet to </span><span class="c0">a</span><span class="c0">&nbsp;client. </span><sup><a href="#cmnt103" id="cmnt_ref103">[cy]</a></sup><span class="c0">Upon receiving such a DISCONNECT packet, a client should try to create another Virtual Connection by sending a CONNECT packet to the gateway or server.</span><sup><a href="#cmnt104" id="cmnt_ref104">[cz]</a></sup></p><p class="c15 c343"><span class="c0 c23">A Server MUST NOT send a DISCONNECT until after it has sent a CONNACK with Reason Code of less than 0x80 [MQTT-SN-3.23-1].</span></p><p class="c264 c15"><span class="c0">A DISCONNECT packet with a </span><span class="c0 c47">Session Expiry Interval </span><span class="c0">field is sent by a client when it wants to go to the &ldquo;asleep&rdquo; state. The receipt of this packet is also acknowledged by the gateway by means of a DISCONNECT packet.</span><sup><a href="#cmnt105" id="cmnt_ref105">[da]</a></sup></p><h4 class="c1" id="h.2gb3jie"><span class="c30">3.23.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.vgdtq7"><span class="c30">3.23.2 Disconnect Flags</span></h4><p class="c19 c15"><span class="c0 c41">The Disconnect Flags is 1 byte field </span><span class="c0 c41">located at byte </span><span class="c0">3</span><span class="c34 c0 c54">&nbsp;which contains parameters specifying the behavior of the MQTT-SN sleep on the gateway. </span></p><p class="c19 c15"><span class="c0">The </span><span class="c0 c41">Disconnect </span><span class="c0 c47">Flags </span><span class="c55 c0 c54">field includes the following flags:</span></p><ul class="c59 lst-kix_list_4-0"><li class="c156 c20 c65 li-bullet-0"><span class="c46 c42 c41">Reason Code Present:</span><span class="c46 c0 c41">&nbsp;Stored in Bit 3 Does the reason code exist on the packet</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c46 c42 c41">Session Expiry Interval Present:</span><span class="c46 c0 c41">&nbsp;Stored in Bit 2, Does the session expiry interval field exist.</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c46 c42 c41">Reason String Present:</span><span class="c46 c0 c41">&nbsp;Stored in Bit 1, Does the reason string field exist</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c46 c42 c41">Retain Registrations:</span><span class="c46 c0 c41">&nbsp;Stored in Bit 0 and specifies whether registrations should be retained by the gateway during the sleep state. &ldquo;0&rdquo; indicates registrations should be removed during the sleeping period and renegotiated when AWAKE or ACTIVE. &ldquo;1&rdquo; indicates registrations should be retained during the SLEEP period, and therefore not renegotiated when AWAKE or ACTIVE.</span></li></ul><p class="c12 c20 c95 c86"><span class="c46 c0 c41"></span></p><p class="c19 c15"><span class="c0 c23">The </span><span class="c0 c23">Gateway</span><sup><a href="#cmnt106" id="cmnt_ref106">[db]</a></sup><span class="c0 c23">&nbsp;MUST validate that the reserved flags in the DISCONNECT packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c1" id="h.3fg1ce0"><span class="c30">3.23.3 Reason Code</span></h4><p class="c15 c290"><span class="c0">The Reason Code for the DISCONNECT packet is optional. </span><span class="c0">If provided, Byte 3 in the DISCONNECT control packet holds the Reason Code of the disconnection. </span><span class="c55 c0 c54">If not provided, 0x00 (Normal disconnection) is assumed. </span></p><p class="c290 c15"><span class="c0">The DISCONNECT Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c0 c23">The Client or Server sending the DISCONNECT packet MUST use one of the DISCONNECT Reason Code values </span><span class="c118 c0 c169 c33 c54">[MQTT-SN-3.23.3-1].</span></p><h4 class="c1" id="h.1ulbmlt"><span class="c0">3.</span><span class="c0">23.4</span><span class="c0">&nbsp;Session Expiry Interval</span></h4><p class="c19 c15"><span class="c0">The Session Expiry Interval is a four-byte integer time interval measured in seconds. If the Session Expiry Interval is set to 0 or omitted, the Session is transitioned to the &ldquo;</span><span class="c42 c47">disconnected</span><span class="c0">&rdquo; state. When the value of this field is greater than zero, it is deemed to be sent by a client that wants to transition to the &ldquo;</span><span class="c42 c47">asleep</span><span class="c0">&rdquo; state, see Section </span><span class="c0">3.19</span><span class="c55 c0 c54">&nbsp;for further details. At this point the keep alive timer becomes obsolete until the device issues a new CONNECT.</span></p><p class="c19 c15"><span class="c0 c41 c23">The Session Expiry Interval MUST NOT be sent on a DISCONNECT by the Server </span><span class="c118 c0 c169 c33 c54">[MQTT&ndash;SN-3.23.4-1].</span></p><h4 class="c1" id="h.4ekz59m"><span class="c0">3.</span><span class="c0">23.5 </span><span class="c0">Reason String</span></h4><p class="c19 c15"><span class="c55 c0 c54">Fixed Length UTF-8 Encoded String representing a clear text description of disconnection.</span></p><h4 class="c270 c15" id="h.wsl51zt8cr34"><span>3.</span><span class="c118 c254 c230 c321 c54">23.6 DISCONNECT Actions</span></h4><p class="c134 c110"><span class="c0 c23">After sending a DISCONNECT packet the sender</span><span class="c55 c0 c54">:</span></p><ul class="c59 lst-kix_ovy3fm37rmlj-0 start"><li class="c339 c20 c313 li-bullet-0"><span class="c0 c23">MUST NOT send any more MQTT-SN Control Packets on that Virtual Connection</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.23.6-1]</span><span class="c55 c0 c54">.</span></li></ul><p class="c134 c110"><span class="c0 c23">After sending a DISCONNECT packet the Server</span><span class="c55 c0 c54">:</span></p><ul class="c59 lst-kix_ovy3fm37rmlj-0"><li class="c339 c20 c313 li-bullet-0"><span class="c0 c23">MUST delete the Virtual Connection</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.23.6-2]</span><span class="c55 c0 c54">.</span></li></ul><p class="c134 c110"><span class="c55 c0">After sending a DISCONNECT packet the Client:</span></p><ul class="c59 lst-kix_fna9vqak6p7f-0 start"><li class="c339 c20 c313 li-bullet-0"><span class="c0">SHOULD wait for a DISCONNECT packet in response from the Server.</span><sup><a href="#cmnt107" id="cmnt_ref107">[dc]</a></sup></li></ul><p class="c134 c110"><span class="c0 c23">On receipt of DISCONNECT with a Reason Code of 0x00 (Success) the Server</span><span class="c55 c0 c54">:</span></p><ul class="c59 lst-kix_thr9qqed2qck-0 start"><li class="c339 c20 c313 li-bullet-0"><span class="c0 c23">MUST discard any Will Message associated with the current Connection without publishing it</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.23.6-3]</span><span class="c0">, as described in </span><span class="c124 c0"><a class="c48" href="#h.u38i2mpp332q">section 3.4.9</a></span><span class="c55 c0 c54">.</span></li><li class="c339 c20 c313 li-bullet-0"><span class="c0 c23">MUST send a DISCONNECT packet in response</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-3.23.6-4], </span><span class="c0 c41">and SHOULD delete the Virtual Connection</span><span class="c0 c54 c55">.</span></li></ul><p class="c134 c110"><span class="c55 c0 c54">On receipt of DISCONNECT, the Client:</span></p><ul class="c59 lst-kix_ktnmrk6fggmz-0 start"><li class="c20 c313 c339 li-bullet-0"><span class="c55 c0 c54">SHOULD delete the Virtual Connection.</span></li></ul><p class="c339 c110 c86"><span class="c55 c0 c54"></span></p><h3 class="c200 c110 c95" id="h.elrc49qsiunp"><span>3.24 </span><span class="c0">WAKEUP - Wake up request</span></h3><table class="c146"><tr class="c18"><td class="c105 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c36 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c105" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c14" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr></table><p class="c161 c110"><span class="c249 c41 c106">Table ??</span><sup><a href="#cmnt108" id="cmnt_ref108">[dd]</a></sup><span class="c101 c64 c41">: WAKEUP packet</span></p><p class="c19 c15"><span class="c0">The wakeup packet is a signal sent from the gateway to a client. It is an indication from the gateway that the client should wake up. The client is not obliged to honor this request, nor may it even receive the packet. It can choose to ignore the request, or undertake one of the sequences outlined in the </span><span class="c124 c0"><a class="c48" href="#h.3rnmrmc">4.25 Sleeping clients</a></span><span class="c0">&nbsp;section. The client need not respond to this packet.</span></p><h4 class="c1" id="h.lrkcmnrrlwx6"><span class="c30">3.24.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://docs.google.com/document/d/1Q_l-TOttOqktQmnupRv7Un1Y8KzULIxc/edit?pli%3D1%23heading%3Dh.23ckvvd&amp;sa=D&amp;source=editors&amp;ust=1724799529140379&amp;usg=AOvVaw3O8pbHPJweevD8LRsnNjUF">section 2.1</a></span><span class="c0">&nbsp;for a detailed description.</span></p><h4 class="c270 c15" id="h.2sa95hk6sfa3"><span>3.24.2 </span><span class="c0 c437">WAKEUP</span><span>&nbsp;Actions</span><sup><a href="#cmnt109" id="cmnt_ref109">[de]</a></sup></h4><p class="c134 c110"><span class="c0 c23 c41">The Client MAY choose to follow the AWAKE procedure in response to receiving a WAKEUP packet </span><span class="c0 c33">[MQTT-SN-3.21.4-2]</span><span class="c0 c41">. </span></p><h3 class="c1" id="h.1e03kqp"><span>3.25 </span><span class="c118 c42 c121 c54">Forwarder Encapsulation</span></h3><p class="c82 c110 c327 c86 c334"><span class="c55 c0 c54"></span></p><table class="c146"><tr class="c18"><td class="c149 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c234 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c139 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c262 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c196 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c196 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c196 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c196 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c196 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c149" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c314" colspan="8" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c149" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c314" colspan="8" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c18"><td class="c149" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c314" colspan="8" rowspan="1"><p class="c4"><span class="c0">Ctrl</span></p></td></tr><tr class="c18"><td class="c149" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4 .. N</span></p></td><td class="c314" colspan="8" rowspan="1"><p class="c4"><span class="c0">Wireless Node Id</span></p></td></tr><tr class="c18"><td class="c149" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte (N + 1 ,,, M)</span></p></td><td class="c314" colspan="8" rowspan="1"><p class="c4 c239"><span class="c0">MQTT SN packet</span></p></td></tr></table><p class="c161 c110"><span class="c101 c64 c41">Table 53</span><sup><a href="#cmnt110" id="cmnt_ref110">[df]</a></sup><span class="c101 c64 c41">: Format of an encapsulated MQTT-SN frame</span></p><p class="c82 c110 c95 c327"><span class="c0">As detailed in Section 4, MQTT-SN clients can also access a gateway via a forwarder in case the gateway is not directly attached to their WSNs. The forwarder simply encapsulates the MQTT-SN Packets it receives on the</span><span class="c0">&nbsp;wireless side </span><sup><a href="#cmnt111" id="cmnt_ref111">[dg]</a></sup><span class="c0">and forwards them unchanged to the gateway; in the opposite direction, it decapsulates the</span><span class="c0">&nbsp;Packets</span><span class="c55 c0 c54">&nbsp;it receives from the gateway and sends them to the clients, unchanged too.</span></p><h4 class="c1" id="h.3xzr3ei"><span class="c30">3.25.1 Length</span></h4><p class="c144 c15"><span class="c55 c0 c54">1-byte long, specifies the number of bytes up to the end of the &ldquo;Wireless Node Id&rdquo; field (incl. the Length byte itself)</span></p><h4 class="c1" id="h.2d51dmb"><span class="c30">3.25.2 Packet Type</span></h4><p class="c144 c15"><span class="c55 c0 c54">Coded &ldquo;0xFE&rdquo;, see Table 6</span></p><h4 class="c1" id="h.sabnu4"><span class="c30">3.25.3 Ctrl</span></h4><p class="c144 c15"><span class="c55 c0 c54">The Ctrl byte contains control information exchanged between the GW and the forwarder. </span></p><table class="c146"><tr class="c18"><td class="c67 c280" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c67 c250" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c67 c394" colspan="1" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c67 c407" colspan="1" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c67 c484" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c67 c340" colspan="1" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c350 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c350 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c67 c418" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c367"><td class="c280" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c295" colspan="6" rowspan="1"><p class="c4"><span class="c11 c0">Reserved</span></p></td><td class="c406" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">Radius</span></p><p class="c4 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c280" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c250" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c394" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c407" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c484" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c340" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c350" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">0</span></p></td><td class="c350" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">X</span></p></td><td class="c418" colspan="1" rowspan="1"><p class="c4 c239"><span class="c11 c0">X</span></p></td></tr></table><p class="c161 c110"><span class="c64 c41 c101">Table 54: Format of the ctrl byte</span></p><h4 class="c1" id="h.3c9z6hx"><span class="c30">3.25.4 Radius</span></h4><p class="c19 c15"><span class="c0">Transmission radius (only relevant in direction gateway to forwarder)</span><sup><a href="#cmnt112" id="cmnt_ref112">[dh]</a></sup></p><h4 class="c1" id="h.1rf9gpq"><span class="c30">3.25.5 Wireless Node Id</span></h4><p class="c144 c15"><span class="c55 c0 c54">Identifies the wireless node which has sent or should receive the encapsulated MQTT-SN packet. The mapping between this Id and the address of the wireless node is implemented by the forwarder, if needed.</span></p><h4 class="c1" id="h.4bewzdj"><span class="c30">3.25.6 MQTT SN Packet</span></h4><p class="c374 c15"><span class="c55 c0 c54">The MQTT-SN packet, encoded according to the packet type.</span></p><h3 class="c1" id="h.15cqrsoyxc87"><span class="c118 c254 c121 c54">3.26 Protection Encapsulation</span></h3><h3 class="c200 c84 c95 c539" id="h.efvs1al4eeri"><span class="c118 c254 c121 c54"></span></h3><table class="c146"><tr class="c18"><td class="c233 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">Bit</span></p></td><td class="c247 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">7</span></p></td><td class="c182 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">6</span></p></td><td class="c77 c67" colspan="2" rowspan="1"><p class="c4"><span class="c42">5</span></p></td><td class="c98 c67" colspan="1" rowspan="1"><p class="c4"><span class="c42">4</span></p></td><td class="c67 c355" colspan="2" rowspan="1"><p class="c4"><span class="c42">3</span></p></td><td class="c67 c215" colspan="1" rowspan="1"><p class="c4"><span class="c42">2</span></p></td><td class="c67 c505" colspan="2" rowspan="1"><p class="c4"><span class="c42">1</span></p></td><td class="c67 c157" colspan="1" rowspan="1"><p class="c4"><span class="c42">0</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 1</span></p></td><td class="c206" colspan="12" rowspan="1"><p class="c4"><span class="c0">Length</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 2</span></p></td><td class="c206" colspan="12" rowspan="1"><p class="c4"><span class="c0">Packet Type</span></p></td></tr><tr class="c152"><td class="c233" colspan="1" rowspan="2"><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c206 c155" colspan="12" rowspan="1"><p class="c4"><span class="c0 c47">PROTECTION FLAGS</span></p></td></tr><tr class="c152"><td class="c538" colspan="7" rowspan="1"><p class="c4"><span class="c0 c47">Auth Tag Length</span></p></td><td class="c356" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">Crypto Material Length</span></p></td><td class="c541" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">Monotonic Counter Length</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 3</span></p></td><td class="c184" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c130" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c109" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c218" colspan="3" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c80" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c243" colspan="2" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c265" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c4"><span class="c0 c47">X</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 4</span></p></td><td class="c206" colspan="12" rowspan="1"><p class="c4 c239"><span class="c0">Protection Scheme</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 5 - 12</span></p></td><td class="c206" colspan="12" rowspan="1"><p class="c4 c239"><span class="c0">Sender Id</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c110 c329 c542"><span class="c0">Byte 13 - 16</span></p></td><td class="c206" colspan="12" rowspan="1"><p class="c4 c239"><span class="c0">Random</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte 17 - P</span></p></td><td class="c206" colspan="12" rowspan="1"><p class="c4 c239"><span class="c0">Crypto Material (Optional)</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte Q - R</span></p></td><td class="c206" colspan="12" rowspan="1"><p class="c4 c239"><span class="c0">Monotonic Counter (Optional)</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte S - T</span></p></td><td class="c206" colspan="12" rowspan="1"><p class="c4 c239"><span class="c0">Protected MQTT-SN Packet</span></p></td></tr><tr class="c18"><td class="c233" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Byte U - N</span></p></td><td class="c206" colspan="12" rowspan="1"><p class="c4 c239"><span class="c0">Authentication Tag</span></p></td></tr></table><p class="c161 c110 c95"><span class="c249 c64 c169 c375 c192 c213 c54">Table 53: Format of the protection encapsulated MQTT-SN packet</span></p><p class="c82 c110 c95 c327"><span class="c0">Protection encapsulation provides a secure envelope for any MQTT-SN packet (with the exception of the Forward Encapsulation packet). The fields provided by the Protection Encapsulation provide a means by which the sender is identified and the</span><span class="c0">&nbsp;packet is protected</span><sup><a href="#cmnt113" id="cmnt_ref113">[di]</a></sup><sup><a href="#cmnt114" id="cmnt_ref114">[dj]</a></sup><span class="c55 c0 c54">, using a number of prescribed protection schemes. </span></p><p class="c82 c110 c95 c327"><span class="c55 c0 c54">The sender is the originator of the &ldquo;Protected MQTT-SN Packet&rdquo; and responsible for its protection. This responsibility MUST NOT &nbsp;be delegated to a third entity like a Forwarder. </span></p><p class="c82 c110 c95 c327"><span class="c0">The sender identification is required as the sender and the receiver of the protected packet must have access to the same shared key to be used directly or after derivation.</span><sup><a href="#cmnt115" id="cmnt_ref115">[dk]</a></sup><sup><a href="#cmnt116" id="cmnt_ref116">[dl]</a></sup><span class="c55 c0 c54">&nbsp;The authentication of the sender and the receiver, their authorizations and the provisioning of the shared keys used to protect integrity and optionally confidentiality of the protected packet content are out of scope.</span></p><p class="c82 c110 c95 c327"><span class="c55 c0 c54">A protected packet, like any other one, can be the payload of a Forwarder Encapsulated packet.</span></p><p class="c82 c110 c95 c86 c327"><span class="c55 c0 c54"></span></p><p class="c82 c110 c95 c327"><span class="c55 c42 c54">//TODO - Break out the conformance aspects of this paragraph from recommendations.</span></p><p class="c19 c15"><span class="c55 c0 c23">When the PROTECTION packet is handled by a gateway, it is mandatory to use it to protect all MQTT-SN packets exchanged with a Client for which a shared key (indexed by its Sender Id) is available.</span></p><p class="c19 c15"><span class="c55 c0 c23">If the client is not enrolled to the gateway (so the gateway has no access to a key shared with it on the basis of its Sender Id) and the Client and gateway are not in a private network, it is recommended for the gateway to process only MQTT-SN packets received over a DTLS session initiated with mutual authentication by the client.</span></p><p class="c19 c15"><span class="c0 c23">When the PROTECTION packet is handled by a Client, it is mandatory to use it to protect all MQTT-SN packets exchanged with a GW for which a shared key (indexed by its </span><span class="c0 c23 c79">GwId</span><span class="c55 c0 c23">) is available.</span></p><p class="c19 c15"><span class="c0 c23">If the GW is not enrolled to the Client (so the Client has no access to a key shared with it on the basis of its GwId) and the Client and GW are not in a private network, it is recommended for the Client to open a DTLS session and process only MQTT-SN packets received over it.</span><sup><a href="#cmnt117" id="cmnt_ref117">[dm]</a></sup><sup><a href="#cmnt118" id="cmnt_ref118">[dn]</a></sup></p><h4 class="c1" id="h.j9tutdzg8gdj"><span class="c30">3.26.1 Length</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c55 c0 c54">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.8duggxbcbw2"><span class="c30">3.26.2 Packet Type</span></h4><p class="c144 c15"><span class="c0">Coded &ldquo;</span><span class="c87 c79 c267">0x1E</span><span class="c55 c0 c54">&rdquo;, see Table 63</span></p><h4 class="c1" id="h.g1mmf1c4lvqh"><span class="c30">3.26.3 Protection Flags</span></h4><p class="c115 c15"><span class="c0">The PROTECTION Flags is 1 byte field </span><span class="c0">in Byte position 3 </span><span class="c55 c0 c54">of the packet, specifying the properties of the PROTECTION. </span></p><p class="c19 c15"><span class="c0">The PROTECTION Flags</span><span class="c0 c47">&nbsp;</span><span class="c55 c0 c54">field includes the following flags:</span></p><ul class="c59 lst-kix_list_4-0"><li class="c20 c65 c115 li-bullet-0"><span class="c42 c79">(Auth)entication tag length</span><span class="c360 c321 c79">&nbsp;-</span><span class="c122 c79">&nbsp;</span><span class="c0 c79">(4 bits) should represent the number of 16 bits groups forming the authentication tag in big-endian order.</span></li></ul><ul class="c59 lst-kix_list_4-1 start"><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">Only 14 of the 16 possible values are allowed:</span></li></ul><ul class="c59 lst-kix_list_4-2 start"><li class="c12 c65 c88 li-bullet-0"><span class="c0 c79">If 0x00, the authentication tag length is provider defined</span></li><li class="c12 c88 c65 li-bullet-0"><span class="c0 c79">the values from 0x1 to 0x2 are Reserved;</span></li><li class="c12 c88 c65 li-bullet-0"><span class="c0 c79">any other value 0xZ, so between 0x3 and 0xF, is allowed and the authentication tag length will be (0xZ+1)*16 bits; for example</span></li></ul><ul class="c59 lst-kix_list_4-3 start"><li class="c12 c65 c110 c488 li-bullet-0"><span class="c0 c79">if the value is 0xF, the Authentication tag length will be (0xF+1)*16=256 bits;</span></li><li class="c12 c65 c110 c488 li-bullet-0"><span class="c0 c79">if the value is 0x3, the Authentication tag length will be (0x3+1)*16=64 bits;</span></li></ul><ul class="c59 lst-kix_list_4-1"><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">If a truncation of the output of the authentication algorithm is required, it has to be taken in most significant bits first order (leftmost bits).</span></li><li class="c12 c84 c65 li-bullet-0"><span class="c118 c0 c169 c54 c79">If an extension of the output of the authentication algorithm is required, 0s are appended until the Authentication tag length is reached.</span></li><li class="c12 c84 c65 li-bullet-0"><span class="c118 c0 c169 c54 c79">Some values are not allowed for some protection schemes. For instance the values 0x03, 0x04, 0x05, 0x06 are not allowed for AES-CCM-128-128, AES-CCM-128-192, AES-CCM-128-256, AES-GCM-128-128, AES-GCM-128-192, AES-GCM-128-256 and ChaCha20/Poly1305 as for those protection schemes the 128-bit authentication tag can&rsquo;t be truncated.</span></li></ul><p class="c12 c15 c86"><span class="c118 c0 c169 c54 c79"></span></p><ul class="c59 lst-kix_list_27-0 start"><li class="c12 c20 c65 li-bullet-0"><span class="c42 c79">Crypto material length -</span><span class="c0 c79">&nbsp;(2 bits) should represent the number of 16 bits groups forming the crypto material in big-endian order. Below the meaning of each possible value:</span></li></ul><ul class="c59 lst-kix_list_27-1 start"><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">if 0x3, a crypto material field of 96 bits (12 bytes) is present</span></li><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">if 0x2, a crypto material field of 32 bits (4 bytes) is present</span></li><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">if 0x1, a crypto material field of 16 bits (2 bytes) is present</span></li><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">if 0x0, the crypto material field is not present.</span></li></ul><p class="c12 c15 c86"><span class="c118 c0 c169 c54 c79"></span></p><ul class="c59 lst-kix_list_23-0 start"><li class="c12 c20 c65 li-bullet-0"><span class="c42 c79">Monotonic counter length -</span><span class="c0 c79">&nbsp;(2 bits) should represent the number of bytes forming the monotonic counter in big-endian order. Only 3 of the 4 possible values are allowed:</span></li></ul><ul class="c59 lst-kix_list_23-1 start"><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">the value 0x3 is Reserved;</span></li><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">if 0x2, a monotonic counter field of 32 bits (4 bytes) is present;</span></li><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">if 0x1, a monotonic counter field of 16 bits (2 bytes) is present;</span></li><li class="c12 c84 c65 li-bullet-0"><span class="c0 c79">if 0x0, the monotonic counter field is not present.</span></li></ul><h4 class="c1" id="h.m1zk7agco355"><span class="c30">3.26.4 Protection Scheme</span></h4><p class="c12 c110 c95 c503"><span class="c0 c79">A (1 byte) field </span><span class="c0 c79">located at byte 4 </span><span class="c0 c79">should contain one of the not Reserved indexes in the following table. In general two types of protection scheme are considered: </span><span class="c42 c79">Authentication only</span><span class="c0 c79">&nbsp;(like HMAC or CMAC) and </span><span class="c42 c79">AEAD</span><span class="c118 c0 c169 c54 c79">&nbsp;(Authenticated Encryption with Associated Data, like GCM, CCM or ChaCha20/Poly1305).</span></p><p class="c264 c15 c86"><span class="c55 c0 c54"></span></p><table class="c22"><tr class="c18"><td class="c216 c67" colspan="1" rowspan="1"><p class="c264 c15"><span class="c6">Index</span></p></td><td class="c147 c67" colspan="1" rowspan="1"><p class="c264 c15"><span class="c6">Name</span></p></td><td class="c111 c67" colspan="1" rowspan="1"><p class="c264 c15"><span class="c6">Auth Only</span></p></td><td class="c111 c67" colspan="1" rowspan="1"><p class="c12 c15"><span class="c6">Key size</span></p></td><td class="c111 c67" colspan="1" rowspan="1"><p class="c12 c15"><span class="c6">Tag size</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x00</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c79">HMAC-SHA256</span><span class="c0 c79 c89">&nbsp;(Note 1)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">Yes</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c0 c79">Any size</span><span class="c0 c89 c79">&nbsp;(Note 2)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">256 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x01</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c79">HMAC-SHA3_256</span><span class="c0 c89 c79">&nbsp;(Note 1)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">Yes</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c0 c79">Any size</span><span class="c0 c89 c79">&nbsp;(Note 2)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">256 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c87 c54 c79 c118">0x02</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c79">CMAC-128</span><span class="c0 c89 c79">&nbsp;(Note 3)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">Yes</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x03</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c79">CMAC-192</span><span class="c0 c89 c79">&nbsp;(Note 3)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">Yes</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">192 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x04</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c79">CMAC-256</span><span class="c0 c89 c79">&nbsp;(Note 3)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">Yes</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">256 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x05-0x3B</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">RESERVED</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">&nbsp;</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15 c86"><span class="c118 c0 c87 c54 c79"></span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15 c86"><span class="c118 c0 c87 c54 c79"></span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x3C-0x3F</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">Provider defined</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">Yes</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">Provider defined</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">Provider defined</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x40</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15 c54"><span class="c0 c160">AES-CCM-64-128</span><span class="c0 c89 c79">&nbsp;(Notes 4,5)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">64 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x41</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c160">AES-CCM-64-192</span><span class="c0 c89 c79">&nbsp;(Notes 4,5)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">192 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">64 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x42</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c160">AES-CCM-64-256</span><span class="c0 c89 c79">&nbsp;(Notes 4,5)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">256 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">64 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x43</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c160">AES-CCM-128-128</span><span class="c0 c89 c79">&nbsp;(Notes 4,5)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x44</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c160">AES-CCM-128-192</span><span class="c0 c89 c79">&nbsp;(Notes 4,5)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">192 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x45</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c160">AES-CCM-128-256</span><span class="c0 c89 c79">&nbsp;(Notes 4,5)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">256 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x46</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c160">AES-GCM-128-128</span><span class="c0 c89 c79">&nbsp;(Notes 6,7)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x47</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c160">AES-GCM-128-192</span><span class="c0 c89 c79">&nbsp;(Notes 6,7)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">192 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x48</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c160">AES-GCM-128-256</span><span class="c0 c89 c79">&nbsp;(Notes 6,7)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">256 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x49</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c160">ChaCha20/Poly1305</span><span class="c0 c89 c79">&nbsp;(Notes 8,9)</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">256 bits</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">128 bits</span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0x4A-0xEF</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">RESERVED</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">&nbsp;</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15 c86"><span class="c118 c0 c87 c54 c79"></span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15 c86"><span class="c118 c0 c87 c54 c79"></span></p></td></tr><tr class="c18"><td class="c216" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">0xF0-0xFF</span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">Provider defined</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c19 c15"><span class="c118 c0 c87 c54 c79">No</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">Provider defined</span></p></td><td class="c111" colspan="1" rowspan="1"><p class="c12 c15"><span class="c118 c0 c87 c54 c79">Provider defined</span></p></td></tr></table><p class="c12 c15 c86"><span class="c122 c118 c54 c79"></span></p><p class="c12 c15"><span class="c118 c42 c169 c54 c79">Note(s):</span></p><ol class="c59 lst-kix_list_2-0 start" start="1"><li class="c12 c20 c65 li-bullet-0"><span class="c0 c79">Reference </span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.rfc-editor.org/rfc/rfc2104&amp;sa=D&amp;source=editors&amp;ust=1724799529236144&amp;usg=AOvVaw3yDxGqZn9YEcE7G1eicSiq">https://www.rfc-editor.org/rfc/rfc2104</a></span></li><li class="c12 c20 c65 li-bullet-0"><span class="c0">Reference </span><span class="c0"><a class="c48" href="https://www.google.com/url?q=https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.198-1.pdf&amp;sa=D&amp;source=editors&amp;ust=1724799529236752&amp;usg=AOvVaw0Gk_AVaN9gsdLjbyx5_DyH">https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.198-1.pdf</a></span></li><li class="c12 c20 c65 li-bullet-0"><span class="c0">Reference </span><span class="c0"><a class="c48" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc4493%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3Dxugq2R3JL90RCv%252BzdnQqW7rtztg1MF6xtBAYnqa1K8s%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1724799529237444&amp;usg=AOvVaw0_BJiN9q3e_9Drozp4Qz9i">https://www.rfc-editor.org/rfc/rfc4493</a></span><span class="c0">&nbsp;and </span><span class="c0"><a class="c48" href="https://www.google.com/url?q=https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38b.pdf&amp;sa=D&amp;source=editors&amp;ust=1724799529237823&amp;usg=AOvVaw2vbz0oOM78hvI3F5k1LrJH">https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38b.pdf</a></span><span class="c0">&nbsp;and https://csrc.nist.gov/CSRC/media/Projects/Cryptographic-Standards-and-Guidelines/documents/examples/AES_CMAC.pdf</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c0">Reference</span><span class="c0"><a class="c48" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc3610%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3DvMkxcRTrFVbOOc6NEcSe9b4WVfyCOwnuV7Bj4tDb03s%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1724799529238396&amp;usg=AOvVaw1Ycfwj28X-GtFYaTPK7hFS">&nbsp;</a></span><span class="c0"><a class="c48" href="https://www.google.com/url?q=https://www.rfc-editor.org/rfc/rfc3610&amp;sa=D&amp;source=editors&amp;ust=1724799529238634&amp;usg=AOvVaw0v4T4TXnlV6Zbi2qAcsHgm">https://www.rfc-editor.org/rfc/rfc3610</a></span><span class="c0">&nbsp;and security considerations on </span><span class="c0"><a class="c48" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc8152%2523section-10.2.1%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3DDTxkXC3J%252B8Wj2l7qn6U5cFUExdZVFXPv2Ss3M2%252B1VLY%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1724799529239023&amp;usg=AOvVaw0QLOI9jrQ-rE1j7i_gQE-_">https://www.rfc-editor.org/rfc/rfc8152#section-10.2.1</a></span></li><li class="c12 c20 c65 li-bullet-0"><span class="c0">AES CCM requires a 13 bytes nonce as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.2 and the nonce is obtained by performing SHA256, truncated to the leftmost 104 bits, of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c0 c160">Reference https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf</span><span class="c0">&nbsp;and security considerations on https://www.rfc-editor.org/rfc/rfc8152#section-10.1.1</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c0">AES GCM requires a </span><span class="c0 c79">12 bytes IV as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.1 and the IV is obtained by performing SHA256, truncated to the leftmost 96 bits, of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c0 c160">Reference: https://www.rfc-editor.org/rfc/rfc7539 and security considerations on https://www.rfc-editor.org/rfc/rfc8152#section-10.3.1</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c0 c160">ChaCha20/Poly1305 requires a </span><span class="c0 c79">12 bytes nonce as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.3 obtained by performing SHA256 truncated to 96 bit of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span><sup><a href="#cmnt119" id="cmnt_ref119">[do]</a></sup></li></ol><h4 class="c1" id="h.jo2d2fngx6hj"><span class="c0">3.26.5 Sender Identifier</span></h4><p class="c12 c110 c95"><span class="c0 c79">Located at Bytes 5 - 12 t</span><span class="c118 c0 c169 c54 c79">he Sender Id field (8 bytes) should contain:</span></p><p class="c12 c110 c95 c86"><span class="c118 c0 c169 c54 c79"></span></p><p class="c12 c110 c95 c361"><span class="c0 c79">If the message is originated by the </span><span class="c42 c47 c79">Gateway</span><span class="c118 c0 c169 c54 c79">:</span></p><ul class="c59 lst-kix_list_19-0 start"><li class="c12 c84 c65 li-bullet-0"><span class="c118 c0 c169 c54 c79">The SHA256 of the GwId truncated to the leftmost 64 bits (8 bytes); </span></li></ul><p class="c12 c20 c95 c86"><span class="c118 c0 c169 c54 c79"></span></p><p class="c12 c20 c95"><span class="c0 c79">If the message is originated by the </span><span class="c42 c47 c79">Client</span><span class="c118 c0 c169 c54 c79">:</span></p><ul class="c59 lst-kix_list_9-0 start"><li class="c12 c65 c84 li-bullet-0"><span class="c42 c79">If a session is available</span><span class="c0 c79">: the SHA256 of the [Client Identifier] truncated to the leftmost 64 bits (8 bytes);</span></li><li class="c12 c84 c65 li-bullet-0"><span class="c42 c79">If a session is not available</span><span class="c0 c79">: a unique value per sender over 8 bytes (like a MAC address, or other identifying characteristics). </span><span class="c0">The methods to guarantee the uniqueness of the Sender Id in this case are out of scope for this technical proposal.</span></li></ul><p class="c12 c15 c86"><span class="c55 c0 c54"></span></p><ul class="c59 lst-kix_list_14-0 start"><li class="c235 c20 c65 li-bullet-0"><span class="c249 c42 c190">Informative comment</span></li></ul><p class="c144 c20 c95"><span class="c43 c0">8 bytes for the &ldquo;Sender Id&rdquo; field seems enough as it is calculated with a cryptographic hash, so the probability of collision is 1/2^64=5.42x10</span><span class="c43 c0 c274">-20</span><span class="c43 c0 c169 c337 c213">. </span></p><p class="c12 c20 c95"><span class="c249 c43 c42 c169 c213">Client Behavior</span></p><p class="c12 c20 c95"><span class="c43 c0">In order to create a whitelist of authorized senders, the Client should store a map of GwId </span><span class="c0 c190 c79">and SHA256(GwId) </span><span class="c43 c0">truncated to the leftmost 64 bits. GwId can be obtained from pre-configuration, from an ADVERTISE packet or from a GWINFO packet</span><span class="c118 c0 c169 c190 c79">.</span></p><p class="c12 c20 c95 c86"><span class="c118 c0 c169 c190 c79"></span></p><p class="c12 c20 c95"><span class="c249 c43 c42 c169 c213">Gateway Behavior</span></p><p class="c12 c20 c95"><span class="c43 c0">In order to create a whitelist of authorized senders, the MQTT-SN Gateway should store a map of ClientID and SHA256(ClientID) truncated to the leftmost 64 bits (8 bytes for each registered ClientID) for the clients having an active session and store a list of authorized Sender Ids for the clients not capable to establish sessions. </span><sup><a href="#cmnt120" id="cmnt_ref120">[dp]</a></sup></p><p class="c144 c15 c86"><span class="c249 c42 c169 c375 c192 c213 c54"></span></p><h4 class="c1" id="h.vjl219ghlhvi"><span class="c30">3.26.6 Random</span></h4><p class="c12 c110 c95"><span class="c249 c42 c79">Located at Byte 13 - 16</span><span class="c0 c79">&nbsp;, t</span><span class="c0 c79">he &ldquo;</span><span class="c42 c79">Random</span><span class="c118 c0 c169 c54 c79">&rdquo; field (4 bytes) should contain a random number (not guessable) generated at the PROTECTION packet creation .</span></p><p class="c15 c86 c374"><span class="c118 c54 c79 c122"></span></p><ul class="c59 lst-kix_list_14-0"><li class="c235 c20 c65 li-bullet-0"><span class="c249 c42 c190">Informative comment</span></li></ul><p class="c12 c20 c95"><span class="c43 c0">In case of CCM, in the worst case scenario where the &ldquo;Crypto Material&rdquo; and the &ldquo;Monotonic Counter&rdquo; optional fields are not present, </span><span class="c0 c43">&nbsp;</span><span class="c43 c0">the recommended nonce on 13 bytes will be calculated as SHA256 truncated to 104 bits of the sequence Byte 1 to Byte 16 (all packet fields until Protected MQTT-SN Packet). So considering the same Sender Id, the same nonce can be generated with a probability of 1/2^32=2.33x10</span><span class="c43 c0 c274">-10</span><span class="c43 c0">. With a shorter Random field of 2 bytes, the same nonce would be calculated with a probability of only 1/2^16=1.53x10</span><span class="c43 c0 c274">-5</span><span class="c43 c0">. As CCM is a derivation of CTR (see </span><span class="c124 c0 c190 c47"><a class="c48" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/CCM_mode&amp;sa=D&amp;source=editors&amp;ust=1724799529242548&amp;usg=AOvVaw0NfsLZO7grmj_uATU3u8Ob">https://en.wikipedia.org/wiki/CCM_mode</a></span><span class="c43 c0">), the nonce should never be reused for the same key so the probability to generate two identical nonces should be kept as low as possible. Same for GCM and ChaCha20/Poly1305, the security depends on choosing a unique IV of 12 bytes for every encryption performed with the same key (</span><span class="c124 c0 c190 c47"><a class="c48" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Galois/Counter_Mode&amp;sa=D&amp;source=editors&amp;ust=1724799529242924&amp;usg=AOvVaw0by76GsR1RwGkwKJs0mZqp">https://en.wikipedia.org/wiki/Galois/Counter_Mode</a></span><span class="c43 c0">).</span></p><h4 class="c1" id="h.q30yx1mc4rc1"><span class="c30">3.26.7 Crypto Material</span></h4><p class="c12 c110 c95"><span>Located at</span><span class="c0">&nbsp;</span><span class="c0 c79">Byte (17 - P), t</span><span class="c0 c79">he optional field &ldquo;</span><span class="c42 c79">Crypto Material</span><span class="c0 c79">&rdquo; contains </span><span class="c118 c0 c169 c54 c79">0, 2, 4 or 12 bytes of crypto material that when defined it can be used to derive, from a shared master secret, the same keys on the two endpoints and/or, when filled partially or totally with a random value, to further reduce the probability of IV/nonce reuse for CCM or GCM or ChaCha20/Poly1305. For instance when the Crypto material length is set to 0x03, the Crypto Material field can be partially filled with a random value of 9 bytes (the remaining 3 bytes can be set to 0 if not used) in order to reach the 13 bytes used only once recommended for the nonce used by CCM or it can be partially filled with a random value of 8 bytes in order to reach the 12 bytes used only once recommended for the IV/nonce used by GCM or ChaCha20/Poly1305 .</span></p><h4 class="c1" id="h.3y6o9vhqakro"><span class="c0">3.26.8 Monotonic Counter</span></h4><p class="c12 c110 c95"><span class="c0">Located at </span><span class="c0 c79">Byte Byte (Q - R), t</span><span class="c0 c79">he optional field &ldquo;</span><span class="c42 c79">Monotonic Counter</span><span class="c0 c79">&rdquo; contains </span><span class="c118 c0 c169 c54 c79">0, 2 or 4 byte number that when defined, is increased by the Client or GW for every packet sent. The counters should be considered independent of session or destination. E.g. The UE will keep a counter independently from the GW.</span></p><h4 class="c1" id="h.dovnwl46a7is"><span class="c0">3.26.9 Protected MQTT-SN Packet</span></h4><p class="c12 c110 c95"><span class="c0">Located at </span><span class="c0 c79">Byte (S - T), t</span><span class="c0 c79">he field &nbsp;&ldquo;</span><span class="c42 c79">Protected MQTT-SN Packet</span><span class="c118 c0 c169 c54 c79">&rdquo; contains the MQTT-SN packet that is being secured, encoded as per its packet type.</span></p><p class="c12 c110 c95"><span class="c118 c0 c54 c79 c169">The &ldquo;Protected MQTT-SN Packet&rdquo; should not be a &ldquo;Forwarder-Encapsulation packet&rdquo; as the shared key used directly or after derivation for the protection must belong to the originator of the content and not to a Forwarder that, in general, is not able to securely identify the originator.</span></p><h4 class="c1" id="h.j75p96o6vesm"><span class="c30">3.26.10 Authentication Tag</span></h4><p class="c19 c110 c95"><span class="c0">Located at Byte (U - N), t</span><span class="c0">he field</span><span class="c0 c79">&nbsp;&ldquo;</span><span class="c42 c79">Authentication tag</span><span class="c0 c79">&rdquo; field has a length depending on the &ldquo;Authentication tag length&rdquo; flag and it is calculated, on the basis of the &ldquo;Protection scheme&rdquo; selected in Byte 4, on ALL the preceding fields.</span></p><h1 class="c110 c95 c239 c255" id="h.2qk79lc"><span class="c118 c212 c42 c54">4 Operational behavior</span></h1><p class="c19 c110 c95 c327"><span class="c55 c0 c54">An important design point of MQTT-SN is to be as close as possible to MQTT. Therefore, all protocol semantics should remain, as far as possible, the same as those defined by MQTT.</span></p><h2 class="c207 c110 c95" id="h.21od6so"><span class="c0">4.1 </span><span class="c0">Session state</span><sup><a href="#cmnt121" id="cmnt_ref121">[dq]</a></sup></h2><p class="c339 c110"><span class="c55 c64 c54">In order to implement QoS 1 and QoS 2 protocol flows the Client and Server need to associate state with the Client Identifier, this is referred to as the Session State. The Server also stores the subscriptions as part of the Session State.</span></p><p class="c134 c110"><span class="c55 c64 c54">The Session can continue across a sequence of Virtual Connections. It lasts as long as the latest Virtual Connection plus the Session Expiry Interval.</span></p><p class="c134 c110"><span>The Session State in the Client consists of:</span><sup><a href="#cmnt122" id="cmnt_ref122">[dr]</a></sup></p><ul class="c59 lst-kix_w4fcba4ygfgj-0 start"><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">QoS 1 and QoS 2 PUBLISH Packets which have been sent to the Server, but have not been completely acknowledged.</span></li><li class="c70 c20 li-bullet-0"><span>QoS 2 PUBLISH Packets which have been received from the Server, but have not been </span><span>completely </span><span>acknowledged.</span></li></ul><p class="c134 c110"><span>The Session State in the Server consists of:</span><sup><a href="#cmnt123" id="cmnt_ref123">[ds]</a></sup></p><ul class="c59 lst-kix_1fioxjrj066s-0 start"><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">The existence of a Session, even if the rest of the Session State is empty.</span></li><li class="c70 c20 li-bullet-0"><span>The Client&rsquo;s subscriptions,</span><span>&nbsp;including any Subscription Identifiers</span><sup><a href="#cmnt124" id="cmnt_ref124">[dt]</a></sup><span class="c55 c64 c54">.</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">QoS 1 and QoS 2 PUBLISH Packets which have been sent to the Client, but have not been completely acknowledged.</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">QoS 1 and QoS 2 PUBLISH Packets pending transmission to the Client and OPTIONALLY QoS 0 PUBLISH Packets pending transmission to the Client.</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">QoS 2 PUBLISH Packets which have been received from the Client, but have not been completely acknowledged.</span></li><li class="c70 c20 li-bullet-0"><span>The Will </span><sup><a href="#cmnt125" id="cmnt_ref125">[du]</a></sup><sup><a href="#cmnt126" id="cmnt_ref126">[dv]</a></sup><span>Message</span><span class="c55 c64 c54">.</span></li><li class="c70 c20 li-bullet-0"><span>If the Session is currently not connected, the time at which the Session will end and Session State will be discarded.</span></li></ul><p class="c134 c110"><span class="c55 c64 c54">Retained messages do not form part of the Session State in the Server, they are not deleted as a result of a Session ending.</span></p><h3 class="c270 c110" id="h.nasxg3iedd75"><span class="c118 c254 c121 c54">4.1.1 Storing Session State</span></h3><p class="c134 c110"><span class="c23">The Server </span><span class="c23">MUST NOT discard</span><span class="c23">&nbsp;the Session State while the Virtual Connection exists</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.1.1-1]</span><span class="c55 c64 c54">. </span></p><p class="c134 c110"><span class="c23">The Client </span><span class="c23">MUST NOT discard</span><span class="c23">&nbsp;the Session State while the Virtual Connection exists</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.1.1-2]</span><span>. </span></p><p class="c134 c110"><span class="c23">The Server MUST discard the Session State when the Virtual Connection is deleted</span><span class="c23">&nbsp;</span><span class="c23">and </span><span class="c23">the Session Expiry Interval has passed</span><sup><a href="#cmnt127" id="cmnt_ref127">[dw]</a></sup><span>&nbsp;</span><span class="c33">[MQTT-SN-4.1.1-3]</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c37">Informative comment</span></p><p class="c134 c20"><span class="c55 c64 c54">The storage capabilities of Client and Server implementations will of course have limits in terms of capacity and may be subject to administrative policies. Stored Session State can be discarded as a result of an administrator action, including an automated response to defined conditions. This has the effect of terminating the Session. These actions might be prompted by resource constraints or for other operational reasons. It is possible that hardware or software failures may result in loss or corruption of Session State stored by the Client or Server. It is prudent to evaluate the storage capabilities of the Client and Server to ensure that they are sufficient.</span></p><h3 class="c207 c110 c95" id="h.434ayfz"><span class="c118 c254 c121 c54">4.1.2 Session Establishment</span></h3><p class="c110 c95 c327 c332"><span class="c55 c0 c54">As with MQTT, an MQTT-SN client needs to set up a session on the server, unless it is publishing ONLY using PUBLISH WITHOUT SESSION packets. The procedure for setting up a session with a server is illustrated in Fig. 3a and 3b. </span></p><p class="c19 c15"><span class="c0">The CONNECT packet contains flags to communicate to the gateway that Auth interactions</span><span class="c0">, or WILL interactions </span><span class="c55 c0 c54">should take place.</span></p><p class="c110 c95 c238"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 321.10px; height: 232.06px;"><img alt="" src="images/image2.png" style="width: 321.10px; height: 232.06px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c402 c15"><span class="c0">Figure 3a: Connect procedure (without Auth flag </span><span class="c0">not Will flag </span><span class="c55 c0 c54">set or no further authentication data required)</span></p><p class="c402 c15"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 321.14px; height: 284.50px;"><img alt="" src="images/image1.png" style="width: 321.14px; height: 284.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c15 c402"><span class="c55 c0 c54">Figure 3b: Connect procedure (with Auth flag set and additional authentication data required)</span></p><p class="c283 c15"><span class="c55 c0 c54">In case the gateway could not accept the CONNECT request (e.g. because of congestion or it does not support a feature indicated in the CONNECT packet), the gateway returns a CONNACK packet with the rejection reason.</span></p><p class="c283 c15"><span class="c55 c0 c54">In the case where the client provides no client identifier, the Server MUST respond with a CONNACK containing an Assigned Client Identifier. </span></p><p class="c283 c15"><span class="c0 c23">The Assigned Client Identifier MUST be a new Client Identifier </span><span class="c0 c23">not used by</span><span class="c0 c23">&nbsp;any other Session currently in the gateway.</span></p><h2 class="c207 c110 c95" id="h.fc1j1f7dq6oy"><span class="c118 c42 c230 c54 c253">4.2 Networks and Virtual Connections</span></h2><p class="c134 c15"><span>The MQTT-SN protocol requires an Underlying Network to create a Virtual Connection. This carries Packets from a Client to a Gateway and </span><span>a Gateway to a Client. The Underlying Network may also </span><span class="c0">multicast </span><span class="c55 c64 c54">Packets from a Client to more than one Gateway, and from a Gateway to more than one Client.</span></p><p class="c134 c15"><span>MQTT-SN Packets which are received must be unaltered and complete</span><span>.</span></p><ul class="c59 lst-kix_list_15-0 start"><li class="c20 c65 c421 li-bullet-0"><span class="c55 c64 c54">The underlying transport does not need to be reliable, it is expected that Packets will be lost or delivered out of order.</span></li><li class="c12 c20 c65 li-bullet-0"><span>I</span><span>f the network might deliver a Packet more than once, then it is highly recommended that the PROTECTION ENCAPSULATION Monotonic Counter is used to eliminate the duplicates</span><span>.</span><sup><a href="#cmnt128" id="cmnt_ref128">[dx]</a></sup></li><li class="c12 c20 c65 li-bullet-0"><span>The MQTT-SN protocol will tolerate out of order Packets and it will retransmit lost Packets</span><span class="c55 c64 c54">.</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c55 c64 c54">There is no packet error correction in MQTT-SN. If a corrupted or partial packet is received it will cause a protocol error.</span></li><li class="c12 c20 c65 li-bullet-0"><span>The MQTT-SN implementation may use either the origin network address</span><span>&nbsp;or the sender identifier in the </span><span>PROTECTION ENCAPSULATION</span><span class="c55 c64 c54">&nbsp;to determine the identity of the Virtual Connection.</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c55 c64 c54">The Underlying Network may be connectionless. Virtual Connections do not need to have an Underlying Network event that signals their creation or deletion.</span></li><li class="c339 c20 c65 li-bullet-0"><span class="c55 c64 c54">The Underlying Network may be a radio network.</span></li></ul><p class="c134 c110 c95"><span class="c55 c254 c279">Informative comment</span></p><p class="c134 c110 c95"><span class="c279">UDP as defined in [RFC0768] can be used for MQTT-SN if the Maximum Transmission Unit is configured to be more </span><span class="c279">than the maximum MQTT-SN Packet size</span><span class="c279">&nbsp;used and no Packet fragmentation occurs. Depending on the network configuration, UDP can duplicate Packets. If this can happen, </span><span class="c279">the PROTECTION ENCAPSULATION monotonic counter should be used</span><span class="c55 c64 c279">.</span></p><p class="c134 c110 c95"><span class="c279">Examples of possible consequences of </span><span class="c279">not removing</span><span class="c55 c64 c279">&nbsp;duplicate Packets are:<br> &ndash; DISCONNECT Packet applied to the wrong Virtual Connection<br> &ndash; SUBSCRIBE and UNSUBSCRIBE Packets applied to the wrong Virtual Connection<br> &ndash; PUBLISH QOS=2 published more than once</span></p><p class="c134 c110 c95"><span class="c55 c64 c279">The following transport protocols are also suitable but if not capable of multicast the implementation of the optional ADVERTISE, SEARCHGW, GWINFO packets may not be possible:</span></p><ul class="c59 lst-kix_list_10-0 start"><li class="c421 c20 c65 li-bullet-0"><span class="c55 c64 c279">DTLS v1.2 [RFC6347]</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c55 c64 c279">DTLS v1.3 [RFC9147]</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c55 c64 c279">QUIC [RFC9000]</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c279">Non-IP protocols</span></li></ul><p class="c12 c110 c95 c86"><span class="c8 c0"></span></p><ul class="c59 lst-kix_list_10-0"><li class="c12 c20 c65 li-bullet-0"><span class="c55 c64 c279">TCP/IP [RFC0793]</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c55 c64 c279">TLS [RFC5246]</span></li><li class="c339 c20 c65 li-bullet-0"><span class="c55 c64 c279">WebSocket [RFC6455].</span></li></ul><p class="c134 c110 c95"><span class="c55 c254 c279">Informative comment</span></p><p class="c134 c110 c95"><span class="c279">Both </span><span class="c279">TCP and UDP ports 1883 and 8883 are registered with IANA for MQTT and secure communication respectively.</span><sup><a href="#cmnt129" id="cmnt_ref129">[dy]</a></sup><sup><a href="#cmnt130" id="cmnt_ref130">[dz]</a></sup></p><p class="c50"><span class="c8 c0">A Virtual Connection, which associates a Network Address with a Session, is:</span></p><ul class="c59 lst-kix_2q63dbptak0x-0 start"><li class="c50 c177 li-bullet-0"><span class="c0 c28">created </span><span class="c8 c0">with a CONNECT packet</span></li><li class="c50 c177 li-bullet-0"><span class="c0 c28">deleted </span><span class="c8 c0">by any of:</span></li></ul><ul class="c59 lst-kix_2q63dbptak0x-1 start"><li class="c50 c102 li-bullet-0"><span class="c8 c0">a retry timeout</span></li><li class="c50 c102 li-bullet-0"><span class="c8 c0">DISCONNECT packet</span></li><li class="c50 c102 li-bullet-0"><span class="c8 c0">protocol error</span></li></ul><ul class="c59 lst-kix_2q63dbptak0x-0"><li class="c50 c177 li-bullet-0"><span class="c8 c0">required for any MQTT-SN packet to be sent between MQTT-SN clients and servers, except any of the following Packets, including if they are Protection or Forwarder Encapsulated:</span></li></ul><ul class="c59 lst-kix_2q63dbptak0x-1 start"><li class="c50 c102 li-bullet-0"><span class="c8 c0">CONNECT, which creates a Virtual Connection</span></li><li class="c50 c102 li-bullet-0"><span class="c0 c28">PUB</span><span class="c0 c28">WOS</span><sup><a href="#cmnt131" id="cmnt_ref131">[ea]</a></sup></li><li class="c50 c102 li-bullet-0"><span class="c8 c0">ADVERTISE, SEARCHGW, GWINFO</span></li></ul><h2 class="c207 c110 c95" id="h.2i9l8ns"><span class="c0">4.3 Quality of Service levels and protocol flows</span></h2><p class="c19 c15"><span class="c0">MQTT</span><span class="c0">&nbsp;delivers Application Messages according to the Quality of Service (QoS) levels defined in the following sections. The delivery protocol is symmetric, in the description below the Client and Server </span><span class="c0">&amp; Gateway </span><span class="c55 c0 c54">can each take the role of either sender or receiver. When the Gateway is delivering an Application Message to more than one Client, each Client is treated independently. The QoS level used to deliver an Application Message outbound to the Client could differ from that of the inbound Application Message.</span></p><h3 class="c1" id="h.be76rdrlcegt"><span>4.3.1 Publish without session: </span><span>Any number of deliveries</span><sup><a href="#cmnt132" id="cmnt_ref132">[eb]</a></sup></h3><p class="c19 c15"><span>No session is required to send a message. The message is delivered according to the capabilities of the underlying network. </span><span class="c0">No response is sent by the receiver and no retry is performed by the sender. The message arrives at the receiver </span><span class="c0">any number of times</span><sup><a href="#cmnt133" id="cmnt_ref133">[ec]</a></sup><span class="c55 c0 c54">, including not at all.</span></p><p class="c19 c15"><span class="c55 c0 c54">The sender:</span></p><ul class="c59 lst-kix_tysnzt61ui6p-0 start"><li class="c19 c20 c65 li-bullet-0"><span class="c55 c0 c54">MUST send a PUBWOS packet.</span></li></ul><p class="c19 c110 c95"><span class="c55 c0 c54">The receiver:</span></p><ul class="c59 lst-kix_cpfx7gaecdgo-0 start"><li class="c19 c20 c65 li-bullet-0"><span class="c55 c0 c54">MAY decide to accept ownership of the message when it receives a PUBWOS packet.</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c55 c0 c54">MUST treat any accepted messages as QoS 0.</span></li></ul><p class="c19 c95 c110"><span class="c55 c42 c54">Informative:</span></p><p class="c19 c110 c95"><span class="c55 c0 c54">PUBWOS packets may be Multicast or Unicast.</span></p><h3 class="c1" id="h.xevivl"><span>4.3.2 </span><span class="c118 c42 c121 c54">QoS 0: At most once delivery</span></h3><p class="c19 c15"><span class="c55 c0 c54">The message is delivered according to the capabilities of the underlying network. No response is sent by the receiver and no retry is performed by the sender. The message arrives at the receiver either once or not at all. </span></p><p class="c19 c15" id="h.3hej1je"><span class="c0 c23">In the QoS 0 delivery protocol, the sender</span></p><ul class="c59 lst-kix_list_20-0 start"><li class="c19 c65 c110 c246 li-bullet-0"><span class="c0 c23">MUST send a PUBLISH packet with QoS 0 </span><span class="c0 c23">and DUP flag set to 0</span><sup><a href="#cmnt134" id="cmnt_ref134">[ed]</a></sup><span class="c0 c33">.</span></li></ul><p class="c19 c15" id="h.1wjtbr7"><span class="c55 c0 c54">In the QoS 0 delivery protocol, the receiver</span></p><ul class="c59 lst-kix_list_20-0"><li class="c19 c65 c110 c246 li-bullet-0"><span class="c55 c0 c54">Accepts ownership of the message when it receives the PUBLISH packet.</span></li></ul><p class="c19 c20 c95 c86" id="h.4gjguf0"><span class="c55 c0 c54"></span></p><table class="c266"><tr class="c18"><td class="c127 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Sender Action</span></p></td><td class="c261 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Control Packet</span></p></td><td class="c241 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Receiver Action</span></p></td></tr><tr class="c18"><td class="c127" colspan="1" rowspan="1"><p class="c4"><span class="c0">PUBLISH QoS 0</span><span class="c0">, DUP=0</span><sup><a href="#cmnt135" id="cmnt_ref135">[ee]</a></sup></p></td><td class="c261" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c127" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c261" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">----------&gt;</span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c4 c86"><span class="c6"></span></p></td></tr><tr class="c18"><td class="c127" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c261" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c4"><span class="c0">Deliver Application Message to appropriate onward recipient(s) </span></p></td></tr></table><p class="c19 c15 c86"><span class="c55 c64 c54"></span></p><sup><a href="#cmnt136" id="cmnt_ref136">[ef]</a></sup><sup><a href="#cmnt137" id="cmnt_ref137">[eg]</a></sup><h3 class="c1" id="h.1au1eum"><span>4.3.3 </span><span class="c118 c42 c121 c54">QoS 1: At least once delivery</span></h3><p class="c15 c288"><span class="c55 c0 c54">This Quality of Service level ensures that the message arrives at the receiver at least once. A QoS 1 PUBLISH packet has a Packet Identifier in its Variable Header and is acknowledged by a PUBACK packet.</span></p><p class="c19 c15" id="h.3utoxif"><span class="c0 c23">In the QoS 1 delivery protocol, the sender</span></p><ul class="c59 lst-kix_list_20-0"><li class="c19 c65 c110 c246 li-bullet-0"><span class="c0 c23">MUST assign an unused Packet Identifier each time it has a new Application Message to publish</span><span class="c0">&nbsp;</span><span class="c118 c0 c169 c33 c54">[MQTT-SN-4.3.3-1].</span></li><li class="c19 c65 c110 c246 li-bullet-0"><span class="c0 c23">MUST send a PUBLISH packet containing this Packet Identifier with QoS 1 </span><span class="c0 c23">and DUP flag set to 0</span><sup><a href="#cmnt138" id="cmnt_ref138">[eh]</a></sup><sup><a href="#cmnt139" id="cmnt_ref139">[ei]</a></sup><sup><a href="#cmnt140" id="cmnt_ref140">[ej]</a></sup><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.3.3-2]</span><span class="c118 c0 c169 c33 c54">.</span></li><li class="c19 c65 c110 c246 li-bullet-0"><span class="c0 c33">The DUP flag must be set to 0 the first time the PUBLISH QoS 1</span><span class="c118 c0 c169 c33 c54">&nbsp;</span></li><li class="c19 c65 c110 c246 li-bullet-0"><span class="c0 c23">MUST treat the PUBLISH packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBACK packet from the receiver</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.3.3-3].</span></li></ul><p class="c19 c15" id="h.29yz7q8"><span class="c0">The Packet Identifier becomes available for reuse once the sender has received the PUBACK packet. </span></p><p class="c288 c15"><span class="c42 c23">In a difference to MQTT 5, the sender is NOT permitted to send further PUBLISH packets with different Packet Identifiers while it is waiting to receive acknowledgements. </span><span class="c42 c23">At any given time a sender </span><span class="c42 c23">must</span><sup><a href="#cmnt141" id="cmnt_ref141">[ek]</a></sup><span class="c42 c23">&nbsp;ONLY have 1 outstanding application message in flight.</span><sup><a href="#cmnt142" id="cmnt_ref142">[el]</a></sup></p><p class="c19 c15" id="h.p49hy1"><span class="c0 c23">In the QoS 1 delivery protocol, the receiver</span></p><ul class="c59 lst-kix_list_21-0 start"><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">MUST respond with a PUBACK packet containing the Packet Identifier from the incoming PUBLISH packet, having accepted ownership of the Application Message</span><span class="c55 c0 c54">&nbsp;</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">After it has sent a PUBACK packet the receiver MUST treat any incoming PUBLISH packet that contains the same Packet Identifier as being a new Application Message</span><span class="c0 c23">, irrespective of the setting of its DUP flag</span><sup><a href="#cmnt143" id="cmnt_ref143">[em]</a></sup></li></ul><p class="c19 c20 c95" id="h.393x0lu"><span class="c55 c0 c54">Figure 4.2 &ndash; QoS 1 protocol flow diagram, Informative example</span></p><table class="c266"><tr class="c18"><td class="c127 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Sender Action</span></p></td><td class="c261 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">MQTT Control Packet</span></p></td><td class="c241 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Receiver action</span></p></td></tr><tr class="c18"><td class="c127" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Store message</span></p></td><td class="c261" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td></tr><tr class="c18"><td class="c127" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Send PUBLISH QoS 1, DUP=0, &lt;Packet Identifier&gt;</span></p></td><td class="c261" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">----------&gt;</span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c6"></span></p></td></tr><tr class="c18"><td class="c127" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c261" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Initiate onward delivery of the Application Message</span><span class="c0 c89 c79">&nbsp;(Note 1)</span></p></td></tr><tr class="c18"><td class="c127" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c11 c0"></span></p></td><td class="c261" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">&lt;----------</span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c4"><span class="c11 c0">Send PUBACK &lt;Packet Identifier&gt;</span></p></td></tr><tr class="c18"><td class="c127" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">Discard message</span></p></td><td class="c261" colspan="1" rowspan="1"><p class="c4 c86"><span class="c11 c0"></span></p></td><td class="c241" colspan="1" rowspan="1"><p class="c4 c86"><span class="c6"></span></p></td></tr></table><p class="c19 c110 c95 c86"><span class="c55 c0 c54"></span></p><p class="c12 c15"><span class="c122 c118 c54 c79">Note(s):</span></p><ol class="c59 lst-kix_list_26-0 start" start="1"><li class="c19 c84 c65 li-bullet-0"><span>The receiver does not need to complete delivery of the Application Message before sending the PUBACK</span><span class="c55 c64 c54">. When its original sender receives the PUBACK packet, ownership of the Application Message is transferred to the receiver.</span></li></ol><h3 class="c1" id="h.1o97atn"><span>4.3.4 </span><span class="c118 c42 c121 c54">QoS 2: Exactly once delivery</span></h3><p class="c19 c15"><span class="c55 c0 c54">This is the highest Quality of Service level, for use when neither loss nor duplication of Application Messages are acceptable. There is an increased overhead associated with QoS 2.</span></p><p class="c19 c15" id="h.488uthg"><span class="c0 c23">In the QoS 2 delivery protocol, the sender</span><span class="c55 c0 c54">:</span></p><ul class="c59 lst-kix_list_22-0 start"><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">MUST assign an unused Packet Identifier when it has a new Application Message to publish</span><span class="c0 c33">&nbsp;</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">MUST send a PUBLISH packet containing this Packet Identifier with QoS 2 and DUP flag set to 0</span><span class="c55 c0 c54">&nbsp;</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">MUST treat the PUBLISH packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBREC packet from the receiver</span><span class="c55 c0 c54">&nbsp;</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">MUST send a PUBREL packet when it receives a PUBREC packet from the receiver with a Reason Code value less than 0x80. This PUBREL packet MUST contain the same Packet Identifier as the original PUBLISH packet</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">MUST treat the PUBREL packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBCOMP packet from the receiver</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">MUST NOT resend the PUBLISH once it has sent the corresponding PUBREL packe</span><span class="c0">t</span></li></ul><p class="c288 c15"><span class="c55 c0 c54">The Packet Identifier becomes available for reuse once the sender has received the PUBCOMP packet or a PUBREC with a Reason Code of 0x80 or greater. </span></p><p class="c19 c15" id="h.2ne53p9"><span class="c0 c23">In the QoS 2 delivery protocol, the receiver</span><span class="c0">:</span></p><ul class="c59 lst-kix_list_24-0 start"><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">MUST respond with a PUBREC containing the Packet Identifier from the incoming PUBLISH packet, having accepted ownership of the Application Message</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">If it has sent a PUBREC with a Reason Code of 0x80 or greater, the receiver MUST treat any subsequent PUBLISH packet that contains that Packet Identifier as being a new Application Message</span><span class="c55 c0 c54">&nbsp;</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">Until it has received the corresponding PUBREL packet, </span><span class="c0 c23">the receiver MUST acknowledge any subsequent PUBLISH packet with the same Packet Identifier by sending a PUBREC</span><span class="c0 c23">. It MUST NOT cause duplicate messages to be delivered to any onward recipients in this case</span><span class="c55 c0 c54">&nbsp;</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">MUST respond to a PUBREL packet by sending a PUBCOMP packet containing the same Packet Identifier as the PUBREL</span></li><li class="c19 c20 c65 li-bullet-0"><span class="c0 c23">After it has sent a PUBCOMP, the receiver MUST treat any subsequent PUBLISH packet that contains that Packet Identifier as being a new Application Message</span></li></ul><h2 class="c1" id="h.6udnv5yl5cv5"><span class="c118 c254 c230 c54 c253">4.4 Packet delivery retry</span></h2><p class="c19 c15"><span>There are two situations when packets that require acknowledgement</span><span class="c55 c64 c54">&nbsp;are resent by the sender:</span></p><ol class="c59 lst-kix_462e54846fbo-0 start" start="1"><li class="c19 c20 c65 li-bullet-0"><span class="c55 c64 c54">when a Virtual Connection is deleted before the acknowledgement is received by the requester (and clean start is false)</span></li><li class="c19 c20 c65 li-bullet-0"><span>when no acknowledgment is received by the </span><span>by the </span><span class="c55 c64 c54">requester within a configured timeout period during the existence of a Virtual Connection</span></li></ol><p class="c19 c110 c95"><span class="c55 c64 c54">These two situations are described in the following two sections.</span></p><h3 class="c1" id="h.kc8msbstg9e"><span class="c118 c254 c121 c54">4.4.1 Virtual Connection End</span></h3><p class="c134 c110"><span class="c87 c23">When a Client reconnects with Clean Start set to 0 and a session is present, both the Client and Server MUST resend any </span><span class="c87 c23">unacknowledged PUBLISH packets</span><sup><a href="#cmnt144" id="cmnt_ref144">[en]</a></sup><span class="c87 c23">&nbsp;(where QoS &gt; 0) and PUBREL packets using their original Packet Identifiers</span><span class="c33 c87 c23">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.4-1].</span></p><p class="c134 c110"><span class="c87 c23">If PUBACK or PUBREC is received containing a Reason Code of 0x80 or greater the corresponding PUBLISH packet is treated as acknowledged, and MUST NOT be retransmitted</span><span class="c87">&nbsp;</span><span class="c33 c87">[MQTT-SN-4.4-2]</span><span class="c11 c64">. </span></p><p class="c134 c110"><span class="c87 c23">The DUP flag MUST be set to 1 by the Client or Server when it attempts to re-deliver or retransmit a PUBLISH </span><span class="c87 c23">packet. </span><span class="c87 c23">The DUP flag must be set to 0 for all QoS </span><span class="c87 c23">0</span><span class="c87 c23">&nbsp;packets</span><sup><a href="#cmnt145" id="cmnt_ref145">[eo]</a></sup><span class="c23 c87">. </span><span class="c87">&nbsp;</span><span class="c33 c87">[MQTT-SN-4.4-3].</span><sup><a href="#cmnt146" id="cmnt_ref146">[ep]</a></sup></p><p class="c134 c20"><span class="c55 c64 c54">Figure 4.3 &ndash; QoS 2 protocol flow diagram, non-normative example</span></p><table class="c146"><tr class="c447"><td class="c17" colspan="1" rowspan="1"><p class="c140 c110"><span class="c37">Sender Action</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c37">MQTT Control Packet</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c140 c110"><span class="c37">Receiver Action</span></p></td></tr><tr class="c298"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">Store message</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td></tr><tr class="c317"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">PUBLISH QoS 2, DUP=0<br> &nbsp;&lt;Packet Identifier&gt;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c37">&nbsp;</span></p></td></tr><tr class="c487"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c55 c64 c54">----------&gt;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c37">&nbsp;</span></p></td></tr><tr class="c472"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span>Store &lt;Packet Identifier&gt; then Initiate onward delivery of the Application Message</span><span class="c92 c64 c169 c192 c54">1</span></p></td></tr><tr class="c317"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">PUBREC &lt;Packet Identifier&gt;&lt;Reason Code&gt;</span></p></td></tr><tr class="c298"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c55 c64 c54">&lt;----------</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td></tr><tr class="c482"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">Discard message, Store PUBREC received &lt;Packet Identifier&gt;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c110 c140"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td></tr><tr class="c319"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">PUBREL &lt;Packet Identifier&gt;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c37">&nbsp;</span></p></td></tr><tr class="c487"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c55 c64 c54">----------&gt;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c37">&nbsp;</span></p></td></tr><tr class="c319"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">Discard &lt;Packet Identifier&gt;</span></p></td></tr><tr class="c319"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c37">&nbsp;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">Send PUBCOMP &lt;Packet Identifier&gt;</span></p></td></tr><tr class="c487"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c37">&nbsp;</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c55 c64 c54">&lt;----------</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td></tr><tr class="c298"><td class="c17" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">Discard stored state</span></p></td><td class="c248" colspan="1" rowspan="1"><p class="c140 c110"><span class="c55 c64 c54">&nbsp;</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c12 c110 c224"><span class="c55 c64 c54">&nbsp;</span></p></td></tr></table><p class="c134 c20"><span class="c92 c64 c169 c192 c54">&nbsp;</span></p><p class="c134 c20"><span class="c274">1 </span><span>T</span><span>he receiver does not need to complete delivery of the Application Message before sending the </span><span>PUBREC or</span><span>&nbsp;PUBCOMP.</span><span>&nbsp;When its original sender receives the PUBREC packet, ownership of the Application Message is transferred to the receiver. However, the receiver needs to perform all checks for conditions which might result in a forwarding failure (e.g. quota exceeded, authorization, etc.) before accepting ownership. The receiver indicates success or failure using the appropriate Reason Code in the PUBREC.</span><sup><a href="#cmnt147" id="cmnt_ref147">[eq]</a></sup></p><h3 class="c207 c110 c95" id="h.17nz8yj"><span class="c118 c254 c121 c54">4.4.1 Unacknowledged Packets</span></h3><p class="c150 c12 c110 c54"><span class="c0">The Client or Gateway will start a retransmission retry timer, T</span><span class="c0 c257">retry</span><span class="c0">, when </span><span class="c0">one of the following Packets is sent</span><span class="c55 c0 c54">.</span></p><p class="c150 c12 c110 c54"><span class="c0 c23">A Client MUST retransmit AUTH, REGISTER, PUBLISH Qos1, PUBLISH Qos2, PUBREL, SUBSCRIBE,</span><span class="c0 c23">&nbsp;</span><span class="c0 c23">UNSUBSCRIBE </span><span class="c0 c23">Packets</span><sup><a href="#cmnt148" id="cmnt_ref148">[er]</a></sup><sup><a href="#cmnt149" id="cmnt_ref149">[es]</a></sup><span class="c0 c23">, including a PROTECTION encapsulation if there is one, after T</span><span class="c0 c257 c23">retry</span><span class="c55 c0 c23">&nbsp;has passed or the Virtual Connection deleted.</span></p><p class="c150 c12 c110 c54"><span class="c0 c23">A Gateway MUST retransmit PUBLISH Qos1, PUBLISH Qos2, </span><span class="c0 c23">PUBREL </span><span class="c0 c23">Packets</span><sup><a href="#cmnt150" id="cmnt_ref150">[et]</a></sup><span class="c0 c23">, including a PROTECTION encapsulation if there is one, after T</span><span class="c0 c257 c23">retry</span><span class="c0 c23">&nbsp;has passed </span><span class="c0 c23">or the Virtual Connection deleted</span><sup><a href="#cmnt151" id="cmnt_ref151">[eu]</a></sup><span class="c55 c0 c23">.</span></p><p class="c150 c12 c110 c54"><span class="c0 c23">The timer is canceled if the corresponding acknowledgement packet is received. The Client or Gateway MUST retransmit the Packet after T</span><span class="c0 c257 c23">retry</span><span class="c55 c0 c23">&nbsp;has passed or delete the Virtual Connection.</span></p><p class="c150 c12 c110 c54"><span class="c0 c23">If a Packet can be retransmitted it MUST be sent using a Unicast address.</span><sup><a href="#cmnt152" id="cmnt_ref152">[ev]</a></sup></p><p class="c12 c110 c54 c150"><span class="c55 c0 c23">If a Packet is retransmitted it MUST be identical to the previously transmitted Packet, the PROTECTION encapsulation need not be identical.</span></p><p class="c150 c12 c110 c54"><span class="c0 c23">PUBLISH (used for QoS 0) and PUBLISH WITHOUT SESSION </span><span class="c55 c0 c23">Packets MUST NOT be retransmitted.</span></p><p class="c150 c12 c110 c54"><span class="c55 c0 c54">If the Virtual Connection is deleted, the protocol will restart when a new CONNECT packet flows from the Client.</span></p><p class="c150 c12 c20 c54"><span class="c55 c42 c54">Informative comment</span></p><p class="c150 c12 c20 c54"><span class="c0">The value of the retry interval T</span><span class="c0 c257">retry</span><span class="c55 c0 c54">&nbsp;is not specified by the protocol, however, to be useful it ought to be longer than the network round trip time. If it is excessively long, the time taken to detect and retransmit lost Packets will also be excessively long. Implementers need to take care not to use a retry interval that might cause the network to become congested with retried Packets.</span></p><p class="c150 c12 c110 c54"><span class="c0">The PINGREQ Packet described in [</span><span class="c124 c0"><a class="c48" href="#h.13qzunr">3.21 PINGREQ</a></span><span class="c0">] can </span><span class="c0">also </span><sup><a href="#cmnt153" id="cmnt_ref153">[ew]</a></sup><span class="c0">be used to determine whether the </span><span class="c0">Virtual Connection is alive</span><sup><a href="#cmnt154" id="cmnt_ref154">[ex]</a></sup><span class="c55 c0 c54">.</span></p><p class="c150 c12 c110 c54"><span class="c0">An example of a retry algorithm is described in [</span><span class="c124 c0"><a class="c48" href="#h.1csj400">Appendix F.4</a></span><span class="c0">]</span></p><h2 class="c1" id="h.xoc2pfhnyfst"><span class="c118 c254 c230 c54 c253">4.5 Application Message receipt</span></h2><p class="c134 c110"><span class="c23">When a Server takes ownership of an incoming Application Message it MUST add it to the Session State for those Clients that have matching Subscriptions</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.5-1]</span><span>. Matching rules are defined in </span><span class="c124"><a class="c48" href="#h.g7vjj8m1vj3z">section 4.7</a></span><span class="c124 c64 c169 c375 c213 c54">.</span></p><p class="c134 c110"><span>Under normal circumstances Clients receive </span><span class="c0 c23">Application </span><span>M</span><span>essages in response to Subscriptions they have created. A Client could also receive </span><span class="c0 c23">Application </span><span>M</span><span>essages that do not match any of its explicit Subscriptions. This can happen if the Server automatically assigned a subscription to the Client. A Client could also receive </span><span class="c0 c23">Application </span><span>M</span><span>essages while an UNSUBSCRIBE operation is in progress. </span><span class="c23">The Client MUST acknowledge any Publish packet it receives according to the applicable QoS rules regardless of whether it elects to process the Application Message that it contains</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.5-2]</span><span class="c55 c54 c64">.</span></p><h2 class="c1" id="h.rrfw7sclv8s"><span class="c118 c254 c230 c54 c253">4.6 Application Message ordering</span></h2><p class="c134 c110"><span>An Ordered Topic is a Topic where the Client can be certain that the Application Messages in that Topic from the same Client and at the same QoS are received in the order they were published. </span><span class="c23">When a Server processes a </span><span class="c0 c23">Application </span><span class="c23">M</span><span class="c23">essage that has been published to an Ordered Topic, it MUST send PUBLISH packets to consumers (for the same Topic and QoS) in the order that they were received from any given Client </span><span>&nbsp;</span><span class="c33">[MQTT-SN-???]</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span class="c23">By default, a Server MUST treat every Topic as an Ordered Topic when it is forwarding </span><span class="c0 c23">Application </span><span class="c23">M</span><span class="c23">essages.</span><span class="c33">&nbsp;</span><span>&nbsp;</span><span class="c33">[MQTT-SN-???]</span><span class="c55 c64 c54">. A Server MAY provide an administrative or other mechanism to allow one or more Topics to not be treated as an Ordered Topic.</span></p><p class="c134 c20"><span class="c37">Informative comment</span></p><p class="c134 c20"><span class="c55 c64 c54">When a stream of messages is published and subscribed to an Ordered Topic with QoS 1, the final copy of each message received by the subscribers will be in the order that they were published.</span></p><p class="c134 c20"><span>As no more than one message is &ldquo;in-flight&rdquo; at any one time, no QoS 1 message will be received after any later one even on re-connection. For example a subscriber might receive them in the order 1,2,3,3,4 but not 1,2,3,2,3,</span><span class="c55 c64 c54">4. </span></p><h2 class="c289 c240 c110 c334" id="h.g7vjj8m1vj3z"><span class="c118 c254 c230 c54 c253">4.7 Topic Names and Topic Filters</span></h2><h3 class="c1" id="h.q0s32id4lv9p"><span class="c118 c254 c121 c54">4.7.1 Topic wildcards</span></h3><p class="c134 c15"><span class="c0">The topic level separator is used to introduce structure into the Topic Name. If present, it divides the Topic Name into multiple &ldquo;topic levels&rdquo;.</span><sup><a href="#cmnt155" id="cmnt_ref155">[ey]</a></sup><sup><a href="#cmnt156" id="cmnt_ref156">[ez]</a></sup></p><p class="c134 c15"><span class="c55 c0 c54">A subscription&rsquo;s Topic Filter can contain special wildcard characters, which allow a Client to subscribe to multiple topics at once.</span></p><p class="c134 c15"><span class="c0 c23">The wildcard characters can be used in Topic Filters, but MUST NOT be used within a Topic Name</span><sup><a href="#cmnt157" id="cmnt_ref157">[fa]</a></sup><sup><a href="#cmnt158" id="cmnt_ref158">[fb]</a></sup><sup><a href="#cmnt159" id="cmnt_ref159">[fc]</a></sup><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.7.1-1]</span><span class="c55 c0 c54">. </span></p><h4 class="c1" id="h.3kbulner4ob4"><span class="c118 c254 c230 c54 c321">4.7.1.1 Topic level separator</span></h4><p class="c134 c15"><span class="c0">The forward slash (&lsquo;/&rsquo; U+002F) is used to separate each level within a topic tree and provide a hierarchical structure to the Topic Names. </span><sup><a href="#cmnt160" id="cmnt_ref160">[fd]</a></sup><sup><a href="#cmnt161" id="cmnt_ref161">[fe]</a></sup><span class="c55 c0 c54">The use of the topic level separator is significant when either of the two wildcard characters is encountered in Topic Filters specified by subscribing Clients. Topic level separators can appear anywhere in a Topic Filter or Topic Name. Adjacent Topic level separators indicate a zero-length topic level.</span></p><h4 class="c1" id="h.ychcrpqsu69r"><span class="c118 c254 c230 c321 c54">4.7.1.2 Multi-level wildcard</span></h4><p class="c134 c15"><span class="c0">The number sign (&lsquo;#&rsquo; U+0023) is a wildcard character that matches any number of levels within a topic. The multi-level wildcard represents the parent and any number of child levels. </span><span class="c0 c23">The multi-level wildcard character MUST be specified either on its own or following a topic level separator. In either case it MUST be the last character specified in the Topic Filter</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.7.1.2-1]</span><span class="c55 c0 c54">.</span></p><p class="c134 c20 c95"><span class="c55 c42 c54">Informative comment</span></p><p class="c134 c20 c95"><span class="c0">For example, if a Client subscribes to &ldquo;sport/tennis/player1/#&rdquo;, it would receive </span><span class="c0 c23">Application </span><span class="c0">M</span><span class="c55 c0 c54">essages published using these Topic Names:</span></p><ul class="c59 lst-kix_25zuex9fsrpn-0 start"><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;sport/tennis/player1&rdquo;</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;sport/tennis/player1/ranking</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c409">&nbsp;</span><span class="c55 c0 c54">&ldquo;sport/tennis/player1/score/wimbledon&rdquo;</span></li></ul><p class="c134 c20 c95"><span class="c55 c42 c54">Informative comment</span></p><ul class="c59 lst-kix_3lachvmklkpr-0 start"><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;sport/#&rdquo; also matches the singular &ldquo;sport&rdquo;, since # includes the parent level.</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;#&rdquo; is valid and will receive every Application Message</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;sport/tennis/#&rdquo; is valid</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;sport/tennis#&rdquo; is not valid</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;sport/tennis/#/ranking&rdquo; is not valid</span></li></ul><h4 class="c1" id="h.x4yye38w41vd"><span class="c118 c254 c230 c321 c54">4.7.1.3 Single-level wildcard</span></h4><p class="c134 c15"><span class="c55 c0 c54">The plus sign (&lsquo;+&rsquo; U+002B) is a wildcard character that matches only one topic level. </span></p><p class="c134 c15"><span class="c0 c23">The single-level wildcard can be used at any level in the Topic Filter, including first and last levels. Where it is used, it MUST occupy an entire level of the filter</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.7.1.3-1]</span><span class="c55 c0 c54">. It can be used at more than one level in the Topic Filter and can be used in conjunction with the multi-level wildcard.</span></p><p class="c134 c20 c95"><span class="c55 c42 c54">Informative comment</span></p><p class="c134 c20 c95"><span class="c55 c0 c54">For example, &ldquo;sport/tennis/+&rdquo; matches &ldquo;sport/tennis/player1&rdquo; and &ldquo;sport/tennis/player2&rdquo;, but not &ldquo;sport/tennis/player1/ranking&rdquo;. Also, because the single-level wildcard matches only a single level, &ldquo;sport/+&rdquo; does not match &ldquo;sport&rdquo; but it does match &ldquo;sport/&rdquo;.</span></p><ul class="c59 lst-kix_g0hqdl2at9s-0 start"><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;+&rdquo; is valid</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;+/tennis/#&rdquo; is valid</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;sport+&rdquo; is not valid</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;sport/+/player1&rdquo; is valid</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;/finance&rdquo; matches &ldquo;+/+&rdquo; and &ldquo;/+&rdquo;, but not &ldquo;+&rdquo; </span></li></ul><h3 class="c1" id="h.p61p07rh2x26"><span class="c118 c254 c121 c54">4.7.2 &nbsp;Topics beginning with $</span></h3><p class="c134 c15"><span class="c0 c23">The Server MUST NOT match Topic Filters starting with a wildcard character (# or +) with Topic Names beginning with a $ character</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.7.2-1]</span><span class="c55 c0 c54">. The Server SHOULD prevent Clients from using such Topic Names to exchange messages with other Clients. Server implementations MAY use Topic Names that start with a leading $ character for other purposes.</span></p><p class="c134 c20 c95"><span class="c55 c42 c54">Informative comment</span></p><ul class="c59 lst-kix_9xfwu95yhj84-0 start"><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">$SYS/ has been widely adopted as a prefix to topics that contain Server-specific information or control APIs</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c409">&nbsp;</span><span class="c55 c0 c54">Applications cannot use a topic with a leading $ character for their own purposes</span></li></ul><p class="c134 c20 c95"><span class="c55 c42 c54">Informative comment</span></p><ul class="c59 lst-kix_xx0koyk92fk7-0 start"><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">A subscription to &ldquo;#&rdquo; will not receive any messages published to a topic beginning with a $</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">A subscription to &ldquo;+/monitor/Clients&rdquo; will not receive any messages published to &ldquo;$SYS/monitor/Clients&rdquo;</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">A subscription to &ldquo;$SYS/#&rdquo; will receive messages published to topics beginning with &ldquo;$SYS/&rdquo;</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">A subscription to &ldquo;$SYS/monitor/+&rdquo; will receive messages published to &ldquo;$SYS/monitor/Clients&rdquo;</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">For a Client to receive messages from topics that begin with $SYS/ and from topics that don&rsquo;t begin with a $, it has to subscribe to both &ldquo;#&rdquo; and &ldquo;$SYS/#&rdquo;</span></li></ul><h3 class="c1" id="h.rvcur5x0am"><span class="c118 c254 c121 c54">4.7.3 Topic semantic and usage</span></h3><p class="c134 c15"><span class="c55 c0 c54">The following rules apply to Topic Names and Topic Filters:</span></p><ul class="c59 lst-kix_dh16vo1krifc-0 start"><li class="c70 c20 c95 li-bullet-0"><span class="c0 c23">All Topic Names and Topic Filters MUST be at least one character long</span><span class="c0">&nbsp;</span><span class="c118 c0 c169 c33 c54">[MQTT-SN-4.7.3-1]</span></li><li class="c70 c20 c95 li-bullet-0"><span class="c55 c0 c54">Topic Names and Topic Filters are case sensitive</span></li><li class="c70 c20 c95 li-bullet-0"><span class="c55 c0 c54">Topic Names and Topic Filters can include the space character</span></li><li class="c70 c20 c95 li-bullet-0"><span class="c55 c0 c54">A leading or trailing &lsquo;/&rsquo; creates a distinct Topic Name or Topic Filter</span></li><li class="c70 c20 c95 li-bullet-0"><span class="c55 c0 c54">A Topic Name or Topic Filter consisting only of the &lsquo;/&rsquo; character is valid</span></li><li class="c70 c20 c95 li-bullet-0"><span class="c0 c23">Topic Names and Topic Filters MUST NOT include the null character (Unicode U+0000)</span><span class="c0"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1724799529282877&amp;usg=AOvVaw2q7cIhi_37bnYljBMfNXsM">&nbsp;</a></span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1724799529283260&amp;usg=AOvVaw0AjCzNX5Bg01p77TZiKElq">[Unicode]</a></span><span class="c0">&nbsp;</span><span class="c118 c0 c169 c33 c54">[MQTT-SN-4.7.3-2]</span></li><li class="c70 c20 c95 li-bullet-0"><span class="c0 c23">Topic Names and Topic Filters are UTF-8 Encoded Strings; they MUST NOT encode to more than 65,535 bytes</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.7.3-4]</span><span class="c0">. Refer to </span><span class="c124 c0"><a class="c48" href="#h.49x2ik5">section 1.7.4</a></span><span class="c55 c0 c54">.</span></li></ul><p class="c134 c15"><span class="c55 c0 c54">There is no limit to the number of levels in a Topic Name or Topic Filter, other than that imposed by the overall length of a UTF-8 Encoded String.</span></p><p class="c134 c15"><span class="c0 c23">When it performs subscription matching the Server MUST NOT perform any normalization of Topic Names or Topic Filters, or any modification or substitution of unrecognized characters</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.7.3-4]</span><span class="c55 c0 c54">. Each non-wildcarded level in the Topic Filter has to match the corresponding level in the Topic Name character for character for the match to succeed.</span></p><p class="c134 c15"><span class="c0 c494">&nbsp;</span><span class="c55 c42 c54">Informative comment</span></p><p class="c134 c20 c95"><span class="c0">The UTF-8 encoding rules mean that the comparison of Topic Filter and Topic Name could be performed either by comparing the encoded UTF-8 bytes, or by comparing decoded Unicode </span><span class="c0">characters</span><span class="c55 c0 c54">.</span></p><p class="c134 c15"><span class="c0">&nbsp;</span><span class="c55 c42 c54">Informative comment</span></p><ul class="c59 lst-kix_mu44woos9jdi-0 start"><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;ACCOUNTS&rdquo; and &ldquo;Accounts&rdquo; are two different Topic Names</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c55 c0 c54">&ldquo;Accounts payable&rdquo; is a valid Topic Name</span></li><li class="c70 c84 c95 li-bullet-0"><span class="c0">&ldquo;/finance&rdquo; is different from &ldquo;finance&rdquo;</span><span class="c55 c42 c54">&nbsp;</span></li></ul><p class="c134 c15"><span class="c55 c0 c54">An Application Message is sent to each Client Subscription whose Topic Filter matches the Topic Name attached to an Application Message. The topic resource MAY be either predefined in the Server by an administrator or it MAY be dynamically created by the Server when it receives the first subscription or an Application Message with that Topic Name. The Server MAY also use a security component to authorize particular actions on the topic resource for a given Client.</span></p><h2 class="c1" id="h.zh9mgr3i86c2"><span class="c118 c254 c230 c54 c253">4.8 Subscriptions</span></h2><p class="c134 c110"><span>A Subscription is associated only with the Session that created it. Each Subscription includes </span><span>a Topic Filter, indicating the topic(s) for which messages are to be delivered on that Session, and Subscription Options. The Server is responsible for collecting messages that match the </span><span>filter </span><span class="c55 c64 c54">and transmitting them on the Session&#39;s Virtual Connection if and when that Virtual Connection exists.</span></p><p class="c134 c110"><span>A Session cannot have more than one Subscription with the same </span><span>Topic Filter, so the </span><span class="c55 c64 c54">Topic Filter can be used as a key to identify the subscription within that Session.</span></p><p class="c134 c110"><span class="c55 c64 c54">If there are multiple Clients, each with its own Subscription to the same Topic, each Client gets its own copy of the Application Messages that are published on that Topic. This means that the Subscriptions cannot be used to load-balance Application Messages across multiple consuming Clients as in such cases every message is delivered to every subscribing Client.</span></p><h2 class="c289 c240 c110 c95 c239" id="h.bfojn6tjnvgm"><span class="c118 c230 c54 c253 c254">4.9 Flow Control</span></h2><p class="c273 c110"><span>The maximum number of unacknowledged MQTT-SN requests in one direction within a Virtual Connection for both Clients and Servers is 1. The packets </span><span>which need acknowledgement </span><sup><a href="#cmnt162" id="cmnt_ref162">[ff]</a></sup><span class="c55 c64 c54">and are included in this constraint are:</span></p><ul class="c59 lst-kix_q0297iomcqw0-0 start"><li class="c273 c20 c313 li-bullet-0"><span class="c55 c64 c54">PUBLISH (QoS 1 and 2) and PUBREL</span></li><li class="c273 c20 c313 li-bullet-0"><span class="c55 c64 c54">REGISTER</span></li><li class="c273 c20 c313 li-bullet-0"><span class="c55 c64 c54">SUBSCRIBE</span></li><li class="c273 c20 c313 li-bullet-0"><span class="c55 c64 c54">UNSUBSCRIBE</span></li></ul><p class="c273 c110"><span>I</span><span class="c23">f a Client or Server receives an MQTT-SN request and there is already a request outstanding within the same Virtual Connection then it MUST issue a DISCONNECT with Reason Code 147 (Receive Maximum Exceeded) and delete the Virtual Connection</span><span>&nbsp;</span><span class="c118 c64 c169 c33 c54">[MQTT-SN-4.9-1].</span></p><p class="c110 c273"><span>Refer to </span><span class="c124"><a class="c48" href="#h.3hu8nopr74va">section 3.12.7</a></span><span class="c55 c64 c54">&nbsp;for a description of how Clients and Servers react if they are sent more than one unacknowledged packet.</span></p><h2 class="c1" id="h.k5nujtaz6h05"><span class="c118 c254 c230 c54 c253">4.10 Server redirection</span></h2><p class="c134 c110"><span>A Server can request that the Client uses another Server by sending a CONNACK or DISCONNECT packet with Reason Codes 0x9C (Use another server), or 0x9D (Server moved) </span><span>as described in</span><span class="c124"><a class="c48" href="#h.v8vlgf6xm72a">&nbsp;section 4.12</a></span><sup><a href="#cmnt163" id="cmnt_ref163">[fg]</a></sup><span class="c55 c64 c54">. </span></p><p class="c134 c110"><span class="c55 c64 c54">The Reason Code 0x9C (Use another server) specifies that the Client SHOULD temporarily switch to using another Server. The other Server is already known to the Client.</span></p><p class="c134 c110"><span class="c55 c64 c54">The Reason Code 0x9D (Server moved) specifies that the Client SHOULD permanently switch to using another Server. The other Server is already known to the Client.</span></p><h2 class="c1" id="h.n3l7hni8c3ae"><span class="c118 c254 c230 c54 c253">4.11 Enhanced authentication</span></h2><p class="c134 c110"><span class="c55 c64 c54">The CONNECT packet supports basic authentication of a Virtual Connection using the User Name and Password fields. While these fields are named for a simple password authentication, they can be used to carry other forms of authentication such as passing a token as the Password.</span></p><p class="c134 c110"><span class="c55 c64 c54">Enhanced authentication extends this basic authentication to include challenge / response style authentication. It might involve the exchange of AUTH packets between the Client and the Server after the CONNECT and before the CONNACK packets.</span></p><p class="c134 c110"><span>To begin an enhanced authentication, </span><span class="c0">the Client sets the AUTH flag in the CONNECT packet and</span><span>&nbsp;includes an Authentication Method and optionally Data, depending on the Authentication Method, used in the CONNECT packet. This specifies the authentication method to use and its parameters. </span><span class="c23">If the Server does not support the Authentication Method supplied by the Client, it MAY send a CONNACK with a Reason Code of 0x8C (Bad authentication method) or 0x87 (Not Authorized) as described in </span><span class="c124 c23"><a class="c48" href="#h.46r0co2">section 2.3.3</a></span><span class="c23">&nbsp;and MUST delet</span><span class="c23">e </span><span class="c23">the Virtual Connection </span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.10-1]</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span>The Authentication Method is an agreement between the Client and Server about the meaning of the data sent in the Authentication Data </span><span>and any of the other fields in CONNECT</span><sup><a href="#cmnt164" id="cmnt_ref164">[fh]</a></sup><span class="c55 c64 c54">, and the exchanges and processing needed by the Client and Server to complete the authentication.</span></p><p class="c134 c20"><span class="c37">Informative comment</span></p><p class="c134 c20"><span class="c55 c64 c54">The Authentication Method is commonly a SASL mechanism, and using such a registered name aids interchange. However, the Authentication Method is not constrained to using registered SASL mechanisms.</span></p><p class="c134 c110"><span>If the Authentication Method selected by the Client specifies that the Client sends data first, the Client SHOULD include </span><span>an </span><span>Authentication Data </span><span>property </span><span>in the CONNECT packet. </span><span>This property can be used to provide data as specified by the Authentication Method. </span><span class="c55 c64 c54">The contents of the Authentication Data are defined by the authentication method.</span></p><p class="c134 c110"><span class="c23">If the Server requires additional information to complete the authentication, it can send an AUTH packet to the Client. This packet MUST contain a Reason Code of 0x18 (Continue authentication)</span><span>&nbsp;</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.10-2]</span><span>. If the authentication method requires the Server to send authentication data to the Client, it is sent in the Authentication Data</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span class="c23">The Client responds to an AUTH packet from the Server by sending a further AUTH packet. This packet MUST contain a Reason Code of 0x18 (Continue authentication)</span><span>&nbsp;</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.10-3]</span><span>. If the authentication method requires the Client to send authentication data for the Server, it is sent in the Authentication Data</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span>The Client and Server exchange AUTH packets as needed until the Server accepts the authentication by sending a CONNACK with a Reason Code of 0. If the acceptance of the authentication requires data to be sent to the Client, it is sent in the Authentication Data</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span>The Client can terminate</span><span>&nbsp;</span><span>the Virtual Connection at any point in this process by sending a DISCONNECT packet. </span><span class="c23">The Server can reject the authentication at any point in this process. It MUST send a CONNACK with a Reason Code of 0x80 or above as described in</span><span class="c23"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23S4_13_Errors&amp;sa=D&amp;source=editors&amp;ust=1724799529288264&amp;usg=AOvVaw2w-ouZLkwb0FnFIhm5N8g8">&nbsp;</a></span><span class="c124 c23"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23S4_13_Errors&amp;sa=D&amp;source=editors&amp;ust=1724799529288689&amp;usg=AOvVaw0P1n0F9m8mAcCgtG5ear49">section 4.13</a></span><sup><a href="#cmnt165" id="cmnt_ref165">[fi]</a></sup><span class="c23">, </span><span class="c33">[MQTT-SN-4.10-4]</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span class="c23">If the initial CONNECT packet included an Authentication Method property then all AUTH packets, and any successful CONNACK packet MUST include an Authentication Method Property with the same value as in the CONNECT packet</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.10-5]</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span>The implementation of enhanced authentication is OPTIONAL for both Clients and Servers. </span><span class="c23">If the Client does not include an Authentication Method in the CONNECT, the Server MUST NOT send an AUTH packet, and it MUST NOT send an Authentication Method in the CONNACK packet</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.10-6]</span><span>. </span><span class="c23">If the Client does not include an Authentication Method in the CONNECT, the Client MUST NOT send an AUTH packet to the Server</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.10-7]</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span>If the Client does not include an Authentication Method in the CONNECT packet, the Server SHOULD authenticate using some or all of the information in the CONNECT packet </span><span class="c0 c190">in conjunction with the underlying transport layer</span><span class="c0 c190">.</span><span>.</span></p><p class="c134 c110 c481"><span class="c37">Informative example showing a SCRAM challenge</span></p><ul class="c59 lst-kix_swkzokqpq63-0 start"><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Client to Server: CONNECT Authentication Method=&quot;SCRAM-SHA-1&quot; Authentication Data=client-first-data</span></li><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Server to Client: AUTH rc=0x18 Authentication Method=&quot;SCRAM-SHA-1&quot; Authentication Data=server-first-data</span></li><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Client to Server AUTH rc=0x18 Authentication Method=&quot;SCRAM-SHA-1&quot; Authentication Data=client-final-data</span></li><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Server to Client CONNACK rc=0 Authentication Method=&quot;SCRAM-SHA-1&quot; Authentication Data=server-final-data</span></li></ul><p class="c134 c110 c481"><span class="c37">Informative example showing a Kerberos challenge</span></p><ul class="c59 lst-kix_16cnflin03zc-0 start"><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Client to Server CONNECT Authentication Method=&quot;GS2-KRB5&quot;</span></li><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Server to Client AUTH rc=0x18 Authentication Method=&quot;GS2-KRB5&quot;</span></li><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Client to Server AUTH rc=0x18 Authentication Method=&quot;GS2-KRB5&quot; Authentication Data=initial context token</span></li><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Server to Client AUTH rc=0x18 Authentication Method=&quot;GS2-KRB5&quot; Authentication Data=reply context token</span></li><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Client to Server AUTH rc=0x18 Authentication Method=&quot;GS2-KRB5&quot;</span></li><li class="c70 c84 li-bullet-0"><span class="c55 c64 c54">Server to Client CONNACK rc=0 Authentication Method=&quot;GS2-KRB5&quot; Authentication Data=outcome of authentication</span></li></ul><h3 class="c1" id="h.ut22r1f7l7us"><span class="c118 c254 c121 c54">4.11.1 Re-authentication</span></h3><p class="c134 c110"><span class="c23">If the Client supplied an Authentication Method in the CONNECT packet, it can initiate a re-authentication at any time after receiving a CONNACK. It does this by sending an AUTH packet with a Reason Code of 0x19 (Re-authentication). The Client MUST set the Authentication Method to the same value as the Authentication Method originally used to authenticate the Virtual Connection</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.10.1-1]</span><span class="c55 c64 c54">. If the authentication method requires Client data first, this AUTH packet contains the first piece of authentication data in the Authentication Data field.</span></p><p class="c134 c110"><span class="c55 c64 c54">The Server responds to this re-authentication request by sending an AUTH packet to the Client with a Reason Code of 0x00 (Success) to indicate that the re-authentication is complete, or a Reason Code of 0x18 (Continue authentication) to indicate that more authentication data is needed. The Client can respond with additional authentication data by sending an AUTH packet with a Reason Code of 0x18 (Continue authentication). This flow continues as with the original authentication until the re-authentication is complete or the re-authentication fails.</span></p><p class="c134 c110"><span class="c23">If the re-authentication fails, the Client or Server MUST send DISCONNECT with an appropriate Reason Code as described in </span><span class="c124 c23"><a class="c48" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c23">, and MUST delete the Virtual Connection</span><span>&nbsp;</span><span class="c33">[MQTT-SN-4.10.1-2]</span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span>During this re-authentication sequence, the flow of other packets between the Client and Server can continue using the previous authentication.</span><sup><a href="#cmnt166" id="cmnt_ref166">[fj]</a></sup></p><p class="c134 c110"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c37">Informative comment</span></p><p class="c134 c20"><span class="c55 c64 c54">The Server might limit the scope of the changes the Client can attempt in a re-authentication by rejecting the re-authentication. For instance, if the Server does not allow the User Name to be changed it can fail any re-authentication attempt which changes the User Name.</span></p><h2 class="c1" id="h.v8vlgf6xm72a"><span class="c118 c254 c230 c54 c253">4.12 Handling errors</span></h2><h3 class="c1" id="h.kbby30dtgah8"><span class="c118 c254 c121 c54">4.12.1 Malformed Packet and Protocol Errors</span></h3><p class="c134 c110"><span>Definitions of Malformed Packet and Protocol Errors are contained in </span><span class="c124"><a class="c48" href="#h.17dp8vu">section 1.3</a></span><span class="c55 c64 c54">, some but not all of these error cases are noted throughout the specification. The rigor with which a Client or Server checks an MQTT-SN Control Packet it has received will be a compromise between:</span></p><ul class="c59 lst-kix_wcx7cglfpdrv-0 start"><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">The size of the Client or Server implementation.</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">The capabilities that the implementation supports.</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">The degree to which the receiver trusts the sender to send correct Control Packets.</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">The degree to which the receiver trusts the network to deliver Control Packets correctly.</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">The consequences of continuing to process a packet that is incorrect.</span></li></ul><p class="c134 c110"><span>If the sender is compliant with this specification it will not send Malformed Packets or cause Protocol Errors. </span><span>The Reason Codes used for Malformed Packet and Protocol Errors are:</span><sup><a href="#cmnt167" id="cmnt_ref167">[fk]</a></sup></p><ul class="c59 lst-kix_2nzowzum4fkx-0 start"><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">0x81 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Malformed Packet</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">0x82 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Protocol Error</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">0x93 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive Maximum exceeded</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">0x95 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Packet too large</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">0x9A &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retain not supported</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">0x9B &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QoS not supported</span></li><li class="c70 c20 li-bullet-0"><span class="c55 c64 c54">0xA2 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wildcard Subscriptions not supported</span></li></ul><p class="c134 c110"><span class="c23">When a Client detects a Malformed Packet or Protocol Error associated with a Virtual Connection it SHOULD send a DISCONNECT packet containing an appropriate Reason Code and MUST delete the associated Virtual Connection.</span><span>&nbsp;Use Reason Code 0x81 (Malformed Packet) or 0x82 (Protocol Error) unless a more specific Reason Code has been defined in </span><span class="c124"><a class="c48" href="#h.46r0co2">section 2.3.3</a></span><span class="c55 c64 c54">.</span></p><p class="c134 c110"><span class="c23">When a Server detects a Malformed Packet or Protocol Error for any packet except ADVERTISE, SEARCHGW, GWINFO, </span><span class="c23">PUBWOS </span><sup><a href="#cmnt168" id="cmnt_ref168">[fl]</a></sup><span class="c23">and CONNECT, the Server</span><span class="c23">&nbsp;</span><span class="c23">SHOULD </span><sup><a href="#cmnt169" id="cmnt_ref169">[fm]</a></sup><span class="c23">send a DISCONNECT packet with an appropriate Reason Code</span><span class="c23">&nbsp;and MUST delete the associated Virtual Connection if one exists.</span><span>&nbsp;</span><span class="c33">[MQTT-4.13.1-1]</span><span>&nbsp;In the case of an error in a CONNECT packet it MAY send a CONNACK packet containing the Reason Code. Use Reason Code 0x81 (Malformed Packet) or 0x82 (Protocol Error) unless a more specific Reason Code has been defined in </span><span class="c124"><a class="c48" href="#h.46r0co2">section 2.3.3</a></span><span>.</span><span class="c55 c64 c54">&nbsp;There are no consequences for other Sessions.</span></p><p class="c134 c110"><span class="c55 c64 c54">If either the Server or Client omits to check some feature of a Control Packet, it might fail to detect an error, consequently it might allow data to be damaged.</span></p><h3 class="c1" id="h.j0ufrffgt029"><span class="c118 c254 c121 c54">4.12.2 Other errors</span></h3><p class="c134 c110"><span class="c55 c64 c54">Errors other than Malformed Packet and Protocol Errors cannot be anticipated by the sender because the receiver might have constraints which it has not communicated to the sender. A receiving Client or Server might encounter a transient error, such as a shortage of memory, that prevents successful processing of an individual Control Packet.</span></p><p class="c134 c110"><span class="c55 c64 c54">Acknowledgment packets PUBACK, PUBREC, PUBREL, PUBCOMP, REGACK, SUBACK, UNSUBACK with a Reason Code of 0x80 or greater indicate that the received packet, identified by a Packet Identifier, was in error. There are no consequences for other Sessions or other Packets flowing on the same Session.</span></p><p class="c134 c110"><span class="c23">The </span><span class="c23">CONNACK</span><span class="c23">&nbsp;and DISCONNECT packets allow a Reason Code of 0x80 or greater to indicate that the Virtual Connection will be delete</span><span class="c23">d</span><span class="c23">. If a Reason Code of 0x80 or greater is specified, then the Virtual Connection MUST be delete</span><span class="c23">d </span><span class="c23">whether or not the </span><span class="c23">CONNACK</span><span class="c23">&nbsp;or DISCONNECT is sent</span><span>&nbsp;</span><span class="c33">[MQTT-4.13.2-1]</span><span class="c55 c64 c54">. Sending one of these Reason Codes has no consequences for any other Session.</span></p><p class="c134 c110"><span class="c55 c64 c54">If the Control Packet contains multiple errors the receiver of the Packet can validate the Packet in any order and take the appropriate action for any of the errors found.</span></p><p class="c134 c110"><span>Refer to section </span><span>5.4.9</span><sup><a href="#cmnt170" id="cmnt_ref170">[fn]</a></sup><sup><a href="#cmnt171" id="cmnt_ref171">[fo]</a></sup><sup><a href="#cmnt172" id="cmnt_ref172">[fp]</a></sup><span class="c55 c64 c54">&nbsp;for information about handling Disallowed Unicode code points.</span></p><h2 class="c339 c240 c110 c239" id="h.1vpy4wyrild2"><span class="c118 c42 c230 c54 c253">4.13 Example MQTT-SN Architectures</span></h2><p class="c156 c15"><span class="c0">There are three kinds of MQTT-SN components, MQTT-SN </span><span class="c0 c47">clients</span><span class="c0">, MQTT-SN </span><span class="c0 c47">gateways</span><span class="c0">, and MQTT-SN </span><span class="c0 c47">forwarders</span><span class="c0">. MQTT-SN clients connect themselves to an </span><span class="c55 c0 c54">MQTT server/broker via an MQTT-SN Gateway using the MQTT-SN protocol. An MQTT-SN Gateway may or may not be integrated with a MQTT server. Where an MQTT broker is involved, the MQTT protocol is used between the MQTT broker and the MQTT-SN Gateway. Its main function is the translation between MQTT and MQTT-SN.</span></p><p class="c15 c459"><span class="c55 c0 c54">MQTT-SN clients can also access a Gateway via a forwarder in case the Gateway is not directly attached to their network. The forwarder simply encapsulates the MQTT-SN frames it receives on the wireless side and forwards them unchanged to the Gateway; in the opposite direction, it decapsulates the frames it receives from the gateway and sends them to the clients, unchanged too.</span></p><p class="c459 c15 c86"><span class="c55 c0 c54"></span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c190">The architectures described below are meant as examples and are not exhaustive.</span></p><p class="c281 c110 c95 c502"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.50px; height: 558.68px;"><img alt="" src="images/image5.png" style="width: 582.78px; height: 567.76px; margin-left: 10.63px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c15 c456"><span class="c0">Figure 1: MQTT-SN Architecture</span></p><h3 class="c1" id="h.3pp52gy"><span>4.13.1 </span><span class="c118 c42 c121 c54">Transparent Gateway</span></h3><p class="c74"><span class="c0">For each connected MQTT-SN client a transparent </span><span class="c0 c41">Gateway</span><span class="c0">&nbsp;will set up and maintain a MQTT connection to the MQTT server. This MQTT connection is reserved exclusively for the end-to-end and almost transparent packet exchange between the client and the server. There will be as many MQTT connections between the </span><span class="c0 c41">Gateway</span><span class="c0">&nbsp;and the MQTT Broker as MQTT-SN clients connected to the </span><span class="c0 c41">Gateway</span><span class="c0">. The transparent </span><span class="c0 c41">Gateway</span><span class="c55 c0 c54">&nbsp;will perform a &ldquo;syntax&rdquo; translation between the two protocols. Since all packet exchanges are end-to-end between the MQTT-SN client and the MQTT Server, all functions and features that are implemented by the server can be offered to the client.</span></p><p class="c156 c15"><span class="c0">Although the implementation of the transparent </span><span class="c0 c41">Gateway</span><span class="c0">&nbsp;is simpler when compared to the one of an aggregating </span><span class="c0 c41">Gateway</span><span class="c55 c0 c54">, it requires the MQTT server to support a separate connection for each active client. Some MQTT server implementations might impose a limitation on the number of concurrent connections that they support.</span></p><p class="c15 c281"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 510.42px; height: 190.10px;"><img alt="A close up of a map

Description automatically generated" src="images/image4.png" style="width: 510.42px; height: 190.10px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c15 c308"><span class="c0">Figure </span><span class="c0">2</span><span class="c0">: Transparent </span><span class="c0">and Aggregating </span><span class="c0">Gateway</span><span class="c0">s</span></p><h3 class="c1" id="h.24ufcor"><span>4.13.2 </span><span class="c118 c42 c121 c54">Aggregating Gateway</span></h3><p class="c110 c95 c327 c520"><span class="c0">Instead of having a MQTT connection for each connected client, an aggregating</span><span class="c0 c41">&nbsp;Gateway</span><span class="c0">&nbsp;will have only one MQTT connection to the Server. All packet exchanges between a MQTT-SN client and an aggregating </span><span class="c0 c41">Gateway </span><span class="c0">end at the </span><span class="c0 c41">Gateway</span><span class="c0">. The </span><span class="c0 c41">Gateway</span><span class="c0">&nbsp;then decides which information will be given further to the </span><span class="c0">Server</span><span class="c0">. Although its implementation is more complex than the one of a transparent </span><span class="c0 c41">Gateway</span><span class="c0">, an aggregating </span><span class="c0 c41">Gateway</span><span class="c0">&nbsp;may be helpful in case of WSNs with a very large number of </span><span class="c0">SAs</span><sup><a href="#cmnt173" id="cmnt_ref173">[fq]</a></sup><span class="c0">&nbsp;because it reduces the number of MQTT connections that the </span><span class="c0 c41">Gateway </span><span class="c0">must support concurrently.</span></p><p class="c134 c20 c95 c86"><span class="c55 c64 c279"></span></p><p class="c19 c15 c86"><span class="c55 c64 c54"></span></p><h2 class="c207 c110 c95" id="h.1j4nfs6"><span class="c118 c42 c230 c54 c253">4.14 Gateway Advertisement and Discovery</span></h2><p class="c156 c15"><span class="c0">A Gateway may announce its presence by periodically sending an ADVERTISE packet to some or all devices that are currently parts of the network. </span><span class="c0">A gateway should only advertise its presence if it is connected to a server, or is itself a server.</span><sup><a href="#cmnt174" id="cmnt_ref174">[fr]</a></sup></p><p class="c156 c15"><span class="c0">Multiple Gateways may be active at the same time in the same network. In this case they will have different identifiers. It is up to the Client to decide to which Gateway it wants to connect. </span><span class="c0 c23">At any point in time a Client is allowed to </span><span class="c0 c23">be connected</span><span class="c0 c23">&nbsp;to only one Gateway on the same network.</span><sup><a href="#cmnt175" id="cmnt_ref175">[fs]</a></sup><sup><a href="#cmnt176" id="cmnt_ref176">[ft]</a></sup><sup><a href="#cmnt177" id="cmnt_ref177">[fu]</a></sup></p><p class="c15 c521"><span class="c0">A client </span><span class="c0">should</span><sup><a href="#cmnt178" id="cmnt_ref178">[fv]</a></sup><span class="c55 c0 c54">&nbsp;maintain a list of active gateways together with their network addresses. This list is populated by means of the ADVERTISE and GWINFO packets received.</span></p><p class="c371 c15"><span class="c0">The time duration</span><sup><a href="#cmnt179" id="cmnt_ref179">[fw]</a></sup><span class="c0">&nbsp;</span><span class="c0 c47">T</span><span class="c0 c257 c47">ADV</span><sup><a href="#cmnt180" id="cmnt_ref180">[fx]</a></sup><span class="c0 c257 c47">&nbsp;</span><span class="c0">until the gateway sends the next ADVERTISE packet is indicated in the </span><span class="c0 c47">Duration </span><span class="c0">field of the ADVERTISE packets. A client may use this information to monitor the availability of a gateway. For example, if it does not receive ADVERTISE packets from a gateway for </span><span class="c0 c47">N</span><span class="c0 c257 c47">ADV </span><span class="c55 c0 c54">consecutive times, it may assume that the gateway is down and remove it from its list of active gateways. Similarly, gateways in stand-by mode will become active (i.e. start sending ADVERTISE packets) if they miss successively a couple of times advertisements from a certain gateway.</span></p><p class="c15 c173"><span class="c0">Since the ADVERTISE packets are transmitted into the whole wireless network, the time interval </span><span class="c0 c47">T</span><span class="c0 c257 c47">ADV </span><span class="c55 c0 c54">between two ADVERTISE packets sent by a gateway should be large enough (e.g. greater than 15 min) to avoid bandwidth congestion in the network.</span></p><p class="c15 c371"><span class="c0">The large value of </span><span class="c0 c47">T</span><span class="c0 c257 c47">ADV </span><span class="c0">will lead to a long waiting time for new clients which are looking for a gateway. To shorten this waiting time a client may send a SEARCHGW packet. To prevent network flooding when multiple clients start searching for gateway almost at the same time, </span><span class="c0">the sending of the SEARCHGW packet is delayed by a random time between 0 and </span><span class="c0 c47">T</span><span class="c0 c257 c47">SEARCHGW</span><sup><a href="#cmnt181" id="cmnt_ref181">[fy]</a></sup><span class="c55 c0 c54">. A client will cancel its transmission of the SEARCHGW packet if it receives during this delay time a SEARCHGW packet sent by another client and identical to the one it wants to send, and behaves as if the SEARCHGW packet was sent by itself.</span></p><p class="c156 c15"><span class="c0">The transmission radius </span><span class="c0 c47">R</span><span class="c0 c257 c47">b </span><span class="c0">of the SEARCHGW packet is limited, e.g. to a single hop in case of a dense deployment of MQTT-SN clients.</span><sup><a href="#cmnt182" id="cmnt_ref182">[fz]</a></sup></p><p class="c15 c304"><span class="c55 c0 c54">Upon receiving a SEARCHGW packet a gateway replies with a GWINFO packet containing its id. Similarly, a client answers with a GWINFO packet if it has at least one active gateway in its list of active gateways. If the client has multiple gateways in its list, it selects one gateway out of its list and includes that information into the GWINFO packet.</span></p><p class="c15 c509"><span class="c0">Like the SEARCHGW packet, the GWINFO packet is transmitted with the same radius </span><span class="c0 c47">R</span><span class="c0 c257 c47">b</span><span class="c0">, which is indicated in the SEARCHGW packet. </span><sup><a href="#cmnt183" id="cmnt_ref183">[ga]</a></sup><span class="c0">The radius </span><span class="c0 c47">R</span><span class="c0 c47 c257">b </span><span class="c55 c0 c54">is also given to the underlying layer when these two packets are passed down for transmission.</span></p><p class="c15 c222"><span class="c0">To give priority to the gateways a client will delay its sending of the GWINFO packet for a random time</span><span class="c0 c47">&nbsp;</span><span class="c0 c47">T</span><span class="c0 c257 c47">GWINFO</span><span class="c55 c0 c54">. If during this delay time the client receives a GWINFO packet it will cancel the transmission of its GWINFO packet.</span></p><p class="c60 c15"><span class="c0">In case of no response the SEARCHGW packet may be retransmitted. In this case the time intervals between consecutive SEARCHGW packets should be increased by the exponential backoff algorithm described in the </span><span class="c0">appendix</span><sup><a href="#cmnt184" id="cmnt_ref184">[gb]</a></sup><span class="c0">.</span></p><h2 class="c207 c110 c95" id="h.3mj2wkv"><span class="c118 c42 c230 c54 c253">4.15 Client states</span></h2><p class="c19 c15"><span class="c0">At any given point in time, a client may be in one of </span><span class="c42">5 different states</span><sup><a href="#cmnt185" id="cmnt_ref185">[gc]</a></sup><span class="c0">. Transition through these states is governed by a strictly coordinated sequence of packets between client and </span><span class="c0">server/</span><span class="c0">gateway and further mediated by timers resident on the gateway. A client is in the </span><span class="c0 c47">active </span><span class="c0">state when the </span><span class="c0">server/</span><span class="c0">gateway receives a CONNECT packet from that client. This state is supervised by the </span><span class="c0">server/</span><span class="c0">gateway with the &ldquo;keep alive&rdquo; timer. If the </span><span class="c0">server/</span><span class="c0">gateway does not receive any packet from the client for a period longer than the keep alive duration (indicated in the CONNECT packet), the gateway will consider that client as </span><span class="c0 c47">lost </span><span class="c0">and activate for example the Will feature for that client. A client goes to the </span><span class="c0 c47">disconnected </span><span class="c0">state when the </span><span class="c0">server/</span><span class="c0">gateway receives a DISCONNECT without a </span><span class="c0 c47">session expiry interval</span><span class="c0">&nbsp;field. This state is not time-supervised by the </span><span class="c0">server/</span><span class="c0">gateway. A client moves into the asleep state by issuing a DISCONNECT with a </span><span class="c0 c47">session expiry interval</span><span class="c0">&nbsp;field. For more information on the sleep state, please refer to the</span><span class="c0">&nbsp;&ldquo;Sleeping clients&rdquo; section</span><sup><a href="#cmnt186" id="cmnt_ref186">[gd]</a></sup><span class="c55 c0 c54">.</span></p><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><table class="c146"><tr class="c18"><td class="c272 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">State</span></p></td><td class="c227 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">State Description</span></p></td><td class="c10 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Possible Transitions</span></p></td></tr><tr class="c18"><td class="c272 c117" colspan="1" rowspan="1"><sup><a href="#cmnt187" id="cmnt_ref187">[ge]</a></sup><sup><a href="#cmnt188" id="cmnt_ref188">[gf]</a></sup><p class="c19 c15"><span class="c6">DISCONNECTED</span></p></td><td class="c227" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">The client is considered offline. The gateway may or may not have a previous session state for this client. From here a client may transition ONLY to the </span><span class="c42">ACTIVE</span><span class="c11 c0">&nbsp;state.</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c19 c15"><span class="c6">ACTIVE</span></p></td></tr><tr class="c18"><td class="c272 c117" colspan="1" rowspan="1"><p class="c19 c15"><span class="c6">ACTIVE</span></p></td><td class="c227" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">The client is actively engaged in the session. It should be able to send and receive packets. Its state is supervised by the gateway with the associated &ldquo;keep alive&rdquo; timers. From here the client may transition to </span><span class="c42">ASLEEP</span><span class="c0">&nbsp;(by way of DISCONNECT with a session expiry interval &gt; 0), </span><span class="c42">DISCONNECTED</span><span class="c0">&nbsp;(by way of DISCONNECT with a session expiry of 0) or </span><span class="c42">LOST </span><span class="c0">(</span><span class="c0">by way of supervised </span><span class="c0">gateway timer</span><span class="c0">s</span><span class="c11 c0">).</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c19 c15"><span class="c6">ASLEEP DISCONNECTED</span></p><p class="c19 c15"><span class="c6">LOST</span></p></td></tr><tr class="c18"><td class="c272 c117" colspan="1" rowspan="1"><p class="c19 c15"><span class="c6">ASLEEP</span></p></td><td class="c227" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">The client is engaged in an ongoing session. It cannot receive packets; it can send packets. The gateway should not expect a response from the client in this state until further packets are received from the client. From here the client may transition to </span><span class="c42">AWAKE</span><span class="c0">&nbsp;(by way of PINGREQ), </span><span class="c42">ACTIVE</span><span class="c0">&nbsp;by way of CONNECT, </span><span class="c42">DISCONNECTED</span><span class="c0">&nbsp;(by way of DISCONNECT with a session expiry of 0) or </span><span class="c42">LOST</span><span class="c0">&nbsp;(by </span><span class="c0">way of supervised gateway timers</span><sup><a href="#cmnt189" id="cmnt_ref189">[gg]</a></sup><span class="c11 c0">).</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c19 c15"><span class="c6">AWAKE</span></p><p class="c19 c15"><span class="c6">ACTIVE</span></p><p class="c19 c15"><span class="c6">DISCONNECTED</span></p><p class="c19 c15"><span class="c6">LOST</span></p></td></tr><tr class="c18"><td class="c272 c117" colspan="1" rowspan="1"><p class="c19 c15"><span class="c6">AWAKE</span></p></td><td class="c227" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">The client is partially engaged in an ongoing session; it is obliged to not send ANY packets other than those involved in the receipt of PUBLISH packets (PUBACK, PUBREC, PUBCOMP, REGACK) or a DISCONNECT to transition to </span><span class="c42">DISCONNECTED</span><span class="c0">. The client transitions back to the </span><span class="c42">ASLEEP</span><span class="c0">&nbsp;state on receipt of a PINGRESP packet or </span><span class="c42">LOST</span><span class="c0">&nbsp;(</span><span class="c0">by way of supervised gateway timers</span><span class="c11 c0">ed from the Client).</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c19 c15"><span class="c6">ASLEEP</span></p><p class="c19 c15"><span class="c6">DISCONNECTED</span></p><p class="c19 c15"><span class="c6">LOST</span></p></td></tr><tr class="c18"><td class="c117 c272" colspan="1" rowspan="1"><p class="c19 c15"><span class="c42">LOST</span><sup><a href="#cmnt190" id="cmnt_ref190">[gh]</a></sup></p></td><td class="c227" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0">The client is considered offline and not able to receive packets until it has re-established a session with the GW by way of a CONNECT. The gateway </span><span class="c42">must not</span><span class="c0">&nbsp;attempt to send packets to a client in the </span><span class="c42">LOST </span><span class="c0">state</span><span class="c42">. </span><span class="c0">Any packets received from a client whose state is</span><span class="c42">&nbsp;LOST </span><span class="c0">should not be processed and a DISCONNECT with error should be sent in response, unless the packets received are PUBLISH WITHOUT SESSION </span><span class="c0">or PUBLISH </span><span class="c0">-1</span><span class="c0">. Session state may exist on the GW for a client in the </span><span class="c42">LOST</span><span class="c11 c0">&nbsp;state.</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c19 c15"><span class="c6">ACTIVE</span></p></td></tr></table><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><p class="c392 c15"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 666.67px;"><img alt="" src="images/image6.png" style="width: 624.00px; height: 666.67px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c15 c392"><span class="c0">Figure 4: &nbsp;</span><span class="c0">The Server </span><span class="c0">V</span><span class="c0">iew of the Client State</span><sup><a href="#cmnt191" id="cmnt_ref191">[gi]</a></sup></p><h3 class="c1" id="h.qfa0p4gzzbmu"><span class="c118 c254 c121 c54">4.15.1 Gateway timers</span></h3><p class="c19 c15"><span class="c55 c64 c54">The following timers must be managed by a Gateway per Client to handle the different Client states:</span></p><ul class="c59 lst-kix_list_31-0 start"><li class="c156 c20 c65 li-bullet-0"><span>&ldquo;Keep Alive&rdquo; timer based on the value defined in the CONNECT packet. If expired, a Client is moved from Active to Lost state</span><span>&nbsp;</span><span>or from Asleep to Lost state or from Awake to Lost state</span><sup><a href="#cmnt192" id="cmnt_ref192">[gj]</a></sup><span>.</span></li><li class="c289 c20 c65 li-bullet-0"><span>&ldquo;Session Expiry&rdquo; timer based on the value defined in the CONNECT or the DISCONNECT packet. If expired, the session state associated with the Client can be removed.</span></li></ul><h2 class="c207 c110 c95" id="h.gtnh0h"><span class="c118 c42 c230 c54 c253">4.16 Clean start</span></h2><p class="c156 c110 c327 c410"><span class="c0">When a client disconnects, its </span><span class="c0">subscriptions a</span><span class="c0">re</span><span class="c0">&nbsp;retained for no less than the session expiration interval. </span><span class="c0">They are </span><span class="c0">persistent and valid for new (non clean start) sessions, until </span><span class="c0">either they are explicitly un-subscribed by the client, or </span><span class="c0">the client establishes a new session with the &ldquo;clean start&rdquo; flag set or </span><span class="c0">their </span><span class="c55 c0 c54">idle time exceeds the session expiry interval associated with the session.</span></p><p class="c15 c310"><span class="c55 c0 c54">The two flags &ldquo;CleanStart&rdquo; and &ldquo;Will&rdquo; in the CONNECT Packet have the following meanings:</span></p><ul class="c59 lst-kix_list_12-0 start"><li class="c278 c110 li-bullet-7"><span class="c0">CleanStart=true, Will=true: The Gateway will delete all </span><span class="c0">S</span><span class="c0">ession </span><span class="c55 c0 c54">data related to the client, including Will data if present, and it will set the Will data in the Session state with the content of the CONNECT Will fields and will return CONNACK.</span></li><li class="c110 c278 li-bullet-11"><span class="c0">CleanStart=true, Will=false: The gateway will delete all </span><span class="c0">subscriptions </span><span class="c55 c0 c54">and Will data, if present, related to the client and it will return CONNACK.</span></li><li class="c278 c110 li-bullet-5"><span class="c0">CleanStart=false, Will=true: The gateway will keep all the client&rsquo;s </span><span class="c55 c0 c54">data and it will overwrite, if present, or add the Will data related to the client with the content of the CONNECT Will optional fields and it will return CONNACK.</span></li><li class="c419 c110 c334 c517 li-bullet-11"><span class="c0">CleanStart=false, Will=false: The Gateway will keep all the client&rsquo;s </span><span class="c0">subscriptions </span><span class="c55 c0 c54">and it will delete any Will data, if present, and it will return CONNACK.</span></li></ul><p class="c15 c283"><span class="c55 c0 c54">Note that if a client wants to delete only its Will data at Virtual Connection creation, it could send a CONNECT packet with &ldquo;CleanStart=false&rdquo; and &ldquo;Will=false&rdquo;.</span></p><h2 class="c207 c110 c95" id="h.1fyl9w3"><span class="c118 c42 c230 c54 c253">4.17 Topic Registration</span></h2><p class="c19 c15"><span class="c55 c0 c54">Because of the limited bandwidth and the small packet payload in wireless sensor networks, data is not published together with its topic name as in MQTT. A registration procedure is introduced which allows both a client and a gateway to inform its peer about the short topic alias and its corresponding topic name before it can start sending PUBLISH packets using the short topic alias.</span></p><p class="c19 c110 c95 c327"><span class="c55 c0 c54">A topic alias is a two-byte long replacement of the string-based topic name. A client needs to use the REGISTER procedure to inform the gateway about the topic name it wants to employ and gets the corresponding topic alias from the gateway. It then will use this topic alias in the PUBLISH packets it sends to the gateway. In the opposite direction, the PUBLISH packets also contain a 2-byte topic alias (instead of the string-based topic name). The client is informed about the relation between topic alias and topic name by means of either a former SUBSCRIBE procedure, or a REGISTER procedure started by the gateway.</span></p><p class="c19 c15"><span class="c0">To register a topic name a client sends a REGISTER packet to the Server. If the registration could be accepted, the gateway assigns a </span><span class="c0 c47">topic alias </span><span class="c55 c0 c54">to the received topic name and returns it with a REGACK packet to the client. </span></p><p class="c19 c15"><span class="c0">If the client initiates a REGISTER against a topic which is known by the Server to have a predefined topic alias associated with it,</span><span class="c0">&nbsp;it is an error case</span><span class="c0">, </span><span class="c0">but one which should not be terminal to the session since gateway updates could lead to this scenario</span><span class="c0">.</span><sup><a href="#cmnt193" id="cmnt_ref193">[gk]</a></sup><sup><a href="#cmnt194" id="cmnt_ref194">[gl]</a></sup><sup><a href="#cmnt195" id="cmnt_ref195">[gm]</a></sup><span class="c0">&nbsp;The gateway will specify </span><span class="c0">its topic alias type to be predefined and set the topic alias value to match that </span><span class="c0">defined on the gateway</span><span class="c0">&nbsp;in the REGACK</span><span class="c0">, </span><span class="c0">it will also set a reason code on the REGACK to indicate the issue</span><sup><a href="#cmnt196" id="cmnt_ref196">[gn]</a></sup><span class="c55 c0 c54">. The client can then choose to update its registry of predefined topic aliases if it so wishes. </span></p><p class="c19 c15"><span class="c0 c23">If a Client sends a PUBLISH to a predefined topic alias, which is not defined on the Server, this is considered a protocol </span><span class="c0 c23">v</span><span class="c0 c23">iolation</span><span class="c0 c23">. </span><span>&nbsp;</span><span class="c33">[MQTT-SN-???]</span></p><p class="c19 c15"><span class="c0">If there are no predefined topic aliases, the gateway will pass back a </span><span class="c0">SESSION </span><span class="c0">topic alias type. If the registration can not be accepted, a REGACK is also returned to the client with the failure reason encoded in the </span><span class="c0 c47">ReasonCode</span><span class="c0">&nbsp;field.</span><sup><a href="#cmnt197" id="cmnt_ref197">[go]</a></sup></p><p class="c19 c15"><span class="c0">After having received the REGACK packet with </span><span class="c0 c47">ReasonCode =&ldquo;accepted&rdquo;</span><sup><a href="#cmnt198" id="cmnt_ref198">[gp]</a></sup><span class="c0">, the client shall use the assigned </span><span class="c0 c47">topic</span><span class="c0 c47">Id</span><span class="c0 c47">&nbsp;</span><span class="c0">to publish data of the corresponding topic name. If, however, the REGACK contains a rejection code, the client may try to register later again. If the Reason Code was </span><span class="c0 c47">&ldquo;Congestion&rdquo;</span><span class="c0">, the client should wait for a time </span><span class="c0 c47">T</span><span class="c0 c257 c47">WAIT </span><span class="c55 c0 c54">before restarting the registration procedure.</span></p><p class="c19 c15"><span class="c55 c0 c54">At any point in time a client may have only one REGISTER packet outstanding, i.e., it must wait for a REGACK packet before it can register another topic name.</span></p><p class="c19 c15"><span class="c55 c0 c54">A gateway sends a REGISTER packet to a client if it wants to inform that client about the topic name and the assigned topic alias that it will use later when sending PUBLISH packets of the corresponding topic name. This happens for example when no prior registrations exists, or when the client has DISCONNECTED with retain registration false, or the client re-connects without having set the &ldquo;CleanStart&rdquo; flag or the client has subscribed to topic names that contain wildcard characters such as # or +. </span></p><p class="c19 c20 c95"><span class="c55 c42 c54">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c41">The gateway should attempt to make the best effort to reuse the same topic alias mappings that existed during any initial associated ACTIVE states.</span><span class="c0 c41">&nbsp;</span></p><h2 class="c1" id="h.3zy8sjw"><span class="c118 c42 c230 c54 c253">4.18 Topic Mapping and Aliasing</span></h2><p class="c19 c15"><span class="c0 c23">On the gateway the mapping table between registered </span><span class="c0 c23">topic </span><span class="c0 c23">ids </span><span class="c0 c23">and topic names MUST be implemented per client (and not by a single shared pool between all clients), to reduce the risk of an incorrect topic </span><span class="c0 c23">id </span><span class="c0 c23">from a client matching another client&rsquo;s valid topic.</span></p><p class="c19 c15"><span class="c0">For performance and efficiency reasons the broker may choose to align topic aliases for registered </span><span class="c0">normal </span><span class="c0">topic aliases between multiple clients. The mapping table of predefined topic aliases is separate from </span><span class="c0">normal </span><span class="c0">registered aliases. It is global and shared between all clients and gateways and may overlap with </span><span class="c55 c0 c54">registered aliases, since it is in a different pool.</span></p><h2 class="c207 c110 c95" id="h.2f3j2rp"><span class="c0">4</span><span>.</span><span class="c118 c42 c230 c54 c253">19 Predefined topic aliases and short topic names</span></h2><p class="c156 c15"><span class="c0">A &ldquo;predefined&rdquo; topic alias is a topic alias whose mapping to a topic name is known in advance by both the client&rsquo; application and the gateway. This is indicated in the </span><span class="c0 c47">Flags </span><span class="c0">field of the packet. When using pre</span><span class="c0">-</span><span class="c0">defined topic aliases, both sides can start immediately with the sending of PUBLISH packets; there is no need for the REGISTER procedure as in the case of </span><span class="c0">&rdquo;normal&rdquo;</span><span class="c0">&nbsp;topic aliases. When receiving a PUBLISH packet with a predefined topic alias, of which the mapping to a topic name is unknown, the receiver should return a PUBACK with the </span><span class="c0 c47">ReasonCode= &ldquo;</span><span class="c0">Unknown Topic Alias</span><span class="c0 c47">&rdquo;</span><span class="c55 c0 c54">.</span></p><p class="c156 c15"><span class="c0 c23">The presence of a pre</span><span class="c0 c23">-</span><span class="c0 c23">defined topic alias does not imply any other meaning onto the topic name / topic filter itself. All lifecycle operations, for example SUBSCRIBE / UNSUBSCRIBE may still be used in the use of these aliases except for REGISTER.</span></p><p class="c15 c485"><span class="c0">A &ldquo;short&rdquo; topic name is a topic name that has a fixed length of two bytes. It could be carried together with the data within a PUBLISH packet, thus no REGISTER procedure is needed for a short topic name. Otherwise, all rules that apply to </span><span class="c0">normal </span><span class="c55 c0 c54">topic names also apply to short topic names. Note however that it does not make sense to do wildcarding in subscriptions to short topic names, because it is not possible to define a meaningful name hierarchy with only two characters.</span></p><h2 class="c207 c110 c95" id="h.u8tczi"><span class="c118 c42 c230 c54 c253">4.20 Client&rsquo;s Topic Subscribe/Unsubscribe Procedure</span></h2><p class="c344 c110 c95 c327"><span class="c0">To subscribe to a topic name, a client sends a SUBSCRIBE packet to the gateway with the topic </span><span class="c0">name </span><sup><a href="#cmnt199" id="cmnt_ref199">[gq]</a></sup><span class="c0">included in that packet. If the gateway is able accept the subscription, it assigns a topic alias to the received topic name and returns it within a SUBACK packet to the client. If the subscription cannot be accepted, then a SUBACK packet is also returned to the client with the rejection cause encoded in the </span><span class="c0 c47">ReasonCode </span><span class="c0">field. </span><span class="c0">If the rejection cause is </span><span class="c0 c47">&ldquo;Congestion&rdquo;</span><sup><a href="#cmnt200" id="cmnt_ref200">[gr]</a></sup><span class="c0">, the client should wait for the time </span><span class="c0 c47">T</span><span class="c0 c257 c47">WAIT </span><span class="c55 c0 c54">before resending the SUBSCRIBE packet to the gateway.</span></p><p class="c156 c15"><span class="c0">If the client subscribes to a topic name which contains a wildcard character, the returning SUBACK packet will contain the topic </span><span class="c0">alias </span><span class="c55 c0 c54">value 0x0000. The gateway will use the registration procedure to inform the client about the to-be-used topic alias value when it has the first PUBLISH packet with a matching topic name to be sent to the client.</span></p><p class="c156 c15"><span class="c0">Similar to the client&rsquo;s PUBLISH procedure, topic aliases may also be pre</span><span class="c0">-</span><span class="c0">defined for certain topic names. Short topic names may be used as well. In those two cases the client still needs to subscribe to those pre</span><span class="c0">-</span><span class="c55 c0 c54">defined topic aliases or short topic names.</span></p><p class="c156 c15"><span class="c55 c0 c54">To unsubscribe, a client sends an UNSUBSCRIBE packet to the gateway, which will then be answered by means of an UNSUBACK packet.</span></p><p class="c19 c15"><span class="c55 c0 c54">As for the REGISTER procedure, a client may have only one SUBSCRIBE or one UNSUBSCRIBE transaction open at a time.</span></p><h2 class="c207 c110 c95" id="h.3e8gvnb"><span class="c118 c42 c230 c54 c253">4.21 Client Publish Procedure</span></h2><p class="c74"><span class="c0">After having registered successfully a topic name with the gateway, the client can start publishing data relating to the registered topic name by sending PUBLISH packets to the gateway. </span><span class="c0">The PUBLISH packets contain the assigned topic alias.</span><sup><a href="#cmnt201" id="cmnt_ref201">[gs]</a></sup></p><p class="c156 c15"><span class="c55 c0 c54">All three QoS levels and their corresponding packet flows are supported as defined in MQTT. The only difference is the use of topic alias instead of topic names in the PUBLISH packets.</span></p><p class="c19 c15"><span class="c0">For QoS 1 or 2 PUBLISH packets the client may receive in response to its </span><span class="c0">PUBLISH an error reason code</span><span class="c55 c0 c54">:</span></p><ul class="c59 lst-kix_list_5-0 start"><li class="c144 c110 c95 c419 li-bullet-7"><span class="c0">The </span><span class="c0 c47">ReasonCode= &ldquo;</span><span class="c0">Unknown Topic Alias</span><span class="c0 c47">&rdquo;</span><span class="c55 c0 c54">: in this case the client needs to register the topic name again before it can publish data related to that topic name; or</span></li><li class="c110 c95 c415 li-bullet-5"><span class="c0">The </span><span class="c0 c47">ReasonCode= &ldquo;Congestion&rdquo;</span><span class="c0">: in this the client shall stop publishing toward the gateway for at least the time </span><span class="c0 c47">T</span><span class="c0 c257 c47">WAIT</span><span class="c55 c0 c54">.</span></li></ul><p class="c19 c15"><span class="c0">A Client or Gateway processes a single outbound QoS 1 or QoS 2 message at a time</span><span class="c0">packets in the midlle of a QoS 1 or QoS 2 exchange.</span></p><p class="c19 c15"><span class="c55 c0 c54">This prevents retransmitted Qos 1 and Qos 2 messages from being received out of order.</span></p><p class="c19 c15"><span class="c0 c23">A Client MUST NOT send a Qos 1 or Qos 2 PUBLISH packet with a new Application Message until it has received a PUBACK or PUBCOMP Packet with the Packet Identifier corresponding to the PUBLISH packet previously sent </span><span class="c118 c0 c169 c33 c54">[MQTT-SN-4.21-1].</span></p><h2 class="c207 c110 c95" id="h.1tdr5v4"><span class="c118 c42 c230 c54 c253">4.22 Gateway Publish Procedure</span></h2><p class="c74"><span class="c0">Like the client publish procedure described in </span><span class="c124 c0"><a class="c48" href="#h.3e8gvnb">Section 4.21</a></span><span class="c55 c0 c54">, the gateway sends PUBLISH packets with the topic alias value that was returned in the SUBACK packet to the client.</span></p><p class="c156 c15"><span class="c0">Preceding the PUBLISH packet the gateway may send a REGISTER packet to inform the client about the topic name and its assigned topic alias value. This will happen for example when the client re-connects without </span><span class="c55 c0 c54">clean start or has subscribed to topic names with wildcard characters. Upon receiving a REGISTER packet the client replies with a REGACK packet. The gateway will wait for the REGACK packet before it sends the PUBLISH packet to the client.</span></p><p class="c156 c15"><span class="c55 c0 c54">The client could reject the REGISTER packet with a REGACK packet indicating the rejection reason; this corresponds to an unsubscribe to the topic name indicated in the REGISTER packet. Note that unsubscribe to a topic name with wildcard characters can only be done with the unsubscribe procedure and not with the rejection of a REGISTER packet, since a REGISTER packet never contains a topic name with wildcard characters.</span></p><p class="c344 c15"><span class="c0">If the client receives a PUBLISH packet with an unknown topic alias value, it shall respond with a PUBACK packet with the </span><span class="c0 c47">ReasonCode=&ldquo;</span><span class="c0">Unknown Topic Alias</span><span class="c0 c47">&rdquo;</span><span class="c55 c0 c54">. This will trigger the gateway to delete or correct the wrong topic alias assignment.</span></p><p class="c60 c15"><span class="c55 c0 c54">Note that in case either the topic name or the data is too long to fit into a REGISTER or a PUBLISH packet, the gateway silently aborts the publish procedure, i.e. no warning is sent to the affected subscribers.</span></p><p class="c60 c15"><span class="c21 c0 c192">A Gateway MUST NOT send a Qos 1 or Qos 2 PUBLISH packet with a new Application Message until it has received a PUBACK or PUBCOMP Packet with the Packet Identifier corresponding to the PUBLISH packet previously sent.</span></p><h2 class="c207 c110 c95" id="h.4ddeoix"><span class="c118 c42 c230 c54 c253">4.23 Keep Alive and PING Procedure</span></h2><p class="c74"><span class="c55 c0 c54">As with MQTT, the value of the Keep Alive timer is indicated in the CONNECT packet. The client should send a PINGREQ packet within each Keep Alive time period, which the gateway acknowledges with a PINGRESP packet.</span></p><p class="c156 c15"><span class="c0">Similarly, a client shall answer with a PINGRESP packet when it receives a PINGREQ packet from the GW to which it is </span><span class="c0">connected. </span><span class="c0">Otherwise, the received PINGREQ packet is ignored.</span></p><p class="c60 c15"><span class="c55 c0 c54">Clients should use this procedure to supervise the liveliness of the gateway to which they are connected. If a client does not receive a PINGRESP from the gateway even after multiple retransmissions of the PINGREQ packet, it should first try to connect to another gateway before trying to reconnect to this gateway. Note that because the clients&rsquo; keep-alive timers are not synchronized with each other, in case of a gateway failure there is practically no danger for a storm of CONNECT packets sent almost at the same time by all affected clients towards a new gateway.</span></p><h2 class="c110 c95 c207" id="h.2sioyqq"><span class="c118 c42 c230 c54 c253">4.24 Client&rsquo;s Disconnect Procedure</span></h2><p class="c74"><span class="c0">A client sends a DISCONNECT packet to the gateway to indicate that it is about to delete its Virtual Connection. After this point, the client is then required to create a new Virtual Connection with the gateway before it can exchange information with that gateway again. </span><span class="c0 c23">Like MQTT, sending the DISCONNECT packet does not affect existing subscriptions and Will data. They are persistent until they are either expired or explicitly un-subscribed, or deleted, or modified by the client, or if the client creates a new Virtual Connection with the CleanStart flag set.</span><span class="c0">&nbsp;</span><span class="c0">The gateway acknowledges the receipt of the DISCONNECT packet by returning a DISCONNECT to the client.</span><sup><a href="#cmnt202" id="cmnt_ref202">[gt]</a></sup></p><p class="c19 c15"><span class="c0">A client may also receive an unsolicited DISCONNECT sent by the gateway. This may happen for example when the gateway, due to an error, cannot identify the client to which a received packet belongs. Upon receiving such a DISCONNECT packet a client should try to setup the Virtual Connection again by sending a CONNECT packet to the gateway.</span></p><h2 class="c240 c110 c95 c239 c454" id="h.3rnmrmc"><span class="c118 c42 c230 c54 c253">4.25 Sleeping clients</span></h2><p class="c19 c15"><span class="c0 c47">Sleeping </span><span class="c0">clients are clients residing on (battery-operated) devices that want to save as much energy as possible. These devices need to enter a sleep mode whenever they are not active and will wake up whenever they have data to send or to receive. The</span><span class="c0">&nbsp;server/</span><span class="c55 c0 c54">gateway needs to be aware of the sleeping state of these clients and will buffer messages destined to them for later delivery when they wake up. </span></p><p class="c19 c15"><span class="c0">If a client wants to sleep, it sends a DISCONNECT packet which contains a sleep session expiry interval. </span><span class="c0">The </span><span class="c0">server/</span><span class="c0">gateway acknowledges that packet with a DISCONNECT packet and considers the client for being in </span><span class="c0 c47">asleep </span><span class="c0">state. </span><sup><a href="#cmnt203" id="cmnt_ref203">[gu]</a></sup><span class="c0">The </span><span class="c0 c47">asleep </span><span class="c0">state is supervised by the </span><span class="c0">server/</span><span class="c0">gateway with the indicated sleep session expiry interval. If the </span><span class="c0">server/</span><span class="c0">gateway does not receive any packet from the client for a period longer than the sleep session expiry interval, the </span><span class="c0">server/</span><span class="c0">gateway will consider that client as </span><span class="c0 c47">lost </span><span class="c0">and - as with the keep alive procedure - </span><span class="c0">activates for example the Will feature</span><sup><a href="#cmnt204" id="cmnt_ref204">[gv]</a></sup><span class="c55 c0 c54">. </span></p><p class="c19 c15"><span class="c0 c23">During the </span><span class="c0 c23 c47">asleep </span><span class="c0 c23">state, packets that need to be sent to the client are buffered at the </span><span class="c0 c23">server/</span><span class="c0 c23">gateway. The gateway MUST buffer application messages of quality-of-service 1 &amp; 2.</span><span class="c0">&nbsp;</span></p><p class="c19 c20 c95"><span class="c55 c42 c54">Informative comment</span></p><p class="c19 c110 c95 c361"><span class="c0">The gateway may </span><span class="c0 c47">choose</span><span class="c55 c0 c54">&nbsp;to buffer messages of Quality-of-Service 0, whilst the client is sleeping and is within its session expiry interval.</span></p><p class="c19 c15"><span class="c0 c41">The sleep timer is stopped when the </span><span class="c0 c41">server/</span><span class="c0 c41">gateway receives a PINGREQ from the client. Like the CONNECT </span><span class="c0">packet</span><span class="c0 c41">, this PINGREQ </span><span class="c0">packet</span><span class="c0 c41">&nbsp;contains the </span><span class="c0 c41 c47">Client Id</span><span class="c0 c41">. The identified client is then in the </span><span class="c0 c41 c47">awake </span><span class="c0 c41">state. If the </span><span class="c0 c41">server/</span><span class="c0 c41">gateway has buffered </span><span class="c0">packet</span><span class="c0 c41">s for the client, it will send these </span><span class="c0">packet</span><span class="c0 c41">s to the client, acknowledging the </span><span class="c0">Default Awake Messages</span><span class="c0 c41">&nbsp;value sent in the </span><span class="c0">CONNECT </span><span class="c0 c41">packet. If the number of messages buffered on the gateway waiting to be sent exceeds the value specified by the client in the </span><span class="c0">Default Awake Messages</span><span class="c0 c41">&nbsp;field, the gateway shall send only the </span><span class="c0">Default Awake Messages</span><span class="c34 c0 c54">&nbsp;value number of messages, and cut short the AWAKE cycle, responding with a PINGRESP with a messages-left value of either the number of messages remaining in the gateway buffer or 0xFFFF (meaning undetermined number of messages greater than 0 remaining).</span></p><p class="c19 c15"><span class="c0 c41 c23">During the AWAKE state, for each </span><span class="c0 c23">packet</span><span class="c0 c41 c23">&nbsp;the gateway sends to the client, the </span><span class="c0 c23">application messages&rsquo;</span><span class="c0 c41 c23">&nbsp;quality of service shall be </span><span class="c0 c23">honored</span><span class="c0 c41 c23">, and a full </span><span class="c0 c23">packet</span><span class="c0 c41 c23">&nbsp;interaction shall take place including all normative phases of acknowledgement, including any associated retransmission logic.</span><span class="c0 c41">&nbsp;If, during the delivery of application messages from the gateway to the client, </span><span class="c0 c41">the gateway detects a timeout in the delivery,</span><sup><a href="#cmnt205" id="cmnt_ref205">[gw]</a></sup><span class="c0 c41">&nbsp;it should transition the client state to LOST and a DISCONNECT packet with error sent to the device.</span><sup><a href="#cmnt206" id="cmnt_ref206">[gx]</a></sup></p><p class="c19 c15"><span class="c0 c41">The transfer of </span><span class="c0">packet</span><span class="c0 c41">s to the client is closed by the </span><span class="c0 c41">server/</span><span class="c0 c41">gateway by means of a PINGRESP </span><span class="c0">packet</span><span class="c0 c41">, i.e. the </span><span class="c0 c41">server/</span><span class="c0 c41">gateway will consider the client as </span><span class="c0 c41 c47">asleep </span><span class="c0 c41">and restart the sleep timer again after having sent the PINGRESP </span><span class="c0">packet</span><span class="c0 c41">. If the </span><span class="c0 c41">server/</span><span class="c0 c41">gateway does not have any </span><span class="c0">packet</span><span class="c0 c41">s buffered for the client, it answers immediately with a PINGRESP </span><span class="c0">packet</span><span class="c0 c41">, returns the client back to the </span><span class="c0 c41 c47">asleep </span><span class="c34 c0 c54">state, and restarts the sleep timer for that client. </span></p><p class="c19 c15"><span class="c0 c41">After having sent the PINGREQ to the </span><span class="c0 c41">server/</span><span class="c0 c41">gateway, the client uses the &ldquo;retransmission procedure&rdquo; of </span><span class="c0 c41">section </span><span class="c0">3.18</span><sup><a href="#cmnt207" id="cmnt_ref207">[gy]</a></sup><sup><a href="#cmnt208" id="cmnt_ref208">[gz]</a></sup><span class="c0 c41">&nbsp;to supervise the arrival of </span><span class="c0">packet</span><span class="c0 c41">s sent by the </span><span class="c0 c41">server/</span><span class="c0 c41">gateway, i.e. it restarts timer T</span><span class="c0 c41 c213">retry</span><span class="c0 c41 c213">&nbsp;</span><span class="c0 c41">when it </span><span class="c0 c41">receives </span><sup><a href="#cmnt209" id="cmnt_ref209">[ha]</a></sup><span class="c0 c41">a </span><span class="c0">packet</span><span class="c0 c41">&nbsp;other than a PINGRESP, and stops it when it receives a </span><span class="c0 c41">PINGRESP</span><sup><a href="#cmnt210" id="cmnt_ref210">[hb]</a></sup><span class="c0 c41">. The PINGREQ </span><span class="c0">packet</span><span class="c0 c41">&nbsp;is retransmitted, and timer T</span><span class="c0 c41 c213">retry</span><span class="c0 c41 c213">&nbsp;</span><span class="c0 c41">restarted when timer T</span><span class="c0 c41 c213">retry</span><span class="c0 c41 c213">&nbsp;</span><span class="c0 c41">times out. To avoid a flattening of its battery due to excessive retransmission of the PINGREQ </span><span class="c0">packet</span><span class="c0 c41">&nbsp;(e.g. if it loses the gateway), the client should limit the retransmission of the PINGREQ </span><span class="c0">packet</span><span class="c0 c41">&nbsp;(e.g. by a retry counter) and go back to sleep when the limit is reached and it still does not receive a PINGRESP </span><span class="c0">packet</span><span class="c34 c0 c54">. </span></p><p class="c19 c15"><span class="c0 c41">From the </span><span class="c0 c41 c47">asleep</span><span class="c0 c47">&nbsp;</span><span class="c0 c41">state, a client can return either to the </span><span class="c0 c41 c47">active </span><span class="c0 c41">state by sending a CONNECT </span><span class="c0">packet</span><span class="c0 c41">&nbsp;or to the </span><span class="c0 c41 c47">disconnected </span><span class="c0 c41">state by sending a normal DISCONNECT </span><span class="c0">packet</span><span class="c0 c41">&nbsp;(i.e. without </span><span class="c0">session expiry interval </span><span class="c0 c41">field). </span><span class="c0 c41">The client can also modify its sleep configuration by sending a DISCONNECT </span><span class="c0">packet</span><span class="c0 c41">&nbsp;with a new value of the </span><span class="c0">session expiry interval</span><span class="c0 c41">.</span><span class="c34 c0 c54">&nbsp;</span></p><p class="c19 c15"><span class="c0 c41">Note that a sleeping client should go to the </span><span class="c0 c41 c47">awake </span><span class="c0 c41">state only if it just wants to check whether the </span><span class="c0 c41">server/</span><span class="c0 c41">gateway has any </span><span class="c0">messages</span><span class="c0 c41">&nbsp;buffered for it and return as soon as possible to the </span><span class="c0 c41 c47">asleep </span><span class="c0 c41">state without sending any </span><span class="c0">packet</span><span class="c0 c41">s to the </span><span class="c0 c41">server/</span><span class="c0 c41">gateway. Otherwise, it should return to the </span><span class="c0 c41 c47">active </span><span class="c0 c41">state by sending a CONNECT </span><span class="c0">packet</span><span class="c0 c41">&nbsp;to the </span><span class="c0 c41">server/</span><span class="c34 c0 c54">gateway. </span></p><p class="c19 c15"><span class="c34 c42 c54">//TODO SIMON &ndash; add some worlds around retain registration behavior</span></p><p class="c19 c15"><span class="c0 c41 c23">Topic Alias mappings exist only while a client is active </span><span class="c0 c41 c23">and last for the entire </span><span class="c0 c23">session expiry interval </span><span class="c0 c41 c23">of the active state</span><sup><a href="#cmnt211" id="cmnt_ref211">[hc]</a></sup><span class="c0 c41 c23">.</span><span class="c0 c41 c23">&nbsp;</span><sup><a href="#cmnt212" id="cmnt_ref212">[hd]</a></sup><span class="c0 c41 c23">Therefore, the gateway must re-register any topic aliases during the AWAKE state, which will last until the last PINGRESP is issued</span><sup><a href="#cmnt213" id="cmnt_ref213">[he]</a></sup><sup><a href="#cmnt214" id="cmnt_ref214">[hf]</a></sup><sup><a href="#cmnt215" id="cmnt_ref215">[hg]</a></sup><sup><a href="#cmnt216" id="cmnt_ref216">[hh]</a></sup><span class="c0 c41 c23">.</span><sup><a href="#cmnt217" id="cmnt_ref217">[hi]</a></sup><span class="c0 c41">&nbsp;</span><sup><a href="#cmnt218" id="cmnt_ref218">[hj]</a></sup></p><p class="c19 c15 c86"><span class="c34 c0 c54"></span></p><p class="c19 c20 c95"><span class="c55 c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c41 c190">The gateway should attempt to make the best effort to reuse the same topic alias mappings that existed during any initial associated ACTIVE states.</span></p><p class="c12 c110 c95 c275"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 443.11px; height: 715.50px;"><img alt="" src="images/image7.png" style="width: 443.11px; height: 715.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c345 c110 c329 c422"><span class="c0">Figure 5: </span><span class="c0">Awake ping packet flush</span><sup><a href="#cmnt219" id="cmnt_ref219">[hk]</a></sup></p><h2 class="c1" id="h.ly7c1y"><span class="c118 c42 c230 c54 c253">4.26 Retained Messages</span></h2><p class="c339 c110"><span class="c0 c23">If the RETAIN flag is set to 1 in a PUBLISH or PUBWOS </span><span class="c0 c23">packet received by a Server, the Server MUST replace any existing Retained Message for this topic and store the Application Message</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.26-1]</span><span class="c0">, so that it can be delivered to future subscribers whose subscriptions match its Topic Name. </span><span class="c0 c23">If the Publish Data contains zero bytes it is processed normally by the Server but any retained message with the same topic name MUST be removed and any future subscribers for the topic will not receive a retained message</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.26-2]</span><span class="c0">. </span><span class="c0 c23">A Retained Message with a Publish Data containing zero bytes MUST NOT be stored as a Retained Message on the Server</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.26-3]</span><span class="c55 c0 c54">.</span></p><p class="c134 c110"><span class="c0 c23">If the RETAIN flag is 0 in a PUBLISH packet sent by a Client to a Server, the Server MUST NOT store the message as a Retained Message and MUST NOT remove or replace any existing Retained Message</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.26-4]</span><span class="c55 c0 c54">.</span></p><p class="c134 c110"><span class="c55 c0 c54">When a new Subscription is made, the last retained message, if any, on each matching topic name is sent to the Client as directed by the Retain Handling Subscribe Flag. These messages are sent with the RETAIN flag set to 1. Which retained messages are sent is controlled by the Retain Handling Subscribe Flag. At the time of the Subscription:</span></p><ul class="c59 lst-kix_xfrwmyc5vjsr-0 start"><li class="c70 c20 li-bullet-0"><span class="c0 c23">If Retain Handling is set to 0 the Server MUST send the retained messages matching the Topic Filter of the subscription to the Client</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.26-5]</span><span class="c55 c0 c54">.</span></li><li class="c70 c20 li-bullet-0"><span class="c0 c23">If Retain Handling is set to 1 then if the subscription did not already exist, the Server MUST send all retained messages matching the Topic Filter of the subscription to the Client, and if the subscription did exist the Server MUST NOT send the retained messages.</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.26-6]</span><span class="c55 c0 c54">.</span></li><li class="c70 c20 li-bullet-0"><span class="c409">&nbsp;</span><span class="c0 c23">If Retain Handling is set to 2, the Server MUST NOT send the retained messages</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.26-7]</span><span class="c55 c0 c54">.</span></li></ul><p class="c134 c110"><span class="c0">Refer to </span><span class="c124 c0"><a class="c48" href="#h.261ztfg">section 3.17.2</a></span><span class="c55 c0 c54">&nbsp;for a definition of the Subscription Flags.</span></p><p class="c134 c110"><span class="c55 c0 c54">If the Server receives a PUBLISH packet with the RETAIN flag set to 1, and QoS 0 it SHOULD store the new QoS 0 message as the new retained message for that topic, but MAY choose to discard it at any time. If this happens there will be no retained message for that topic.</span></p><p class="c134 c110"><span class="c0">The setting of the RETAIN flag in an Application Message forwarded by the Server from an established Virtual Connection is controlled by the Retain As Published subscription option. Refer to </span><span class="c124 c0"><a class="c48" href="#h.261ztfg">section 3.17.2</a></span><span class="c55 c0 c54">&nbsp;for a definition of the Subscription Flags.</span></p><ul class="c59 lst-kix_oy8s3o2zwdoj-0 start"><li class="c70 c20 li-bullet-0"><span class="c0 c23">If the value of Retain As Published subscription option is set to 0, the Server MUST set the RETAIN flag to 0 when forwarding an Application Message regardless of how the RETAIN flag was set in the received PUBLISH packet</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.26-8]</span><span class="c55 c0 c54">.</span></li><li class="c70 c20 li-bullet-0"><span class="c0 c23">If the value of Retain As Published subscription option is set to 1, the Server MUST set the RETAIN flag equal to the RETAIN flag in the received PUBLISH packet</span><span class="c0">&nbsp;</span><span class="c0 c33">[MQTT-SN-4.26-9]</span><span class="c55 c0 c54">.</span></li></ul><p class="c134 c20"><span class="c55 c42 c54">Informative comment</span></p><p class="c19 c110 c201 c95 c532"><span class="c55 c0 c54">Retained messages are useful where publishers send state messages on an irregular basis. A new non-shared subscriber will receive the most recent state</span></p><h2 class="c1" id="h.mo7ahow0t2fa"><span class="c118 c42 c230 c54 c253">4.27 Optional Features</span></h2><p class="c19 c15"><span class="c0">Support for the ADVERTISE, SEARCHGW, GWINFO</span><span class="c55 c0 c54">&nbsp;and PUBWOS packet types is optional. </span></p><p class="c19 c15"><span class="c55 c0 c54">The Forwarder Encapsulation packet type support is optional. For instance, it is not required if the MQTT-SN Clients are able to directly reach a MQTT-SN Gateway.</span></p><p class="c19 c15"><span class="c55 c0 c54">The PROTECTION packet type support is optional. For instance, it is not required if the MQTT-SN Gateway and the MQTT-SN Clients interact over a secure communication channel, like DTLS or any communication channel assuring the authenticity and optionally the confidentiality protection. </span></p><h1 class="c255 c110 c95 c239" id="h.ao41zqqg0txn"><span class="c0">5 Security (Informative)</span><sup><a href="#cmnt220" id="cmnt_ref220">[hl]</a></sup></h1><p class="c19 c15"><span class="c55 c64 c54">Like the MQTT security chapter but with a focus on MQTT-SN. In particular:</span></p><ul class="c59 lst-kix_abt812ykyt01-0 start"><li class="c19 c20 c65 li-bullet-0"><span class="c55 c64 c54">securing communications with:</span></li></ul><ul class="c59 lst-kix_abt812ykyt01-1 start"><li class="c19 c84 c65 li-bullet-0"><span class="c55 c64 c54">username/password</span></li><li class="c19 c84 c65 li-bullet-0"><span class="c55 c64 c54">challenge/response - AUTH</span></li><li class="c19 c84 c65 li-bullet-0"><span class="c55 c64 c54">DTLS</span></li><li class="c19 c84 c65 li-bullet-0"><span class="c55 c64 c54">Protection encapsulation</span></li></ul><h2 class="c1" id="h.l3biudxg4em6"><span>5.1 </span><span class="c118 c254 c230 c54 c253">Introduction</span></h2><h1 class="c255 c110 c95 c239" id="h.2k82xt6"><span class="c118 c212 c42 c54">6 Conformance</span></h1><p class="c19 c15"><span class="c0 c23">(</span><span class="c42 c23">Note</span><span class="c0 c23">: The </span><span class="c0 c187 c337 c23"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsConfClause&amp;sa=D&amp;source=editors&amp;ust=1724799529336319&amp;usg=AOvVaw3tcYRcsICqdoTP7450_BX6">OASIS TC Process</a></span><span class="c55 c0 c23">&nbsp;requires that a specification approved by the TC at the Committee Specification Public Review Draft, Committee Specification or OASIS Standard level must include a separate section, listing a set of numbered conformance clauses, to which any implementation of the specification must adhere in order to claim conformance to the specification (or any optional portion thereof). This is done by listing the conformance clauses here.</span></p><p class="c19 c15"><span class="c0 c23">For the definition of &quot;conformance clause,&quot; see </span><span class="c0 c187 c337 c23"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/oasis-defined-terms-2017-05-26%23dConformanceClause&amp;sa=D&amp;source=editors&amp;ust=1724799529336800&amp;usg=AOvVaw3jvwpGAbvkQI2We7m3qV63">OASIS Defined Terms</a></span><span class="c55 c0 c23">.</span></p><p class="c19 c15"><span class="c0 c23">See &quot;Guidelines to Writing Conformance Clauses&quot;: <br></span><span class="c0 c187 c337 c23"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/TCHandbook/ConformanceGuidelines.html&amp;sa=D&amp;source=editors&amp;ust=1724799529337090&amp;usg=AOvVaw01d-ciXzaHTCtoQXvcNQVs">https://docs.oasis-open.org/templates/TCHandbook/ConformanceGuidelines.html</a></span><span class="c55 c0 c23">.</span></p><p class="c19 c15"><span class="c0 c23">Remove this note before submitting for publication.)</span></p><h1 class="c255 c110 c95 c239" id="h.zdd80z"><span class="c212 c42">Appendix A. References</span></h1><p class="c19 c15"><span class="c55 c0 c23">[Required section.]</span></p><p class="c19 c15"><span class="c55 c0 c23">This appendix contains the normative and informative references that are used in this document.</span></p><p class="c19 c15"><span class="c55 c0 c23">While any hyperlinks included in this appendix were valid at the time of publication, OASIS cannot guarantee their long-term validity.</span></p><p class="c19 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c217 c15"><span class="c55 c0 c23">Note: Any normative work cited in the body of the text as needed to implement the work product must be listed in the Normative References section below. Each reference to a separate document or artifact in this work must be listed here and must be identified as either a Normative or an Informative Reference.</span></p><p class="c217 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c217 c15"><span class="c55 c0 c23">For all References &ndash; Normative and Informative:</span></p><p class="c217 c15"><span class="c0 c23">Recommended approach: Set up </span><span class="c42 c23">[Reference]</span><span class="c55 c0 c23">&nbsp;label elements as &quot;Bookmarks&quot;, then create hyperlinks to them within the document at locations from which the references are cited. Citations in the body of the text should be hyperlinked to the appropriate Reference entry, not directly to targets which are not a part of this Work Product.</span></p><p class="c217 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c217 c15"><span class="c55 c0 c23">The proper format for citation of technical work produced by an OASIS TC (whether Standards Track or Non-Standards Track) is:</span></p><p class="c217 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c217 c15"><span class="c55 c42 c23">[Citation Label]</span></p><p class="c217 c15"><span class="c55 c0 c23">Work Product title (italicized). Edited by Albert Alston, Bob Ballston, and Calvin Carlson. Approval date (DD Month YYYY). OASIS Stage Identifier and Revision Number (e.g., OASIS Committee Specification Draft 01). Principal URI (stage-specific URI, e.g., with stage component: somespec-v1.0-csd01.html). Latest stage: (static URI, without stage identifiers, used as a symbolic link to most recently published stage of this Version).</span></p><p class="c217 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c217 c15"><span class="c55 c0 c23">For example:</span></p><p class="c217 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c15 c217"><span class="c55 c42 c23">[OpenDoc-1.2]</span></p><p class="c217 c15"><span class="c55 c0 c23">Open Document Format for Office Applications (OpenDocument) Version 1.2. Edited by Patrick Durusau and Michael Brauer. 19 January 2011. OASIS Committee Specification Draft 07. https://docs.oasis-open.org/office/v1.2/csd07/OpenDocument-v1.2-csd07.html. Latest stage: https://docs.oasis-open.org/office/v1.2/OpenDocument-v1.2.html.</span></p><p class="c217 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c217 c15"><span class="c55 c0 c23">Reference sources:</span></p><p class="c217 c15"><span class="c55 c0 c23">For references to IETF RFCs, use the approved citation formats at:</span></p><p class="c217 c15"><span class="c124 c0 c23"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/ietf-rfc-list/ietf-rfc-list.html&amp;sa=D&amp;source=editors&amp;ust=1724799529339262&amp;usg=AOvVaw0-yLnrz4vVSj_AFp9DGxXZ">https://docs.oasis-open.org/templates/ietf-rfc-list/ietf-rfc-list.html</a></span><span class="c55 c0 c23">.</span></p><p class="c217 c15"><span class="c0 c23">The most recent IETF RFC references are listed by the IETF at </span><span class="c124 c0 c23"><a class="c48" href="https://www.google.com/url?q=https://www.rfc-editor.org/in-notes/rfc-ref.txt&amp;sa=D&amp;source=editors&amp;ust=1724799529339684&amp;usg=AOvVaw3kSXsFESLvZQ4lE_N7hk4N">https://www.rfc-editor.org/in-notes/rfc-ref.txt</a></span><span class="c55 c0 c23">.</span></p><p class="c217 c15"><span class="c55 c0 c23">For references to W3C Recommendations, use the approved citation formats at:</span></p><p class="c217 c15"><span class="c124 c0 c23"><a class="c48" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/w3c-recommendations-list/w3c-recommendations-list.html&amp;sa=D&amp;source=editors&amp;ust=1724799529340038&amp;usg=AOvVaw2-PDAnDS-jAYY3jNHCk60c">https://docs.oasis-open.org/templates/w3c-recommendations-list/w3c-recommendations-list.html</a></span><span class="c55 c0 c23">.</span></p><p class="c217 c15"><span class="c55 c0 c23">Remove this note before submitting for publication.</span></p><p class="c19 c15"><span class="c55 c0 c23">&nbsp;</span></p><h2 class="c1" id="h.2pjpzxrro3v8"><span class="c118 c254 c230 c54 c253">A.1 Normative References</span></h2><p class="c19 c15"><span class="c55 c0 c23">The following documents are referenced in such a way that some or all of their content constitutes requirements of this document.</span></p><p class="c19 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c217 c15"><span class="c55 c0 c23">[RFC2119]</span></p><p class="c301 c15"><span class="c0 c23">Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, &lt;</span><span class="c124 c0 c23"><a class="c48" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc2119&amp;sa=D&amp;source=editors&amp;ust=1724799529340819&amp;usg=AOvVaw1kBxGPl2PCLD-o2qEfdYwd">https://www.rfc-editor.org/info/rfc2119</a></span><span class="c55 c0 c23">&gt;.</span></p><p class="c217 c15"><span class="c55 c0 c23">[RFC8174]</span></p><p class="c301 c15"><span class="c0 c23">Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;, BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017, &lt;</span><span class="c124 c0 c23"><a class="c48" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc8174&amp;sa=D&amp;source=editors&amp;ust=1724799529341153&amp;usg=AOvVaw09aAWOd0VasRgRVHzwj7vb">https://www.rfc-editor.org/info/rfc8174</a></span><span class="c55 c0 c23">&gt;.</span></p><p class="c217 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c217 c15"><span class="c55 c0 c23">[Reference]</span></p><p class="c301 c15"><span class="c55 c0 c23">[Full reference citation]</span></p><p class="c19 c15"><span class="c55 c42 c54">[RFC2119]</span></p><p class="c19 c15"><span class="c55 c0 c54">Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, </span></p><p class="c19 c15"><span class="c0 c187"><a class="c48" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc2119&amp;sa=D&amp;source=editors&amp;ust=1724799529341712&amp;usg=AOvVaw02AHl2bKCZLrehqW3fWcgy">http://www.rfc-editor.org/info/rfc2119</a></span></p><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><a id="kix.32y02sm2iqny"></a><p class="c19 c15"><span class="c55 c42 c54">[RFC3629]</span></p><p class="c19 c15"><span class="c55 c0 c54">Yergeau, F., &quot;UTF-8, a transformation format of ISO 10646&quot;, STD 63, RFC 3629, DOI 10.17487/RFC3629, November 2003,</span></p><p class="c19 c15"><span class="c0 c187"><a class="c48" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc3629&amp;sa=D&amp;source=editors&amp;ust=1724799529342248&amp;usg=AOvVaw0f6mg-SpcVDcvtm2EXFo9W">http://www.rfc-editor.org/info/rfc3629</a></span></p><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><a id="kix.51xi25h5vzte"></a><p class="c19 c15"><span class="c55 c42 c54">[RFC6455]</span></p><p class="c19 c15"><span class="c55 c0 c54">Fette, I. and A. Melnikov, &quot;The WebSocket Protocol&quot;, RFC 6455, DOI 10.17487/RFC6455, December 2011,</span></p><p class="c19 c15"><span class="c0 c187"><a class="c48" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc6455&amp;sa=D&amp;source=editors&amp;ust=1724799529342663&amp;usg=AOvVaw1aYDGlxMxoIjBEx7US_xrp">http://www.rfc-editor.org/info/rfc6455</a></span></p><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><a id="kix.sm86r7ecajs3"></a><p class="c19 c15"><span class="c55 c42 c54">[Unicode]</span></p><p class="c19 c15"><span class="c55 c0 c54">The Unicode Consortium. The Unicode Standard, </span></p><p class="c19 c15"><span class="c0 c187"><a class="c48" href="https://www.google.com/url?q=http://www.unicode.org/versions/latest/&amp;sa=D&amp;source=editors&amp;ust=1724799529343091&amp;usg=AOvVaw22ZQ4ogf2MQU-4hNwAuUO1">http://www.unicode.org/versions/latest/</a></span><span class="c55 c0 c23">&nbsp;</span></p><h2 class="c1" id="h.wmz8ensz9jqs"><span class="c118 c254 c230 c54 c253">A.2 Informative References</span></h2><p class="c19 c15"><span class="c55 c0 c23">The following referenced documents are not required for the application of this document but may assist the reader with regard to a particular subject area.</span></p><p class="c19 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c217 c15"><span class="c55 c0 c23">[RFC3552]</span></p><p class="c301 c15"><span class="c0 c23">Rescorla, E. and B. Korver, &quot;Guidelines for Writing RFC Text on Security Considerations&quot;, BCP 72, RFC 3552, DOI 10.17487/RFC3552, July 2003, &lt;</span><span class="c124 c0 c23"><a class="c48" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc3552&amp;sa=D&amp;source=editors&amp;ust=1724799529343753&amp;usg=AOvVaw2c85hWTjjyQKk40KZbsCwj">https://www.rfc-editor.org/info/rfc3552</a></span><span class="c55 c0 c23">&gt;.</span></p><p class="c217 c15"><span class="c55 c0 c23">[Reference]</span></p><p class="c301 c15"><span class="c55 c0 c23">[Full reference citation]</span></p><hr style="page-break-before:always;display:none;"><p class="c19 c15 c86"><span class="c55 c0 c23"></span></p><h1 class="c255 c110 c95 c239" id="h.twhu880t27o"><span class="c118 c254 c212 c54">Appendix B. Backwards Compatibility</span></h1><p class="c19 c15 c86"><span class="c55 c64 c54"></span></p><h3 class="c200 c110 c95" id="h.1qoc8b1"><span class="c118 c254 c121 c54">B.1 PUBLISH QoS -1 (Packet from MQTT-SN 1.2)</span></h3><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><table class="c146"><tr class="c18"><td class="c245 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">Bit</span></p></td><td class="c175 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">7</span></p></td><td class="c325 c67" colspan="2" rowspan="1"><p class="c4"><span class="c6">6</span></p></td><td class="c130 c67" colspan="2" rowspan="1"><p class="c4"><span class="c6">5</span></p></td><td class="c198 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">4</span></p></td><td class="c67 c473" colspan="2" rowspan="1"><p class="c4"><span class="c6">3</span></p></td><td class="c263 c67" colspan="2" rowspan="1"><p class="c4"><span class="c6">2</span></p></td><td class="c32 c67" colspan="1" rowspan="1"><p class="c4"><span class="c6">1</span></p></td><td class="c67 c322" colspan="2" rowspan="1"><p class="c4"><span class="c6">0</span></p></td></tr><tr class="c18"><td class="c245" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Byte 1</span></p></td><td class="c181" colspan="13" rowspan="1"><p class="c4"><span class="c11 c0">Length</span></p></td></tr><tr class="c18"><td class="c245" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Byte 2</span></p></td><td class="c181" colspan="13" rowspan="1"><p class="c4"><span class="c11 c0">Packet Type (0x0C)</span></p></td></tr><tr class="c152"><td class="c245" colspan="1" rowspan="2"><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c181 c155" colspan="13" rowspan="1"><p class="c4"><span class="c16 c42">PUBLISH-M1 FLAGS</span></p></td></tr><tr class="c152"><td class="c315" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">DUP</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c462" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">QoS</span></p><p class="c4 c86"><span class="c16 c0"></span></p></td><td class="c316" colspan="3" rowspan="1"><p class="c4"><span class="c16 c0">Retain</span></p></td><td class="c170" colspan="1" rowspan="1"><p class="c4"><span class="c16 c0">Reserved</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c4"><span class="c16 c0">Reserved</span></p></td><td class="c10" colspan="4" rowspan="1"><p class="c4"><span class="c16 c0">Topic Id Type</span></p><p class="c19 c15 c86"><span class="c16 c0"></span></p></td></tr><tr class="c18"><td class="c245" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Byte 3</span></p></td><td class="c315" colspan="2" rowspan="1"><p class="c4"><span class="c16 c0">X</span></p></td><td class="c76" colspan="1" rowspan="1"><p class="c4"><span class="c16 c0">X</span></p></td><td class="c183" colspan="1" rowspan="1"><p class="c4"><span class="c16 c0">X</span></p></td><td class="c316" colspan="3" rowspan="1"><p class="c4"><span class="c16 c0">X</span></p></td><td class="c170" colspan="1" rowspan="1"><p class="c4"><span class="c16 c0">0</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c4"><span class="c16 c0">0</span></p></td><td class="c389" colspan="3" rowspan="1"><p class="c4"><span class="c16 c0">X</span></p></td><td class="c247" colspan="1" rowspan="1"><p class="c4"><span class="c16 c0">X</span></p></td></tr><tr class="c18"><td class="c245" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Byte 4</span></p></td><td class="c181" colspan="13" rowspan="1"><p class="c4 c239"><span class="c11 c0">Topic Id MSB</span></p></td></tr><tr class="c18"><td class="c245" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Byte 5</span></p></td><td class="c181" colspan="13" rowspan="1"><p class="c4 c239"><span class="c11 c0">Topic Id LSB</span></p></td></tr><tr class="c18"><td class="c245" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Byte 6</span></p></td><td class="c181" colspan="13" rowspan="1"><p class="c4 c239"><span class="c11 c0">0x00 &ndash; Fixed Field Value</span></p></td></tr><tr class="c18"><td class="c245" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Byte 7</span></p></td><td class="c181" colspan="13" rowspan="1"><p class="c4 c239"><span class="c11 c0">0x00 &ndash; Fixed Field Value</span></p></td></tr><tr class="c18"><td class="c245" colspan="1" rowspan="1"><p class="c19 c15"><span class="c11 c0">Byte 8 .. N</span></p></td><td class="c181" colspan="13" rowspan="1"><p class="c4 c239"><span class="c11 c0">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c161 c15"><span class="c249 c64 c169 c375 c192 c213 c54">Table 27: PUBLISH packet</span></p><p class="c19 c15"><span class="c55 c0 c54">This packet is used by both clients and gateways to publish data to a topic.</span></p><p class="c19 c20 c95"><span class="c42 c190">Informative comment</span></p><p class="c19 c20 c95"><span class="c0 c190">If the Transport Layer supports multicast, like UDP/IP, the PUBLISH MINUS -1 packet is generally sent using the Multicast Address as destination.</span></p><h4 class="c1" id="h.4anzqyu"><span class="c30">B.1.1 Length &amp; Packet Type</span></h4><p class="c144 c15"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. </span><sup><a href="#cmnt221" id="cmnt_ref221">[hm]</a></sup><span class="c0">Refer to </span><span class="c124 c0"><a class="c48" href="#h.23ckvvd">section 2.1</a></span><span class="c0">&nbsp;for a detailed description.</span></p><h4 class="c1" id="h.14ykbeg"><span class="c30">B.1.2 PUBLISH Flags</span></h4><p class="c19 c15"><span class="c0">The PUBLISH Flags field is 1-byte</span><span class="c0">&nbsp;located in Byte 3 position</span><span class="c55 c0 c54">&nbsp;of the PUBLISH control packet. </span></p><p class="c19 c15"><span class="c55 c0 c54">The PUBLISH Flags includes the following flags:</span></p><ul class="c59 lst-kix_list_7-0"><li class="c391 c110 li-bullet-12"><span class="c42">Topic Id Type</span><span class="c55 c0 c54">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. </span></li><li class="c391 c110 li-bullet-7"><span class="c42">QoS</span><span class="c0">: This is a 2-bit field stored in Bit 5 and 6. QoS has the same meaning as with MQTT indicating the Quality of Service. Set to &ldquo;0b00&rdquo; for QoS 0, &ldquo;0b01&rdquo; for QoS 1, &ldquo;0b10&rdquo; for QoS 2, and &ldquo;0b11&rdquo; for QoS -1. For a detailed description of the various Quality Of Service levels refer to </span><span class="c124 c0"><a class="c48" href="#h.2i9l8ns">section 4.3</a></span><span class="c55 c0 c54">.</span></li><li class="c391 c110 li-bullet-7"><span class="c42">DUP</span><span class="c55 c0 c54">: 1 bit field stored in Bit 7 and has the same meaning as with MQTT. It notes the duplicate delivery of packets. If the DUP flag is set to &ldquo;0&rdquo;, it signifies that the packet is sent for the first time. If the DUP flag is set to &ldquo;1&rdquo;, it signifies that the packet was retransmitted. </span></li><li class="c419 c110 c445 li-bullet-5"><span class="c42">Retain</span><span class="c55 c0 c54">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing retained message for this topic is replaced or kept.</span></li></ul><h4 class="c1" id="h.3oy7u29"><span class="c30">B.1.3 Topic Id</span></h4><p class="c235 c110 c95"><span class="c0">Contains the topic </span><span class="c0">id</span><span class="c55 c0 c54">&nbsp;value or the short topic name for which the data is published.</span></p><h4 class="c1" id="h.243i4a2"><span class="c30">B.1.4 Data</span></h4><p class="c68"><span>The published data</span><span class="c0">.</span><sup><a href="#cmnt222" id="cmnt_ref222">[hn]</a></sup></p><h1 class="c58" id="h.55r6c0xsdoov"><span class="c118 c254 c212 c54">Appendix C. Security and Privacy Considerations</span></h1><p class="c19 c15"><span class="c0">[</span><span class="c0 c23">Optional section.</span><span class="c55 c0 c54">]</span></p><p class="c19 c15"><span class="c55 c0 c23">Note: OASIS strongly recommends that Technical Committees consider issues that might affect safety, security, privacy, and/or data protection in implementations of their work products and document these for implementers and adopters. For some purposes, you may find it required, e.g. if you apply for IANA registration.</span></p><p class="c19 c15"><span class="c55 c0 c23">While it may not be immediately obvious how your work product might make systems vulnerable to attack, most work products, because they involve communications between systems, message formats, or system settings, open potential channels for exploit. For example, IETF [RFC3552] lists &ldquo;eavesdropping, replay, message insertion, deletion, modification, and man-in-the-middle&rdquo; as well as potential denial of service attacks as threats that must be considered and, if appropriate, addressed in IETF RFCs.</span></p><p class="c19 c15"><span class="c55 c0 c23">In addition to considering and describing foreseeable risks, this section should include guidance on how implementers and adopters can protect against these risks.</span></p><p class="c19 c15"><span class="c55 c0 c23">We encourage editors and TC members concerned with this subject to read Guidelines for Writing RFC Text on Security Considerations, IETF [RFC3552], for more information.</span></p><p class="c19 c15"><span class="c55 c0 c54">The MQTT SN protocol is optimized for implementation on low-cost, battery-powered devices with limited processing and storage resources. The capabilities are kept simple and the specification allows for partial implementations. Device identities are typically created at manufacturing, eliminating the need for special configuration at deployment. MQTT-SN can work in isolation from other networks or in conjunction with MQTT.</span></p><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><p class="c19 c15"><span>MQTT-SN Client and Gateway</span><span>/Server</span><span>&nbsp;implementations SHOULD offer Authentication and Authorization options. Furthermore, the confidentiality and authenticity of the MQTT-SN messages can be provided by the underlying transport or can be obtained by encapsulating the MQTT-SN messages into the P</span><span>ROTECTION</span><span>&nbsp;</span><span class="c55 c64 c54">packet.</span></p><p class="c19 c15"><span>Applications concerned with critical infrastructure, personally identifiable information, or other personal or sensitive information are strongly advised to use these security capabilities.</span></p><p class="c110 c95 c239 c408" id="h.452snld"><span class="c118 c42 c169 c230 c54">Industry specific security profiles</span></p><p class="c19 c15"><span class="c55 c0 c54">It is anticipated that the MQTT protocol will be designed into industry specific application profiles, each defining a threat model and the specific security mechanisms to be used to address these threats. Recommendations for specific security mechanisms will often be taken from existing works including:</span></p><p class="c19 c15 c86"><span class="c55 c0 c54"></span></p><p class="c19 c15"><span class="c0 c187"><a class="c48" href="#id.2pcmsun">[NISTCSF]</a></span><span class="c42">&nbsp;</span><span class="c55 c0 c54">NIST Cyber Security Framework</span></p><p class="c19 c15"><span class="c0 c187"><a class="c48" href="#id.14hx32g">[NIST7628]</a></span><span class="c42">&nbsp;</span><span class="c55 c0 c54">NISTIR 7628 Guidelines for Smart Grid Cyber Security</span></p><p class="c19 c15"><span class="c0 c187"><a class="c48" href="#id.3ohklq9">[FIPS1402]</a></span><span class="c42">&nbsp;</span><span class="c55 c0 c54">Security Requirements for Cryptographic Modules (FIPS PUB 140-2)</span></p><p class="c19 c15"><span class="c0 c187"><a class="c48" href="#id.23muvy2">[PCIDSS]</a></span><span class="c42">&nbsp;</span><span class="c55 c0 c54">PCI-DSS Payment Card Industry Data Security Standard</span></p><p class="c19 c15"><span class="c0 c187"><a class="c48" href="#id.is565v">[NSAB]</a></span><span class="c42">&nbsp;</span><span class="c55 c0 c54">NSA Suite B Cryptography</span></p><p class="c19 c15 c86"><span class="c55 c0 c23"></span></p><p class="c19 c15"><span class="c55 c0 c54">&nbsp;</span></p><h1 class="c58" id="h.bc8w7ov5oli4"><span class="c118 c254 c212 c54">Appendix D. Acknowledgments</span></h1><p class="c19 c15"><span class="c0">[</span><span class="c0 c23">Required section.</span><span class="c55 c0 c54">]</span></p><p class="c19 c15"><span class="c55 c0 c23">Note: A Work Product approved by the TC must include a list of people who participated in the development of the Work Product. This is generally done by collecting the list of names in this appendix. This list shall be initially compiled by the Chair, and any Member of the TC may add or remove their names from the list by request.</span></p><p class="c19 c15"><span class="c55 c0 c23">Remove these yellow notes before submitting for publication.</span></p><p class="c19 c15"><span class="c55 c0 c23">&nbsp;</span></p><h2 class="c1" id="h.glow6i83isd5"><span class="c118 c254 c230 c54 c253">D.1 Special Thanks</span></h2><p class="c19 c15"><span class="c55 c0 c23">Note: This is an optional subsection to call out contributions from TC members. If a TC wants to thank non-TC members then they should avoid using the term &quot;contribution&quot; and instead thank them for their &quot;expertise&quot; or &quot;assistance&quot;. </span></p><p class="c19 c15"><span class="c55 c0 c54">Substantial contributions to this document from the following individuals are gratefully acknowledged:</span></p><p class="c19 c15"><span class="c55 c0 c23">&nbsp;</span></p><p class="c19 c15"><span class="c55 c0 c54">[Participant Name, Affiliation | Individual Member]</span></p><p class="c19 c15"><span class="c55 c0 c54">&nbsp;</span></p><h2 class="c1" id="h.tdeowwajj1wf"><span class="c118 c254 c230 c54 c253">D.2 Participants</span></h2><p class="c19 c15"><span class="c55 c0 c23">Note: A TC can determine who they list here, however, Observers must not be listed. It is common practice for TCs to list everyone that was part of the TC during the creation of the document, but this is ultimately a TC decision on who they want to list and not list. </span></p><p class="c19 c15"><span class="c55 c0 c54">The following individuals were members of this Technical Committee during the creation of this document and their contributions are gratefully acknowledged:</span></p><p class="c19 c15"><span class="c55 c0 c54">&nbsp;</span></p><p class="c19 c15"><span class="c55 c0 c54">[Participant Name, Affiliation | Individual Member]</span></p><p class="c12 c110 c86"><span class="c55 c0 c23"></span></p><h1 class="c58" id="h.ewpzaw2f211a"><span class="c0 c23">Appendix </span><span class="c23">E</span><span class="c118 c212 c42 c23">. Revision History</span></h1><p class="c19 c15"><span class="c55 c0 c23">[Optional section.]</span></p><p class="c19 c15"><span class="c55 c0 c23">Revisions made since the initial stage of this numbered Version of this document may be tracked here.</span></p><p class="c19 c15"><span class="c55 c0 c23">Note: If revision tracking is handled in another system like github, provide a link to it instead of using this table, if desired. &nbsp;Remove this note before submitting for publication.</span></p><table class="c146"><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c4"><span class="c26 c0 c23">Revision</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c4"><span class="c26 c0 c23">Date</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c4"><span class="c26 c0 c23">Editor</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Changes Made</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-01</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[27th February 2020]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Andrew Banks]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Merge Initial Document and Input Specification]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-02</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[4th April 2020]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Andrew Banks]</span></p><p class="c19 c15"><span class="c26 c0 c23">[Rahul Gupta]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Terminology, DataTypes, CONNECT packet]</span></p><p class="c19 c15"><span class="c26 c0 c23">[Specification Diagrams]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-05</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[21st February 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Packet Diagrams, Bit Tables, Field Definitions]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-06</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[10th March 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Sleeping client operational behavior, Terminology changes, 13 JIRA resolutions added to specification, Section numbering changes]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-07</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[15th March 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Added 4 byte (32 bit) integer description]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-08</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[26th March 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Added max packet size to CONNECT, Added Session Expiry Interval to CONNACK, Removed ZigBee references, Removed capabilities flag from CONNECT, AUTH packet added along with Authentication operational behavior. Standardized page margins]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-09</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[05th May 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Added long topic type to topicIdTypes, updated PUBLISH to accommodate new topic type, added topic type matrix]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-10</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[October 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Document format aligned with core specification, removal of introduction, addition of packet ID table, adding error code]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-11</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[October 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[MQTT-SN Architecture moved into operational behavior, removal of variable integer definition, addition of session state section, normative comments added to sleeping client operational behaviour]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-12</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[November 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Andrew Banks]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Rework 1.5 Background</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-13</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[November 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Move Authentication and Retained messages into operational behavior, rationalized tables and figures, separated packet definitions of similar structures into distinct sections.]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-14</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Decmeber 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[First implementation attempt, Fixed table references, Fixed PingResp packet]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-15</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[December 2021]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Tara added as editor, return code additions]</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-15</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[February 2022]</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Tara Walker]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Changed Return Code nomenclature to be more consistent w/5.0. Added Reason Codes to each control packet type</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-16</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">March 2022</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Tara Walker]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Updated WILL*Types to correct Packet Type. Added Global Flags Table to Section 2. Updated each Control Packet Flags in Section 3 adding missing Flag Sections. Formatting: Auto update of Table numbering, Auto update of WD Revision numbering for footer.</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-17</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">April 2022</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Updated use of topic name and topic filter to be aligned with MQTT 5. Topic alias becomes topic alias type. Added quality of service protocol flow as it differed to MQTT 5 (inflight). Conformance references removed as these will need to be wholly owned OR externally referenced.</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-18 </span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">June 2022</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Tara E. Walker]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Updated items based upon the feedback from Alex Kritikos.</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-19</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">August 2022</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Remove change tracking as document was becoming unworkable.</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-20</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">September 2022</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Integrate feedback from committee meeting relating to the work by Miroslav Prymek. Added resolution of CONNACK session present per MQTT 585</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-21</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">October 2022</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Client States section added to describe the 5 states.</span></p><p class="c19 c15"><span class="c26 c0 c23">Updated the state transition diagram to accommodate new disconnect field and new transitions between Awake -&gt; Lost and Asleep -&gt; Disconnected.</span></p><p class="c19 c15"><span class="c26 c0 c23">Security section added.</span></p><p class="c19 c15"><span class="c26 c0 c23">Figure 2 &ndash; MQTT-SN Architecture diagram updated.</span></p><p class="c19 c15"><span class="c26 c0 c23">Font updated to Arial from bespoke font.</span></p><p class="c19 c15"><span class="c26 c0 c23">QoS -1 &ndash; Section added to the QoS chapter (NOTE: updated text to allow for bi-directional -1 PUBLISHING).</span></p><p class="c19 c15"><span class="c26 c0 c23">Introduction of Exponential backoff algorithm.</span></p><p class="c19 c15"><span class="c26 c0 c23">Applied issue issue 587 (max messages set in CONNECT flags).</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-22</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">November 2022</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Integrate MQTT 591 (sleep behavior)</span></p><p class="c19 c15"><span class="c26 c0 c23">Replace instances of &ldquo;return code&rdquo; to &ldquo;reason code&rdquo;</span></p><p class="c19 c15"><span class="c26 c0 c23">PINGREQ timeout aligned with Tretry (15 seconds) from the ill defined &ldquo;reasonable amount of time&rdquo;</span></p><p class="c19 c15"><span class="c26 c0 c23">Exponential Algo fix (using the factor n assuming it was the product!)</span></p><p class="c19 c15"><span class="c26 c0 c23">Client Identifier size clarification.</span></p><p class="c19 c15"><span class="c26 c0 c23">Publish variants added; distinguish variant based on QoS field to save 2 bytes for single flight PUBLISH packets.</span></p><p class="c19 c15"><span class="c26 c0 c23">Incorporated B4. Into retry timer.</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-23</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">December 2022</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">CONNECT Client Identifier Informative and Normative d&eacute;finition update.</span></p><p class="c19 c15"><span class="c26 c0 c23">CONNACK Client Identifier Informative and Normative d&eacute;finition update.</span></p><p class="c19 c15"><span class="c26 c0 c23">CONNACK reason codes updated.</span></p><p class="c19 c15"><span class="c26 c0 c23">KeepAlive boundary specified removing 0 as an option per the committee call.</span></p><p class="c19 c15"><span class="c26 c0 c23">Added Session Expiry &ldquo;reasonable&rdquo; setting statement.</span></p><p class="c19 c15"><span class="c26 c0 c23">Added sequence diagrams for CONNECT, CONNECT with WILL, CONNECT with AUTH.</span></p><p class="c19 c15"><span class="c26 c0 c23">Network Connection Section (IANA Omitted but we need to add this to agenda)</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-24</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">December 2022</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson, Davide Lenzarini, Ian Craggs]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Removal of Network Connection references.</span></p><p class="c12 c15"><span class="c26 c0 c23">Modified PUBLISH -1 &amp; 0 tables to remove topic length field</span></p><p class="c12 c15"><span class="c26 c0 c23">Modified PUBLISH 1 &amp; 2 tables to remove topic length field</span></p><p class="c19 c15"><span class="c26 c0 c23">Changed Data field description on the above</span></p><p class="c19 c15"><span class="c26 c0 c23">Updated sleeping device section</span></p><p class="c19 c15"><span class="c26 c0 c23">Ensured the references to the Packet Length and type section was consistent in all packet types.</span></p><p class="c19 c15 c86"><span class="c26 c0 c23"></span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-25</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">January 2023</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c0 c23 c26">Broken out PUBLISH -1 into its own packet type</span></p><p class="c19 c15"><span class="c26 c0 c23">Disconnect flags field moved and added existence flags for optional fields</span></p><p class="c19 c15"><span class="c26 c0 c23">Introduction titles changed to better sign post where the information resides in the document</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-26</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">May 2023</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson, Davide Lenzarini]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Backwards compatible PUBLISH -1, new OOS Publish message to repace it. Removal of security section to allow to rewrite.</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-27</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">November 2023</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">[Simon Johnson, Davide Lenzarini]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">Network Transport Layer chapter updated to define the impact of lower layers features on the MQTT-SN protocol.</span></p><p class="c19 c15"><span class="c26 c0 c23">Replaced the term MQTT-SN &ldquo;connection&rdquo; with the term &ldquo;Virtual Connection&rdquo;.</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-28</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">December 2023</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c403 c23 c104">[Davide Lenzarini, Stefan Hagen]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c23 c104 c403">Ensured document structure is intact and replaced table footnotes with simple text tags and a subsequent notes listing.</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15 c86"><span class="c26 c0 c23"></span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">February 2024</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c75 c231 c23">[Ian Craggs, Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c75 c231 c23">Issue 560 resolution - full reason code table and add reason code fields to PUBREC, PUBREL and PUBCOMP. Duplicate reason code tables removed from packet descriptions.</span></p><p class="c19 c15"><span class="c75 c231 c23">Will Data Sent in CONNECT</span></p><p class="c19 c15"><span class="c75 c231 c23">Auth Data Sent in CONNECT &amp; CONNACK</span></p><p class="c19 c15"><span class="c75 c231 c23">Suback granted QoS 0,1,2 now reason codes not flags.</span></p><p class="c19 c15"><span class="c75 c23 c231">Moved PUBLISH -1 to new Backward compatibility appendix</span></p></td></tr><tr class="c18"><td class="c199" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">WD-29</span></p></td><td class="c168" colspan="1" rowspan="1"><p class="c19 c15"><span class="c26 c0 c23">March 2024</span></p></td><td class="c103" colspan="1" rowspan="1"><p class="c19 c15"><span class="c75 c231 c23">[Ian Craggs, Davide Lenzarini, Simon Johnson]</span></p></td><td class="c128" colspan="1" rowspan="1"><p class="c19 c15"><span class="c75 c231 c23">Update Terminology section. Add Operational Behavior sections from MQTT 5.0. Workshop revisions to Operational Behavior responding to Davide&rsquo;s review.</span></p></td></tr></table><p class="c19 c15 c86"><span class="c55 c0 c23"></span></p><p class="c255 c110 c239 c86 c329" id="h.dkraaadk8r1i"><span class="c118 c212 c42 c54"></span></p><h1 class="c255 c110 c95 c239" id="h.3jd0qos"><span class="c212 c42">Appendix </span><span>F</span><span class="c42 c212">. </span><span class="c118 c254 c212 c54">Implementation Notes</span></h1><h2 class="c1" id="h.1yib0wl"><span>F.1 </span><span class="c213">Support of </span><span>PUBLISH WITHOUT SESSION</span></h2><p class="c60 c110 c95 c327"><span class="c55 c0 c54">Because PUBLISH WITHOUT SESSION could be sent at any time by clients (even with no Virtual Connection setup) a transparent GW needs to maintain for those packets a dedicated MQTT connection with the server. An aggregating or hybrid GW may use any aggregating MQTT connection to forward those packets to the server. </span></p><h2 class="c1" id="h.4ihyjke"><span>F.2 </span><span class="c118 c254 c230 c54 c253">&ldquo;Best practice&rdquo; values for timers and counters</span></h2><p class="c82 c110 c95 c327"><span class="c55 c0 c54">Table 30 shows the &ldquo;best practice&rdquo; values for the timers and counters defined in this specification.</span></p><table class="c530"><tr class="c444"><td class="c108 c414" colspan="1" rowspan="1"><p class="c413 c15"><span class="c6">Timer/Counter</span></p></td><td class="c158 c414" colspan="1" rowspan="1"><p class="c15 c413"><span class="c6">Recommended value</span></p></td></tr><tr class="c434"><td class="c108" colspan="1" rowspan="1"><sup><a href="#cmnt223" id="cmnt_ref223">[ho]</a></sup><p class="c222 c15"><span class="c0 c106 c47">T</span><span class="c0 c257 c106 c47">ADV</span></p></td><td class="c158" colspan="1" rowspan="1"><p class="c222 c15"><span class="c46 c0 c192 c54">Greater than 15 minutes</span></p></td></tr><tr class="c444"><td class="c108" colspan="1" rowspan="1"><p class="c222 c15"><span class="c0 c106 c47">N</span><span class="c0 c257 c106 c47">ADV</span></p></td><td class="c158" colspan="1" rowspan="1"><p class="c222 c15"><span class="c46 c0 c192 c54">2 -3</span></p></td></tr><tr class="c444"><td class="c108" colspan="1" rowspan="1"><p class="c222 c15"><span class="c0 c106 c47">T</span><span class="c0 c257 c106 c47">SEARCHGW</span></p></td><td class="c158" colspan="1" rowspan="1"><p class="c222 c15"><span class="c46 c0 c54 c192">5 seconds</span></p></td></tr><tr class="c442"><td class="c108" colspan="1" rowspan="1"><p class="c222 c15"><span class="c0 c106 c47">T</span><span class="c0 c257 c106 c47">GWINFO</span></p></td><td class="c158" colspan="1" rowspan="1"><p class="c222 c15"><span class="c46 c0 c192 c54">5 seconds</span></p></td></tr><tr class="c444"><td class="c108" colspan="1" rowspan="1"><p class="c222 c15"><span class="c0 c106 c47">T</span><span class="c0 c257 c106 c47">WAIT</span></p></td><td class="c158" colspan="1" rowspan="1"><p class="c222 c110 c95"><span class="c46 c0 c192 c54">Greater than 5 minutes</span></p></td></tr><tr class="c444"><td class="c108" colspan="1" rowspan="1"><p class="c222 c15"><span class="c0 c106 c47">T</span><span class="c0 c257 c106 c47">RETRY</span></p></td><td class="c158" colspan="1" rowspan="1"><p class="c222 c15"><span class="c0 c106">Implement </span><span class="c124 c0 c106"><a class="c48" href="#h.1csj400">section F.</a></span><span class="c124 c0 c106"><a class="c48" href="#h.1csj400">4</a></span><span class="c46 c0 c192 c54">&nbsp;with a starting value of 1 second after an initial wait period of 5 seconds. So the first retry will be ~6 seconds.</span></p></td></tr><tr class="c444"><td class="c108" colspan="1" rowspan="1"><p class="c222 c15"><span class="c0 c106 c47">N</span><span class="c0 c257 c106 c47">RETRY</span></p></td><td class="c158" colspan="1" rowspan="1"><p class="c222 c15"><span class="c46 c0 c192 c54">3 &ndash; 5</span></p></td></tr><tr class="c444"><td class="c108" colspan="1" rowspan="1"><p class="c222 c15"><span class="c0 c106 c47">M</span><span class="c0 c257 c192 c106 c54 c47 c337">BACKOFF</span></p></td><td class="c158" colspan="1" rowspan="1"><p class="c222 c15"><span class="c46 c0 c192 c54">60 seconds</span></p></td></tr></table><p class="c15 c376"><span class="c55 c0 c54">Table 30: &ldquo;Best practice&rdquo; values for timers and counters</span></p><p class="c15 c433"><span class="c0">The &ldquo;tolerance&rdquo; of the sleep and keep-alive timers at the </span><span class="c0">server/</span><span class="c55 c0 c54">gateway depends on the values indicated by the clients. For example, the timer values should be 10% higher than the indicated values for periods larger than 1 minute, and 50% higher if less.</span></p><h2 class="c1" id="h.2xn8ts7"><span>F.3 </span><span class="c118 c254 c230 c54 c253">Mapping of Topic Alias to Topic Names and Topic Filters</span></h2><p class="c60 c110 c95 c327"><span class="c0">It is strongly recommended that in the gateway the mapping table between topic alias and topic names is implemented per client (and not by a single shared pool between all clients), to reduce the risk of an incorrect topic alias from a client matching another client&rsquo;s valid topic, and thus causing a publication to the wrong topic, which could potentially have disastrous consequences.</span><sup><a href="#cmnt224" id="cmnt_ref224">[hp]</a></sup></p><h2 class="c1" id="h.1csj400"><span class="c124"><a class="c48" href="#h.1csj400">F.4 </a></span><span class="c124 c213"><a class="c48" href="#h.1csj400">Exponential Backoff</a></span></h2><p class="c73 c15"><span class="c118 c0 c169 c302 c54">The following error handling strategy should be used for networked devices to avoid overwhelming recipient network entities whilst providing for efficient reestablishment handling. The client shall periodically retry a failed packet with increasing delays between attempts, constrained by a max retry time and interleaved with a suitable seed of randomness.</span></p><p class="c15 c73"><span class="c118 c42 c169 c302 c54">Algorithm:</span></p><p class="c73 c15"><span class="c118 c0 c169 c302 c54">An exponential backoff algorithm retries requests exponentially, increasing the waiting time between retries up to a maximum backoff time. For example:</span></p><ol class="c59 lst-kix_list_18-0 start" start="1"><li class="c20 c65 c210 li-bullet-0"><span class="c118 c0 c169 c302 c54">Initial packet sent.</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c118 c0 c169 c302 c54">If the operation fails, wait 1000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c118 c0 c169 c302 c54">If the operation fails, wait 2000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c118 c0 c169 c54 c302">If the operation fails, wait 4000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c12 c20 c65 li-bullet-0"><span class="c0 c302">Continued, up to a maximum backoff </span><span class="c0 c87 c47">M</span><span class="c0 c257 c87 c47">BACKOFF</span><span class="c118 c0 c169 c302 c54">.</span></li><li class="c20 c65 c448 li-bullet-0"><span class="c0 c302">Continue waiting and retrying up to some maximum number of retries,</span><sup><a href="#cmnt225" id="cmnt_ref225">[hq]</a></sup><span class="c118 c0 c169 c302 c54">&nbsp;but do not increase the wait period between retries.</span></li></ol><p class="c73 c15"><span class="c0 c302">The wait time </span><span class="c0 c41">is </span><span class="c267 c169 c54 c531">min(((2^n * sf) + ran), max)</span><span class="c0 c41">&nbsp;</span><span class="c118 c0 c169 c302 c54">with n incremented by 1 for each iteration (or operation) and the scaling factor (sf) being set to some reasonable value (suggested 1000 as in the example above). </span></p><p class="c73 c15"><span class="c118 c0 c169 c302 c54">The random number helps to avoid cases where many clients are synchronized by some situation, and all retry at once. The value of the random number ran is recalculated after each retry. The random number (ran) should be no larger than the scaling factor (sf).</span></p><h1 class="c58" id="h.sg1xgdru14ui"><span class="c118 c254 c212 c54">Appendix G. Notices</span></h1><p class="c19 c15"><span class="c0">[</span><span class="c0 c23">Required section. Do not change.</span><span class="c55 c0 c54">]</span></p><p class="c19 c15"><span class="c55 c0 c54">Copyright &copy; OASIS Open 2024. All Rights Reserved.</span></p><p class="c19 c15"><span class="c0">All capitalized terms in the following text have the meanings assigned to them in the OASIS Intellectual Property Rights Policy (the &quot;OASIS IPR Policy&quot;). The full </span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1724799529438784&amp;usg=AOvVaw025mfj1Iv5DSm3YxetqdP_">Policy</a></span><span class="c0">&nbsp;may be found at the OASIS website: [</span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1724799529439149&amp;usg=AOvVaw1P-GPXdL65cpgbKUM1IDnI">https://www.oasis-open.org/policies-guidelines/ipr/</a></span><span class="c55 c0 c54">].</span></p><p class="c19 c15"><span class="c55 c0 c54">This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this section are included on all such copies and derivative works. However, this document itself may not be modified in any way, including by removing the copyright notice or references to OASIS, except as needed for the purpose of developing any document or deliverable produced by an OASIS Technical Committee (in which case the rules applicable to copyrights, as set forth in the OASIS IPR Policy, must be followed) or as required to translate it into languages other than English.</span></p><p class="c19 c15"><span class="c55 c0 c54">The limited permissions granted above are perpetual and will not be revoked by OASIS or its successors or assigns.</span></p><p class="c19 c15"><span class="c55 c0 c54">This document and the information contained herein is provided on an &quot;AS IS&quot; basis and OASIS DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. OASIS AND ITS MEMBERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THIS DOCUMENT OR ANY PART THEREOF.</span></p><p class="c19 c15"><span class="c55 c0 c54">As stated in the OASIS IPR Policy, the following three paragraphs in brackets apply to OASIS Standards Final Deliverable documents (Committee Specifications, OASIS Standards, or Approved Errata).</span></p><p class="c19 c15"><span class="c55 c0 c54">[OASIS requests that any OASIS Party or any other party that believes it has patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable, to notify OASIS TC Administrator and provide an indication of its willingness to grant patent licenses to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this deliverable.]</span></p><p class="c19 c15"><span class="c55 c0 c54">[OASIS invites any party to contact the OASIS TC Administrator if it is aware of a claim of ownership of any patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable by a patent holder that is not willing to provide a license to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this OASIS Standards Final Deliverable. OASIS may include such claims on its website, but disclaims any obligation to do so.]</span></p><p class="c19 c15"><span class="c55 c0 c54">[OASIS takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this OASIS Standards Final Deliverable or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on OASIS&#39; procedures with respect to rights in any document or deliverable produced by an OASIS Technical Committee can be found on the OASIS website. Copies of claims of rights made available for publication and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this OASIS Standards Final Deliverable, can be obtained from the OASIS TC Administrator. OASIS makes no representation that any information or list of intellectual property rights will at any time be complete, or that any claims in such list are, in fact, Essential Claims.]</span></p><p class="c19 c15"><span class="c0">The name &quot;OASIS&quot; is a trademark of </span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/&amp;sa=D&amp;source=editors&amp;ust=1724799529440012&amp;usg=AOvVaw2Bg-JIZx6Xc9BxlMatmz5h">OASIS</a></span><span class="c0">, the owner and developer of this document, and should be used only to refer to the organization and its official outputs. OASIS welcomes reference to, and implementation and use of, documents, while reserving the right to enforce its marks against misleading uses. See </span><span class="c124 c0"><a class="c48" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/trademark/&amp;sa=D&amp;source=editors&amp;ust=1724799529440243&amp;usg=AOvVaw0EEDDqU9xDqzujgfaTy_x4">https://www.oasis-open.org/policies-guidelines/trademark/</a></span><span class="c0">&nbsp;for above guidance.</span></p><div><p class="c324 c110"><span class="c118 c64 c41 c89">mqtt-sn-v2.0-wd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c89">Committee Specification </span><span class="c118 c64 c41 c89">Draft </span><span class="c89">01</span><span class="c118 c64 c41 c89">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c89">01</span><span class="c118 c64 c41 c89">&nbsp;</span><span class="c89">August</span><span class="c118 c64 c41 c89">&nbsp;202</span><span class="c41 c89">4</span></p><p class="c12 c110"><span class="c118 c64 c41 c89">Standards Track Draft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright &copy; OASIS Open 202</span><span class="c89">4</span><span class="c118 c64 c41 c89">. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page </span><span class="c118 c64 c41 c89">&nbsp;of </span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref1" id="cmnt1">[a]</a><span class="c8 c0">Paul or Stefan can fill it</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref2" id="cmnt2">[b]</a><span class="c8 c0">Links not yet working. They will be created once the files will be uploaded for final comments</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref3" id="cmnt3">[c]</a><span class="c8 c0">It has to be filled with the differences between 2.0 and 1.2</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref4" id="cmnt4">[d]</a><span class="c8 c0">The description of the datagram behavior should be in the operational behavior section.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref5" id="cmnt5">[e]</a><span class="c8 c0">remove as it&#39;s describing a QoS e.g., spec of the thing rather than a description of it</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref6" id="cmnt6">[f]</a><span class="c8 c0">Should we define also a MQTT Client? In alternative maybe it is better to remove this definition as part of the MQTT 5 specs referred in the Abstract.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref7" id="cmnt7">[g]</a><span class="c8 c0">Simon asked this question: Could we suggest that it MAPS? to a topic name? and should we call our the distinction in the session or predefined alias types?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref8" id="cmnt8">[h]</a><span class="c8 c0">I changed the text to match MQTT 5 - &quot;identify&quot;. Not sure what the second question is getting at.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref9" id="cmnt9">[i]</a><span class="c8 c0">It has to be fixed</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref10" id="cmnt10">[j]</a><span class="c8 c0">The character encoding of the document does not seem to support the CJK chars.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref11" id="cmnt11">[k]</a><span class="c8 c0">I think we can remove &quot;or broker&quot;. If a client has not a session with a MQTT-SN gateway, how can it have a session with a MQTT broker?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref12" id="cmnt12">[l]</a><span class="c8 c0">I think it was a cut&amp;paste error to be removed, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref13" id="cmnt13">[m]</a><span class="c8 c0">Suggest to sort by name if only a binary relation of name vs packet identifier field &quot;need&quot; is displayed.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref14" id="cmnt14">[n]</a><span class="c8 c0">Agreed</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref15" id="cmnt15">[o]</a><span class="c8 c0">Table 7 is missing</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref16" id="cmnt16">[p]</a><span class="c8 c0">Extend list to complete set.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref17" id="cmnt17">[q]</a><span class="c8 c0">PINGREQ and PINGRESP are missing</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref18" id="cmnt18">[r]</a><span class="c8 c0">What is a &quot;command&quot;?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref19" id="cmnt19">[s]</a><span class="c8 c0">For clarity, swap order of these two paragraphs.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref20" id="cmnt20">[t]</a><span class="c8 c0">Should this be testable as a conformance clause i.e., you must be able to do this...</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">In discussion in face-to-face, this seems wrong and Packed IDs should be unique so this CANNOT happen. This is part of the reasoning to remove the need for a correl-id</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref21" id="cmnt21">[u]</a><span class="c8 c0">It is duplicated in the CONNECT chapter. Can we remove it?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref22" id="cmnt22">[v]</a><span class="c8 c0">A Radius is defined in SEARCHGW and Forwarder encapsulation. Furthermore this definition of Radius=0x00 seems inconsistent with the one in SEARCHGW</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref23" id="cmnt23">[w]</a><span class="c8 c0">How the client can request a specific MQTT version?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref24" id="cmnt24">[x]</a><span class="c8 c0">The connect packet has a protocol version number field</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref25" id="cmnt25">[y]</a><span class="c8 c0">In the CONNECT packet the protocol version is for MQTT-SN. How the client can request a specific MQTT version?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref26" id="cmnt26">[z]</a><span class="c8 c0">MQTT-SN server is not available, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref27" id="cmnt27">[aa]</a><span class="c8 c0">I think this can apply to both MQTT and MQTT-SN</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref28" id="cmnt28">[ab]</a><span class="c8 c0">Is the proposed change ok for you?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref29" id="cmnt29">[ac]</a><span class="c8 c0">A DISCONNECT from the server will force the Client to close the new session created. Do I miss something?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref30" id="cmnt30">[ad]</a><span class="c8 c0">no session negotiation as per Long Topic Name?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref31" id="cmnt31">[ae]</a><span class="c8 c0">Topic Name and Topic Alias</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref32" id="cmnt32">[af]</a><span class="c8 c0">1-hop is referenced here, but not defined</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref33" id="cmnt33">[ag]</a><span class="c8 c0">It is inconsistent with the ADVERTISE packet. If it send from a Client, that get the GwId from ADVERTISE over 6 bytes (a MAC address) what is the content of the GwId field in the GWINFO packet?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref34" id="cmnt34">[ah]</a><span class="c8 c0">Byte 4 &quot;Protocol Version&quot; is only a close by anchor for my question: I am trying out packet/bytefield diagrams to provide clear and verifiable package descriptions and struggle with the rationale of the way we number bytes in the left column when it comes to optional bytes.</span></p><p class="c12"><span class="c8 c0">What if in this case there is a byte 3+1 shoulnd&#39;t that scenario force this marked line to be Byte 5?</span></p><p class="c12"><span class="c8 c0">We are not the first people describing a protocol with optional parts in the &quot;middle&quot; where the receiver uses prior field values to detect the meaning of the subsequent bytes and I wonder if there are more readable representations (if not separate diagrams depicting consistent scenarios)?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref35" id="cmnt35">[ai]</a><span class="c8 c0">The MQTT 5 spec as far as I can tell avoids this problem by separating the packets into pieces which are described if they are included.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref36" id="cmnt36">[aj]</a><span class="c8 c0">AUTH or CONNACK, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref37" id="cmnt37">[ak]</a><span class="c8 c0">I think we should refer to chapter 4.15, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref38" id="cmnt38">[al]</a><span class="c8 c0">We need to consider this again after we have fixed some terminology for a Conversation / Logical Connection. We should not destroy any session state in this case. We may not be able to determine whether any subsequent packets relate to this logical connection or a new one. We can mandate that the Gateway must&nbsp; receive a new CONNECT Packet before before it does any more forward processing. The Gateway can still send PINGRESP and DISCONNECT Packets as stated.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref39" id="cmnt39">[am]</a><span class="c8 c0">define &#39;LOST&#39; ? considering we have &#39;Session Expiry Interval&#39;</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref40" id="cmnt40">[an]</a><span class="c8 c0">The lost is defined in the state transition table and diagram. LOST represents status between the client and GW and maintains selective state about the SN side session.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref41" id="cmnt41">[ao]</a><span class="c8 c0">_Marked as resolved_</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref42" id="cmnt42">[ap]</a><span class="c8 c0">_Re-opened_</span></p><p class="c12"><span class="c8 c0">The state diagram seems to represent the gateways view of the connectivity to the client. This clause should not refer to the session as being&nbsp;lost. It could however still say that the client connectivity is LOST. The client could detect the LOST state itself and send a new CONNECT packet to continue the SESSION.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref43" id="cmnt43">[aq]</a><span class="c8 c0">Is it correct?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref44" id="cmnt44">[ar]</a><span class="c8 c0">Retained until when? in MQTT 5 there is a message expiry interval</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref45" id="cmnt45">[as]</a><span class="c8 c0">The situation is similar to MQTT 3.1.1. There it is left up to the server, leaving the option for the server to clean up if it is running out of space</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref46" id="cmnt46">[at]</a><span class="c8 c0">OK. I added a sentence for that. Is it ok for you?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref47" id="cmnt47">[au]</a><span class="c8 c0">Should the server send the Will Message if while attempting to resend a packet multiple times it reached the N_RETRY max?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref48" id="cmnt48">[av]</a><span class="c8 c0">and Will Retain is False, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref49" id="cmnt49">[aw]</a><span class="c8 c0">It depends on the &quot;Auth Data Length&quot; right? It is not Byte 11 in general.</span></p><p class="c12"><span class="c8 c0">We could indicate with a letter the final Byte of each section so the next one can be parametric.</span></p><p class="c12"><span class="c8 c0">For instance here Byte(10+5) could by X, Byte 10 could by Y. Byte11=Y+X</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref50" id="cmnt50">[ax]</a><span class="c8 c0">Is that lower case &#39;should&#39; or a SHOULD or a MUST?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref51" id="cmnt51">[ay]</a><span class="c8 c0">CONNECT or AUTH, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref52" id="cmnt52">[az]</a><span class="c8 c0">What are the &quot;Connect Reason Code&quot; values? Do we mean &quot;CONNACK&quot; related reason code in table 9?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref53" id="cmnt53">[ba]</a><span class="c8 c0">Why 128 and not something smaller?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref54" id="cmnt54">[bb]</a><span class="c8 c0">Because 128 or greater are defined as error codes - lower than that are defined as positive. This is the same as MQTT</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref55" id="cmnt55">[bc]</a><span class="c8 c0">245 as 255-10, do I miss something?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref56" id="cmnt56">[bd]</a><span class="c8 c0">Table 17 is missing</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref57" id="cmnt57">[be]</a><span class="c8 c0">in which use case an AUTH packet is send in reply to a CONNACK?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref58" id="cmnt58">[bf]</a><span class="c8 c0">What are the &quot;Authenticate Reason Code&quot; values? Do we mean &quot;AUTH&quot; related reason codes in table 9?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref59" id="cmnt59">[bg]</a><span class="c8 c0">Table 23 is missing</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref60" id="cmnt60">[bh]</a><span class="c8 c0">I think we should add an &quot;Client Identifier (optional)&quot;, filled optionally only when the packet is generated by a Client. Like we did for PINGREQ.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref61" id="cmnt61">[bi]</a><span class="c8 c0">What is the content if the REGACK is generated by the Client?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref62" id="cmnt62">[bj]</a><span class="c8 c0">What are the &quot;Authenticate Reason Code&quot; values? Do we mean &quot;REGACK&quot; related reason codes in table 9?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref63" id="cmnt63">[bk]</a><span class="c8 c0">The table number is missing</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref64" id="cmnt64">[bl]</a><span class="c8 c0">Table 26 and 27 are missing</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref65" id="cmnt65">[bm]</a><span class="c8 c0">What about the PUBLISH packets received by a Client?</span></p><p class="c12"><span class="c8 c0">Can we provide an example on how to associate a PUBLISH received by a GW with a session handled by the same GW?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref66" id="cmnt66">[bn]</a><span class="c8 c0">It should be Table 31</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref67" id="cmnt67">[bo]</a><span class="c8 c0">It should follow the table name convention</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref68" id="cmnt68">[bp]</a><span class="c8 c0">What is the &quot;subscription identifier&quot; in MQTT-SN?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref69" id="cmnt69">[bq]</a><span class="c8 c0">Maybe not clear, as we should never have more than one outstanding request - Davide</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref70" id="cmnt70">[br]</a><span class="c8 c0">What does it mean? Can it be explained in more clear way without the double negation?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref71" id="cmnt71">[bs]</a><span class="c8 c0">Do we mean the &quot;server&quot;? It seems not clear to me</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref72" id="cmnt72">[bt]</a><span class="c8 c0">Davide - if we haven&#39;t received a response can we send another request. Refer to the section on packet retries</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref73" id="cmnt73">[bu]</a><span class="c8 c0">OK for me to be treated in 4.4.1 but this section is not clear</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref74" id="cmnt74">[bv]</a><span class="c8 c0">As above this sections is not really clear</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref75" id="cmnt75">[bw]</a><span class="c8 c0">Can we specify the content of PacketIdentifier is the error is on QoS0?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref76" id="cmnt76">[bx]</a><span class="c8 c0">Where is it defined? Should we mention appendix B</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref77" id="cmnt77">[by]</a><span class="c8 c0">Table 32 is missing</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref78" id="cmnt78">[bz]</a><span class="c8 c0">I think we should add an &quot;Client Identifier (optional)&quot;, filled optionally only when the packet is generated by a Client. Like we did for PINGREQ.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref79" id="cmnt79">[ca]</a><span class="c8 c0">A ClientID identifies a Session or a Virtual Connection? A Session can span over multiple Virtual Connections but on chapter 4.1 (session state) it seems the session state is associated to the Client Identifier. Should we clearly explain that the ClientID must be the same across the multiple Virtual Connections of the same session?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref80" id="cmnt80">[cb]</a><span class="c8 c0">Which use case is covered by this?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref81" id="cmnt81">[cc]</a><span class="c8 c0">What is the TopicType if a Topic Filter is used?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref82" id="cmnt82">[cd]</a><span class="c8 c0">Should we mention that &quot;TopicType=&#39;b11&quot; is not allowed?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref83" id="cmnt83">[ce]</a><span class="c8 c0">Is this against the idea to have a single message on the flight per session?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref84" id="cmnt84">[cf]</a><span class="c8 c0">What does it mean?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref85" id="cmnt85">[cg]</a><span class="c8 c0">Which Topic Types are valid in this case?</span></p><p class="c12"><span class="c8 c0">What is the value in case a topic filter was used in the SUBSCRIBE?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref86" id="cmnt86">[ch]</a><span class="c8 c0">What does it mean?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref87" id="cmnt87">[ci]</a><span class="c8 c0">Does it mean those fields are optional or to be ignored? Can we clarify it?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref88" id="cmnt88">[cj]</a><span class="c8 c0">This is really unclear. Can we details what is the content of the SUBACK flags &quot;topic type&quot; and field &quot;topic data&quot; in case the SUBSCRIBE flags &quot;topic type&quot; was 0b00 or 0b01 or 0b11?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref89" id="cmnt89">[ck]</a><span class="c8 c0">Table 38 is missing</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref90" id="cmnt90">[cl]</a><span class="c8 c0">I think we should add an &quot;Client Identifier (optional)&quot;, filled optionally only when the packet is generated by a Client. Like we did for PINGREQ.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref91" id="cmnt91">[cm]</a><span class="c8 c0">What is the TopicType if a Topic Filter is used?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref92" id="cmnt92">[cn]</a><span class="c8 c0">Topic Data, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref93" id="cmnt93">[co]</a><span class="c8 c0">Topic Data, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref94" id="cmnt94">[cp]</a><span class="c8 c0">Topic Data, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref95" id="cmnt95">[cq]</a><span class="c8 c0">The &quot;Client Identifier&quot; here is really helping the server but for the very same reason we should have the &quot;Client identifier&quot; also in the SUBSCRIBE/UNSUBSCRIBE/REGISTER. Why do we need the &quot;Client Identifier&quot; only on the PINGREQ originated by the client?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref96" id="cmnt96">[cr]</a><span class="c8 c0">Table 41 and 42 are missing</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref97" id="cmnt97">[cs]</a><span class="c8 c0">to be replaced with &quot;when the PINGRESP is sent&quot;, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref98" id="cmnt98">[ct]</a><span class="c8 c0">Need to sort column spacing here</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref99" id="cmnt99">[cu]</a><span class="c8 c0">Relace with &quot;has closed&quot;</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref100" id="cmnt100">[cv]</a><span class="c8 c0">Currently DISCONNECT is not a retransmittable packet, so do we really need to acknowledge it.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref101" id="cmnt101">[cw]</a><span class="c8 c0">Furthermore, if it is an acknowledge we should use a PacketIdentifier, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref102" id="cmnt102">[cx]</a><span class="c8 c0">Possibly, but sometimes there may not be a relevant PacketIdentifier, after a timeout&nbsp;for example.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref103" id="cmnt103">[cy]</a><span class="c8 c0">If a Client cannot map a Packet other than GWINFO&nbsp; to a particular servert it MUST send DISCONNECT to the Network Address with return code xxx and close the Virtual Connection.</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">If a Server cannot map a Packet other than GWINFO to a particular client it MUST send DISCONNECT to the Network Address with return code xxx and close the Virtual Connection.</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">Need a return code fxxx or unknown Client or server.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref104" id="cmnt104">[cz]</a><span class="c8 c0">On receipt of DISCONNECT from the&nbsp; Server, the Client MUST NOT send any more Packets using the Virtual Connection.</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">The client&nbsp;can make a new Virtual Connection by sending a CONNECT Packet to the Server.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref105" id="cmnt105">[da]</a><span class="c8 c0">Can the client signal the difference between: I want to enter asleep state and you can delete my session state if i don&#39;t connect within&nbsp;the session expiry?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref106" id="cmnt106">[db]</a><span class="c8 c0">Maybe we should review and take note of all such normal english &quot;role/actor&quot; words and decide when we specialize them as &quot;Gateway&quot; (in this case versus &quot;gateway&quot;).</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref107" id="cmnt107">[dc]</a><span class="c8 c0">If the server has received the DISCONNECT with sessionexpiry packet from the client, it generates and send the DISCONNECT ack but this packet is lost. Now the client can&#39;t simply resend the DISCONNECT as the server has deleted the virtual connection so a new CONNECT+DISCONNECT with session expiry is required to indicate the client sleeping status?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref108" id="cmnt108">[dd]</a><span class="c8 c0">To be fixed</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref109" id="cmnt109">[de]</a><span class="c8 c0">Considering chapter 4.15 (client states), in which state the Client should be to be waked up? In the SLEEP state it is clearly stated that &quot;it cannot receive packets&quot;. Do we need to adapt chapter 4.15 for that, at least for the SLEEP state?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref110" id="cmnt110">[df]</a><span class="c8 c0">To be fixed</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref111" id="cmnt111">[dg]</a><span class="c8 c0">not necessarily wireless</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref112" id="cmnt112">[dh]</a><span class="c8 c0">This is not aligned with the image. Is the Radius a field different from CTRL?</span></p><p class="c12"><span class="c8 c0">What are the possible values for radius?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref113" id="cmnt113">[di]</a><span class="c8 c0">the Packet integrity&nbsp; is protected</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref114" id="cmnt114">[dj]</a><span class="c8 c0">It could be protected on both integrity (always) and confidentiality (optional)</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref115" id="cmnt115">[dk]</a><span class="c8 c0">The Sender Id maps to clientId but is not related to&nbsp; the Network Address of the sender?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref116" id="cmnt116">[dl]</a><span class="c8 c0">No, it is independent from the network address used</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref117" id="cmnt117">[dm]</a><span class="c8 c0">Break the conformance clauses out, and move&nbsp;the non-normative sections to the secutiry chapter (maybe)</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref118" id="cmnt118">[dn]</a><span class="c8 c0">Let us also ensure we use the title case with reason and benefit for the reader (maybe Client -&gt; client?).&nbsp;</span></p><p class="c12"><span class="c8 c0">Or, did we define an actor/role &quot;Client&quot; (as a short form for &quot;MQTT-SN Client&quot; so that we can later collect conformance clauses with such a role participating to enable compliance tests?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref119" id="cmnt119">[do]</a><span class="c8 c0">All references in these table notes should correspond to informal reference entries</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref120" id="cmnt120">[dp]</a><span class="c8 c0">Question: Scope of informative also includes these two behavior descriptions?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref121" id="cmnt121">[dq]</a><span class="c8 c0">Simon&#39;s original list also included :</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">- Registered topic alias dictionary (normal topic alias&rsquo;s)</span></p><p class="c12"><span class="c8 c0">- Network address of Gateway (in the case of clients).</span></p><p class="c12"><span class="c8 c0">- Network address of Client (in the case of gateways).</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">Network addresses can change between virtual connections, so I think these are a property of the Virtual Connection, not the session.</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">In MQTT 5, topic aliases last as long as the Network Connection only, so are not part of the session state.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref122" id="cmnt122">[dr]</a><span class="c8 c0">It should include also the topic alias defined by the server, right?</span></p><p class="c12"><span class="c8 c0">It should include also the next keep alive expiration time, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref123" id="cmnt123">[ds]</a><span class="c8 c0">It should include also the topic alias defined by the server, right?</span></p><p class="c12"><span class="c8 c0">It should include also the next keep alive expiration time, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref124" id="cmnt124">[dt]</a><span class="c8 c0">What is the &quot;subscription identifier&quot; in MQTT-SN?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref125" id="cmnt125">[du]</a><span class="c8 c0">Do we miss the registered topic alias?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref126" id="cmnt126">[dv]</a><span class="c8 c0">Yes</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref127" id="cmnt127">[dw]</a><span class="c8 c0">What if&nbsp;Session Expiry Interval is 0xFFFFFFFF (UINT_MAX)?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref128" id="cmnt128">[dx]</a><span class="c8 c0">Also the Protection Encapsulation packet can be duplicated and in this case the value of the Monotonic Counter will be the same on the two replica.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref129" id="cmnt129">[dy]</a><span class="c8 c0">From https://issues.oasis-open.org/browse/MQTT-604: MQTT reserved both the UDP and TCP ports but prohibits the use of UDP,</span></p><p class="c12"><span class="c8 c0">We should approach the MQTT TC to get this redesignated as MQTT/MQTT-SN.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref130" id="cmnt130">[dz]</a><span class="c8 c0">IANA 8883 and 1883 for both TCP and UDP are already registered to &ldquo;Secure MQTT&rdquo; and &ldquo;MQTT&rdquo; since 2015, so I suppose the UDP ports we can be reused for MQTT-SN</span></p><p class="c12"><span class="c8 c0">Furthermore in MQTT 5 specs on chapter 4.2: &ldquo;Connectionless network transports such as User Datagram Protocol (UDP) are not suitable on their own because they might lose or reorder data.&rdquo;. So there is no risk of impacting any MQTT service over UDP.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref131" id="cmnt131">[ea]</a><span class="c8 c0">Do we need to add also PUBLISH-1?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref132" id="cmnt132">[eb]</a><span class="c8 c0">Unclear definition. This is simply a QoS0 publish without the need of a session.</span></p><p class="c12"><span class="c8 c0">In which use case the PUBWOS is delivered more than once (excluding the cases already excluded in 4.2)?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref133" id="cmnt133">[ec]</a><span class="c8 c0">If we exclude the duplicate use case that we excluded in 4.2. How a PUBWOS can reach a recipient more than once?</span></p><p class="c12"><span class="c8 c0">I think we should replace &quot;any number of times, including not at all&quot; with &quot;either once or not at all&quot;</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref134" id="cmnt134">[ed]</a><span class="c8 c0">The DUP Flag is not present if QoS is 0. See chapter 3.1.11</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref135" id="cmnt135">[ee]</a><span class="c8 c0">Inconsistent with chapter 3.1.11</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref136" id="cmnt136">[ef]</a><span class="c8 c0">ASC says, add something like:</span></p><p class="c12"><span class="c8 c0">In practical implementations, it is likely that the multicast capability of an underlying network will be used for the transmission of PUBWOS messages. Due to the nature of such distribution patterns, it is possible for duplicates of the original message to be delivered to a server. MQTT-SN does not make any attempt to eliminate these duplicates, and so it is the responsibility of the receiving applications to detect and remove duplicates of received PUBWOS messages.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref137" id="cmnt137">[eg]</a><span class="c8 c0">On the basis of 4.2 we should exclude the possibility to use MQTT-SN on a network allowing duplicated packets</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref138" id="cmnt138">[eh]</a><span class="c8 c0">When should it be set to 1?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref139" id="cmnt139">[ei]</a><span class="c8 c0">Never. See the receiver&#39;s treatment of the DUP Flag. It&#39;s only relevant for QoS 2.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref140" id="cmnt140">[ej]</a><span class="c8 c0">ok so it is not necessary to say anything else about the DUP flag, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref141" id="cmnt141">[ek]</a><span class="c8 c0">MUST?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref142" id="cmnt142">[el]</a><span class="c8 c0">This is true for CONNECT, SUBSCRIBE, REGISTER, PUBREL, PINGREQ, UNSUBSCRIBE...</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref143" id="cmnt143">[em]</a><span class="c8 c0">We said above that for QoS1 the DUP is always =0</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref144" id="cmnt144">[en]</a><span class="c8 c0">What about the other messages like&nbsp; REGISTER, SUBSCRIBE, UNSUBSCRIBE?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref145" id="cmnt145">[eo]</a><span class="c8 c0">Not present for QoS 0 packets</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref146" id="cmnt146">[ep]</a><span class="c8 c0">Davide points out that this clause does not come from MQTT 5.0. It&#39;s probably correct for MQTT-SN, but we need to correct the previous conformance clauses which say the DUP flag is always set to 0.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref147" id="cmnt147">[eq]</a><span class="c8 c0">It must be moved in chapter 4.3.4 (QoS 2)</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref148" id="cmnt148">[er]</a><span class="c8 c0">What about the DISCONNECT packet for which a server ack is expected?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref149" id="cmnt149">[es]</a><span class="c8 c0">Do we miss the PINGREQ?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref150" id="cmnt150">[et]</a><span class="c8 c0">Do we miss REGISTER and PINGREQ (as on the basis of 4.22 it can be sent also by the Server)?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref151" id="cmnt151">[eu]</a><span class="c8 c0">The Virtual connection is initiated by the client so how the server can retransmit something in case the Virtual Connection is deleted?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref152" id="cmnt152">[ev]</a><span class="c8 c0">Why is this sentence necessary?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref153" id="cmnt153">[ew]</a><span class="c8 c0">&quot;also&quot;? Can we specify all the use cases for the PINGREQ in its chapter or here or both?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref154" id="cmnt154">[ex]</a><span class="c8 c0">or to verify is session is still alive as we are passing the client id?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref155" id="cmnt155">[ey]</a><span class="c8 c0">Should this be in a separated chapter like &quot;Topic Names&quot;?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref156" id="cmnt156">[ez]</a><span class="c8 c0">This section is reproduced from MQTT 5 - I saw no reason to change it.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref157" id="cmnt157">[fa]</a><span class="c8 c0">Can we reword? As &quot;but MUST NOT&quot; is very indirectly stating what can be actually done. Maybe split the sentence, as ti targets two disjoint entities:</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">The special wildcard characters are valid in Topic Filters.</span></p><p class="c12"><span class="c8 c0">The special wildcard characters are invalid in Topic Names.&nbsp;</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">No need to always SHOUT, every statement of fact in the normative track is to be fulfilled by compliant implementations.</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">But, if we absolutely want to inject some MUST:</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">The special wildcard characters are valid in Topic Filters.</span></p><p class="c12"><span class="c8 c0">Topic Names MUST contain only characters different from the special wildcard characters.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref158" id="cmnt158">[fb]</a><span class="c8 c0">We could reformulate - this is the same as MQTT 5.0 though.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref159" id="cmnt159">[fc]</a><span class="c8 c0">(as in these sections were taken directly from MQTT 5)</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref160" id="cmnt160">[fd]</a><span class="c8 c0">This should go in the chapter related to topic level separators (to be added)</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref161" id="cmnt161">[fe]</a><span class="c8 c0">Again, this is taken directly from MQTT 5 so I&#39;m careful about changing.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref162" id="cmnt162">[ff]</a><span class="c8 c0">Should we add here &quot;PINGREQ, PUBREC, AUTH&quot;?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref163" id="cmnt163">[fg]</a><span class="c8 c0">I can&#39;t see any reference to this topic in chapter 4.13 (example mqtt-sb architectures)</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref164" id="cmnt164">[fh]</a><span class="c8 c0">What does it mean? What are the other CONNECT fields relevant for the authentication?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref165" id="cmnt165">[fi]</a><span class="c8 c0">Should it be 4.12 (Handling errors)?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref166" id="cmnt166">[fj]</a><span class="c8 c0">This is not consistent with the flow control mechanism of chapter 4.9 (only one message at a time per direction)</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref167" id="cmnt167">[fk]</a><span class="c8 c0">Do we really need this list? Is it complete? For instance, why all &quot;not supported&quot; error codes or &quot;payload format invalid&quot; error code?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref168" id="cmnt168">[fl]</a><span class="c8 c0">Should we add here Publish Q0S-1?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref169" id="cmnt169">[fm]</a><span class="c8 c0">To minimize the attack surface for DoS attacks I would recommend to replace &quot;SHOULD&quot; with &quot;MAY&quot;</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref170" id="cmnt170">[fn]</a><span class="c8 c0">Broken reference</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref171" id="cmnt171">[fo]</a><span class="c8 c0">in security section which doesn&#39;t exist. Do we need a security chapter?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref172" id="cmnt172">[fp]</a><span class="c8 c0">I don&#39;t think that we need a security chapter at all. The protection packet is the only security option provided by the MQTT-SN v2 protocol. Any other security option is outside the scope of the MQTT-SN v2 specifications.</span></p><p class="c12"><span class="c8 c0">As mentioned in chapter 3.1.26 &quot;The authentication of the sender and the receiver, their authorizations and the provisioning of the shared keys used to protect integrity and optionally confidentiality of the protected packet content are out of scope.&quot;</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref173" id="cmnt173">[fq]</a><span class="c8 c0">Do we have a definition for &quot;SA&quot;?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref174" id="cmnt174">[fr]</a><span class="c8 c0">This is inconsistent with the terminology section where Server, Gateway and GW is the same entity</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref175" id="cmnt175">[fs]</a><span class="c8 c0">Do these yellow&nbsp;highlights indicate content/rules and form equally to need work? I guess so.</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">Depending on the underlying &quot;rules&quot; from enforcement per either hoping, convention, or enforcement I am sure we can write this statement shorter and to the point.</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">Eg. assuming the gateways may not sync their client lists between each other, enforcement seems to be out. But is it a MUST, SHOULD or even a painful The client MAY connect to multiple same network gateways at the same time ... and then what? When we know, we can phrase.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref176" id="cmnt176">[ft]</a><span class="c8 c0">The highlight indicates it should be considered a conformance clause</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref177" id="cmnt177">[fu]</a><span class="c8 c0">Lets discuss the wording</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref178" id="cmnt178">[fv]</a><span class="c8 c0">Either &quot;SHOULD&quot; (RFC special term) or reword</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref179" id="cmnt179">[fw]</a><span class="c8 c0">The dimension is a duration which might be better memorized by readers as dT than T (which could be a specific time).</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref180" id="cmnt180">[fx]</a><span class="c8 c0">I find this notation rather distracting. In mathematical displays I use subscripts mostly in complicated equation displays, but rarely with so long names (as further below T_SEARCHGW).</span></p><p class="c12"><span class="c8 c0">Proposal: Let us use a function notation like T(ADVERTISE) instead of T_ADV.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref181" id="cmnt181">[fy]</a><span class="c8 c0">What about writing the following instead:</span></p><p class="c12"><span class="c8 c0">[...] the delay of sending the SEARCHGW packet is randomly&nbsp;picked within the closed interval [0, dT(SEARCHGW)].</span></p><p class="c12"><span class="c8 c0">Question: who chooses the delay? ... and: clients receiving packets from other clients - doesn&#39;t that &quot;smear&quot; the client, server, broker roles concept without benefits?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref182" id="cmnt182">[fz]</a><span class="c8 c0">Is it helpful to introduce the radius term, when counting hops, which only network topologies decide upon the distance related to the number of hops? Is this radius an established term - esp. when we use it here to describe a discrete next neigbour distance.?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref183" id="cmnt183">[ga]</a><span class="c8 c0">There is not a Radius field in the GWINFO packet. Is the sentence correct?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref184" id="cmnt184">[gb]</a><span class="c8 c0">Add the link</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref185" id="cmnt185">[gc]</a><span class="c8 c0">From the point of view of the server, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref186" id="cmnt186">[gd]</a><span class="c8 c0">Add link</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref187" id="cmnt187">[ge]</a><span class="c8 c0">Can we maybe split the tabular presentation into&nbsp;</span></p><p class="c12"><span class="c8 c0">1) a table that maps state names to their (*) descriptions</span></p><p class="c12"><span class="c8 c0">2) a subsequent state diagram (Figure on next page already present)</span></p><p class="c12"><span class="c8 c0">?</span></p><p class="c12"><span class="c8 c0">*)&nbsp;long-winding / mini-page-like</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref188" id="cmnt188">[gf]</a><span class="c8 c0">Dont understand this comment. Lets discuss on call</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref189" id="cmnt189">[gg]</a><span class="c8 c0">During the &quot;asleep&quot; state as per chapter 3.1.23.4 (disconnect, session expiry interval) the keep alive timer is not used, so how is it possible that a client state is transitioned from ASLEEP to LOST with a TIMEOUT?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref190" id="cmnt190">[gh]</a><span class="c8 c0">From a gateway perspective the LOST status should not be distinguished from the DISCONNECTED state. I propose to remove the LOST Client state.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref191" id="cmnt191">[gi]</a><span class="c8 c0">LOST state is not required to make the protocol work because it is functionally the same as DISCONNECTED state. However, LOST state is useful because it indicates to an administrator that the server has become disconnected from the client because a timer has expired rather than from the receipt of a DISCONNECT Packet. We cant write a conformance clause to test LOST state because it is not distinguishable from DISCONNECTED unless we make the administrative interfaces part of the protocol. We can however indicate the benefits of including it.</span></p><p class="c12 c86"><span class="c8 c0"></span></p><p class="c12"><span class="c8 c0">The client can also have a LOST state if it fails to receive packets from the Server within a timeout. The client might indicate that it has lost contact with the Server by switching on an LED or it might restart the Virtual Connection by sending a new CONNECT packet. I think it would be good to introduce LOST state in the Client and make the state diagrams symmetrical.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref192" id="cmnt192">[gj]</a><span class="c8 c0">During the &quot;asleep&quot; state as per chapter 3.1.23.4 (disconnect, session expiry interval) the keep alive timer is not used.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref193" id="cmnt193">[gk]</a><span class="c8 c0">What does it mean?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref194" id="cmnt194">[gl]</a><span class="c8 c0">A gateway update should not impact the devices in fields for years</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref195" id="cmnt195">[gm]</a><span class="c8 c0">TODO define the reason for this</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref196" id="cmnt196">[gn]</a><span class="c8 c0">What is the &quot;Reason code&quot; in this case?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref197" id="cmnt197">[go]</a><span class="c8 c0">This sentence is not clear or wrong. A REGACK can&#39;t be sent in reply to a PUBLISH.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref198" id="cmnt198">[gp]</a><span class="c8 c0">In chapter 2.3.3 this reason code is not listed</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref199" id="cmnt199">[gq]</a><span class="c8 c0">&quot;filter&quot;, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref200" id="cmnt200">[gr]</a><span class="c8 c0">Should we have something similar also for the CONNECT?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref201" id="cmnt201">[gs]</a><span class="c8 c0">It can contain also a full topic name or a predefined topic alias or a short topic alias, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref202" id="cmnt202">[gt]</a><span class="c8 c0">Is it really required? Look for comments in 3.1.23 as DISCONNECT doesn&#39;t have a packet identifier</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref203" id="cmnt203">[gu]</a><span class="c8 c0">Is it really required? See comments on chapter 3.1.23</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref204" id="cmnt204">[gv]</a><span class="c8 c0">This is not one of the conditions indicated in 3.1.4.9 to trigger the WIll message sending</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref205" id="cmnt205">[gw]</a><span class="c8 c0">It is unclear to me. Which timer is used to detect this timeout?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref206" id="cmnt206">[gx]</a><span class="c8 c0">So basically from the Server standpoint the LOST and DISCONNECTED Client states are identical</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref207" id="cmnt207">[gy]</a><span class="c8 c0">broken link</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref208" id="cmnt208">[gz]</a><span class="c8 c0">broken link</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref209" id="cmnt209">[ha]</a><span class="c8 c0">It should reset Tretry when it sends something, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref210" id="cmnt210">[hb]</a><span class="c8 c0">or any ack, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref211" id="cmnt211">[hc]</a><span class="c8 c0">except when the session expiry is set to infinite 0XFFFFFFF</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref212" id="cmnt212">[hd]</a><span class="c8 c0">This sentence seems incorrect. The session topic alias are part of the Session state.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref213" id="cmnt213">[he]</a><span class="c8 c0">This is unclear to me. The topic alias mapping should be kept for the clients in Active, Asleep and Awake states, right?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref214" id="cmnt214">[hf]</a><span class="c8 c0">The client should indicate if during sleep is going to keep the mapping of topic alias</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref215" id="cmnt215">[hg]</a><span class="c8 c0">See Retain Registrations flag in the DISCONNECT packet</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref216" id="cmnt216">[hh]</a><span class="c8 c0">ACK</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref217" id="cmnt217">[hi]</a><span class="c8 c0">In Asleep and awake the session is always the same so there is no need to re-register</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref218" id="cmnt218">[hj]</a><span class="c8 c0">What does it mean?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref219" id="cmnt219">[hk]</a><span class="c8 c0">Would it make sense to provide separate sequence diagrams per QOS side by side?</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref220" id="cmnt220">[hl]</a><span class="c8 c0">I don&#39;t think that we need a security chapter at all. The protection packet is the only security option provided by the MQTT-SN v2 protocol. Any other security option is outside the scope of the MQTT-SN v2 specifications.</span></p><p class="c12"><span class="c8 c0">As mentioned in chapter 3.1.26 &quot;The authentication of the sender and the receiver, their authorizations and the provisioning of the shared keys used to protect integrity and optionally confidentiality of the protected packet content are out of scope.&quot;</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref221" id="cmnt221">[hm]</a><span class="c8 c0">Please let us not insert any appendix before D (those are fixed OASIS appendices to aid readers where to find that fluff stuff).&nbsp;</span></p><p class="c12"><span class="c8 c0">In my markdown trial at https://github.com/oasis-tcs/mqtt/pull/5 I moved this appendix to E and implementation notes stay at F.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref222" id="cmnt222">[hn]</a><span class="c8 c0">Please let us not insert any appendix before D (those are fixed OASIS appendices to aid readers where to find that fluff stuff).&nbsp;</span></p><p class="c12"><span class="c8 c0">In my markdown trial at https://github.com/oasis-tcs/mqtt/pull/5 I moved this appendix to E and implementation notes stay at F.</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref223" id="cmnt223">[ho]</a><span class="c8 c0">It should be be consistent with the Connect &quot;Keep Alive Timer&quot; chapter where we have &ldquo;If the Gateway does not receive an MQTT-SN Control Packet from the Client within one and a half times the Keep Alive time period, it MUST close the Network Connection and consider the Connection &lsquo;LOST&rsquo;.&rdquo;</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref224" id="cmnt224">[hp]</a><span class="c8 c0">I think it should be integrated with chapter 4.18 (topic mapping and aliasing)</span></p></div><div class="c5"><p class="c12"><a href="#cmnt_ref225" id="cmnt225">[hq]</a><span class="c8 c0">What happens after the N_RETRY has been reached?&nbsp;</span></p><p class="c12"><span class="c8 c0">Should the client attempt a new CONNECT, so a new Virtual Connection?</span></p><p class="c12"><span class="c8 c0">Should the server consider the Client in DISCONNECTED state and send the will message if any?</span></p></div></body></html>