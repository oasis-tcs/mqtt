<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=cXxCiXacHPaqkz2Db3A6gDkoSpMNqERXUQJVKxk4yX3-SYK_Ln3uQOimoUBe-l5o);.lst-kix_list_14-1>li:before{content:"\0025cb   "}.lst-kix_list_14-3>li:before{content:"\0025cf   "}.lst-kix_list_2-1>li{counter-increment:lst-ctn-kix_list_2-1}ul.lst-kix_list_28-0{list-style-type:none}ul.lst-kix_list_28-1{list-style-type:none}.lst-kix_list_14-0>li:before{content:"  "}.lst-kix_list_14-4>li:before{content:"\0025cb   "}ol.lst-kix_list_18-5.start{counter-reset:lst-ctn-kix_list_18-5 0}.lst-kix_list_14-5>li:before{content:"\0025a0   "}.lst-kix_list_14-7>li:before{content:"\0025cb   "}.lst-kix_list_14-6>li:before{content:"\0025cf   "}ul.lst-kix_list_9-3{list-style-type:none}ul.lst-kix_list_9-4{list-style-type:none}ul.lst-kix_list_9-1{list-style-type:none}ul.lst-kix_list_9-2{list-style-type:none}ul.lst-kix_list_9-7{list-style-type:none}ul.lst-kix_list_9-8{list-style-type:none}.lst-kix_list_17-0>li{counter-increment:lst-ctn-kix_list_17-0}ul.lst-kix_list_9-5{list-style-type:none}ul.lst-kix_list_9-6{list-style-type:none}ol.lst-kix_list_2-3.start{counter-reset:lst-ctn-kix_list_2-3 0}ul.lst-kix_list_28-2{list-style-type:none}ul.lst-kix_list_28-3{list-style-type:none}ul.lst-kix_list_28-4{list-style-type:none}ul.lst-kix_list_28-5{list-style-type:none}ul.lst-kix_list_28-6{list-style-type:none}ul.lst-kix_list_9-0{list-style-type:none}ul.lst-kix_list_28-7{list-style-type:none}ul.lst-kix_list_28-8{list-style-type:none}.lst-kix_list_14-2>li:before{content:"\0025a0   "}ol.lst-kix_list_26-7{list-style-type:none}ol.lst-kix_list_26-6{list-style-type:none}ol.lst-kix_list_26-8{list-style-type:none}ol.lst-kix_list_26-3{list-style-type:none}ol.lst-kix_list_26-2{list-style-type:none}ol.lst-kix_list_26-5{list-style-type:none}ol.lst-kix_list_26-4{list-style-type:none}ol.lst-kix_list_26-1{list-style-type:none}ol.lst-kix_list_26-0{list-style-type:none}ol.lst-kix_list_17-1.start{counter-reset:lst-ctn-kix_list_17-1 0}.lst-kix_list_14-8>li:before{content:"\0025a0   "}.lst-kix_list_18-8>li{counter-increment:lst-ctn-kix_list_18-8}ol.lst-kix_list_26-7.start{counter-reset:lst-ctn-kix_list_26-7 0}.lst-kix_list_5-0>li:before{content:"\002022   "}.lst-kix_list_24-7>li:before{content:"o  "}ol.lst-kix_list_16-5{list-style-type:none}ul.lst-kix_list_27-0{list-style-type:none}ol.lst-kix_list_16-6{list-style-type:none}ul.lst-kix_list_27-1{list-style-type:none}.lst-kix_list_24-8>li:before{content:"\0025aa   "}ol.lst-kix_list_16-7{list-style-type:none}ul.lst-kix_list_27-2{list-style-type:none}ol.lst-kix_list_16-8{list-style-type:none}.lst-kix_list_5-3>li:before{content:"\002022   "}ol.lst-kix_list_16-1{list-style-type:none}ol.lst-kix_list_16-2{list-style-type:none}.lst-kix_list_5-2>li:before{content:"\0025aa   "}ol.lst-kix_list_16-3{list-style-type:none}ol.lst-kix_list_16-4{list-style-type:none}.lst-kix_list_5-1>li:before{content:"o  "}ol.lst-kix_list_18-0.start{counter-reset:lst-ctn-kix_list_18-0 0}.lst-kix_list_24-2>li:before{content:"\0025aa   "}ol.lst-kix_list_16-0{list-style-type:none}.lst-kix_list_5-7>li:before{content:"o  "}ul.lst-kix_list_8-4{list-style-type:none}ul.lst-kix_list_8-5{list-style-type:none}.lst-kix_list_5-6>li:before{content:"\002022   "}.lst-kix_list_5-8>li:before{content:"\0025aa   "}ul.lst-kix_list_8-2{list-style-type:none}ul.lst-kix_list_8-3{list-style-type:none}ul.lst-kix_list_8-8{list-style-type:none}.lst-kix_list_24-3>li:before{content:"\0025cf   "}ul.lst-kix_list_8-6{list-style-type:none}.lst-kix_list_24-4>li:before{content:"o  "}ul.lst-kix_list_8-7{list-style-type:none}ul.lst-kix_list_27-3{list-style-type:none}.lst-kix_list_24-5>li:before{content:"\0025aa   "}ul.lst-kix_list_27-4{list-style-type:none}.lst-kix_list_5-4>li:before{content:"o  "}ul.lst-kix_list_27-5{list-style-type:none}ul.lst-kix_list_27-6{list-style-type:none}.lst-kix_list_5-5>li:before{content:"\0025aa   "}ul.lst-kix_list_8-0{list-style-type:none}ul.lst-kix_list_27-7{list-style-type:none}ul.lst-kix_list_8-1{list-style-type:none}ul.lst-kix_list_27-8{list-style-type:none}.lst-kix_list_24-6>li:before{content:"\0025cf   "}ol.lst-kix_list_16-4.start{counter-reset:lst-ctn-kix_list_16-4 0}.lst-kix_list_23-6>li:before{content:"\0025cf   "}.lst-kix_list_6-1>li:before{content:"\0025cb   "}.lst-kix_list_6-3>li:before{content:"\0025cf   "}.lst-kix_list_23-3>li:before{content:"\0025a0   "}.lst-kix_list_23-7>li:before{content:"\0025cb   "}.lst-kix_list_6-0>li:before{content:"\0025cf   "}.lst-kix_list_6-4>li:before{content:"\0025cb   "}.lst-kix_list_23-2>li:before{content:"\0025a0   "}.lst-kix_list_23-0>li:before{content:"\0025cf   "}.lst-kix_list_23-8>li:before{content:"\0025a0   "}.lst-kix_list_23-1>li:before{content:"\0025cb   "}.lst-kix_list_6-2>li:before{content:"\0025a0   "}.lst-kix_list_24-1>li:before{content:"o  "}.lst-kix_list_2-5>li{counter-increment:lst-ctn-kix_list_2-5}.lst-kix_list_2-8>li{counter-increment:lst-ctn-kix_list_2-8}.lst-kix_list_24-0>li:before{content:"\0025cf   "}.lst-kix_list_6-8>li:before{content:"\0025a0   "}ol.lst-kix_list_26-2.start{counter-reset:lst-ctn-kix_list_26-2 0}.lst-kix_list_6-5>li:before{content:"\0025a0   "}.lst-kix_list_6-7>li:before{content:"\0025cb   "}.lst-kix_list_23-4>li:before{content:"\0025a0   "}.lst-kix_list_23-5>li:before{content:"\0025a0   "}.lst-kix_list_6-6>li:before{content:"\0025cf   "}ol.lst-kix_list_17-8{list-style-type:none}.lst-kix_list_7-4>li:before{content:"o  "}.lst-kix_list_7-6>li:before{content:"\002022   "}ol.lst-kix_list_17-4{list-style-type:none}.lst-kix_list_18-5>li{counter-increment:lst-ctn-kix_list_18-5}ol.lst-kix_list_17-5{list-style-type:none}ol.lst-kix_list_17-6{list-style-type:none}.lst-kix_list_22-2>li:before{content:"\0025aa   "}.lst-kix_list_22-6>li:before{content:"\0025cf   "}ol.lst-kix_list_17-7{list-style-type:none}ol.lst-kix_list_17-0{list-style-type:none}ol.lst-kix_list_17-1{list-style-type:none}ol.lst-kix_list_17-2{list-style-type:none}.lst-kix_list_7-2>li:before{content:"\0025aa   "}ol.lst-kix_list_17-3{list-style-type:none}.lst-kix_list_22-0>li:before{content:"\0025cf   "}.lst-kix_list_22-8>li:before{content:"\0025aa   "}.lst-kix_list_31-0>li:before{content:"\0025cf   "}.lst-kix_list_13-7>li:before{content:"o  "}.lst-kix_list_7-8>li:before{content:"\0025aa   "}.lst-kix_list_22-4>li:before{content:"o  "}ol.lst-kix_list_2-5.start{counter-reset:lst-ctn-kix_list_2-5 0}.lst-kix_list_15-5>li:before{content:"\0025a0   "}.lst-kix_list_31-6>li:before{content:"\0025cf   "}.lst-kix_list_31-8>li:before{content:"\0025a0   "}ol.lst-kix_list_26-0.start{counter-reset:lst-ctn-kix_list_26-0 0}.lst-kix_list_4-1>li:before{content:"o  "}.lst-kix_list_31-2>li:before{content:"\0025a0   "}.lst-kix_list_31-4>li:before{content:"\0025cb   "}.lst-kix_list_15-7>li:before{content:"\0025cb   "}.lst-kix_list_17-7>li{counter-increment:lst-ctn-kix_list_17-7}ul.lst-kix_list_19-7{list-style-type:none}ul.lst-kix_list_19-6{list-style-type:none}.lst-kix_list_4-3>li:before{content:"\0025cf   "}.lst-kix_list_4-5>li:before{content:"\0025aa   "}ul.lst-kix_list_19-5{list-style-type:none}ul.lst-kix_list_19-4{list-style-type:none}ul.lst-kix_list_19-3{list-style-type:none}.lst-kix_list_25-5>li:before{content:"\0025a0   "}ul.lst-kix_list_19-2{list-style-type:none}ul.lst-kix_list_19-1{list-style-type:none}ul.lst-kix_list_19-0{list-style-type:none}.lst-kix_list_15-1>li:before{content:"\0025cb   "}.lst-kix_list_25-7>li:before{content:"\0025cb   "}ol.lst-kix_list_18-3.start{counter-reset:lst-ctn-kix_list_18-3 0}.lst-kix_list_15-3>li:before{content:"\0025cf   "}ul.lst-kix_list_19-8{list-style-type:none}ol.lst-kix_list_18-7{list-style-type:none}ol.lst-kix_list_18-8{list-style-type:none}.lst-kix_list_16-2>li{counter-increment:lst-ctn-kix_list_16-2}ol.lst-kix_list_18-3{list-style-type:none}ol.lst-kix_list_18-4{list-style-type:none}ol.lst-kix_list_18-5{list-style-type:none}ul.lst-kix_list_29-0{list-style-type:none}ol.lst-kix_list_18-6{list-style-type:none}ol.lst-kix_list_16-7.start{counter-reset:lst-ctn-kix_list_16-7 0}ol.lst-kix_list_18-0{list-style-type:none}ol.lst-kix_list_18-1{list-style-type:none}ol.lst-kix_list_18-2{list-style-type:none}.lst-kix_list_26-5>li{counter-increment:lst-ctn-kix_list_26-5}ol.lst-kix_list_2-8.start{counter-reset:lst-ctn-kix_list_2-8 0}.lst-kix_list_12-3>li:before{content:"\002022   "}ul.lst-kix_list_29-1{list-style-type:none}.lst-kix_list_12-1>li:before{content:"o  "}ul.lst-kix_list_29-2{list-style-type:none}ul.lst-kix_list_29-3{list-style-type:none}ul.lst-kix_list_29-4{list-style-type:none}ul.lst-kix_list_29-5{list-style-type:none}.lst-kix_list_16-3>li{counter-increment:lst-ctn-kix_list_16-3}ul.lst-kix_list_29-6{list-style-type:none}ul.lst-kix_list_29-7{list-style-type:none}ul.lst-kix_list_29-8{list-style-type:none}.lst-kix_list_13-3>li:before{content:"\0025cf   "}li.li-bullet-4:before{margin-left:-14.1pt;white-space:nowrap;display:inline-block;min-width:14.1pt}.lst-kix_list_13-5>li:before{content:"\0025aa   "}.lst-kix_list_12-5>li:before{content:"\0025aa   "}.lst-kix_list_18-4>li{counter-increment:lst-ctn-kix_list_18-4}.lst-kix_list_12-7>li:before{content:"o  "}.lst-kix_list_13-1>li:before{content:"o  "}ul.lst-kix_list_24-0{list-style-type:none}.lst-kix_list_30-5>li:before{content:"\0025aa   "}ul.lst-kix_list_24-1{list-style-type:none}ul.lst-kix_list_24-2{list-style-type:none}ul.lst-kix_list_24-3{list-style-type:none}ul.lst-kix_list_24-4{list-style-type:none}ul.lst-kix_list_24-5{list-style-type:none}.lst-kix_list_30-1>li:before{content:"o  "}ol.lst-kix_list_2-6.start{counter-reset:lst-ctn-kix_list_2-6 0}.lst-kix_list_3-0>li:before{content:"\0025cf   "}.lst-kix_list_30-2>li:before{content:"\0025aa   "}ul.lst-kix_list_5-7{list-style-type:none}ul.lst-kix_list_5-8{list-style-type:none}ul.lst-kix_list_5-5{list-style-type:none}ul.lst-kix_list_5-6{list-style-type:none}.lst-kix_list_21-8>li:before{content:"\0025aa   "}.lst-kix_list_26-5>li:before{content:"" counter(lst-ctn-kix_list_26-5,lower-roman) ". "}.lst-kix_list_16-0>li{counter-increment:lst-ctn-kix_list_16-0}ul.lst-kix_list_24-6{list-style-type:none}ul.lst-kix_list_5-0{list-style-type:none}ul.lst-kix_list_24-7{list-style-type:none}.lst-kix_list_3-4>li:before{content:"\0025cb   "}ul.lst-kix_list_24-8{list-style-type:none}ol.lst-kix_list_18-2.start{counter-reset:lst-ctn-kix_list_18-2 0}ul.lst-kix_list_5-3{list-style-type:none}.lst-kix_list_3-3>li:before{content:"\0025cf   "}ul.lst-kix_list_5-4{list-style-type:none}.lst-kix_list_26-8>li:before{content:"" counter(lst-ctn-kix_list_26-8,lower-roman) ". "}ul.lst-kix_list_5-1{list-style-type:none}.lst-kix_list_8-0>li:before{content:"\0025cf   "}.lst-kix_list_30-6>li:before{content:"\0025cf   "}ul.lst-kix_list_5-2{list-style-type:none}.lst-kix_list_8-7>li:before{content:"o  "}.lst-kix_list_3-8>li:before{content:"\0025a0   "}.lst-kix_list_21-0>li:before{content:"\0025cf   "}.lst-kix_list_26-1>li:before{content:"" counter(lst-ctn-kix_list_26-1,lower-latin) ". "}.lst-kix_list_21-1>li:before{content:"o  "}.lst-kix_list_8-3>li:before{content:"\0025cf   "}ul.lst-kix_list_13-5{list-style-type:none}ul.lst-kix_list_13-4{list-style-type:none}ul.lst-kix_list_13-3{list-style-type:none}ul.lst-kix_list_13-2{list-style-type:none}.lst-kix_list_3-7>li:before{content:"\0025cb   "}ul.lst-kix_list_13-1{list-style-type:none}.lst-kix_list_26-4>li:before{content:"" counter(lst-ctn-kix_list_26-4,lower-latin) ". "}ul.lst-kix_list_13-0{list-style-type:none}.lst-kix_list_8-4>li:before{content:"o  "}ol.lst-kix_list_26-4.start{counter-reset:lst-ctn-kix_list_26-4 0}ul.lst-kix_list_13-8{list-style-type:none}.lst-kix_list_17-1>li{counter-increment:lst-ctn-kix_list_17-1}.lst-kix_list_11-1>li:before{content:"o  "}ul.lst-kix_list_13-7{list-style-type:none}ul.lst-kix_list_13-6{list-style-type:none}.lst-kix_list_21-5>li:before{content:"\0025aa   "}.lst-kix_list_21-4>li:before{content:"o  "}.lst-kix_list_11-0>li:before{content:"\0025cf   "}.lst-kix_list_26-0>li:before{content:"" counter(lst-ctn-kix_list_26-0,decimal) ". "}.lst-kix_list_8-8>li:before{content:"\0025aa   "}ol.lst-kix_list_2-2{list-style-type:none}.lst-kix_list_16-8>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) "." counter(lst-ctn-kix_list_16-6,decimal) "." counter(lst-ctn-kix_list_16-7,decimal) "." counter(lst-ctn-kix_list_16-8,decimal) " "}ol.lst-kix_list_2-3{list-style-type:none}ul.lst-kix_list_23-0{list-style-type:none}ol.lst-kix_list_2-4{list-style-type:none}ul.lst-kix_list_23-1{list-style-type:none}.lst-kix_list_16-7>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) "." counter(lst-ctn-kix_list_16-6,decimal) "." counter(lst-ctn-kix_list_16-7,decimal) " "}ol.lst-kix_list_2-5{list-style-type:none}ul.lst-kix_list_23-2{list-style-type:none}ul.lst-kix_list_23-3{list-style-type:none}.lst-kix_list_17-8>li{counter-increment:lst-ctn-kix_list_17-8}ul.lst-kix_list_23-4{list-style-type:none}ol.lst-kix_list_2-0{list-style-type:none}ul.lst-kix_list_23-5{list-style-type:none}ol.lst-kix_list_2-1{list-style-type:none}ul.lst-kix_list_23-6{list-style-type:none}.lst-kix_list_4-8>li:before{content:"\0025aa   "}.lst-kix_list_4-7>li:before{content:"o  "}.lst-kix_list_17-0>li:before{content:"" counter(lst-ctn-kix_list_17-0,decimal) ". "}li.li-bullet-7:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}ul.lst-kix_list_4-8{list-style-type:none}.lst-kix_list_16-0>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) " "}ol.lst-kix_list_26-3.start{counter-reset:lst-ctn-kix_list_26-3 0}ul.lst-kix_list_4-6{list-style-type:none}ul.lst-kix_list_4-7{list-style-type:none}.lst-kix_list_25-1>li:before{content:"\0025cb   "}ul.lst-kix_list_4-0{list-style-type:none}ul.lst-kix_list_23-7{list-style-type:none}.lst-kix_list_25-0>li:before{content:"\0025cf   "}.lst-kix_list_16-4>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) " "}ul.lst-kix_list_4-1{list-style-type:none}ul.lst-kix_list_23-8{list-style-type:none}.lst-kix_list_16-3>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) " "}ul.lst-kix_list_4-4{list-style-type:none}ol.lst-kix_list_2-6{list-style-type:none}ul.lst-kix_list_4-5{list-style-type:none}ol.lst-kix_list_2-7{list-style-type:none}ul.lst-kix_list_4-2{list-style-type:none}ol.lst-kix_list_2-8{list-style-type:none}ul.lst-kix_list_4-3{list-style-type:none}ol.lst-kix_list_18-1.start{counter-reset:lst-ctn-kix_list_18-1 0}ul.lst-kix_list_12-6{list-style-type:none}ul.lst-kix_list_12-5{list-style-type:none}.lst-kix_list_17-7>li:before{content:"" counter(lst-ctn-kix_list_17-7,lower-latin) ". "}ul.lst-kix_list_12-4{list-style-type:none}ul.lst-kix_list_12-3{list-style-type:none}ul.lst-kix_list_12-2{list-style-type:none}.lst-kix_list_16-7>li{counter-increment:lst-ctn-kix_list_16-7}ul.lst-kix_list_12-1{list-style-type:none}.lst-kix_list_17-8>li:before{content:"" counter(lst-ctn-kix_list_17-8,lower-roman) ". "}ul.lst-kix_list_12-0{list-style-type:none}.lst-kix_list_17-3>li:before{content:"" counter(lst-ctn-kix_list_17-3,decimal) ". "}.lst-kix_list_17-4>li:before{content:"" counter(lst-ctn-kix_list_17-4,lower-latin) ". "}ul.lst-kix_list_12-8{list-style-type:none}ul.lst-kix_list_12-7{list-style-type:none}.lst-kix_list_7-0>li:before{content:"\002022   "}.lst-kix_list_2-2>li{counter-increment:lst-ctn-kix_list_2-2}.lst-kix_list_16-5>li{counter-increment:lst-ctn-kix_list_16-5}.lst-kix_list_26-2>li{counter-increment:lst-ctn-kix_list_26-2}.lst-kix_list_22-5>li:before{content:"\0025aa   "}.lst-kix_list_2-4>li:before{content:"" counter(lst-ctn-kix_list_2-4,lower-latin) ". "}.lst-kix_list_2-8>li:before{content:"" counter(lst-ctn-kix_list_2-8,lower-roman) ". "}.lst-kix_list_22-1>li:before{content:"o  "}.lst-kix_list_27-4>li:before{content:"\0025a0   "}.lst-kix_list_7-3>li:before{content:"\002022   "}ul.lst-kix_list_7-5{list-style-type:none}ul.lst-kix_list_7-6{list-style-type:none}.lst-kix_list_10-0>li:before{content:"\0025cf   "}ul.lst-kix_list_7-3{list-style-type:none}ul.lst-kix_list_7-4{list-style-type:none}.lst-kix_list_13-8>li:before{content:"\0025aa   "}.lst-kix_list_31-1>li:before{content:"\0025cb   "}.lst-kix_list_18-3>li:before{content:"" counter(lst-ctn-kix_list_18-3,decimal) ". "}.lst-kix_list_18-7>li:before{content:"" counter(lst-ctn-kix_list_18-7,decimal) ". "}ul.lst-kix_list_7-7{list-style-type:none}ul.lst-kix_list_7-8{list-style-type:none}ol.lst-kix_list_26-8.start{counter-reset:lst-ctn-kix_list_26-8 0}.lst-kix_list_18-6>li{counter-increment:lst-ctn-kix_list_18-6}ul.lst-kix_list_7-1{list-style-type:none}ul.lst-kix_list_7-2{list-style-type:none}.lst-kix_list_27-0>li:before{content:"\0025cf   "}ul.lst-kix_list_7-0{list-style-type:none}.lst-kix_list_7-7>li:before{content:"o  "}.lst-kix_list_15-4>li:before{content:"\0025cb   "}.lst-kix_list_31-5>li:before{content:"\0025a0   "}.lst-kix_list_10-4>li:before{content:"\0025cb   "}.lst-kix_list_10-8>li:before{content:"\0025a0   "}.lst-kix_list_4-0>li:before{content:"\0025cf   "}ul.lst-kix_list_15-3{list-style-type:none}ul.lst-kix_list_15-2{list-style-type:none}.lst-kix_list_15-0>li:before{content:"\0025cf   "}ul.lst-kix_list_15-1{list-style-type:none}.lst-kix_list_15-8>li:before{content:"\0025a0   "}ul.lst-kix_list_15-0{list-style-type:none}li.li-bullet-3:before{margin-left:-2.2pt;white-space:nowrap;display:inline-block;min-width:2.2pt}.lst-kix_list_4-4>li:before{content:"o  "}ol.lst-kix_list_2-2.start{counter-reset:lst-ctn-kix_list_2-2 0}.lst-kix_list_25-4>li:before{content:"\0025cb   "}ul.lst-kix_list_15-8{list-style-type:none}ul.lst-kix_list_15-7{list-style-type:none}ul.lst-kix_list_15-6{list-style-type:none}.lst-kix_list_9-3>li:before{content:"\0025cf   "}ul.lst-kix_list_15-5{list-style-type:none}ul.lst-kix_list_15-4{list-style-type:none}.lst-kix_list_25-8>li:before{content:"\0025a0   "}ul.lst-kix_list_25-0{list-style-type:none}ul.lst-kix_list_25-1{list-style-type:none}ul.lst-kix_list_25-2{list-style-type:none}.lst-kix_list_9-7>li:before{content:"\0025cb   "}.lst-kix_list_2-4>li{counter-increment:lst-ctn-kix_list_2-4}ol.lst-kix_list_26-6.start{counter-reset:lst-ctn-kix_list_26-6 0}.lst-kix_list_29-4>li:before{content:"o  "}.lst-kix_list_29-8>li:before{content:"\0025aa   "}ul.lst-kix_list_25-3{list-style-type:none}ul.lst-kix_list_25-4{list-style-type:none}li.li-bullet-8:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_list_11-4>li:before{content:"o  "}.lst-kix_list_12-4>li:before{content:"o  "}ul.lst-kix_list_6-6{list-style-type:none}li.li-bullet-12:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}ul.lst-kix_list_6-7{list-style-type:none}ul.lst-kix_list_6-4{list-style-type:none}.lst-kix_list_20-5>li:before{content:"\0025aa   "}ul.lst-kix_list_6-5{list-style-type:none}ul.lst-kix_list_6-8{list-style-type:none}.lst-kix_list_29-0>li:before{content:"\0025cf   "}.lst-kix_list_28-8>li:before{content:"\0025aa   "}ul.lst-kix_list_25-5{list-style-type:none}.lst-kix_list_1-0>li:before{content:"\0025cf   "}ul.lst-kix_list_25-6{list-style-type:none}.lst-kix_list_20-1>li:before{content:"o  "}ul.lst-kix_list_25-7{list-style-type:none}ul.lst-kix_list_25-8{list-style-type:none}ul.lst-kix_list_6-2{list-style-type:none}.lst-kix_list_11-8>li:before{content:"\0025aa   "}ul.lst-kix_list_6-3{list-style-type:none}ol.lst-kix_list_2-0.start{counter-reset:lst-ctn-kix_list_2-0 0}ul.lst-kix_list_6-0{list-style-type:none}.lst-kix_list_12-0>li:before{content:"\002022   "}.lst-kix_list_17-3>li{counter-increment:lst-ctn-kix_list_17-3}ul.lst-kix_list_6-1{list-style-type:none}.lst-kix_list_28-4>li:before{content:"o  "}.lst-kix_list_1-4>li:before{content:"o  "}.lst-kix_list_13-0>li:before{content:"\0025cf   "}ul.lst-kix_list_14-4{list-style-type:none}ul.lst-kix_list_14-3{list-style-type:none}ul.lst-kix_list_14-2{list-style-type:none}.lst-kix_list_13-4>li:before{content:"o  "}ul.lst-kix_list_14-1{list-style-type:none}ul.lst-kix_list_14-0{list-style-type:none}ol.lst-kix_list_26-5.start{counter-reset:lst-ctn-kix_list_26-5 0}ul.lst-kix_list_14-8{list-style-type:none}.lst-kix_list_2-0>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) ". "}ol.lst-kix_list_2-1.start{counter-reset:lst-ctn-kix_list_2-1 0}ul.lst-kix_list_14-7{list-style-type:none}.lst-kix_list_18-1>li{counter-increment:lst-ctn-kix_list_18-1}ul.lst-kix_list_14-6{list-style-type:none}ul.lst-kix_list_14-5{list-style-type:none}.lst-kix_list_28-0>li:before{content:"\0025cf   "}.lst-kix_list_1-8>li:before{content:"\0025aa   "}.lst-kix_list_27-8>li:before{content:"\0025a0   "}.lst-kix_list_12-8>li:before{content:"\0025aa   "}ul.lst-kix_list_20-2{list-style-type:none}ul.lst-kix_list_20-3{list-style-type:none}.lst-kix_list_19-0>li:before{content:"\0025cf   "}.lst-kix_list_19-1>li:before{content:"\0025cb   "}ul.lst-kix_list_20-4{list-style-type:none}ul.lst-kix_list_20-5{list-style-type:none}ol.lst-kix_list_17-7.start{counter-reset:lst-ctn-kix_list_17-7 0}ul.lst-kix_list_20-6{list-style-type:none}ul.lst-kix_list_1-0{list-style-type:none}ul.lst-kix_list_20-7{list-style-type:none}ul.lst-kix_list_20-8{list-style-type:none}.lst-kix_list_19-4>li:before{content:"\0025cb   "}ol.lst-kix_list_26-1.start{counter-reset:lst-ctn-kix_list_26-1 0}.lst-kix_list_19-2>li:before{content:"\0025a0   "}.lst-kix_list_19-3>li:before{content:"\0025cf   "}ul.lst-kix_list_20-0{list-style-type:none}ul.lst-kix_list_20-1{list-style-type:none}ul.lst-kix_list_1-3{list-style-type:none}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}ol.lst-kix_list_16-3.start{counter-reset:lst-ctn-kix_list_16-3 0}.lst-kix_list_2-3>li{counter-increment:lst-ctn-kix_list_2-3}.lst-kix_list_26-7>li{counter-increment:lst-ctn-kix_list_26-7}.lst-kix_list_19-8>li:before{content:"\0025a0   "}.lst-kix_list_19-5>li:before{content:"\0025a0   "}.lst-kix_list_19-6>li:before{content:"\0025cf   "}.lst-kix_list_19-7>li:before{content:"\0025cb   "}.lst-kix_list_17-2>li{counter-increment:lst-ctn-kix_list_17-2}ol.lst-kix_list_17-2.start{counter-reset:lst-ctn-kix_list_17-2 0}li.li-bullet-6:before{margin-left:-24.9pt;white-space:nowrap;display:inline-block;min-width:24.9pt}.lst-kix_list_18-3>li{counter-increment:lst-ctn-kix_list_18-3}ul.lst-kix_list_31-2{list-style-type:none}ul.lst-kix_list_31-3{list-style-type:none}ul.lst-kix_list_31-4{list-style-type:none}ul.lst-kix_list_31-5{list-style-type:none}ul.lst-kix_list_31-6{list-style-type:none}ul.lst-kix_list_31-7{list-style-type:none}.lst-kix_list_18-0>li:before{content:"" counter(lst-ctn-kix_list_18-0,decimal) ". "}ul.lst-kix_list_31-8{list-style-type:none}.lst-kix_list_18-1>li:before{content:"" counter(lst-ctn-kix_list_18-1,decimal) ". "}.lst-kix_list_18-2>li:before{content:"" counter(lst-ctn-kix_list_18-2,decimal) ". "}.lst-kix_list_26-0>li{counter-increment:lst-ctn-kix_list_26-0}li.li-bullet-2:before{margin-left:-21.6pt;white-space:nowrap;display:inline-block;min-width:21.6pt}ul.lst-kix_list_31-0{list-style-type:none}ul.lst-kix_list_31-1{list-style-type:none}.lst-kix_list_16-1>li{counter-increment:lst-ctn-kix_list_16-1}ol.lst-kix_list_2-4.start{counter-reset:lst-ctn-kix_list_2-4 0}ul.lst-kix_list_22-0{list-style-type:none}.lst-kix_list_2-7>li:before{content:"" counter(lst-ctn-kix_list_2-7,lower-latin) ". "}.lst-kix_list_2-7>li{counter-increment:lst-ctn-kix_list_2-7}.lst-kix_list_27-1>li:before{content:"\0025cb   "}ul.lst-kix_list_22-1{list-style-type:none}ul.lst-kix_list_22-2{list-style-type:none}ul.lst-kix_list_22-3{list-style-type:none}ul.lst-kix_list_22-4{list-style-type:none}.lst-kix_list_2-5>li:before{content:"" counter(lst-ctn-kix_list_2-5,lower-roman) ". "}.lst-kix_list_27-3>li:before{content:"\0025a0   "}ul.lst-kix_list_22-5{list-style-type:none}ul.lst-kix_list_22-6{list-style-type:none}.lst-kix_list_17-5>li{counter-increment:lst-ctn-kix_list_17-5}ul.lst-kix_list_22-7{list-style-type:none}ol.lst-kix_list_17-0.start{counter-reset:lst-ctn-kix_list_17-0 0}.lst-kix_list_27-5>li:before{content:"\0025a0   "}.lst-kix_list_18-6>li:before{content:"" counter(lst-ctn-kix_list_18-6,decimal) ". "}ul.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_3-8{list-style-type:none}.lst-kix_list_10-1>li:before{content:"\0025cb   "}.lst-kix_list_18-4>li:before{content:"" counter(lst-ctn-kix_list_18-4,decimal) ". "}.lst-kix_list_18-8>li:before{content:"" counter(lst-ctn-kix_list_18-8,decimal) ". "}ul.lst-kix_list_3-1{list-style-type:none}ul.lst-kix_list_22-8{list-style-type:none}.lst-kix_list_17-6>li{counter-increment:lst-ctn-kix_list_17-6}ul.lst-kix_list_3-2{list-style-type:none}ul.lst-kix_list_3-0{list-style-type:none}ul.lst-kix_list_3-5{list-style-type:none}ul.lst-kix_list_3-6{list-style-type:none}ul.lst-kix_list_3-3{list-style-type:none}ul.lst-kix_list_3-4{list-style-type:none}.lst-kix_list_10-7>li:before{content:"\0025cb   "}.lst-kix_list_10-5>li:before{content:"\0025a0   "}ol.lst-kix_list_18-6.start{counter-reset:lst-ctn-kix_list_18-6 0}li.li-bullet-1:before{margin-left:-21.6pt;white-space:nowrap;display:inline-block;min-width:21.6pt}.lst-kix_list_10-3>li:before{content:"\0025cf   "}ul.lst-kix_list_11-7{list-style-type:none}.lst-kix_list_2-6>li{counter-increment:lst-ctn-kix_list_2-6}ul.lst-kix_list_11-6{list-style-type:none}ul.lst-kix_list_11-5{list-style-type:none}ul.lst-kix_list_11-4{list-style-type:none}ul.lst-kix_list_11-3{list-style-type:none}ul.lst-kix_list_11-2{list-style-type:none}ul.lst-kix_list_11-1{list-style-type:none}ul.lst-kix_list_11-0{list-style-type:none}.lst-kix_list_9-2>li:before{content:"\0025a0   "}.lst-kix_list_26-4>li{counter-increment:lst-ctn-kix_list_26-4}ul.lst-kix_list_11-8{list-style-type:none}.lst-kix_list_20-8>li:before{content:"\0025aa   "}.lst-kix_list_9-0>li:before{content:"\0025cf   "}.lst-kix_list_29-7>li:before{content:"o  "}ul.lst-kix_list_21-1{list-style-type:none}ul.lst-kix_list_21-2{list-style-type:none}ul.lst-kix_list_21-3{list-style-type:none}.lst-kix_list_16-8>li{counter-increment:lst-ctn-kix_list_16-8}ul.lst-kix_list_21-4{list-style-type:none}.lst-kix_list_29-5>li:before{content:"\0025aa   "}.lst-kix_list_20-0>li:before{content:"\0025cf   "}ul.lst-kix_list_21-5{list-style-type:none}ul.lst-kix_list_21-6{list-style-type:none}ul.lst-kix_list_21-7{list-style-type:none}ul.lst-kix_list_21-8{list-style-type:none}.lst-kix_list_9-6>li:before{content:"\0025cf   "}li.li-bullet-9:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_list_9-4>li:before{content:"\0025cb   "}.lst-kix_list_11-3>li:before{content:"\0025cf   "}ul.lst-kix_list_21-0{list-style-type:none}.lst-kix_list_20-6>li:before{content:"\0025cf   "}ol.lst-kix_list_18-4.start{counter-reset:lst-ctn-kix_list_18-4 0}.lst-kix_list_29-1>li:before{content:"o  "}.lst-kix_list_20-4>li:before{content:"o  "}li.li-bullet-11:before{margin-left:-14.1pt;white-space:nowrap;display:inline-block;min-width:14.1pt}.lst-kix_list_11-5>li:before{content:"\0025aa   "}.lst-kix_list_29-3>li:before{content:"\0025cf   "}.lst-kix_list_20-2>li:before{content:"\0025aa   "}.lst-kix_list_9-8>li:before{content:"\0025a0   "}.lst-kix_list_1-1>li:before{content:"o  "}.lst-kix_list_11-7>li:before{content:"o  "}ul.lst-kix_list_10-0{list-style-type:none}.lst-kix_list_1-3>li:before{content:"\0025cf   "}ol.lst-kix_list_16-8.start{counter-reset:lst-ctn-kix_list_16-8 0}.lst-kix_list_28-3>li:before{content:"\0025cf   "}.lst-kix_list_28-7>li:before{content:"o  "}ul.lst-kix_list_10-8{list-style-type:none}.lst-kix_list_1-7>li:before{content:"o  "}ul.lst-kix_list_10-7{list-style-type:none}ol.lst-kix_list_2-7.start{counter-reset:lst-ctn-kix_list_2-7 0}ul.lst-kix_list_10-6{list-style-type:none}ul.lst-kix_list_10-5{list-style-type:none}ul.lst-kix_list_10-4{list-style-type:none}.lst-kix_list_1-5>li:before{content:"\0025aa   "}ul.lst-kix_list_10-3{list-style-type:none}.lst-kix_list_28-5>li:before{content:"\0025aa   "}ul.lst-kix_list_10-2{list-style-type:none}ul.lst-kix_list_10-1{list-style-type:none}.lst-kix_list_2-1>li:before{content:"" counter(lst-ctn-kix_list_2-1,lower-latin) ". "}.lst-kix_list_27-7>li:before{content:"\0025cb   "}.lst-kix_list_2-3>li:before{content:"" counter(lst-ctn-kix_list_2-3,decimal) ". "}.lst-kix_list_28-1>li:before{content:"o  "}.lst-kix_list_30-3>li:before{content:"\0025cf   "}.lst-kix_list_26-8>li{counter-increment:lst-ctn-kix_list_26-8}.lst-kix_list_30-4>li:before{content:"o  "}.lst-kix_list_30-8>li:before{content:"\0025aa   "}.lst-kix_list_3-1>li:before{content:"\0025cb   "}.lst-kix_list_3-2>li:before{content:"\0025a0   "}.lst-kix_list_26-6>li:before{content:"" counter(lst-ctn-kix_list_26-6,decimal) ". "}.lst-kix_list_26-7>li:before{content:"" counter(lst-ctn-kix_list_26-7,lower-latin) ". "}.lst-kix_list_8-1>li:before{content:"o  "}ol.lst-kix_list_17-4.start{counter-reset:lst-ctn-kix_list_17-4 0}.lst-kix_list_8-2>li:before{content:"\0025aa   "}.lst-kix_list_3-5>li:before{content:"\0025a0   "}.lst-kix_list_18-0>li{counter-increment:lst-ctn-kix_list_18-0}.lst-kix_list_30-7>li:before{content:"o  "}.lst-kix_list_21-2>li:before{content:"\0025aa   "}.lst-kix_list_8-5>li:before{content:"\0025aa   "}.lst-kix_list_8-6>li:before{content:"\0025cf   "}.lst-kix_list_2-0>li{counter-increment:lst-ctn-kix_list_2-0}.lst-kix_list_26-2>li:before{content:"" counter(lst-ctn-kix_list_26-2,lower-roman) ". "}.lst-kix_list_26-3>li:before{content:"" counter(lst-ctn-kix_list_26-3,decimal) ". "}.lst-kix_list_3-6>li:before{content:"\0025cf   "}.lst-kix_list_21-6>li:before{content:"\0025cf   "}ol.lst-kix_list_16-6.start{counter-reset:lst-ctn-kix_list_16-6 0}.lst-kix_list_21-7>li:before{content:"o  "}.lst-kix_list_11-2>li:before{content:"\0025aa   "}ol.lst-kix_list_16-0.start{counter-reset:lst-ctn-kix_list_16-0 0}.lst-kix_list_21-3>li:before{content:"\0025cf   "}ol.lst-kix_list_18-7.start{counter-reset:lst-ctn-kix_list_18-7 0}.lst-kix_list_16-6>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) "." counter(lst-ctn-kix_list_16-6,decimal) " "}.lst-kix_list_25-2>li:before{content:"\0025a0   "}.lst-kix_list_17-1>li:before{content:"" counter(lst-ctn-kix_list_17-1,lower-latin) ". "}.lst-kix_list_18-2>li{counter-increment:lst-ctn-kix_list_18-2}.lst-kix_list_25-3>li:before{content:"\0025cf   "}.lst-kix_list_16-1>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) " "}li.li-bullet-10:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_list_16-2>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) " "}.lst-kix_list_26-6>li{counter-increment:lst-ctn-kix_list_26-6}.lst-kix_list_16-5>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) " "}ol.lst-kix_list_18-8.start{counter-reset:lst-ctn-kix_list_18-8 0}.lst-kix_list_16-4>li{counter-increment:lst-ctn-kix_list_16-4}.lst-kix_list_17-2>li:before{content:"" counter(lst-ctn-kix_list_17-2,lower-roman) ". "}.lst-kix_list_30-0>li:before{content:"\0025cf   "}ol.lst-kix_list_16-5.start{counter-reset:lst-ctn-kix_list_16-5 0}ol.lst-kix_list_17-3.start{counter-reset:lst-ctn-kix_list_17-3 0}.lst-kix_list_17-6>li:before{content:"" counter(lst-ctn-kix_list_17-6,decimal) ". "}.lst-kix_list_17-5>li:before{content:"" counter(lst-ctn-kix_list_17-5,lower-roman) ". "}.lst-kix_list_2-6>li:before{content:"" counter(lst-ctn-kix_list_2-6,decimal) ". "}.lst-kix_list_27-2>li:before{content:"\0025a0   "}ol.lst-kix_list_16-2.start{counter-reset:lst-ctn-kix_list_16-2 0}.lst-kix_list_22-3>li:before{content:"\0025cf   "}.lst-kix_list_7-1>li:before{content:"o  "}.lst-kix_list_7-5>li:before{content:"\0025aa   "}.lst-kix_list_27-6>li:before{content:"\0025cf   "}.lst-kix_list_22-7>li:before{content:"o  "}.lst-kix_list_18-5>li:before{content:"" counter(lst-ctn-kix_list_18-5,decimal) ". "}.lst-kix_list_13-6>li:before{content:"\0025cf   "}.lst-kix_list_26-3>li{counter-increment:lst-ctn-kix_list_26-3}.lst-kix_list_16-6>li{counter-increment:lst-ctn-kix_list_16-6}ul.lst-kix_list_30-3{list-style-type:none}.lst-kix_list_31-7>li:before{content:"\0025cb   "}ul.lst-kix_list_30-4{list-style-type:none}ul.lst-kix_list_30-5{list-style-type:none}.lst-kix_list_15-6>li:before{content:"\0025cf   "}ol.lst-kix_list_17-8.start{counter-reset:lst-ctn-kix_list_17-8 0}ul.lst-kix_list_30-6{list-style-type:none}ul.lst-kix_list_30-7{list-style-type:none}ul.lst-kix_list_30-8{list-style-type:none}.lst-kix_list_31-3>li:before{content:"\0025cf   "}ul.lst-kix_list_30-0{list-style-type:none}.lst-kix_list_10-2>li:before{content:"\0025a0   "}ul.lst-kix_list_30-1{list-style-type:none}ul.lst-kix_list_30-2{list-style-type:none}.lst-kix_list_20-7>li:before{content:"o  "}ol.lst-kix_list_17-5.start{counter-reset:lst-ctn-kix_list_17-5 0}.lst-kix_list_4-2>li:before{content:"\0025aa   "}.lst-kix_list_4-6>li:before{content:"\0025cf   "}.lst-kix_list_17-4>li{counter-increment:lst-ctn-kix_list_17-4}.lst-kix_list_15-2>li:before{content:"\0025a0   "}.lst-kix_list_26-1>li{counter-increment:lst-ctn-kix_list_26-1}.lst-kix_list_25-6>li:before{content:"\0025cf   "}.lst-kix_list_9-1>li:before{content:"\0025cb   "}.lst-kix_list_10-6>li:before{content:"\0025cf   "}.lst-kix_list_9-5>li:before{content:"\0025a0   "}.lst-kix_list_29-6>li:before{content:"\0025cf   "}li.li-bullet-5:before{margin-left:-36pt;white-space:nowrap;display:inline-block;min-width:36pt}.lst-kix_list_12-2>li:before{content:"\0025aa   "}.lst-kix_list_11-6>li:before{content:"\0025cf   "}.lst-kix_list_20-3>li:before{content:"\0025cf   "}.lst-kix_list_1-2>li:before{content:"\0025aa   "}.lst-kix_list_29-2>li:before{content:"\0025aa   "}ol.lst-kix_list_16-1.start{counter-reset:lst-ctn-kix_list_16-1 0}ol.lst-kix_list_17-6.start{counter-reset:lst-ctn-kix_list_17-6 0}.lst-kix_list_28-6>li:before{content:"\0025cf   "}.lst-kix_list_1-6>li:before{content:"\0025cf   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_18-7>li{counter-increment:lst-ctn-kix_list_18-7}.lst-kix_list_12-6>li:before{content:"\002022   "}.lst-kix_list_2-2>li:before{content:"" counter(lst-ctn-kix_list_2-2,lower-roman) ". "}.lst-kix_list_13-2>li:before{content:"\0025aa   "}.lst-kix_list_28-2>li:before{content:"\0025aa   "}ol{margin:0;padding:0}table td,table th{padding:0}.c61{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#d9d9d9;border-left-style:solid;border-bottom-width:1pt;width:7.5pt;border-top-color:#000000;border-bottom-style:solid}.c23{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cccccc;border-left-style:solid;border-bottom-width:1pt;width:43.4pt;border-top-color:#000000;border-bottom-style:solid}.c48{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#efefef;border-left-style:solid;border-bottom-width:1pt;width:423.8pt;border-top-color:#000000;border-bottom-style:solid}.c13{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cfe2f3;border-left-style:solid;border-bottom-width:1pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c0{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#d9d9d9;border-left-style:solid;border-bottom-width:1pt;width:20.2pt;border-top-color:#000000;border-bottom-style:solid}.c16{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cccccc;border-left-style:solid;border-bottom-width:1pt;width:42.8pt;border-top-color:#000000;border-bottom-style:solid}.c399{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:322.6pt;border-top-color:#000000;border-bottom-style:solid}.c362{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:61.5pt;border-top-color:#000000;border-bottom-style:solid}.c338{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:89.2pt;border-top-color:#000000;border-bottom-style:solid}.c506{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:135.8pt;border-top-color:#000000;border-bottom-style:solid}.c227{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:27pt;border-top-color:#000000;border-bottom-style:solid}.c468{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:28.4pt;border-top-color:#000000;border-bottom-style:solid}.c461{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:114pt;border-top-color:#000000;border-bottom-style:solid}.c132{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:11.2pt;border-top-color:#000000;border-bottom-style:solid}.c18{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.2pt;border-top-color:#000000;border-bottom-style:solid}.c489{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.9pt;border-top-color:#000000;border-bottom-style:solid}.c319{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.6pt;border-top-color:#000000;border-bottom-style:solid}.c465{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c302{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99.8pt;border-top-color:#000000;border-bottom-style:solid}.c130{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:41pt;border-top-color:#000000;border-bottom-style:solid}.c265{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41pt;border-top-color:#000000;border-bottom-style:solid}.c532{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:209.2pt;border-top-color:#000000;border-bottom-style:solid}.c522{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:24pt;border-top-color:#000000;border-bottom-style:solid}.c320{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:39.8pt;border-top-color:#000000;border-bottom-style:solid}.c253{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.9pt;border-top-color:#000000;border-bottom-style:solid}.c22{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:78pt;border-top-color:#000000;border-bottom-style:solid}.c380{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:36.8pt;border-top-color:#000000;border-bottom-style:solid}.c330{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:423pt;border-top-color:#000000;border-bottom-style:solid}.c431{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:94.2pt;border-top-color:#000000;border-bottom-style:solid}.c500{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c86{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:418.1pt;border-top-color:#000000;border-bottom-style:solid}.c59{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:202.1pt;border-top-color:#000000;border-bottom-style:solid}.c520{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:97.2pt;border-top-color:#000000;border-bottom-style:solid}.c295{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:80.4pt;border-top-color:#000000;border-bottom-style:solid}.c176{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:39pt;border-top-color:#000000;border-bottom-style:solid}.c326{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:100pt;border-top-color:#000000;border-bottom-style:solid}.c491{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.2pt;border-top-color:#000000;border-bottom-style:solid}.c366{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:33pt;border-top-color:#000000;border-bottom-style:solid}.c396{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:102pt;border-top-color:#000000;border-bottom-style:solid}.c457{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:73.5pt;border-top-color:#000000;border-bottom-style:solid}.c142{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c201{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c205{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:62.2pt;border-top-color:#000000;border-bottom-style:solid}.c51{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.5pt;border-top-color:#000000;border-bottom-style:solid}.c410{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:87.6pt;border-top-color:#000000;border-bottom-style:solid}.c106{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:129.8pt;border-top-color:#000000;border-bottom-style:solid}.c337{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.1pt;border-top-color:#000000;border-bottom-style:solid}.c74{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.2pt;border-top-color:#000000;border-bottom-style:solid}.c166{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.2pt;border-top-color:#000000;border-bottom-style:solid}.c245{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.7pt;border-top-color:#000000;border-bottom-style:solid}.c225{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:128.2pt;border-top-color:#000000;border-bottom-style:solid}.c50{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63.8pt;border-top-color:#000000;border-bottom-style:solid}.c44{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:115.5pt;border-top-color:#000000;border-bottom-style:solid}.c108{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c478{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:168pt;border-top-color:#000000;border-bottom-style:solid}.c424{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.8pt;border-top-color:#000000;border-bottom-style:solid}.c291{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.3pt;border-top-color:#000000;border-bottom-style:solid}.c425{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:65.2pt;border-top-color:#000000;border-bottom-style:solid}.c413{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:8.8pt;border-top-color:#000000;border-bottom-style:solid}.c471{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:9.2pt;border-top-color:#000000;border-bottom-style:solid}.c472{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:107.2pt;border-top-color:#000000;border-bottom-style:solid}.c503{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.5pt;border-top-color:#000000;border-bottom-style:solid}.c146{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.5pt;border-top-color:#000000;border-bottom-style:solid}.c250{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.3pt;border-top-color:#000000;border-bottom-style:solid}.c154{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:20.2pt;border-top-color:#000000;border-bottom-style:solid}.c277{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.4pt;border-top-color:#000000;border-bottom-style:solid}.c77{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2pt;border-top-color:#000000;border-bottom-style:solid}.c234{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41pt;border-top-color:#000000;border-bottom-style:solid}.c88{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60pt;border-top-color:#000000;border-bottom-style:solid}.c162{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:7.1pt;border-top-color:#000000;border-bottom-style:solid}.c331{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:67.5pt;border-top-color:#000000;border-bottom-style:solid}.c190{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.8pt;border-top-color:#000000;border-bottom-style:solid}.c393{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:85pt;border-top-color:#000000;border-bottom-style:solid}.c163{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:403.9pt;border-top-color:#000000;border-bottom-style:solid}.c79{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42pt;border-top-color:#000000;border-bottom-style:solid}.c519{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c135{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:414.8pt;border-top-color:#000000;border-bottom-style:solid}.c84{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.2pt;border-top-color:#000000;border-bottom-style:solid}.c260{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:120.8pt;border-top-color:#000000;border-bottom-style:solid}.c473{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:148.8pt;border-top-color:#000000;border-bottom-style:solid}.c171{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.3pt;border-top-color:#000000;border-bottom-style:solid}.c322{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:25.8pt;border-top-color:#000000;border-bottom-style:solid}.c83{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:86.5pt;border-top-color:#000000;border-bottom-style:solid}.c113{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:75pt;border-top-color:#000000;border-bottom-style:solid}.c340{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:1.3pt;border-top-color:#000000;border-bottom-style:solid}.c185{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46pt;border-top-color:#000000;border-bottom-style:solid}.c462{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:9.2pt;border-top-color:#000000;border-bottom-style:solid}.c430{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:482.4pt;border-top-color:#000000;border-bottom-style:solid}.c251{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.6pt;border-top-color:#000000;border-bottom-style:solid}.c179{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.3pt;border-top-color:#000000;border-bottom-style:solid}.c384{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.6pt;border-top-color:#000000;border-bottom-style:solid}.c355{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.4pt;border-top-color:#000000;border-bottom-style:solid}.c292{border-right-style:solid;padding:1.8pt 0pt 0pt 0pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:168.8pt;border-top-color:#000000;border-bottom-style:solid}.c26{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:149.2pt;border-top-color:#000000;border-bottom-style:solid}.c91{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:276.4pt;border-top-color:#000000;border-bottom-style:solid}.c274{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.8pt;border-top-color:#000000;border-bottom-style:solid}.c508{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:164.3pt;border-top-color:#000000;border-bottom-style:solid}.c456{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c351{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.4pt;border-top-color:#000000;border-bottom-style:solid}.c157{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.7pt;border-top-color:#000000;border-bottom-style:solid}.c248{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c417{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:82.2pt;border-top-color:#000000;border-bottom-style:solid}.c375{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:107.2pt;border-top-color:#000000;border-bottom-style:solid}.c437{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:376.9pt;border-top-color:#000000;border-bottom-style:solid}.c512{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:66pt;border-top-color:#000000;border-bottom-style:solid}.c420{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.1pt;border-top-color:#000000;border-bottom-style:solid}.c263{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.6pt;border-top-color:#000000;border-bottom-style:solid}.c120{border-right-style:solid;padding:1.8pt 0pt 0pt 0pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83pt;border-top-color:#000000;border-bottom-style:solid}.c287{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.5pt;border-top-color:#000000;border-bottom-style:solid}.c453{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.2pt;border-top-color:#000000;border-bottom-style:solid}.c27{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:371.2pt;border-top-color:#000000;border-bottom-style:solid}.c196{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99pt;border-top-color:#000000;border-bottom-style:solid}.c187{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.8pt;border-top-color:#000000;border-bottom-style:solid}.c8{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52pt;border-top-color:#000000;border-bottom-style:solid}.c167{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63.5pt;border-top-color:#000000;border-bottom-style:solid}.c387{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:411.9pt;border-top-color:#000000;border-bottom-style:solid}.c279{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:389.7pt;border-top-color:#000000;border-bottom-style:solid}.c301{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99.2pt;border-top-color:#000000;border-bottom-style:solid}.c90{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:8.8pt;border-top-color:#000000;border-bottom-style:solid}.c483{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:106.5pt;border-top-color:#000000;border-bottom-style:solid}.c305{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.5pt;border-top-color:#000000;border-bottom-style:solid}.c28{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.8pt;border-top-color:#000000;border-bottom-style:solid}.c293{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:61.1pt;border-top-color:#000000;border-bottom-style:solid}.c129{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.5pt;border-top-color:#000000;border-bottom-style:solid}.c210{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50.1pt;border-top-color:#000000;border-bottom-style:solid}.c429{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:69pt;border-top-color:#000000;border-bottom-style:solid}.c316{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.1pt;border-top-color:#000000;border-bottom-style:solid}.c479{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83.2pt;border-top-color:#000000;border-bottom-style:solid}.c226{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.2pt;border-top-color:#000000;border-bottom-style:solid}.c482{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:173.1pt;border-top-color:#000000;border-bottom-style:solid}.c526{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:81.8pt;border-top-color:#000000;border-bottom-style:solid}.c156{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:39pt;border-top-color:#000000;border-bottom-style:solid}.c242{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:405pt;border-top-color:#000000;border-bottom-style:solid}.c412{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:74.2pt;border-top-color:#000000;border-bottom-style:solid}.c443{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.1pt;border-top-color:#000000;border-bottom-style:solid}.c76{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.5pt;border-top-color:#000000;border-bottom-style:solid}.c449{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:77.2pt;border-top-color:#000000;border-bottom-style:solid}.c308{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.7pt;border-top-color:#000000;border-bottom-style:solid}.c222{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.8pt;border-top-color:#000000;border-bottom-style:solid}.c377{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:78.3pt;border-top-color:#000000;border-bottom-style:solid}.c364{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c289{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:135pt;border-top-color:#000000;border-bottom-style:solid}.c197{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:413.2pt;border-top-color:#000000;border-bottom-style:solid}.c194{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56pt;border-top-color:#000000;border-bottom-style:solid}.c199{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.2pt;border-top-color:#000000;border-bottom-style:solid}.c409{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:311.9pt;border-top-color:#000000;border-bottom-style:solid}.c174{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:72pt;border-top-color:#000000;border-bottom-style:solid}.c209{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:3.6pt;border-top-color:#000000;border-bottom-style:solid}.c515{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:71pt;border-top-color:#000000;border-bottom-style:solid}.c217{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:233.8pt;border-top-color:#000000;border-bottom-style:solid}.c469{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47pt;border-top-color:#000000;border-bottom-style:solid}.c427{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.1pt;border-top-color:#000000;border-bottom-style:solid}.c63{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.8pt;border-top-color:#000000;border-bottom-style:solid}.c470{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.4pt;border-top-color:#000000;border-bottom-style:solid}.c121{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:154.8pt;border-top-color:#000000;border-bottom-style:solid}.c208{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:128pt;border-top-color:#000000;border-bottom-style:solid}.c448{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:202.1pt;border-top-color:#000000;border-bottom-style:solid}.c306{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:28.4pt;border-top-color:#000000;border-bottom-style:solid}.c344{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:90.6pt;border-top-color:#000000;border-bottom-style:solid}.c428{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54.1pt;border-top-color:#000000;border-bottom-style:solid}.c408{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:282pt;border-top-color:#000000;border-bottom-style:solid}.c530{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:107.2pt;border-top-color:#000000;border-bottom-style:solid}.c123{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.9pt;border-top-color:#000000;border-bottom-style:solid}.c70{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c119{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.5pt;border-top-color:#000000;border-bottom-style:solid}.c303{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:77pt;border-top-color:#000000;border-bottom-style:solid}.c230{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:9.2pt;border-top-color:#000000;border-bottom-style:solid}.c369{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.5pt;border-top-color:#000000;border-bottom-style:solid}.c422{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.7pt;border-top-color:#000000;border-bottom-style:solid}.c264{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:102pt;border-top-color:#000000;border-bottom-style:solid}.c474{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.1pt;border-top-color:#000000;border-bottom-style:solid}.c93{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:149.4pt;border-top-color:#000000;border-bottom-style:solid}.c92{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47.2pt;border-top-color:#000000;border-bottom-style:solid}.c112{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:43.5pt;border-top-color:#000000;border-bottom-style:solid}.c43{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.2pt;border-top-color:#000000;border-bottom-style:solid}.c307{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:185.9pt;border-top-color:#000000;border-bottom-style:solid}.c527{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:7.1pt;border-top-color:#000000;border-bottom-style:solid}.c423{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2.2pt;border-top-color:#000000;border-bottom-style:solid}.c249{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57pt;border-top-color:#000000;border-bottom-style:solid}.c415{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:312.3pt;border-top-color:#000000;border-bottom-style:solid}.c407{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:118.5pt;border-top-color:#000000;border-bottom-style:solid}.c282{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.5pt;border-top-color:#000000;border-bottom-style:solid}.c521{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:155.9pt;border-top-color:#000000;border-bottom-style:solid}.c533{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2.4pt;border-top-color:#000000;border-bottom-style:solid}.c56{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.9pt;border-top-color:#000000;border-bottom-style:solid}.c397{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:164.3pt;border-top-color:#000000;border-bottom-style:solid}.c276{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48pt;border-top-color:#000000;border-bottom-style:solid}.c213{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:54pt;border-top-color:#000000;border-bottom-style:solid}.c466{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.4pt;border-top-color:#000000;border-bottom-style:solid}.c128{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:36pt;border-top-color:#000000;border-bottom-style:solid}.c447{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:98.9pt;border-top-color:#000000;border-bottom-style:solid}.c243{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:78.3pt;border-top-color:#000000;border-bottom-style:solid}.c416{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.8pt;border-top-color:#000000;border-bottom-style:solid}.c136{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.5pt;border-top-color:#000000;border-bottom-style:solid}.c426{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83.5pt;border-top-color:#000000;border-bottom-style:solid}.c269{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51pt;border-top-color:#000000;border-bottom-style:solid}.c104{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:410.7pt;border-top-color:#000000;border-bottom-style:solid}.c164{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:18.8pt;border-top-color:#000000;border-bottom-style:solid}.c110{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:8.2pt;border-top-color:#000000;border-bottom-style:solid}.c168{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:93.3pt;border-top-color:#000000;border-bottom-style:solid}.c275{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.3pt;border-top-color:#000000;border-bottom-style:solid}.c339{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:61.5pt;border-top-color:#000000;border-bottom-style:solid}.c328{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:3.5pt;border-top-color:#000000;border-bottom-style:solid}.c504{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.3pt;border-top-color:#000000;border-bottom-style:solid}.c273{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:51.8pt;border-top-color:#000000;border-bottom-style:solid}.c391{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c133{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.5pt;border-top-color:#000000;border-bottom-style:solid}.c178{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:8.8pt;border-top-color:#000000;border-bottom-style:solid}.c385{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:173.1pt;border-top-color:#000000;border-bottom-style:solid}.c432{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.6pt;border-top-color:#000000;border-bottom-style:solid}.c97{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.6pt;border-top-color:#000000;border-bottom-style:solid}.c102{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:153pt;border-top-color:#000000;border-bottom-style:solid}.c280{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:196.5pt;border-top-color:#000000;border-bottom-style:solid}.c183{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.8pt;border-top-color:#000000;border-bottom-style:solid}.c435{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:84.8pt;border-top-color:#000000;border-bottom-style:solid}.c497{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:3.5pt;border-top-color:#000000;border-bottom-style:solid}.c534{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c188{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:101.4pt;border-top-color:#000000;border-bottom-style:solid}.c232{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.3pt;border-top-color:#000000;border-bottom-style:solid}.c65{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:37.5pt;border-top-color:#000000;border-bottom-style:solid}.c30{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:55.5pt;border-top-color:#000000;border-bottom-style:solid}.c198{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:91.9pt;border-top-color:#000000;border-bottom-style:solid}.c53{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:423.8pt;border-top-color:#000000;border-bottom-style:solid}.c278{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:214.8pt;border-top-color:#000000;border-bottom-style:solid}.c211{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:429.8pt;border-top-color:#000000;border-bottom-style:solid}.c509{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:25.8pt;border-top-color:#000000;border-bottom-style:solid}.c450{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:77.8pt;border-top-color:#000000;border-bottom-style:solid}.c455{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:3.5pt;border-top-color:#000000;border-bottom-style:solid}.c460{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42.6pt;border-top-color:#000000;border-bottom-style:solid}.c441{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:59.2pt;border-top-color:#000000;border-bottom-style:solid}.c376{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:374.2pt;border-top-color:#000000;border-bottom-style:solid}.c528{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:29.2pt;border-top-color:#000000;border-bottom-style:solid}.c115{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.2pt;border-top-color:#000000;border-bottom-style:solid}.c271{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.8pt;border-top-color:#000000;border-bottom-style:solid}.c202{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48.6pt;border-top-color:#000000;border-bottom-style:solid}.c229{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53pt;border-top-color:#000000;border-bottom-style:solid}.c150{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:108pt;border-top-color:#000000;border-bottom-style:solid}.c14{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:417.8pt;border-top-color:#000000;border-bottom-style:solid}.c372{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:52.7pt;border-top-color:#000000;border-bottom-style:solid}.c82{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.5pt;border-top-color:#000000;border-bottom-style:solid}.c170{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:2.4pt;border-top-color:#000000;border-bottom-style:solid}.c153{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.2pt;border-top-color:#000000;border-bottom-style:solid}.c169{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.7pt;border-top-color:#000000;border-bottom-style:solid}.c62{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:377.2pt;border-top-color:#000000;border-bottom-style:solid}.c151{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:50pt;border-top-color:#000000;border-bottom-style:solid}.c181{border-right-style:solid;padding:1.8pt 0pt 0pt 0pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60.8pt;border-top-color:#000000;border-bottom-style:solid}.c373{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:35.4pt;border-top-color:#000000;border-bottom-style:solid}.c109{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:7.5pt;border-top-color:#000000;border-bottom-style:solid}.c143{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:390.8pt;border-top-color:#000000;border-bottom-style:solid}.c182{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:6pt;border-top-color:#000000;border-bottom-style:solid}.c335{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:413.8pt;border-top-color:#000000;border-bottom-style:solid}.c215{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57.8pt;border-top-color:#000000;border-bottom-style:solid}.c314{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:42.9pt;border-top-color:#000000;border-bottom-style:solid}.c325{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:2.1pt;border-top-color:#000000;border-bottom-style:solid}.c122{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:100.5pt;border-top-color:#000000;border-bottom-style:solid}.c349{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:62.4pt;border-top-color:#000000;border-bottom-style:solid}.c155{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:92.2pt;border-top-color:#000000;border-bottom-style:solid}.c49{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:5.2pt;border-top-color:#000000;border-bottom-style:solid}.c117{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:70.5pt;border-top-color:#000000;border-bottom-style:solid}.c411{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:44.7pt;border-top-color:#000000;border-bottom-style:solid}.c309{border-right-style:solid;padding:0pt 5.4pt 0pt 5.4pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.5pt;border-top-color:#000000;border-bottom-style:solid}.c389{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:53.7pt;border-top-color:#000000;border-bottom-style:solid}.c511{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.3pt;border-top-color:#000000;border-bottom-style:solid}.c256{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:33pt;border-top-color:#000000;border-bottom-style:solid}.c33{padding-top:0pt;list-style-position:inside;border-top-width:0pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;margin-right:0.2pt;margin-left:0pt;text-indent:45pt;orphans:2;widows:2;text-align:left}.c57{padding-top:0pt;list-style-position:inside;border-top-width:0pt;padding-bottom:2.4pt;line-height:1.0791666666666666;border-top-style:solid;margin-right:0.2pt;margin-left:0pt;text-indent:45pt;orphans:2;widows:2;text-align:left}.c99{padding-top:0pt;list-style-position:inside;border-top-width:0pt;padding-bottom:5.5pt;line-height:1.0791666666666666;border-top-style:solid;margin-right:0.2pt;margin-left:0pt;text-indent:45pt;orphans:2;widows:2;text-align:left}.c300{border-right-style:solid;border-top-width:0pt;border-right-width:0pt;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;border-bottom-style:solid;padding-right:0pt}.c149{padding-top:0pt;list-style-position:inside;border-top-width:0pt;padding-bottom:3.2pt;line-height:1.0791666666666666;border-top-style:solid;margin-right:0.2pt;margin-left:0pt;text-indent:45pt;text-align:left}.c219{padding-top:0pt;list-style-position:inside;border-top-width:0pt;padding-bottom:5.9pt;line-height:1.0791666666666666;border-top-style:solid;margin-right:0.2pt;margin-left:0pt;text-indent:45pt;text-align:left}.c134{padding-top:0pt;list-style-position:inside;border-top-width:0pt;padding-bottom:3.9pt;line-height:1.0791666666666666;border-top-style:solid;margin-right:0.2pt;margin-left:0pt;text-indent:45pt;text-align:left}.c390{padding-top:0pt;list-style-position:inside;border-top-width:0pt;padding-bottom:2.6pt;line-height:1.0791666666666666;border-top-style:solid;text-indent:45pt;text-align:left}.c54{margin-left:-0.2pt;padding-top:4pt;padding-bottom:17.2pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt;height:10.5pt}.c2{margin-left:-0.8pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt;height:10.5pt}.c240{padding-top:0pt;list-style-position:inside;border-top-width:0pt;padding-bottom:2pt;line-height:1.0;border-top-style:solid;text-indent:45pt;text-align:left}.c284{padding-top:0pt;list-style-position:inside;border-top-width:0pt;padding-bottom:7.2pt;line-height:1.0791666666666666;border-top-style:solid;text-indent:45pt;text-align:left}.c272{padding-top:6pt;list-style-position:inside;border-top-width:0.5pt;padding-bottom:18pt;line-height:1.0;border-top-style:solid;text-indent:45pt;text-align:left}.c100{margin-left:36pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c34{margin-left:-0.2pt;padding-top:4pt;padding-bottom:0pt;line-height:1.0250000000000001;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c21{background-color:#ffffff;color:#446caa;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Arial";font-style:normal}.c15{margin-left:-0.8pt;padding-top:0pt;padding-bottom:7.5pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:justify;margin-right:0.2pt}.c6{margin-left:54pt;padding-top:12pt;padding-bottom:12pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c55{margin-left:-0.8pt;padding-top:0pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c36{margin-left:-0.8pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c189{padding-top:0pt;border-top-width:0pt;padding-bottom:6pt;line-height:1.0;border-top-style:solid;margin-right:0.2pt;text-align:left}.c9{margin-left:-0.8pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:center;margin-right:0.2pt}.c5{margin-left:-0.8pt;padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c4{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c40{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;height:10.5pt}.c114{margin-left:36pt;padding-top:4pt;padding-left:0pt;padding-bottom:0pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c498{padding-top:0pt;border-top-width:0pt;padding-bottom:3.9pt;line-height:1.0791666666666666;border-top-style:solid;text-align:left}.c11{background-color:#ffffff;color:#172b4d;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial"}.c359{padding-top:6pt;border-top-width:0.5pt;padding-bottom:6pt;line-height:1.0;border-top-style:solid;text-align:left}.c124{margin-left:18pt;padding-top:4pt;padding-left:3.6pt;padding-bottom:4pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c220{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify;margin-right:0.3pt}.c140{margin-left:39pt;padding-top:4pt;padding-left:0pt;padding-bottom:4pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c221{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:14pt;line-height:1.0291666666666666;text-align:left;margin-right:0.3pt}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c475{padding-top:6pt;border-top-width:0.5pt;padding-bottom:18pt;line-height:1.0;border-top-style:solid;text-align:left}.c442{padding-top:1pt;border-top-width:0.5pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;text-align:left}.c296{margin-left:24.9pt;padding-top:0pt;padding-bottom:6.2pt;line-height:1.0333333333333334;text-align:justify;margin-right:49.5pt}.c323{margin-left:-0.8pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:left;margin-right:-14.3pt}.c85{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c317{margin-left:-0.2pt;padding-top:4pt;padding-bottom:6pt;line-height:1.0;text-align:left;margin-right:49.5pt}.c192{margin-left:18pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c346{margin-left:43.2pt;padding-top:12pt;text-indent:-0.8pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c35{background-color:#ffffff;color:#446caa;text-decoration:none;vertical-align:baseline;font-size:12pt;font-style:normal}.c89{padding-top:4pt;padding-bottom:17.6pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c239{margin-left:72pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c47{margin-left:-0.8pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c19{background-color:#ffffff;color:#222222;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c38{background-color:#ffffff;color:#446caa;text-decoration:none;vertical-align:baseline;font-size:18pt;font-style:normal}.c332{padding-top:0pt;padding-left:6.9pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify;margin-right:0.3pt}.c17{background-color:#ffffff;color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c20{margin-left:54pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c94{margin-left:36pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c329{margin-left:-0.8pt;padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;text-align:center;margin-right:-6.8pt}.c238{margin-left:-0.2pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:left;margin-right:49.5pt}.c341{margin-left:-0.8pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:center;margin-right:-6.8pt}.c177{margin-left:-0.8pt;padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;text-align:left;margin-right:-5pt}.c152{margin-left:-0.2pt;padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c138{font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:"Roboto"}.c463{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;text-align:left;margin-right:-36.4pt}.c236{padding-top:0pt;padding-bottom:14pt;line-height:1.0;text-align:left;margin-right:0.2pt}.c212{color:#172b4d;font-weight:400;text-decoration:none;font-size:9pt;font-family:"Verdana"}.c324{margin-left:3pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c37{color:#000000;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-style:normal}.c46{background-color:#fff2cc;color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:10.5pt}.c139{margin-left:72pt;padding-top:0pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left;height:10.5pt}.c270{-webkit-text-decoration-skip:none;color:#172b4d;text-decoration:line-through;text-decoration-skip-ink:none;font-size:11pt}.c52{-webkit-text-decoration-skip:none;color:#000000;text-decoration:underline;text-decoration-skip-ink:none;font-size:10pt}.c288{margin-left:38.5pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify}.c398{list-style-position:inside;border-top-width:0pt;border-top-style:solid;text-indent:45pt}.c60{background-color:#ffffff;color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:10.5pt}.c258{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:left;margin-right:-3pt}.c32{background-color:#ffffff;color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:9pt}.c386{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:justify}.c467{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;text-align:left}.c445{padding-top:4pt;padding-bottom:1.1pt;line-height:1.0;text-align:left}.c180{padding-top:0pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c312{padding-top:4pt;padding-bottom:0.7pt;line-height:1.0;text-align:left}.c193{padding-top:4pt;padding-bottom:0.3pt;line-height:1.0;text-align:left}.c321{-webkit-text-decoration-skip:none;text-decoration:underline;text-decoration-skip-ink:none;font-size:10.5pt}.c268{padding-top:0pt;padding-bottom:14.8pt;line-height:1.0333333333333334;text-align:justify}.c438{padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:left}.c310{padding-top:0pt;padding-bottom:4.9pt;line-height:1.0333333333333334;text-align:left}.c439{padding-top:12pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c370{padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:center}.c304{padding-top:0pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c400{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0;text-align:justify}.c378{padding-top:0pt;padding-bottom:15.4pt;line-height:1.0250000000000001;text-align:left}.c343{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c224{padding-top:6pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c350{padding-top:4pt;padding-bottom:17.1pt;line-height:1.0;text-align:left}.c228{padding-top:4pt;padding-bottom:17.6pt;line-height:1.0;text-align:center}.c137{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0333333333333334;text-align:justify}.c87{color:#446caa;text-decoration:none;vertical-align:baseline;font-size:10.5pt}.c374{padding-top:0pt;padding-bottom:10.8pt;line-height:1.0;text-align:left}.c451{padding-top:0pt;padding-bottom:6.2pt;line-height:1.0333333333333334;text-align:justify}.c358{padding-top:4pt;padding-bottom:17.3pt;line-height:1.0;text-align:left}.c382{padding-top:4pt;padding-bottom:17.7pt;line-height:1.0;text-align:left}.c231{padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;text-align:left}.c118{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c41{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c379{padding-top:4pt;padding-bottom:0pt;line-height:1.0791666666666666;text-align:center}.c501{padding-top:4pt;padding-bottom:15.4pt;line-height:1.0;text-align:left}.c267{margin-left:-0.8pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c71{color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:11pt}.c405{padding-top:4pt;padding-bottom:23pt;line-height:1.0;text-align:left}.c116{padding-top:6pt;padding-bottom:6pt;line-height:1.5;text-align:center}.c356{padding-top:14pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c490{padding-top:4pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c514{padding-top:6pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c414{padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:justify}.c342{padding-top:4pt;padding-bottom:17.4pt;line-height:1.1041666666666667;text-align:center}.c281{padding-top:0pt;padding-bottom:15.3pt;line-height:1.0333333333333334;text-align:justify}.c365{padding-top:4pt;padding-bottom:28.6pt;line-height:1.1041666666666667;text-align:center}.c259{padding-top:2pt;padding-bottom:2pt;line-height:1.0;text-align:left}.c165{margin-left:-0.2pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c131{padding-top:12pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c299{padding-top:4pt;padding-bottom:1.3pt;line-height:1.0;text-align:left}.c246{padding-top:12pt;padding-bottom:12pt;line-height:1.0333333333333334;text-align:left}.c235{border-spacing:0;border-collapse:collapse;margin-right:auto}.c173{padding-top:4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c531{padding-top:0pt;padding-bottom:4.7pt;line-height:1.0791666666666666;text-align:left}.c98{color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:10.5pt}.c371{padding-top:4pt;padding-bottom:7.6pt;line-height:1.0;text-align:left}.c207{padding-top:4pt;padding-bottom:0pt;line-height:1.0250000000000001;text-align:center}.c160{padding-top:4pt;padding-bottom:10.2pt;line-height:1.1041666666666667;text-align:center}.c402{padding-top:4pt;padding-bottom:1.5pt;line-height:1.0;text-align:left}.c111{color:#446caa;text-decoration:none;vertical-align:baseline;font-size:14pt}.c141{padding-top:4pt;padding-bottom:0pt;line-height:1.0791666666666666;text-align:left}.c367{padding-top:4pt;padding-bottom:0.9pt;line-height:1.0;text-align:left}.c481{padding-top:0pt;padding-bottom:5pt;line-height:1.0333333333333334;text-align:justify}.c290{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;text-align:center}.c147{padding-top:4pt;padding-bottom:1.4pt;line-height:1.0;text-align:left}.c286{font-size:10.5pt;font-family:"Roboto";color:#1f1f1f;font-weight:400}.c315{padding-top:4pt;padding-bottom:0.2pt;line-height:1.0;text-align:left}.c516{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:center}.c436{padding-top:6pt;padding-bottom:6pt;line-height:1.5;text-align:left}.c507{padding-top:4pt;padding-bottom:15.1pt;line-height:1.0;text-align:left}.c524{padding-top:4pt;padding-bottom:6.3pt;line-height:1.0;text-align:left}.c418{padding-top:0pt;padding-bottom:7.2pt;line-height:1.0333333333333334;text-align:justify}.c223{font-weight:400;text-decoration:none;font-size:12pt;font-family:"Roboto"}.c458{padding-top:4pt;padding-bottom:12.2pt;line-height:1.1041666666666667;text-align:center}.c459{padding-top:0pt;padding-bottom:7.3pt;line-height:1.0333333333333334;text-align:justify}.c294{padding-top:0pt;padding-bottom:0pt;line-height:1.7583333333333335;text-align:justify}.c283{padding-top:4pt;padding-bottom:1.2pt;line-height:1.0;text-align:left}.c347{padding-top:4pt;padding-bottom:7.2pt;line-height:1.0;text-align:left}.c353{padding-top:4pt;padding-bottom:10.6pt;line-height:1.1041666666666667;text-align:center}.c484{border-spacing:0;border-collapse:collapse;margin-right:auto}.c200{list-style-position:inside;margin-left:-4.5pt;text-indent:45pt}.c67{color:#000000;text-decoration:none;vertical-align:baseline}.c206{color:#666666;text-decoration:none;font-size:11pt}.c297{font-size:9pt;font-family:"Verdana";font-weight:400}.c175{font-size:7pt;font-family:"Times New Roman";font-weight:400}.c145{text-decoration:none;vertical-align:baseline;font-size:10.5pt}.c404{-webkit-text-decoration-skip:none;text-decoration:underline;text-decoration-skip-ink:none}.c101{orphans:2;widows:2}.c523{font-family:"Calibri";font-weight:400}.c266{margin-left:33pt;padding-left:-8.1pt}.c158{margin-left:-0.2pt;margin-right:0.2pt}.c401{font-weight:400;font-family:"MingLiu"}.c144{margin-left:36pt;padding-left:0pt}.c244{font-weight:700;font-family:"Liberation Sans"}.c486{margin-left:39.3pt;padding-left:-3.9pt}.c203{margin-left:36pt;margin-right:0.2pt}.c24{font-weight:700;font-family:"Arial"}.c247{color:#446caa;text-decoration:none}.c318{font-size:18pt;color:#446caa}.c96{font-weight:400;font-family:"Liberation Sans"}.c95{font-size:8pt;color:#222222}.c58{border:1px solid black;margin:5px}.c388{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c3{font-weight:400;font-family:"Arial"}.c433{list-style-position:inside;text-indent:45pt}.c368{font-family:"Roboto";font-weight:400}.c191{margin-left:-0.8pt;margin-right:49.5pt}.c29{color:inherit;text-decoration:inherit}.c535{padding-left:-15.8pt;margin-left:15.8pt}.c12{padding:0;margin:0}.c499{margin-left:41.9pt;padding-left:-3.9pt}.c69{background-color:#fff2cc;color:#222222}.c454{margin-left:-0.2pt;margin-right:7.3pt}.c66{margin-left:-0.8pt;margin-right:0.2pt}.c218{color:#172b4d;text-decoration:none}.c42{page-break-after:avoid;height:10.5pt}.c493{margin-left:15.9pt}.c480{margin-right:46.5pt}.c354{margin-left:27pt}.c505{margin-left:42.5pt}.c73{text-indent:0.2pt}.c105{background-color:#efefef}.c103{vertical-align:sub}.c262{color:#333333}.c125{font-size:8pt}.c75{background-color:#cfe2f3}.c334{color:#800080}.c311{margin-left:18pt}.c494{text-indent:36pt}.c68{font-size:10pt}.c241{margin-right:0.2pt}.c161{padding-left:0pt}.c257{font-size:12pt}.c406{margin-left:-0.8pt}.c184{height:10pt}.c254{text-decoration:none}.c485{height:19.4pt}.c357{font-weight:700}.c255{margin-left:0pt}.c421{height:50.4pt}.c327{font-size:9pt}.c476{margin-left:14.2pt}.c204{margin-left:45pt}.c336{font-size:18pt}.c261{height:17.1pt}.c345{margin-left:216pt}.c361{text-indent:14.9pt}.c464{margin-left:106.3pt}.c510{height:24.9pt}.c216{margin-left:144pt}.c31{background-color:#ffe599}.c502{height:16.4pt}.c45{page-break-after:avoid}.c513{margin-left:-0.2pt}.c488{margin-left:21.6pt}.c285{height:39.8pt}.c496{padding-left:3.6pt}.c39{font-style:normal}.c495{background-color:#9fc5e8}.c81{color:#000000}.c444{height:43.6pt}.c452{color:#172b4d}.c403{margin-left:180pt}.c127{color:#0000ee}.c348{font-size:10.5pt}.c78{background-color:#ffffff}.c148{background-color:#d9d9d9}.c383{font-size:9.5pt}.c352{color:#202124}.c477{text-indent:29.9pt}.c360{height:20.2pt}.c492{font-family:"Roboto"}.c214{margin-left:36pt}.c313{font-size:11pt}.c195{color:#ff0000}.c107{color:#222222}.c252{margin-left:72pt}.c72{height:10.5pt}.c172{background-color:#fff2cc}.c394{margin-right:49.5pt}.c126{height:38.9pt}.c434{text-indent:-18pt}.c487{padding-left:18pt}.c233{color:#212529}.c80{vertical-align:super}.c529{margin-left:29.1pt}.c518{margin-right:0.3pt}.c237{height:12.3pt}.c7{font-style:italic}.c525{font-size:17pt}.c333{margin-left:108pt}.c392{margin-left:4.5pt}.c440{margin-left:63pt}.c159{background-color:#cccccc}.c419{margin-left:74.5pt}.c446{font-size:24pt}.c186{vertical-align:baseline}.c395{color:#446caa}.c298{margin-left:34.1pt}.c25{height:0pt}.c363{font-size:13pt}.c381{font-size:7pt}.c64{background-color:#ffff00}.c517{height:13.7pt}.title{padding-top:1pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:24pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;background-color:#ffffff;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}.subtitle{padding-top:1pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:18pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;background-color:#ffffff;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}li{background-color:#ffffff;color:#172b4d;font-size:10.5pt;font-family:"Liberation Sans"}p{background-color:#ffffff;margin:0;color:#172b4d;font-size:10.5pt;font-family:"Liberation Sans"}h1{padding-top:6pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:18pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h2{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:14pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h3{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:13pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h4{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:12pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h5{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:12pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h6{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:11pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}</style></head><body class="c78 c388 doc-content"><div><p class="c2"><span class="c60 c96 c39"></span></p></div><p class="c442 c101 c66 title"><span class="c24 c247 c39 c78 c186 c446">MQTT for Sensor Networks (MQTT-SN) Version 2.0</span></p><p class="c442 c101 c66 subtitle"><span class="c38 c24">Committee Specification Draft 01</span></p><p class="c41 c101" id="h.30j0zll"><span class="c24 c395">07 December 2023</span><span class="c67 c3 c336 c39">&nbsp;</span></p><p class="c224 c101 c66 c45"><span class="c24 c39 c78 c87">This stage:</span></p><p class="c224 c101 c45"><span class="c24 c395">&hellip;</span><sup><a href="#cmnt1" id="cmnt_ref1">[a]</a></sup></p><p class="c224 c101 c66 c45"><span class="c87 c24 c39 c78">Previous stage:</span></p><p class="c224 c101 c45"><span class="c87 c24 c39 c78">N/A</span></p><p class="c224 c101 c66 c45"><span class="c87 c24 c39 c78">Latest stage:</span></p><p class="c101 c66 c45 c224"><span class="c87 c24 c39 c78">&hellip;</span></p><p class="c224 c101 c45"><span class="c24 c247 c68 c39 c186">Technical Committee:</span></p><p class="c41 c101 c494" id="h.1fob9te"><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/&amp;sa=D&amp;source=editors&amp;ust=1711133545423624&amp;usg=AOvVaw1CjY2RrixfhMsnRoG_DUgo">OASIS Message Queuing Telemetry Transport (MQTT) TC</a></span></p><p class="c224 c101 c45"><span class="c24 c247 c68 c39 c186">Chairs:</span></p><p class="c41 c101 c214"><span class="c67 c3 c68 c39 c78">Ian Craggs (</span><span class="c67 c3 c68 c39 c78"><a class="c29" href="mailto:icraggs@gmail.com">icraggs@gmail.com</a></span><span class="c67 c3 c68 c39 c78">), Individual member</span></p><p class="c41 c101 c214"><span class="c67 c3 c68 c39">Simon Johnson (</span><span class="c3 c68 c254 c81">simon.johnson@hivemq.com</span><span class="c67 c3 c68 c39">), </span><span class="c3 c68 c81">HiveMQ</span></p><p class="c224 c101 c45"><span class="c24 c247 c68 c39 c186">Editors:</span></p><p class="c41 c101 c214"><span class="c67 c3 c68 c39">Andrew Banks (</span><span class="c67 c3 c68 c39"><a class="c29" href="mailto:Andrew_Banks@uk.ibm.com">Andrew_Banks@uk.ibm.com</a></span><span class="c67 c3 c68 c39">), </span><span class="c67 c3 c68 c39"><a class="c29" href="https://www.google.com/url?q=http://www.ibm.com&amp;sa=D&amp;source=editors&amp;ust=1711133545424617&amp;usg=AOvVaw3Q1Hg9gNt-McSZJkeb7Kn1">IBM</a></span></p><p class="c41 c101 c203"><span class="c3 c68 c81">Davide Lenzarini (</span><span class="c52 c3"><a class="c29" href="mailto:davide.lenzarini@u-blox.com">davide.lenzarini@u-blox.com</a></span><span class="c67 c3 c68 c39 c78">), u-blox</span></p><p class="c41 c101 c203"><span class="c3 c68 c81 c78">Ian Craggs (</span><span class="c3 c68 c81 c78"><a class="c29" href="mailto:icraggs@gmail.com">icraggs@gmail.com</a></span><span class="c3 c68 c81 c78">), Individual member</span></p><p class="c41 c101 c214"><span class="c67 c3 c68 c39">Rahul Gupta (</span><span class="c67 c3 c68 c39"><a class="c29" href="mailto:rahul.gupta@us.ibm.com">rahul.gupta@us.ibm.com</a></span><span class="c67 c3 c68 c39">), </span><span class="c67 c3 c68 c39"><a class="c29" href="https://www.google.com/url?q=http://www.ibm.com&amp;sa=D&amp;source=editors&amp;ust=1711133545425299&amp;usg=AOvVaw2WZPG0i_o9COTJDehyUNRW">IBM</a></span></p><p class="c41 c101 c203"><span class="c3 c68 c81">Simon Johnson (</span><span class="c3 c68 c81"><a class="c29" href="mailto:simon622@gmail.com">simon</a></span><span class="c67 c3 c68 c39 c78">.johnson@hivemq.com), HiveMQ</span></p><p class="c41 c101 c203"><span class="c3 c68 c81">Stefan Hagen (</span><span class="c52 c3"><a class="c29" href="mailto:stefan@hagen.link">stefan@hagen.link</a></span><span class="c67 c3 c68 c39 c78">), Individual member</span></p><p class="c41 c101 c214"><span class="c67 c3 c68 c39">Tara E. Walker (</span><span class="c67 c3 c68 c39"><a class="c29" href="mailto:tara.walker@microsoft.com">tara.walker@microsoft.com</a></span><span class="c67 c3 c68 c39">), </span><span class="c67 c3 c68 c39"><a class="c29" href="https://www.google.com/url?q=http://www.microsoft.com&amp;sa=D&amp;source=editors&amp;ust=1711133545425928&amp;usg=AOvVaw2runh9tVuJqXElX_uxRBlY">Microsoft</a></span></p><p class="c40"><span class="c67 c3 c68 c39"></span></p><a id="id.3znysh7"></a><p class="c224 c101 c45"><span class="c24 c247 c68 c39 c186">Additional artifacts:</span></p><p class="c41 c101"><span class="c67 c3 c68 c39">This prose specification is one component of a Work Product that also includes:</span></p><ul class="c12 lst-kix_list_1-0 start"><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">XML schemas:</span><span class="c3 c68 c254 c39 c127 c186">&nbsp;</span><span class="c67 c3 c68 c39">(list file names or directory name)</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Other parts (list titles and/or file names)</span></li><li class="c139 c101 c161 li-bullet-0"><span class="c67 c3 c68 c39 c64">(</span><span class="c67 c24 c68 c39 c64">Note:</span><span class="c67 c3 c68 c39 c64">&nbsp;Any normative computer language definitions that are part of the Work Product, such as XML instances, schemas and Java(TM) code, including fragments of such, must be (a) well formed and valid, (b) provided in separate plain text files, (c) referenced from the Work Product; and (d) where any definition in these separate files disagrees with the definition found in the specification, the definition in the separate file prevails. Remove this note before submitting for publication.)</span></li></ul><a id="id.2et92p0"></a><p class="c224 c101 c45"><span class="c24 c247 c68 c39 c186">Related work:</span></p><p class="c41 c101"><span class="c67 c3 c68 c39">This specification is related to:</span></p><ul class="c12 lst-kix_list_1-0"><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c7">MQTT Version 5.0</span><span class="c67 c3 c68 c39">. Edited by Andrew Banks, Ed Briggs, Ken Borgendale, and Rahul Gupta. OASIS Standard. Latest version: </span><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html&amp;sa=D&amp;source=editors&amp;ust=1711133545426905&amp;usg=AOvVaw2w1E-oha6uhBN53XwwsQXI">https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html</a></span><span class="c3 c68 c254 c39 c127 c186">.</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c7">MQTT Version 3.1.1</span><span class="c67 c3 c68 c39">. Edited by Andrew Banks and Rahul Gupta. OASIS Standard. Latest version: </span><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="https://www.google.com/url?q=http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html&amp;sa=D&amp;source=editors&amp;ust=1711133545427212&amp;usg=AOvVaw2X-gnFeKtGQ0jtH5pzpQoC">http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html</a></span><span class="c67 c3 c68 c39">.</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c7">MQTT-SN Version 1.2</span><span class="c67 c3 c68 c39">&nbsp;by Andy Stanford-Clark and Hong Linh Truong. Link: </span><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/download.php/66091/MQTT-SN_spec_v1.2.pdf&amp;sa=D&amp;source=editors&amp;ust=1711133545427504&amp;usg=AOvVaw0fTRm-XYu9EBAcPAE4bw8C">https://www.oasis-open.org/committees/download.php/66091/MQTT-SN_spec_v1.2.pdf</a></span><span class="c67 c3 c68 c39">.</span></li></ul><p class="c180 c101 c311 c72 c434"><span class="c67 c3 c68 c39"></span></p><p class="c224 c101 c45"><span class="c24 c247 c68 c39 c186">Abstract:</span></p><p class="c101 c180"><span class="c67 c3 c68 c39">This specification defines the MQTT for Sensor Networks protocol (MQTT-SN). It is closely related to the MQTT v3.1.1 and MQTT v5.0 standards. MQTT-SN is optimized for implementation on low-cost, battery-operated devices with limited processing and storage resources. It is designed so that it will work over a variety of networking technologies and bridge to an MQTT network.</span></p><p class="c224 c101 c45"><span class="c24 c68 c39 c186 c247">Status:</span></p><p class="c180 c101"><span class="c67 c3 c68 c39">This </span><span class="c3">document was last revised or approved by the OASIS Message Queuing Telemetry Transport (MQTT) TC on the above date.</span><span class="c67 c3 c68 c39">&nbsp;</span><span class="c3">The level of approval is also listed above. Check the &quot;Latest stage&quot; location noted above for possible later revisions of this document. Any other numbered Versions and other technical work produced by the Technical Committee (TC) are listed at </span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/tc_home.php?wg_abbrev%3Dmqtt%23technical&amp;sa=D&amp;source=editors&amp;ust=1711133545428171&amp;usg=AOvVaw3vrsYm_ERgEjjx6uSOAKfR">https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=mqtt#technical</a></span><span class="c67 c3 c68 c39">&nbsp;.</span></p><p class="c180 c101"><span class="c3">TC members should send comments on this document to the TC&#39;s email list. Others should send comments to the TC&#39;s public comment list, after subscribing to it by following the instructions at the &quot;</span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/comments/index.php?wg_abbrev%3Dmqtt&amp;sa=D&amp;source=editors&amp;ust=1711133545428447&amp;usg=AOvVaw3MBX5Bu5bq7e3oa0Ce2lqd">Send A Comment</a></span><span class="c3">&quot; button on the TC&#39;s web page at </span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/&amp;sa=D&amp;source=editors&amp;ust=1711133545428616&amp;usg=AOvVaw2GbIFbfqNI2ILzdvazPn4G">https://www.oasis-open.org/committees/mqtt/</a></span><span class="c60 c3 c39">.</span></p><p class="c180 c101"><span class="c67 c3 c68 c39">This specification is provided under the </span><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr%23Non-Assertion-Mode&amp;sa=D&amp;source=editors&amp;ust=1711133545428888&amp;usg=AOvVaw2VYe_zCsulckJj86azdPEN">Non-Assertion</a></span><span class="c67 c3 c68 c39">&nbsp;Mode of the </span><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr&amp;sa=D&amp;source=editors&amp;ust=1711133545429057&amp;usg=AOvVaw2MEP9l7b9sdFKc7EOcExJz">OASIS IPR Policy</a></span><span class="c67 c3 c68 c39">, the mode chosen when the Technical Committee was established. For information on whether any patents have been disclosed that may be essential to implementing this specification, and any offers of patent licensing terms, please refer to the Intellectual Property Rights section of the TC&rsquo;s web page (</span><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/ipr.php&amp;sa=D&amp;source=editors&amp;ust=1711133545429253&amp;usg=AOvVaw2dGVgvXIIKMxKvUhnrfbhk">https://www.oasis-open.org/committees/mqtt/ipr.php</a></span><span class="c3 c68 c254 c39 c127 c186">).</span></p><p class="c180 c101"><span class="c67 c3 c68 c39">Note that any machine-readable content (</span><span class="c3 c68 c39 c127 c186 c254"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsCompLang&amp;sa=D&amp;source=editors&amp;ust=1711133545429507&amp;usg=AOvVaw0Vir_FbmgbbH9-1_32O0JA">Computer Language Definitions</a></span><span class="c67 c3 c68 c39">) declared Normative for this Work Product is provided in separate plain text files. In the event of a discrepancy between any such plain text file and display content in the Work Product&#39;s prose narrative document(s), the content in the separate plain text file prevails.</span></p><p class="c224 c101 c66 c45"><span class="c87 c24 c39 c78">Keywords:</span></p><p class="c180 c101"><span class="c3">The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be interpreted as described in BCP 14 [</span><span class="c3 c334">RFC2119</span><span class="c3">] and [</span><span class="c3 c334">RFC8174</span><span class="c60 c3 c39">] when, and only when, they appear in all capitals, as shown here.</span></p><p class="c224 c101 c45"><span class="c24 c395">Citation format</span><span class="c24 c247 c68 c39 c186">:</span></p><p class="c55"><span class="c60 c3 c39">When referencing this document, the following citation format should be used:</span></p><p class="c55"><span class="c60 c24 c39">[MQTT-SN-v2.0]</span></p><p class="c41 c101"><span class="c3 c68 c81 c7">MQTT for Sensor Networks Version 2.0</span><span class="c3 c68 c81">. Edited by Andrew Banks, Davide Lenzarini, Ian Craggs, Rahul Gupta, Simon Johnson, Stefan Hagen, and Tara E. Walker. 08 December 2023. OASIS Committee Specification Draft 01. </span><span class="c52 c3"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt-sn/v12.30/csd01/mqtt-sn-v12.30-csd01.docx&amp;sa=D&amp;source=editors&amp;ust=1711133545430453&amp;usg=AOvVaw0U5EodPiP8efKHRejMl9QT">https://docs.oasis-open.org/mqtt/mqtt-sn/v2.0/csd01/mqtt-sn-v2.0-csd01.docx</a></span><span class="c3 c68 c81">. Latest stage: </span><span class="c3 c52"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt-sn/v12.30/mqtt-sn-v12.30.docx&amp;sa=D&amp;source=editors&amp;ust=1711133545430653&amp;usg=AOvVaw14CnQJjhEHrN-aO4SBuuh1">https://docs.oasis-open.org/mqtt/mqtt-sn/v2.0/mqtt-sn-v2.0.docx</a></span><sup><a href="#cmnt2" id="cmnt_ref2">[b]</a></sup></p><p class="c180 c101"><span class="c67 c3 c68 c39 c64">(</span><span class="c67 c24 c68 c39 c64">Note:</span><span class="c67 c3 c68 c39 c64">&nbsp;Publication URIs are managed by OASIS TC Administration; please don&#39;t modify. The </span><span class="c67 c3 c68 c39 c64"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsGeneral&amp;sa=D&amp;source=editors&amp;ust=1711133545431060&amp;usg=AOvVaw2LRB3nEZCXYkoks-fdfuq3">OASIS TC Process</a></span><span class="c67 c3 c68 c39 c64">&nbsp;requires that Work Products at any level of approval must use the </span><span class="c67 c3 c68 c39 c64"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/specGuidelines/ndr/namingDirectives.html&amp;sa=D&amp;source=editors&amp;ust=1711133545431251&amp;usg=AOvVaw1pJG5RW-Dd9jMthtJ_-iaB">OASIS file naming scheme</a></span><span class="c67 c3 c68 c39 c64">, and must include the OASIS copyright notice. The URIs above have been constructed according to the file naming scheme. Remove this note before submitting for publication.)</span></p><p class="c180 c101 c72"><span class="c67 c3 c68 c39"></span></p><p class="c101 c442"><span class="c24 c247 c39 c186 c336">Notices</span></p><p class="c55"><span class="c60 c3 c39">Copyright &copy; OASIS Open 2023. All Rights Reserved.</span></p><p class="c55"><span class="c3">Distributed under the terms of the OASIS IPR Policy, [</span><span class="c404 c3 c334"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1711133545431699&amp;usg=AOvVaw15_ikxlZYmEfOdnfX_J6ur">https://www.oasis-open.org/policies-guidelines/ipr/</a></span><span class="c60 c3 c39">]. For complete copyright information please see the full Notices section in an Appendix below.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c9 c72"><span class="c60 c3 c39"></span></p><p class="c442 c101"><span class="c24 c247 c336 c39 c186">Table of Contents</span></p><p class="c47"><span class="c67 c3 c39"><a class="c29" href="#h.3dy6vkm">1 Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.4olrp2glo5nb">1.1 MQTT For Sensor Networks (MQTT-SN)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.ox4v8n854qgm">1.1.1 MQTT-SN and MQTT Differences&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.v5qicb1pcnem">1.2 Changes from earlier Versions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.5u7dbejbytfw">1.2.1 MQTT-SN v1.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.4d34og8">1.3 Organization of the MQTT-SN specification&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.17dp8vu">1.4 Terminology&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.2bn6wsx">1.4 Data representation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.qsh70q">1.4.1 Bits (Byte)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.3as4poj">1.4.2 Two Byte Integer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1pxezwc">1.4.3 Four Byte Integer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.49x2ik5">1.4.4 UTF-8 Encoded String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13</a></span></p><p class="c47"><span class="c67 c3 c39"><a class="c29" href="#h.3o7alnk">2 MQTT-SN Control Packet format&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.23ckvvd">2.1 Structure of an MQTT-SN Control Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1hmsyys">2.1.1 Packet Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.vx1227">2.1.2 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1v1yuxt">2.1.3 MQTT-SN Control Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.19c6y18">2.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;17</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.nmf14n">2.3 MQTT-SN Packet Fields&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.37m2jsg">2.3.1 Protocol Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1mrcu09">2.3.2 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.46r0co2">2.3.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.111kx3o">2.3.4 Topic Alias Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.3l18frh">2.3.5 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.206ipza">2.3.6 Will Payload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.4k668n3">2.3.7 Will Topic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.2zbgiuw">2.4 Topic Alias Types&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c47"><span class="c67 c3 c39"><a class="c29" href="#h.1egqt2p">3 MQTT-SN Control Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.3ygebqi">3.1 Format of Individual Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.2dlolyb">3.1.1 ADVERTISE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.sqyw64">3.1.1.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3cqmetx">3.1.1.2 GwId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1rvwp1q">3.1.1.3 Duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.4bvk7pj">3.1.2 SEARCHGW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2r0uhxc">3.1.2.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;27</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1664s55">3.1.2.2 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;27</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.3q5sasy">3.1.3 GWINFO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;27</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.25b2l0r">3.1.3.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.kgcv8k">3.1.3.2 GwId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.34g0dwd">3.1.3.3 GwAdd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1jlao46">3.1.4 CONNECT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.43ky6rz">3.1.4.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2iq8gzs">3.1.4.2 Connect Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.xvir7l">3.1.4.3 Protocol Version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.4h042r0">3.1.4.4 Keep Alive Timer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1baon6m">3.1.4.5 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3vac5uf">3.1.4.6 Max Packet Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.pkwqa1">3.1.4.7 Client Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.u38i2mpp332q">3.1.4.8 Connect Will Flags (optional, only with Will flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.6mntinqaom6n">3.1.4.9 Will Topic Alias or Will Topic Length (optional, only with Will flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.g5w1zpmaiace">3.1.4.10 Will Payload Length (optional, only with Will flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.o88zms19c5d1">3.1.4.11 Will Payload (optional, only with Will flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.mw1gvx9qi5t0">3.1.4.12 Authentication Method Length (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.4ydjyi9y5y20">3.1.4.13 Authentication Method (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.5hocu94eubqg">3.1.4.14 Authentication Data Length (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.g9mib2nvvlzy">3.1.4.15 Authentication Data (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.39kk8xu">3.1.5 CONNACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2nusc19">3.1.5.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1302m92">3.1.5.2 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3mzq4wv">3.1.5.3 Connack Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2250f4o">3.1.5.4 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3wmneavoet74">3.1.5.5 Authentication Method Length (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.ydayklwjstjk">3.1.5.6 Authentication Method (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.kvppk7yh36lv">3.1.5.7 Authentication Data Length (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.600ktmi3vm5o">3.1.5.8 Authentication Data (optional, only with Auth flag set)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.haapch">3.1.5.8 Assigned Client Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.184mhaj">3.1.6 AUTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3s49zyc">3.1.6.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.279ka65">3.1.6.2 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.meukdy">3.1.6.3 Auth Method Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.36ei31r">3.1.6.4 Auth Method&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1ljsd9k">3.1.6.5 Auth Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.45jfvxd">3.1.7 REGISTER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2koq656">3.1.7.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.zu0gcz">3.1.7.2 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3jtnz0s">3.1.7.3 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1yyy98l">3.1.7.4 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.4iylrwe">3.1.8 REGACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2y3w247">3.1.8.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1d96cc0">3.1.8.2 REGACK Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3x8tuzt">3.1.8.3 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2ce457m">3.1.8.4 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.rjefff">3.1.8.5 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c94"><span class="c67 c96 c39"><a class="c29" href="#h.3bj1y38">3.1.9 Publish Variants&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.j8sehv">3.1.10 PUBLISH WITHOUT SESSION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.338fx5o">3.1.10.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1idq7dh">3.1.10.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.42ddq1a">3.1.10.3 Topic Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2hio093">3.1.10.4 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.wnyagw">3.1.11 PUBLISH (used for QoS 0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3gnlt4p">3.1.11.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1vsw3ci">3.1.11.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.4fsjm0b">3.1.11.3 Topic Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2uxtw84">3.1.11.4 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1a346fx">3.1.12 PUBLISH (used for QoS 1 &amp; 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3u2rp3q">3.1.12.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2981zbj">3.1.12.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1nia2ey">3.1.12.4 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.47hxl2r">3.1.12.5 Topic Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2mn7vak">3.1.12.6 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.11si5id">3.1.13 PUBACK &ndash; Publish Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3ls5o66">3.1.13.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.20xfydz">3.1.13.2 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.4kx3h1s">3.1.13.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.302dr9l">3.1.14 PUBREC (QoS 2 delivery part 1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1f7o1he">3.1.14.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3z7bk57">3.1.14.2 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.e5jf58hkzqw8">3.1.14.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.2eclud0">3.1.15 PUBREL (QoS 2 delivery part 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.thw4kt">3.1.15.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3dhjn8m">3.1.15.2 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.o7qegribw1em">3.1.15.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1smtxgf">3.1.16 PUBCOMP (QoS 2 delivery part 3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.4cmhg48">3.1.16.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2rrrqc1">3.1.16.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.j9ce9nedlrkd">3.1.16.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.16x20ju">3.1.17 SUBSCRIBE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3qwpj7n">3.1.17.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c20"><span class="c3 c39 c67"><a class="c29" href="#h.261ztfg">3.1.17.2 SUBSCRIBE Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.l7a3n9">3.1.17.3 Packet Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.356xmb2">3.1.17.4 Topic Data or Topic Filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1kc7wiv">3.1.18 SUBACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.44bvf6o">3.1.18.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2jh5peh">3.1.18.2 Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.ymfzma">3.1.18.3 Topic Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3im3ia3">3.1.18.4 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1xrdshw">3.1.18.5 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.4hr1b5p">3.1.19 UNSUBSCRIBE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1c1lvlb">3.1.19.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3w19e94">3.1.19.2 UNSUBSCRIBE Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2b6jogx">3.1.19.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.qbtyoq">3.1.19.4 Topic Data or Topic Filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.3abhhcj">3.1.20 UNSUBACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1pgrrkc">3.1.20.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.49gfa85">3.1.20.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2olpkfy">3.1.20.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.13qzunr">3.1.21 PINGREQ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3nqndbk">3.1.21.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.22vxnjd">3.1.21.2 Client Identifier (optional)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.i17xr6">3.1.22 PINGRESP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.320vgez">3.1.22.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1h65qms">3.1.22.2 Messages Remaining&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.415t9al">3.1.23 DISCONNECT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2gb3jie">3.1.23.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.vgdtq7">3.1.23.2 Disconnect Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3fg1ce0">3.1.23.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1ulbmlt">3.1.23.4 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.4ekz59m">3.1.23.5 Reason String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1e03kqp">3.1.24 Forwarder Encapsulation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3xzr3ei">3.1.24.1 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.2d51dmb">3.1.24.2 Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.sabnu4">3.1.24.3 Ctrl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3c9z6hx">3.1.24.4 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.1rf9gpq">3.1.24.5 Wireless Node Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.4bewzdj">3.1.24.6 MQTT SN Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.15cqrsoyxc87">3.1.25 Protection Encapsulation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.j9tutdzg8gdj">3.1.25.1 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.8duggxbcbw2">3.1.25.2 Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.g1mmf1c4lvqh">3.1.25.3 Protection Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.m1zk7agco355">3.1.25.4 Protection Scheme&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.jo2d2fngx6hj">3.1.25.5 Sender Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.vjl219ghlhvi">3.1.25.6 Random&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.q30yx1mc4rc1">3.1.25.7 Crypto Material&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3y6o9vhqakro">3.1.25.8 Monotonic Counter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.dovnwl46a7is">3.1.25.9 Protected MQTT-SN Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.j75p96o6vesm">3.1.25.10 Authentication Tag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c47"><span class="c67 c3 c39"><a class="c29" href="#h.2qk79lc">4 Operational behavior&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.15phjt5">4.1 Example MQTT-SN Architecture(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.3pp52gy">4.1.1 Transparent Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.24ufcor">4.1.2 Aggregating Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.jzpmwk">4.2 Networks &amp; Transport Layers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.1j4nfs6">4.3 Gateway Advertisement and Discovery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.434ayfz">4.4 Session Establishment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.2i9l8ns">4.5 Quality of Service levels and protocol flows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.xevivl">4.5.1 QoS 0: At most once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1au1eum">4.5.2 QoS 1: At least once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1o97atn">4.5.3 QoS 2: Exactly once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.3mj2wkv">4.6 Client states&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.qfa0p4gzzbmu">4.6.1 Gateway timers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.21od6so">4.7 Session state&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.gtnh0h">4.8 Clean start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.1fyl9w3">4.10 Topic Name and Topic Filter Registration Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.3zy8sjw">4.11 Topic Name and Topic Filter Mapping and Aliasing&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.2f3j2rp">4.12 Predefined topic alias&rsquo; and short topic names&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.u8tczi">4.13 Client&rsquo;s Topic Subscribe/Unsubscribe Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.3e8gvnb">4.14 Client&rsquo;s Publish Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.1tdr5v4">4.15 Gateway&rsquo;s Publish Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.4ddeoix">4.16 Keep Alive and PING Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.2sioyqq">4.17 Client&rsquo;s Disconnect Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.17nz8yj">4.18 Client&rsquo;s Retransmission Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.3rnmrmc">4.19 Sleeping clients&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.26sx1u5">4.20 Authentication&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.ly7c1y">4.21 Retained Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.mo7ahow0t2fa">4.22 Optional Features&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c47"><span class="c67 c3 c39"><a class="c29" href="#h.2k82xt6">5 Conformance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c47"><span class="c67 c24 c39"><a class="c29" href="#h.zdd80z">Appendix A. References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.2pjpzxrro3v8">A.1 Normative References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.wmz8ensz9jqs">A.2 Informative References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;82</a></span></p><p class="c47"><span class="c67 c24 c39"><a class="c29" href="#h.twhu880t27o">Appendix B. Backwards Compatibility&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83</a></span></p><p class="c94"><span class="c67 c3 c39"><a class="c29" href="#h.1qoc8b1">B.1 PUBLISH QoS -1 (Packet from MQTT-SN 1.2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.4anzqyu">B.1.1 Length &amp; Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.14ykbeg">B.1.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.3oy7u29">B.1.3 Topic Id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;84</a></span></p><p class="c20"><span class="c67 c3 c39"><a class="c29" href="#h.243i4a2">B.1.4 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;84</a></span></p><p class="c47"><span class="c67 c24 c39"><a class="c29" href="#h.55r6c0xsdoov">Appendix C. Security and Privacy Considerations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;85</a></span></p><p class="c47"><span class="c67 c24 c39"><a class="c29" href="#h.bc8w7ov5oli4">Appendix D. Acknowledgments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.glow6i83isd5">D.1 Special Thanks&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.tdeowwajj1wf">D.2 Participants&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c47"><span class="c67 c24 c39"><a class="c29" href="#h.ewpzaw2f211a">Appendix E. Revision History&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;87</a></span></p><p class="c47"><span class="c67 c24 c39"><a class="c29" href="#h.3jd0qos">Appendix F. Implementation Notes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;92</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.1yib0wl">F.1 Support of PUBLISH WITHOUT SESSION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;92</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.4ihyjke">F.2 &ldquo;Best practice&rdquo; values for timers and counters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;92</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.2xn8ts7">F.3 Mapping of Topic Alias to Topic Names and Topic Filters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;92</a></span></p><p class="c85"><span class="c67 c3 c39"><a class="c29" href="#h.1csj400">F.4 Exponential Backoff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;92</a></span></p><p class="c47"><span class="c67 c24 c39"><a class="c29" href="#h.sg1xgdru14ui">Appendix G. Notices</a></span><span class="c4"><a class="c29" href="#h.sg1xgdru14ui">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;94</a></span></p><p class="c2" id="h.tyjcwt"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-0 start"><li class="c101 c241 c161 c45 c333 c359 li-bullet-0"><h1 id="h.3dy6vkm" style="display:inline"><span class="c38 c244">1 Introduction</span></h1></li></ul><p class="c36"><span class="c3">[</span><span class="c3 c64">All text is normative unless otherwise labeled</span><span class="c60 c3 c39">]</span></p><ul class="c12 lst-kix_list_3-1 start"><li class="c189 c101 c161 c45 c216 li-bullet-0"><h2 id="h.4olrp2glo5nb" style="display:inline"><span class="c111 c244 c39 c78">1.1 MQTT For Sensor Networks (MQTT-SN) </span></h2></li></ul><p class="c36"><span class="c60 c3 c39">Sensor Networks are simple, low cost and easy to deploy, they are typically used to provide, event detection, monitoring, automation, process control and more. Sensor Networks often comprise of many battery-powered sensors and actuators, each containing a limited amount of storage and processing capability. They usually communicate wirelessly.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">Sensor Networks are self-forming, continually change, and do not have any central control. The wireless network connections and processing nodes will fail, and the batteries will run out. The nodes will be replaced, added or removed in an unplanned way. The identities of the devices are usually created when they are manufactured, this avoids the need for specialist configuration when they are deployed. Applications running outside the Sensor Network do not need to know the details of the devices in it. The applications consume information from the sensors and send instructions to actuators based only on labels created by the application designers. The labels are called Topic Names in the MQTT and MQTT-SN protocols. The MQTT-SN implementation carries the information between a set of applications and the correct set of devices based on its knowledge of the network and the applications designer&rsquo;s choice of Topic Names. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">Consider an example of a medicine tracking application. The application needs to know the location and temperature of the medicine, but it does not want to concern itself with the network details of the devices providing the data. It may be that the number and types of the devices changes over time. There may also be other applications using the same sensor data for other purposes. The model is that the devices and applications produce and consume data to and from the Topics rather than the other devices and applications.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c60 c3 c39">This MQTT-SN specification is a variant of the MQTT version 5 specification. It is adapted to exploit low power and low bandwidth wireless networks. Low power wireless radio links have higher numbers of transmission errors compared to more powerful networks because they are more susceptible to interference and fading of the radio signals. They also have lower transmission rates. </span></p><p class="c173 c101 c66 c361 c72"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c60 c3 c39">For example, wireless networks based on the IEEE 802.15.4 standard used by Zigbee have a maximum bandwidth of 250 kbit/s in the 2.4 GHz band. To reduce transmission errors the packets are kept short. The maximum packet length at the physical layer is 128 bytes and half of these may be used for Media Access Control and security.</span></p><p class="c173 c101 c66 c72 c361"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">The MQTT-SN protocol is optimized for implementation on low-cost, battery-operated devices with limited processing and storage resources. The capabilities are kept simple and the specification allows partial implementations.</span></p><ul class="c12 lst-kix_list_3-2 start"><li class="c189 c101 c161 c45 c403 li-bullet-0"><h3 id="h.ox4v8n854qgm" style="display:inline"><span class="c244 c247 c39 c78 c186 c363">1.1.1 MQTT-SN and MQTT Differences</span></h3></li></ul><p class="c36"><span class="c138 c39 c452 c78">MQTT and MQTT-SN specifications are similar in many ways and meant to interoperate with each other, but the two specifications are independent of each other.</span></p><p class="c36"><span class="c60 c3 c39">MQTT-SN can work isolated from other networks or in conjunction with MQTT. The main differences between MQTT-SN and MQTT are:</span></p><ol class="c12 lst-kix_list_16-0 start" start="1"><li class="c124 c101 li-bullet-1"><span class="c60 c3 c39">MQTT-SN uses separate packets to transfer the Will Topic and Will Payload if they are used. The Will Topic and Will Payload can be modified during the lifetime of a Session.</span></li><li class="c124 c101 li-bullet-1"><span class="c60 c3 c39">In addition to Topic Alias and long Topic Names MQTT-SN allows predefined and short two-byte Topic Names.</span></li><li class="c124 c101 li-bullet-1"><span class="c60 c3 c39">If the network supports broadcast, Gateway discovery can be implemented, otherwise the Gateway addresses must be configured in the nodes.</span></li><li class="c124 c101 li-bullet-1"><span class="c60 c3 c39">The Will message is part of the Session State and is discarded as part of Clean Start processing.</span></li><li class="c101 c124 li-bullet-1"><span class="c60 c3 c39">Support for sleeping clients allows battery operated devices to enter a low power mode. In this state, messages for the client are buffered by the Gateway and delivered when the client wakes.</span></li><li class="c124 c101 li-bullet-1"><span class="c3">A new Quality of Service level (</span><span class="c3">OUT </span><span class="c3">OF </span><span class="c3">BAND</span><span class="c60 c3 c39">) is introduced in MQTT-SN, allowing devices to publish without a GW session having been established.</span></li><li class="c124 c101 li-bullet-2"><span class="c60 c3 c39">MQTT-SN doesn&rsquo;t have any requirement on the underlying transport and it can use connectionless network transports such as User Datagram Protocol (UDP).</span></li><li class="c124 c101 li-bullet-2"><span class="c60 c3 c39">MQTT-SN introduced the Protection packet for message-based security based on symmetric cryptography. </span></li></ol><ul class="c12 lst-kix_list_3-1 start"><li class="c189 c101 c45 c535 li-bullet-3"><h2 id="h.v5qicb1pcnem" style="display:inline"><span class="c111 c244 c39 c78">1.2 Changes from earlier Versions</span></h2></li></ul><p class="c36"><span class="c3 c127">[</span><span class="c3 c127 c64">Optional section.</span><span class="c145 c3 c39 c127 c78">]</span></p><p class="c55"><span class="c145 c3 c39 c127 c78">This section provides a description of significant differences from previously published, differently numbered Versions of this specification, if any. (Detailed revision history of this numbered Version should be tracked in an Appendix.)</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c189 c101 c161 c45 c403 li-bullet-0"><h3 id="h.5u7dbejbytfw" style="display:inline"><span class="c21">1.2.1 MQTT-SN v1.2</span></h3></li></ul><p class="c36"><span class="c3">Text describing the changes/differences</span><sup><a href="#cmnt3" id="cmnt_ref3">[c]</a></sup></p><ul class="c12 lst-kix_list_3-2"><li class="c33 c72"><h3 id="h.msufoaw194p2" style="display:inline"><span class="c244 c247 c39 c78 c186 c363"></span></h3></li></ul><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.4d34og8" style="display:inline"><span>1.3 </span><span class="c111 c24 c39 c78">Organization of the MQTT-SN specification</span></h2></li></ul><p class="c36"><span class="c60 c3 c39">The specification is split into seven chapters:</span></p><ul class="c12 lst-kix_list_13-0 start"><li class="c173 c101 c161 c204 li-bullet-0" id="h.2s8eyo1"><span class="c67 c3 c68 c39"><a class="c29" href="#h.2bxgwvm">Chapter</a></span><span class="c67 c3 c68 c39">&nbsp;1 &ndash; Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></li><li class="c41 c101 c161 c204 li-bullet-0"><span class="c67 c3 c68 c39">Chapter 2 &ndash; MQTT-SN Control Packet format</span></li><li class="c41 c101 c161 c204 li-bullet-0"><span class="c67 c3 c68 c39">Chapter 3 &ndash; MQTT-SN Control Packet listing</span></li><li class="c41 c101 c161 c204 li-bullet-0"><span class="c67 c3 c68 c39">Chapter 4 &ndash; Operational Behavior</span></li><li class="c180 c101 c161 c204 li-bullet-0"><span class="c67 c3 c68 c39">Chapter </span><span class="c3">5</span><span class="c67 c3 c68 c39">&nbsp;&ndash; Conformance</span></li></ul><p class="c180 c101 c72 c440"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.17dp8vu" style="display:inline"><span class="c3">1.4 </span><span>Terminology</span></h2></li></ul><p class="c131 c101 c66" id="h.3rdcrjn"><span class="c3">The keywords &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this specification are to be interpreted as described in IETF RFC 2119 </span><span class="c3 c127">[RFC2119]</span><span class="c3">, except where they appear in text that is marked as non-normative.</span></p><p class="c36" id="h.26in1rg"><span class="c60 c24 c39">Application Message:</span></p><p class="c36"><span class="c60 c3 c39">The data carried by the MQTT-SN protocol across the network for the application. When an Application Message is transported by MQTT-SN it contains payload data, a Quality of Service (QoS) and a Topic Name.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><a id="id.lnxbz9"></a><p class="c36" id="h.35nkun2"><span class="c60 c24 c39">Client:</span></p><p class="c36"><span class="c60 c3 c39">A program or device that uses MQTT-SN. A Client:</span></p><ul class="c12 lst-kix_list_29-0 start"><li class="c173 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">Optionally Connects to the Gateway</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">publishes Application Messages to topics.</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">subscribes to request Application Messages that it is interested in receiving.</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">unsubscribes to remove a request for Application Messages.</span></li><li class="c180 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">Issues a DISCONNECT to the Gateway.</span></li></ul><p class="c2"><span class="c60 c24 c39"></span></p><p class="c36"><span class="c60 c24 c39">Gateway (abbrev. GW):</span></p><p class="c36"><span class="c60 c3 c39">A program or device accepting MQTT-SN protocol packets from Clients. A Gateway:</span></p><ul class="c12 lst-kix_list_28-0 start"><li class="c173 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">accepts CONNECT packets from Clients and initializes Sessions.</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">accepts Application Messages published by Clients and sends them to the Server.</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">processes Subscribe and Unsubscribe requests from Clients.</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">forwards Application Messages from the Server to Clients.</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">maintains a Gateway &ldquo;Session&rdquo; for each Client on the GW.</span></li><li class="c180 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">maintains a dictionary of topic alias&rsquo;s for each Client.</span></li></ul><p class="c2"><span class="c60 c24 c39"></span></p><p class="c36"><span class="c60 c24 c39">Server or Broker:</span></p><p class="c36"><span class="c60 c3 c39">A program or device accepting MQTT protocol connections from the Gateways. A Server or Broker:</span></p><ul class="c12 lst-kix_list_28-0"><li class="c173 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">accepts Network Connections from Gateways.</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">Ultimately accepts Application Messages published by Clients.</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">processes Subscribe and Unsubscribe requests from Clients.</span></li><li class="c41 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">forwards Application Messages that match Client Subscriptions to the Gateways.</span></li><li class="c180 c101 c144 li-bullet-0"><span class="c67 c3 c68 c39">closes the Network Connection from the Gateway.</span></li></ul><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36" id="h.1ksv4uv"><span class="c24">Session:</span></p><p class="c36"><span class="c3 c78 c383">A session is the shared state between client and gateway.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c24">Unicast:</span></p><p class="c36"><span class="c60 c3 c39">A one-to-one transmission from a Client to a Gateway or from a Gateway to a Client.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c24 c39">Broadcast:</span></p><p class="c36"><span class="c60 c3 c39">A one-to-many transmission from a Client or from a Gateway that is not destined respectively for a specific Gateway or Client. In case the IP protocol stack is used, this definition includes both the broadcast addressing and the multicast addressing schemes. </span></p><p class="c2"><span class="c60 c24 c39"></span></p><p class="c36"><span class="c60 c24 c39">Transport Layer:</span></p><p class="c36"><span class="c60 c3 c39">The transmission protocol used to send and receive the MQTT-SN packets, for example UDP/IP.</span></p><p class="c2"><span class="c60 c24 c39"></span></p><p class="c36"><span class="c60 c24 c39">Virtual Connection:</span></p><p class="c36"><span class="c3">Carries the MQTT-SN data between a Client and a Gateway.</span></p><p class="c36"><span class="c3">Refer to section 3.2 Networks &amp; Transport Layers for informative examples.</span></p><p class="c2"><span class="c60 c24 c39"></span></p><p class="c36"><span class="c60 c24 c39">Subscription:</span></p><p class="c36"><span class="c3">A Subscription comprises a Topic Filter and a maximum QoS. A Subscription is associated with a single Session. A Session can contain more than one Subscription. Each Subscription within a Session has a different Topic Filter. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c24 c39">Topic Alias:</span></p><p class="c36"><span class="c60 c3 c39">A topic alias is a 16-bit unsigned integer assigned by the Gateway during a session or pre-assigned by the application which represents and replaces a topic name or topic filter in the protocol packets.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c24 c39">Topic Name:</span></p><p class="c36"><span class="c60 c3 c39">The label attached to an Application Message which is matched against the Subscriptions known to the Gateway / Server.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c24 c39">Topic Filter:</span></p><p class="c36"><span class="c60 c3 c39">An expression contained in a Subscription to indicate an interest in one or more topics. A Topic Filter can include wildcard characters.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c24 c39">Wildcard Subscription:</span></p><p class="c36"><span class="c3">A Wildcard Subscription is a Subscription with a Topic Filter containing one or more wildcard characters. This allows the subscription to match more than one Topic Name. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36" id="h.44sinio"><span class="c60 c24 c39">Control Packet:</span></p><p class="c36"><span class="c60 c3 c39">A packet of information that is sent across the Virtual Connection. The MQTT-SN specification defines 31 (twenty nine) different types of MQTT-SN Control Packet, for example the PUBLISH packet is used to convey Application Messages.</span></p><p class="c2"><span class="c60 c24 c39"></span></p><p class="c36"><span class="c60 c24 c39">Wireless Sensor Networks (abbrev. WSN):</span></p><p class="c36"><span class="c3 c352">N</span><span class="c145 c3 c39 c78 c352">etworks of spatially dispersed and dedicated sensors that monitor and record the physical conditions of the environment and forward the collected data to a central location.</span></p><p class="c2"><span class="c145 c3 c39 c78 c352"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.2bn6wsx" style="display:inline"><span class="c111 c244 c39 c78">1.4 Data representation</span></h2></li></ul><ul class="c12 lst-kix_list_3-2 start"><li class="c33"><h3 id="h.qsh70q" style="display:inline"><span>1.4.1 </span><span class="c21">Bits (Byte)</span></h3></li></ul><p class="c36"><span class="c60 c3 c39">Bits in a byte are labeled 7 to 0. Bit number 7 is the most significant bit, the least significant bit is assigned bit number 0.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.3as4poj" style="display:inline"><span>1.4.2 </span><span class="c21">Two Byte Integer</span></h3></li></ul><p class="c36"><span class="c60 c3 c39">Two Byte Integer data values are 16-bit unsigned integers in big-endian order: the high order byte precedes the lower order byte. This means that a 16-bit word is presented on the network as Most Significant Byte (MSB), followed by Least Significant Byte (LSB).</span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.1pxezwc" style="display:inline"><span>1.4.3 </span><span class="c21">Four Byte Integer</span></h3></li></ul><p class="c36"><span class="c3 c81">Four Byte Integer data values are 32-bit unsigned integers in big-endian order: the high order byte precedes the successively lower order bytes. This means that a 32-bit word is presented on the network as Most Significant Byte (MSB), followed by the next most Significant Byte (MSB), followed by the next most Significant Byte (MSB), followed by Least Significant Byte (LSB).</span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.49x2ik5" style="display:inline"><span>1.4.4 </span><span class="c21">UTF-8 Encoded String</span></h3></li></ul><p class="c36"><span class="c3 c81">Text fields within the MQTT-SN Control Packets are encoded as fixed length UTF-8 strings. UTF-8&nbsp;</span><span class="c3 c334 c254"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC3629&amp;sa=D&amp;source=editors&amp;ust=1711133545468238&amp;usg=AOvVaw0W97hhTZVHUw51Ss8qlzla">[RFC3629]</a></span><span class="c3 c81">&nbsp;is an efficient encoding of Unicode&nbsp;</span><span class="c3 c334 c254"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1711133545468598&amp;usg=AOvVaw0M4T4hKPSqxFsE4hJN4JKL">[Unicode]</a></span><span class="c37 c3 c78">&nbsp;characters that optimizes the encoding of ASCII characters in support of text-based communications.</span></p><p class="c36"><span class="c37 c3 c78">&nbsp;</span></p><p class="c36"><span class="c37 c3 c78">Unless stated otherwise all variable length UTF-8 encoded strings can have any length in the range 0 to 65,535 bytes.</span></p><p class="c36"><span class="c37 c3 c78">&nbsp;</span></p><a id="t.e989406d1f250257c3cdf948c0679b8cedd5b285"></a><a id="t.0"></a><table class="c235"><tr class="c25"><td class="c121 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">Bit</span></p></td><td class="c156 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">7</span></p></td><td class="c156 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">6</span></p></td><td class="c156 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">5</span></p></td><td class="c75 c156" colspan="1" rowspan="1"><p class="c9"><span class="c24">4</span></p></td><td class="c156 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">3</span></p></td><td class="c156 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">2</span></p></td><td class="c156 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">1</span></p></td><td class="c156 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">0</span></p></td></tr><tr class="c25"><td class="c121" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">byte 1 &hellip;.</span></p></td><td class="c415" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">UTF-8 encoded character data, if length &gt; 0.</span></p></td></tr></table><p class="c9"><span class="c3">Table 1: </span><span class="c37 c3 c78">Structure of UTF-8 Encoded Strings</span></p><p class="c2"><span class="c37 c3 c78"></span></p><p class="c36"><span class="c3 c81 c64">The character data in a UTF-8 Encoded String MUST be well-formed UTF-8 as defined by the Unicode specification&nbsp;</span><span class="c3 c334 c254 c64"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1711133545476424&amp;usg=AOvVaw2a7zjzEPbFRX3USTee0PoU">[Unicode]</a></span><span class="c3 c81 c64">&nbsp;and restated in RFC 3629&nbsp;</span><span class="c3 c334 c254 c64"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC3629&amp;sa=D&amp;source=editors&amp;ust=1711133545476808&amp;usg=AOvVaw07nljDCKgvqEHqXLz0NG7p">[RFC3629]</a></span><span class="c3 c81 c64">. In particular, the character data MUST NOT include encodings of code points between U+D800 and U+DFFF</span><span class="c37 c3 c78">. If the Client or Server receives an MQTT Control Packet containing ill-formed UTF-8 it is a Malformed Packet</span></p><p class="c36"><span class="c37 c3 c78">&nbsp;</span></p><p class="c36"><span class="c3 c81 c64">A UTF-8 Encoded String MUST NOT include an encoding of the null character U+0000.&nbsp;</span><span class="c37 c3 c78">If a receiver (Server or Client) receives an MQTT-SN Control Packet containing U+0000 it is a Malformed Packet.</span></p><p class="c2"><span class="c37 c3 c78"></span></p><p class="c36"><span class="c37 c3 c78">The data SHOULD NOT include encodings of the Unicode [Unicode] code points listed below. If a receiver (Server or Client) receives an MQTT-SN Control Packet containing any of them it MAY treat it as a Malformed Packet. These are the Disallowed Unicode code points.</span></p><p class="c36"><span class="c37 c3 c78">&nbsp;</span></p><p class="c173 c101 c214 c434"><span class="c67 c3 c68 c39">&#61623;</span><span class="c67 c3 c39 c381">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c67 c3 c68 c39">U+0001..U+001F control characters</span></p><p class="c41 c101 c214 c434"><span class="c67 c3 c68 c39">&#61623;</span><span class="c67 c3 c39 c381">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c67 c3 c68 c39">U+007F..U+009F control characters</span></p><p class="c180 c101 c214 c434"><span class="c67 c3 c68 c39">&#61623;</span><span class="c67 c3 c39 c381">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c67 c3 c68 c39">Code points defined in the Unicode specification&nbsp;</span><span class="c3 c334 c68 c254 c39 c186"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1711133545478166&amp;usg=AOvVaw3U4M1fbn_1nun6FvB9YPjb">[Unicode]</a></span><span class="c67 c3 c68 c39">&nbsp;to be non-characters (for example U+0FFFF)</span></p><p class="c36"><span class="c37 c3 c78">&nbsp;</span></p><p class="c36"><span class="c3 c81 c64">A UTF-8 encoded sequence 0xEF 0xBB 0xBF is always interpreted as U+FEFF (&quot;ZERO WIDTH NO-BREAK SPACE&quot;) wherever it appears in a string and MUST NOT be skipped over or stripped off by a packet receiver</span><span class="c37 c3 c78">.</span></p><p class="c36"><span class="c37 c3 c78">&nbsp;</span></p><p class="c343 c101 c241 c354" id="h.2p2csry"><span class="c60 c24 c39">Informative example</span></p><p class="c101 c354 c241 c386"><span class="c3">For example, </span><span class="c3">the string A</span><span class="c401">&#173780;</span><span class="c3">&nbsp;which</span><sup><a href="#cmnt4" id="cmnt_ref4">[d]</a></sup><sup><a href="#cmnt5" id="cmnt_ref5">[e]</a></sup><span class="c3">&nbsp;is </span><span class="c3 c81">LATIN CAPITAL Letter A followed by the code point U+2A6D4 (which represents a CJK IDEOGRAPH EXTENSION B character)</span><span class="c60 c3 c39">&nbsp;is encoded as follows: </span></p><p class="c2" id="h.147n2zr"><span class="c60 c3 c39"></span></p><a id="t.66266b3804c1c5f8d46f2d87da536d40b15fd89e"></a><a id="t.1"></a><table class="c235"><tr class="c25"><td class="c168 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c169 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c169 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c190 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c190 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c190 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c190 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c190 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c190 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c168" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">byte 1</span></p></td><td class="c376" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">&lsquo;A&rsquo; (0x41)</span></p></td></tr><tr class="c25"><td class="c168" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td></tr><tr class="c25"><td class="c168" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">byte 2</span></p></td><td class="c376" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">(0xF0)</span></p></td></tr><tr class="c25"><td class="c168" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td></tr><tr class="c25"><td class="c168" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">byte 3</span></p></td><td class="c376" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">(0xAA)</span></p></td></tr><tr class="c25"><td class="c168" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td></tr><tr class="c510"><td class="c168" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">byte 4</span></p></td><td class="c376" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">(0x9B)</span></p></td></tr><tr class="c25"><td class="c168" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td></tr><tr class="c25"><td class="c168" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">byte 5</span></p></td><td class="c376" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">(0x94)</span></p></td></tr><tr class="c25"><td class="c168" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c169" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c190" colspan="1" rowspan="1"><p class="c9 c45"><span class="c17 c3">0</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 2: Fixed Length UTF-8 Encoded String </span><span class="c404">inf</span><span class="c52 c96 c39 c186">ormative example</span></p><ul class="c12 lst-kix_list_3-0"><li class="c359 c101 c311 c241 c45 c496 li-bullet-2"><h1 id="h.3o7alnk" style="display:inline"><span class="c38 c24">2 MQTT-SN Control Packet format</span></h1></li></ul><ul class="c12 lst-kix_list_3-1 start"><li class="c33"><h2 id="h.23ckvvd" style="display:inline"><span class="c111 c24 c39 c78">2.1 Structure of an MQTT-SN Control Packet</span></h2></li></ul><p class="c36"><span class="c60 c3 c39">The MQTT-SN protocol operates by exchanging a series of MQTT-SN Control Packets in a defined way. This section describes the format of these packets. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">An MQTT-SN Control Packet consists of up to two parts, always in the following order as shown below. </span></p><p class="c2" id="h.ihv636"><span class="c60 c3 c39"></span></p><a id="t.9611a07546edf7663f84bfb75af98c7833d5d707"></a><a id="t.2"></a><table class="c235"><tr class="c25"><td class="c430" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Control Packet Header, present in all MQTT-SN Control Packets</span></p></td></tr><tr class="c25"><td class="c430" colspan="1" rowspan="1"><p class="c9 c45"><span class="c17 c3">Control Packet Variable Part, present in some MQTT-SN Control Packets</span></p></td></tr></table><p class="c116 c101" id="h.32hioqz"><span class="c52 c96 c39 c186">Table 3: Structure of an MQTT-SN Control Packet</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.1hmsyys" style="display:inline"><span>2.1.1 </span><span class="c21">Packet Header</span></h3></li></ul><p class="c36"><span class="c60 c3 c39">Each MQTT-SN Control Packet contains a Header of format 1 or format 2 as shown below.</span></p><p class="c101 c72 c514"><span class="c67 c3 c327 c7"></span></p><a id="t.de127a1139e8df5e62965212d38c0a9032fa9564"></a><a id="t.3"></a><table class="c165"><tr class="c25"><td class="c75 c303" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Byte</span></p></td><td class="c143 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Use</span></p></td></tr><tr class="c25"><td class="c303" colspan="1" rowspan="1"><p class="c9" id="h.41mghml"><span class="c17 c3">1</span></p></td><td class="c143" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c303" colspan="1" rowspan="1"><p class="c9" id="h.2grqrue"><span class="c17 c3">2</span></p></td><td class="c143" colspan="1" rowspan="1"><p class="c9 c45"><span class="c17 c3">MQTT-SN Control Packet Type</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 4: Packet Header Format 1</span></p><p class="c101 c66 c72 c458"><span class="c60 c3 c39"></span></p><a id="t.a3bfd391f56e84692b8d8361920fea84ec9127e4"></a><a id="t.4"></a><table class="c165"><tr class="c25"><td class="c303 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Byte</span></p></td><td class="c75 c143" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Use</span></p></td></tr><tr class="c25"><td class="c303" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">1</span></p></td><td class="c143" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Length 0x01</span></p></td></tr><tr class="c25"><td class="c303" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">2</span></p></td><td class="c143" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Length MSB</span></p></td></tr><tr class="c25"><td class="c303" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">3</span></p></td><td class="c143" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Length LSB</span></p></td></tr><tr class="c25"><td class="c303" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">4</span></p></td><td class="c143" colspan="1" rowspan="1"><p class="c9 c45"><span class="c17 c3">MQTT-SN Control Packet Type</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 5: Packet Header Format 2</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c284 c101 c241 c255 c45"><h3 id="h.vx1227" style="display:inline"><span>2.1.2 </span><span class="c21">Length</span></h3></li></ul><p class="c101 c66 c367"><span class="c3">The </span><span class="c3 c7">Length </span><span class="c3">field is either 1-byte or 3-byte integer and specifies the total number of bytes contained in the packet (including the </span><span class="c3 c7">Length </span><span class="c60 c3 c39">field itself).</span></p><p class="c101 c66 c315"><span class="c3">If the first byte of the </span><span class="c3 c7">Length </span><span class="c3">field is coded &ldquo;0x01&rdquo; then the </span><span class="c3 c7">Length </span><span class="c3">field is 3-bytes long; in this case, the two following bytes specify the total number of bytes of the packet (most-significant byte first). Otherwise, the </span><span class="c3 c7">Length </span><span class="c60 c3 c39">field is only 1-byte long and specifies itself the total number of bytes contained in the packet.</span></p><p class="c173 c101 c66"><span class="c60 c3 c39">The 3-byte format allows the encoding of packet lengths up to 65,535 bytes. Packets with lengths up to and including 255 bytes MUST use the shorter byte format.</span></p><p class="c231 c101 c66 c361 c72"><span class="c60 c3 c39"></span></p><p class="c36 c477" id="h.3fwokq0"><span class="c60 c24 c39">Informative comment</span></p><p class="c231 c101 c241 c529"><span class="c60 c3 c39">MQTT-SN does not support packet fragmentation and reassembly, the maximum packet length that could be used in a network is governed by the maximum packet size that is supported by that network, and not by the maximum length that could be encoded by MQTT-SN.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c284 c101 c241 c255 c45"><h3 id="h.1v1yuxt" style="display:inline"><span>2.1.3 </span><span class="c21">MQTT-SN Control Packet Type</span></h3></li></ul><p class="c36"><span class="c3">The MQTT-SN Control Packet Type</span><span class="c3 c7">&nbsp;</span><span class="c60 c3 c39">field is 1-byte long and specifies the MQTT-SN Control Packet type which is one of the values shown below.</span></p><a id="t.4d1fc4503a41e0e75b7992f868960d3125ba8b8b"></a><a id="t.5"></a><table class="c235"><tr class="c25"><td class="c196 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Name</span></p></td><td class="c205 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Value</span></p></td><td class="c122 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Direction of flow</span></p></td><td class="c70 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Description</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">ADVERTISE</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x00</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Gateway broadcast</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Advertise the gateway presence</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">SEARCHGW</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x01</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client broadcast</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Client GWINFO request</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">GWINFO</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x02</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Response to a SEARCHGW</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">AUTH</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x03</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway or Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Authentication handshake</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">CONNECT</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x04</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Virtual Connection request</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">CONNACK</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x05</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Virtual Connection acknowledgement</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c101 c241 c516"><span class="c206 c24 c39 c78 c186">-Reserved- </span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c206 c3 c39 c78 c186">0x06-0x09</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9 c72"><span class="c206 c3 c39 c78 c186"></span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c206 c3 c39 c78 c186">Forbidden (Old Will Range)</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">REGISTER</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x0A</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Request topic alias</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">REGACK</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x0B</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Supply topic alias</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">PUBLISH</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x0C</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway or</span></p><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Publish packet</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">PUBACK</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x0D</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway or</span></p><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Publish acknowledgment (QoS 1) or Publish error (Any QoS).</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">PUBCOMP</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x0E</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway or</span></p><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Publish complete (QoS 2 delivery part 3)</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">PUBREC</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x0F</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway or</span></p><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Publish received (QoS 2 delivery part 1)</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">PUBREL</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x10</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway or</span></p><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Publish release (QoS 2 delivery part 2)</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c24">PUBLISH-OUT-OF </span><span class="c24">BAND</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x11</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c3">Publish packet for out of </span><span class="c3">band</span><span class="c3">&nbsp;messages which </span><span class="c3">need </span><span class="c17 c3">have no session on the gateway or broker</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">SUBSCRIBE</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x12</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Subscribe request</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">SUBACK</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x13</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Subscribe acknowledgment</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">UNSUBSCRIBE</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x14</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Unsubscribe request</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">UNSUBACK</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x15</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Unsubscribe acknowledgment</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">PINGREQ</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x16</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">PING request</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">PINGRESP</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x17</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">PING response</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">DISCONNECT</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0x18</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway or</span></p><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Disconnect notification</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c206 c24 c39 c78 c186">- Reserved - </span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c206 c3 c39 c78 c186">0x19</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9 c72"><span class="c206 c3 c39 c78 c186"></span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c206 c3 c39 c78 c186">Forbidden</span></p></td></tr><tr class="c25"><td class="c105 c196" colspan="1" rowspan="1"><p class="c9"><span class="c206 c24 c39 c78 c186">- Reserved - </span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c206 c3 c39 c78 c186">0x1A-0x1D</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9 c72"><span class="c206 c3 c39 c78 c186"></span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c206 c3 c39 c78 c186">Forbidden (Old Will Range)</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c206 c24 c39 c78 c186">- Reserved - </span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c206 c3 c39 c78 c186">0x1E-0xFD</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9 c72"><span class="c206 c3 c39 c78 c186"></span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c3 c39 c78 c186 c206">Forbidden</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c24">FORWARDER</span><span class="c11 c39">ENCAPSULATION</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0xFE</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Forwarder to Client or</span></p><p class="c9"><span class="c17 c3">Forwarder to Gateway</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Encapsulated MQTT-SN packet</span></p></td></tr><tr class="c25"><td class="c196 c105" colspan="1" rowspan="1"><p class="c9"><span class="c24">PROTECTION</span></p></td><td class="c205" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0xFF</span></p></td><td class="c122" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Client to Gateway or</span></p><p class="c9"><span class="c17 c3">Gateway to Client</span></p></td><td class="c70" colspan="1" rowspan="1"><p class="c36 c45"><span class="c17 c3">A protection envelope that can encapsulate any MQTT-SN packet with the exception of Forwarder-Encapsulation packet (0xFE)</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 6: Packet type listing</span></p><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.19c6y18" style="display:inline"><span class="c24 c39 c78 c111">2.2 Packet Identifier</span></h2></li></ul><p class="c36" id="h.3tbugp1"><span class="c3">The Variable Header component of many of the MQTT-SN Control Packet types includes a Two Byte Integer Packet Identifier field. </span><span class="c3">MQTT-SN Control Packets that require a Packet Identifier are shown below</span><sup><a href="#cmnt6" id="cmnt_ref6">[f]</a></sup><span class="c60 c3 c39">:</span></p><p class="c2"><span class="c60 c3 c39"></span></p><a id="t.c5732b7558d4ad574f369c6535527df169e084e3"></a><a id="t.6"></a><table class="c484 c311"><tr class="c25"><td class="c188 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">MQTT-SN Control Packet</span></p></td><td class="c225 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Packet Identifier field</span></p></td></tr><tr class="c261"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">CONNECT</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">CONNACK</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">PUBLISH</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES (If QoS &gt; 0)</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c3">PUBLISHOO</span><span class="c3">B</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">PUBACK</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">PUBREC</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">PUBREL</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">PUBCOMP</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">SUBSCRIBE</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">SUBACK</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">UNSUBSCRIBE</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">UNSUBACK</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">PINGREQ</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">PINGRESP</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">DISCONNECT</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">AUTH</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">ADVERTISE</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">SEARCHGW</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">GWINFO</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">REGISTER</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">REGACK</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">YES</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c3">Encapsulated Packet</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36 c45"><span class="c17 c3">NO</span></p></td></tr><tr class="c25"><td class="c188" colspan="1" rowspan="1"><p class="c36"><span class="c3">PROTECTION</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c36 c45"><span class="c17 c3">NO</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 8 Packets with Packet Identifier</span></p><p class="c2"><span class="c98 c3 c39 c64"></span></p><p class="c36"><span class="c3 c64">A PUBLISH packet MUST NOT contain a Packet Identifier if its QoS value is set to 0</span><span class="c145 c3 c39 c78 c195">.</span></p><p class="c2"><span class="c145 c3 c39 c78 c195"></span></p><p class="c36"><span class="c3 c64">A PUBLISH packet MUST NOT contain a Packet Identifier if its QoS value is set to </span><span class="c3">-1</span><span class="c145 c3 c39 c78 c195">.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3 c64">Each time a Client sends a new SUBSCRIBE, UNSUBSCRIBE,or PUBLISH (where QoS &gt; 0 and it is not </span><span class="c3 c64">OUT</span><span class="c3 c64">&nbsp;OF</span><span class="c3 c64">&nbsp;</span><span class="c3 c64">BAND</span><span class="c3 c64">) MQTT Control Packet it MUST assign it a non-zero Packet Identifier that is currently unused</span><span class="c3 c195">.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3 c64">Each time a Gateway sends a new PUBLISH (with QoS &gt; 0) MQTT-SN Control Packet it MUST assign it a non zero Packet Identifier that is currently unused</span><span class="c3 c195">.</span><span class="c60 c3 c39">&nbsp;</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">The Packet Identifier becomes available for reuse after the sender has processed the corresponding acknowledgement packet, defined as follows. In the case of a QoS 1 PUBLISH, this is the corresponding PUBACK; in the case of QoS 2 PUBLISH it is PUBCOMP or a PUBREC with a Reason Code of 128 or greater. For SUBSCRIBE or UNSUBSCRIBE it is the corresponding SUBACK or UNSUBACK. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">Packet Identifiers used with PUBLISH, SUBSCRIBE and UNSUBSCRIBE packets form a single, unified set of identifiers separately for the Client and the Gateway in a Session. A Packet Identifier cannot be used by more than one command at any time.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3 c64">A PUBACK, PUBREC , PUBREL, or PUBCOMP packet MUST contain the same Packet Identifier as the PUBLISH packet that was originally sent</span><span class="c3 c195 c64">. </span><span class="c3 c64">A SUBACK and UNSUBACK MUST contain the Packet Identifier that was used in the corresponding SUBSCRIBE and UNSUBSCRIBE packet respectively</span><span class="c3 c195 c64">.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">The Client and Gateway assign Packet Identifiers independently of each other. As a result, Client-Server pairs can participate in concurrent message exchanges using the same Packet Identifiers. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c100"><span class="c60 c24 c39">Informative comment</span></p><p class="c100"><span class="c60 c3 c39">It is possible for a Client to send a PUBLISH packet with Packet Identifier 0x1234 and then receive a different PUBLISH packet with Packet Identifier 0x1234 from its Server before it receives a PUBACK for the PUBLISH packet that it sent.</span></p><p class="c100"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 340.83px; height: 267.50px;"><img alt="" src="images/image1.png" style="width: 340.83px; height: 267.50px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c40 c203"><span class="c60 c3 c39"></span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.nmf14n" style="display:inline"><span class="c3">2.3 MQTT-SN Packet Fields</span></h2></li></ul><ul class="c12 lst-kix_list_3-2 start"><li class="c284 c101 c241 c255 c45"><h3 id="h.37m2jsg" style="display:inline"><span>2.3.1 </span><span class="c21">Protocol Id</span></h3></li></ul><p class="c173 c101 c158"><span class="c3">The </span><span class="c3 c7">Protocol Id </span><span class="c60 c3 c39">is 1-byte long. It is only present in a CONNECT packet and corresponds to the MQTT &lsquo;protocol name&rsquo; and &lsquo;protocol version&rsquo;.</span></p><p class="c101 c66 c507"><span class="c60 c3 c39">It is coded 0x02. 0x01 was used for MQTT-SN 1.2. &nbsp;All other values are reserved.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c284 c101 c241 c255 c45"><h3 id="h.1mrcu09" style="display:inline"><span>2.3.2 </span><span class="c21">Radius</span></h3></li></ul><p class="c231 c101 c158"><span class="c3">The </span><span class="c3 c7">Radius </span><span class="c60 c3 c39">field is 1-byte long and indicates the value of the transmission radius. The value 0x00 means &ldquo;send to all nodes in the network&rdquo;.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c284 c101 c241 c255 c45"><h3 id="h.46r0co2" style="display:inline"><span>2.3.3 </span><span class="c21">Reason Code</span></h3></li></ul><p class="c152 c101"><span class="c3 c81">A Reason Code is a one-byte </span><span class="c3">unsigned</span><span class="c37 c3 c78">&nbsp;value that indicates the result of an operation.&nbsp;Reason Codes share a common set of values across the various Control Packet types. Reason Code values of 0x80 or greater indicate failure.</span></p><p class="c152 c101"><span class="c3 c81">Each </span><span class="c3">value and meaning of each </span><span class="c3 c7">Reason Code </span><span class="c60 c3 c39">field is shown below.</span></p><p class="c101 c72 c152"><span class="c60 c3 c39"></span></p><a id="t.350d2942c18e72b1cd6ea71b24cf3789d5727c07"></a><a id="t.7"></a><table class="c165"><tr class="c25"><td class="c75 c457" colspan="2" rowspan="1"><p class="c290 c101 c66" id="h.2lwamvv"><span class="c17 c3">Identifier</span></p></td><td class="c106 c75" colspan="1" rowspan="2"><p class="c101 c66 c290"><span class="c17 c3">Name</span></p></td><td class="c44 c75" colspan="1" rowspan="2"><p class="c290 c101 c66"><span class="c17 c3">Packets </span></p></td><td class="c26 c75" colspan="1" rowspan="2"><p class="c290 c101 c66"><span class="c17 c3">Description </span></p></td></tr><tr class="c25"><td class="c128" colspan="1" rowspan="1"><p class="c290 c101 c66"><span class="c17 c3">Dec</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c290 c101 c66"><span class="c17 c3">Hex</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x00</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Success</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c73"><span class="c17 c3">CONNACK, SUBACK, UNSUBACK, REGACK, PUBACK, PUBREC, PUBREL, PUBCOMP, &nbsp;AUTH (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c73"><span class="c17 c3">The operation was successful.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x00</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Normal disconnection</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Close the connection normally. Do not send the Will Message.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x00</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Granted QoS 0</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">SUBACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The subscription is accepted and the maximum QoS sent will be QoS 0. This might be a lower QoS than was requested.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">1</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x01</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Granted QoS 1</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">SUBACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The subscription is accepted and the maximum QoS sent will be QoS 1. This might be a lower QoS than was requested.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">2</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x02</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Granted QoS 2</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">SUBACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The subscription is accepted and any received QoS will be sent to this subscription.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">4</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x04</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Disconnect with will message</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">DISCONNECT (client only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Client wishes to disconnect but requires that the Server also publishes its Will Message. </span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">16</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x10</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">No matching subscribers</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">PUBACK, PUBREC</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The message is accepted but there are no subscribers.If the Server knows that there are no matching subscribers, it MAY use this Reason Code instead of 0x00 (Success).</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">17</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x11</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">No subscription existed</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">UNSUBACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">No matching Topic Filter is being used by the Client.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">24</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x18</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Continue authentication</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">AUTH</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Continue the authentication with another step.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">25</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x19</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Re-authenticate</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">AUTH (client only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Initiate a re-authentication.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">128</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x80</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Unspecified error</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK, PUBACK, PUBREC, SUBACK, UNSUBACK, DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The receiver does not accept the request but either does not want to reveal the reason, or it does not match one of the other values.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">129</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x81</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Malformed packet</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK, DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The received packet does not conform to this specification.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">130</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x82</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Protocol error</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK, DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">An unexpected or out of order packet was received.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">131</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x83</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Implementation specific error</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK, PUBACK, PUBREC, REGACK, SUBACK, UNSUBACK, DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The packet received is valid but cannot be processed by this implementation.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">132</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x84</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Unsupported Protocol Version</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Server does not support the version of the MQTT or MQTT-SN &nbsp;protocol requested by the Client.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">133</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x85</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Client identifier not valid</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Client Identifier is a valid string but is not allowed by the Server.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">134</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x86</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Bad user name or password</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Server does not accept the User Name or Password specified by the Client </span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">135</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x87</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Not authorized</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK, PUBACK, PUBREC, REGACK, SUBACK, UNSUBACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The request is not authorized.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">136</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x88</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Server unavailable</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The MQTT Server is not available.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">137</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x89</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Server busy</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Server is busy and cannot continue processing requests from this Client.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">138</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x8A</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Banned</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">This Client has been banned by administrative action. Contact the server administrator.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">139</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x8B</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Server shutting down</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Server is shutting down. </span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">140</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x8C</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Bad authentication method</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK, DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The authentication method is not supported or does not match the authentication method currently in use.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">141</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x8D</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Keep alive timeout</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Connection is closed because no packet has been received for 1.5 times the Keepalive time.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">142</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x8E</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Session taken over</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Another Connection using the same ClientID has connected causing this Connection to be closed.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">143</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x8F</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Topic filter invalid</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">SUBACK, UNSUBACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Topic Filter is correctly formed, but is not accepted by this Server.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">144</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x90</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Topic name invalid</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK, PUBACK, PUBREC, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Topic Name is correctly formed, but is not accepted by this Client or Server.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">145</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x91</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Packet identifier in use</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">PUBACK, PUBREC, SUBACK, UNSUBACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The specified Packet Identifier is already in use.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">146</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x92</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Packet identifier not found</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">PUBREL, PUBCOMP</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Packet Identifier is not known. This is not an error during recovery, but at other times indicates a mismatch between the Session State on the Client and Server. </span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">147</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x93</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Receive maximum exceeded</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Client or Server has received more than Receive Maximum publication for which it has not sent PUBACK or PUBCOMP. </span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">148</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x94</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Topic alias invalid</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Client or Server has received a PUBLISH packet containing a Topic Alias which is greater than the Maximum Topic Alias it sent in the CONNECT or CONNACK packet. </span></p><p class="c5"><span class="c17 c3">(Transparent gateway only)</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">149</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c1 c78">0x95</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Packet too large</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">CONNACK,</span></p><p class="c5"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The packet size is greater than Maximum Packet Size for this Client or Server.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">150</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c3">0x96</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Message rate too high</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The received data rate is too high.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">151</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c1 c78">0x97</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Quota exceeded</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">REGACK, SUBACK, DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">An implementation or administrative imposed limit has been exceeded.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">152</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c3">0x98</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Administrative action</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">The Connection is closed due to an administrative action.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">153</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c1 c78">0x99</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Payload format invalid</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">PUBACK, PUBREC, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">The MQTT payload format does not match the one specified by the Payload Format Indicator.</span></p><p class="c5 c45"><span class="c17 c3">(Transparent gateway only)</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">154</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c3">0x9A</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Retain not supported</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">CONNACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">The MQTT Server does not support retained messages.</span></p><p class="c5 c45"><span class="c17 c3">(Transparent gateway only)</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">155</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x9B</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">QoS not supported</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">CONNACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">The Client specified a QoS greater than the QoS specified in a Maximum QoS in the MQTT CONNACK.</span></p><p class="c5 c45"><span class="c17 c3">(Transparent gateway only)</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">156</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x9C</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Use another server</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">CONNACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">The Client should temporarily change its Server.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">157</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x9D</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Server moved</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">CONNACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">The Server is moved and the Client should permanently change its server location.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">158</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x9E</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Shared subscription not supported</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">SUBACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">The MQTT Server does not support Shared Subscriptions.</span></p><p class="c5 c45"><span class="c17 c3">(Transparent gateway only)</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">159</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0x9F</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Connection rate exceeded</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">CONNACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">This connection is closed because the connection rate is too high.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">160</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xAD</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Maximum connect time</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">The maximum connection time authorized for this connection has been exceeded.</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">161</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xA1</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Subscription identifiers not supported</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">SUBACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">The MQTT Server does not support Subscription Identifiers; the subscription is not accepted.</span></p><p class="c5 c45"><span class="c17 c3">(Transparent gateway only)</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">162</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xA2</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Wildcard subscription not supported</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">SUBACK, DISCONNECT (server only)</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">The MQTT Server does not support Wildcard Subscriptions; the subscription is not accepted.</span></p><p class="c5 c45"><span class="c17 c3">(Transparent gateway only)</span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c3">230</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xE6</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c3">Only PROTECTION packet supported</span><span class="c3 c125">&nbsp;(Note 1)</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">Any packet except PROTECTION and Forwarder Encapsulation</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c42"><span class="c17 c3"></span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">231</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xE7</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Protection scheme invalid</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c42"><span class="c17 c3"></span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">232</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xE8</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Unknown Sender Id</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c42"><span class="c17 c3"></span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">240</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xF0</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Unknown Topic Alias</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">PUBACK, SUBACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c42"><span class="c17 c3"></span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">241</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xF1</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Congestion</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">SUBACK, REGACK, CONNACK, PUBACK</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c42"><span class="c17 c3"></span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">242</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xF2</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Protection packet not supported</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c42"><span class="c17 c3"></span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">243</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xF3</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">Forwarder Encapsulation not supported</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c42"><span class="c17 c3"></span></p></td></tr><tr class="c126"><td class="c128" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">244</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c5"><span class="c17 c3">0xF4</span></p></td><td class="c106" colspan="1" rowspan="1"><p class="c5"><span class="c3">SearchGw</span><span class="c17 c3">&nbsp;not supported</span></p></td><td class="c44" colspan="1" rowspan="1"><p class="c5 c45"><span class="c17 c3">DISCONNECT</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c5 c42"><span class="c17 c3"></span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 9: Reason Code Values</span></p><p class="c36"><span class="c60 c96 c39">Note(s):</span></p><ol class="c12 lst-kix_list_17-0 start" start="1"><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3">It is used by a receiver to indicate that it expected a packet to be protected and it wasn&#39;t.</span></li></ol><p class="c40 c66"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c101 c241 c255 c45 c284"><h3 id="h.111kx3o" style="display:inline"><span>2.3.4 </span><span class="c3">Topic </span><span>Data</span></h3></li></ul><p class="c231 c101 c158"><span class="c3">The </span><span class="c3 c7">Topic Data </span><span class="c60 c3 c39">field is 2-byte long and contains the value of the topic alias or the short topic name. The values &ldquo;0x0000&rdquo; and &ldquo;0xFFFF&rdquo; are reserved and therefore should not be used.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c284 c101 c241 c255 c45"><h3 id="h.3l18frh" style="display:inline"><span>2.3.5 </span><span class="c21">Topic Name</span></h3></li></ul><p class="c101 c158 c501"><span class="c3">The </span><span class="c3 c7">Topic Name </span><span class="c60 c3 c39">field has a variable length and contains an UTF8-encoded string that specifies the topic name.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.2zbgiuw" style="display:inline"><span class="c111 c24 c39 c78">2.4 Topic Types</span></h2></li></ul><p class="c89 c158"><span class="c60 c3 c39">Several packets will refer to a topic type in their flags. This is a 2-bit field which determines the format of the topic value. </span></p><p class="c89 c158"><span class="c60 c3 c39">The allowable values are as follows:</span></p><a id="t.0dbb29a349b9d9d924ce60faae13e774350e2284"></a><a id="t.8"></a><table class="c165"><tr class="c25"><td class="c75 c468" colspan="1" rowspan="1"><p class="c228 c101 c66 c72"><span class="c11 c39"></span></p></td><td class="c75 c508" colspan="1" rowspan="1"><p class="c228 c101 c66"><span class="c11 c39">Topic Type Value</span></p></td><td class="c75 c264" colspan="1" rowspan="1"><p class="c228 c101 c66"><span class="c11 c39">Name</span></p></td><td class="c75 c482" colspan="1" rowspan="1"><p class="c101 c66 c228"><span class="c11 c39">Description</span></p></td></tr><tr class="c444"><td class="c306" colspan="1" rowspan="1"><p class="c66 c89"><span class="c17 c3">0</span></p></td><td class="c397" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">0b00</span></p></td><td class="c396" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">Session Topic Alias</span></p></td><td class="c385" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">A session topic alias is negotiated between the gateway and client within the scope of a gateway session.</span></p></td></tr><tr class="c25"><td class="c306" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">1</span></p></td><td class="c397" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">0b01</span></p></td><td class="c396" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">Predefined Topic Alias</span></p></td><td class="c385" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">A predefined alias is known statically by both the gateway and the client outside the scope of a gateway session. No negotiation is required since both entities have knowledge of the topic alias mapping.</span></p></td></tr><tr class="c25"><td class="c306" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">2</span></p></td><td class="c397" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">0b10</span></p></td><td class="c396" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">Short Topic Name</span></p></td><td class="c385" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">A 2-byte topic name which requires no negotiation.</span></p></td></tr><tr class="c25"><td class="c306" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">3</span></p></td><td class="c397" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">0b11</span></p></td><td class="c396" colspan="1" rowspan="1"><p class="c89 c66"><span class="c17 c3">Long Topic Name</span></p></td><td class="c385" colspan="1" rowspan="1"><p class="c89 c66 c45"><span class="c17 c3">A full topic, which requires no session negotiation.</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 10: Topic types and their description</span></p><p class="c89 c158"><span class="c60 c3 c39">Please refer to operational behavior for detailed descriptions of topic names and aliases.</span></p><p class="c89 c158 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-0"><li class="c359 c101 c241 c255 c45 c433"><h1 id="h.1egqt2p" style="display:inline"><span class="c38 c24">3 MQTT-SN Control Packets</span></h1></li></ul><p class="c89 c191 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.3ygebqi" style="display:inline"><span class="c111 c24 c39 c78">3.1 Format of Individual Packets</span></h2></li></ul><p class="c343 c101 c158"><span class="c60 c3 c39">This section specifies the format of the individual MQTT-SN packets.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.2dlolyb" style="display:inline"><span>3.1.1 </span><span class="c21">ADVERTISE</span></h3></li></ul><p class="c2"><span class="c60 c3 c39"></span></p><a id="t.60d689bacd948f0b9f182cff734abf9e4bcb646d"></a><a id="t.9"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c75 c250" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">GwId</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Duration MSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Duration LSB</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 11: &nbsp;ADVERTISE Packet</span></p><p class="c36"><span class="c3">The ADVERTISE packet is sent periodically by the gateway to advertise its presence. The time interval until the next transmission is indicated by the </span><span class="c3 c7">Duration </span><span class="c60 c3 c39">field.</span></p><p class="c100"><span class="c24 c172">Informative comment</span></p><p class="c100"><span class="c3 c172">If the Transport Layer supports broadcast, like UDP/IP, the ADVERTISE packet is generally sent using the broadcast address as destination.</span></p><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.sqyw64" style="display:inline"><span class="c35 c24">3.1.1.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3cqmetx" style="display:inline"><span class="c35 c24">3.1.1.2 GwId</span></h4></li></ul><p class="c137 c101 c66"><span class="c3">The </span><span class="c3 c7">GwId </span><span class="c60 c3 c39">field is at least 1-byte identifier and uniquely identifies a gateway which is advertising itself in the network.</span></p><p class="c137 c101 c66"><span class="c3">The MQTT-SN protocol itself doesn&rsquo;t guarantee the uniqueness of the </span><span class="c3 c7">GwId </span><span class="c60 c3 c39">field.</span></p><p class="c100"><span class="c24 c172">Informative comment</span></p><p class="c100"><span class="c3 c172">If the Gateway has a MAC address, it can be used as </span><span class="c3 c172 c7">GwId</span><span class="c3 c172">. </span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1rvwp1q" style="display:inline"><span class="c35 c24">3.1.1.3 Duration</span></h4></li></ul><p class="c101 c66 c490"><span class="c3">The </span><span class="c3 c7">Duration </span><span class="c60 c3 c39">field is a 2-byte integer. It specifies the time interval in seconds until the next ADVERTISE packet is transmitted by this gateway period. </span></p><p class="c231 c101 c158"><span class="c60 c3 c39">The maximum value that can be encoded is approximately 18 hours.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.4bvk7pj" style="display:inline"><span>3.1.2 </span><span class="c21">SEARCHGW</span></h3></li></ul><p class="c2"><span class="c60 c3 c39"></span></p><a id="t.c5673639e1694d9a1ceae5e2dd65041374344c9c"></a><a id="t.10"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Radius</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 12: &nbsp;SEARCHGW packet</span></p><p class="c36"><span class="c3">The SEARCHGW packet is sent by a client when it searches for a </span><span class="c3 c81">Gateway</span><span class="c60 c3 c39">. The transmission radius of the SEARCHGW is limited and depends on the density of the clients deployment, e.g. only 1-hop transmission in case of a very dense network in which every MQTT-SN client is reachable from each other within 1-hop transmission.</span></p><p class="c100"><span class="c24 c172">Informative comment</span></p><p class="c100"><span class="c3 c172">If the Transport Layer supports broadcast, like UDP/IP, the SEARCHGW packet is generally sent using the broadcast address as destination..</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2r0uhxc" style="display:inline"><span class="c35 c24">3.1.2.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1664s55" style="display:inline"><span class="c35 c24">3.1.2.2 Radius</span></h4></li></ul><p class="c231 c101 c66"><span class="c60 c3 c39">The transmission radius is also indicated to the underlying network layer when MQTT-SN gives this packet for transmission.</span></p><p class="c231 c101 c66"><span class="c60 c3 c39">A Client or a Gateway MUST NOT forward the SEARCHGW received if the Radius value is 0.</span></p><p class="c231 c101 c66"><span class="c3">If a Client or a Gateway forwards the SEARCHGW received, it MUST reduce the Radius value by 1.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.3q5sasy" style="display:inline"><span>3.1.3 </span><span class="c21">GWINFO</span></h3></li></ul><p class="c2"><span class="c60 c3 c39"></span></p><a id="t.8c4450ed26da1955b8d1844ded6e0f880c864cee"></a><a id="t.11"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">GwId</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4 &hellip; N</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c3">GwAddress </span><span class="c3 c7">(optional)</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 13: &nbsp;GWINFO packet</span></p><p class="c36"><span class="c3">The GWINFO packet is sent as response to a SEARCHGW packet with the radius as indicated in the SEARCHGW packet. If sent by a </span><span class="c3 c81">Gateway</span><span class="c3">, it contains only the id of the sending </span><span class="c3 c81">Gateway</span><span class="c3">; otherwise, if sent by a client, it also includes the address of the </span><span class="c3 c81">Gateway</span><span class="c60 c3 c39">.</span></p><p class="c100"><span class="c24 c172">Informative comment</span></p><p class="c100"><span class="c46 c3 c39">If the Transport Layer supports broadcast, like UDP/IP, the GWINFO packet is generally sent using the broadcast address as destination.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.25b2l0r" style="display:inline"><span class="c35 c24">3.1.3.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.kgcv8k" style="display:inline"><span class="c35 c24">3.1.3.2 GwId</span></h4></li></ul><p class="c343 c101 c158"><span class="c3">The </span><span class="c3 c7">GwId </span><span class="c3">field is 1-byte long and uniquely identifies a </span><span class="c3 c81">Gateway </span><span class="c60 c3 c39">in the network.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.34g0dwd" style="display:inline"><span class="c35 c24">3.1.3.3 GwAdd</span></h4></li></ul><p class="c101 c66 c481"><span class="c3">The </span><span class="c3 c7">GwAdd </span><span class="c60 c3 c39">field has a variable length and contains the address of a Gateway. Its length depends on the type of network over which MQTT-SN operates and is specified by the Length byte. &nbsp;Optional, only included if the packet is sent by a client.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c390 c101 c241 c255 c45"><h3 id="h.1jlao46" style="display:inline"><span>3.1.4 </span><span class="c3">CONNECT</span></h3></li></ul><a id="t.bfa212ebc3cb0ffb480a6ee84a1e5699124e7125"></a><a id="t.12"></a><table class="c235"><tr class="c25"><td class="c22 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c75 c227" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c75 c331" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c75 c522" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c222 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c429 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c146 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c215 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c75 c479" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c360"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c184"><td class="c22" colspan="1" rowspan="2"><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c53 c148" colspan="13" rowspan="1"><p class="c9"><span class="c11 c7">CONNECT FLAGS</span></p></td></tr><tr class="c184"><td class="c412" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c478" colspan="6" rowspan="1"><p class="c9"><span class="c17 c3">Default Awake Messages</span></p></td><td class="c273" colspan="2" rowspan="1"><p class="c9"><span class="c3">Auth</span></p></td><td class="c273" colspan="2" rowspan="1"><p class="c9"><span class="c3">Will</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c9"><span class="c3">Clean Start</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c412" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c164" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c425" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c273" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c273" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c53 c148" colspan="13" rowspan="1"><p class="c9"><span class="c11 c7">WILL FLAGS (OPTIONAL - ONLY WHEN WILL FLAG SET)</span></p></td></tr><tr class="c184"><td class="c22 c105" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c105 c407" colspan="5" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c222 c105" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Will Retain</span></p></td><td class="c105 c260" colspan="4" rowspan="1"><p class="c9"><span class="c3">Will QoS</span></p></td><td class="c106 c105" colspan="3" rowspan="1"><p class="c9"><span class="c3">Will Topic Type</span></p></td></tr><tr class="c184"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (3 + 1)</span></p></td><td class="c227 c105" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c92 c105" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c176 c105" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c88 c105" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c105 c429" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c273 c105" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c273 c105" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c22 c105" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Correlation Id</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c3">Protocol Version</span><sup><a href="#cmnt7" id="cmnt_ref7">[g]</a></sup><sup><a href="#cmnt8" id="cmnt_ref8">[h]</a></sup></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Keep Alive MSB</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 7</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Keep Alive LSB</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 8</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval MSB</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 9</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 10</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 11</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval LSB</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 12</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Max Packet Size MSB</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 13</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Max Packet Size LSB</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c53 c148" colspan="13" rowspan="1"><p class="c9"><span class="c11 c7">WILL DATA (OPTIONAL - ONLY WHEN WILL FLAG SET)</span></p></td></tr><tr class="c184"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + 1)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Will Topic Data MSB</span></p></td></tr><tr class="c184"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + 2)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Will Topic Data LSB</span></p></td></tr><tr class="c25"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + 3)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Will Payload Length MSB</span></p></td></tr><tr class="c25"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + 4)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Will Payload Length LSB</span></p></td></tr><tr class="c360"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + N)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Will Payload Or (Will Topic Name + Will Payload)</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c53 c148" colspan="13" rowspan="1"><p class="c9"><span class="c11 c7">AUTH DATA (OPTIONAL - ONLY WHEN AUTH FLAG SET)</span></p></td></tr><tr class="c25"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + 1)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Auth Method Length</span></p></td></tr><tr class="c25"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + 2)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Auth Method</span></p></td></tr><tr class="c25"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + 3)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Auth Data Length MSB</span></p></td></tr><tr class="c25"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + 4)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Auth Data Length LSB</span></p></td></tr><tr class="c25"><td class="c22 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (13 + 5)</span></p></td><td class="c48" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Auth Data</span></p></td></tr><tr class="c25"><td class="c22" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 14 &hellip; N</span></p></td><td class="c53" colspan="13" rowspan="1"><p class="c9 c45"><span class="c17 c3">Client Identifier</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 14: &nbsp;CONNECT packet</span></p><p class="c36"><span class="c3">The CONNECT packet is sent from the Client to the </span><span class="c3 c81">Gateway </span><span class="c3">to create or continue a session. </span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.43ky6rz" style="display:inline"><span class="c35 c24">3.1.4.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2iq8gzs" style="display:inline"><span class="c35 c24">3.1.4.2 Connect Flags</span></h4></li></ul><p class="c36"><span class="c3 c81">The Connect Flags is 1 byte field which contains several parameters specifying the behavior of the MQTT-SN Virtual </span><span class="c3">C</span><span class="c37 c3 c78">onnection. </span></p><p class="c36"><span class="c3">The Connect </span><span class="c3 c7">Flags </span><span class="c60 c3 c39">field includes the following flags:</span></p><ul class="c12 lst-kix_list_4-0 start"><li class="c101 c114 li-bullet-0"><span class="c67 c24 c68 c39">Clean Start:</span><span class="c67 c3 c68 c39">&nbsp;Stored in Bit 0 and specifies whether the Virtua</span><span class="c3">l </span><span class="c67 c3 c68 c39">Connection starts a new Session or is a continuation of an existing Session</span></li><li class="c101 c144 c241 c414 li-bullet-0"><span class="c67 c24 c68 c39">Will</span><span class="c67 c3 c68 c39">:&nbsp;Stored in Bit 1 and if set to 1 it indicates that the </span><span class="c3">Will Flags and the Will Data sections are present</span><span class="c67 c3 c68 c39">&nbsp;</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c67 c24 c68 c39">Auth</span><span class="c67 c3 c68 c39">: Stored in Bit 2 and indicates </span><span class="c3">if the packet contains</span><span class="c67 c3 c68 c39">&nbsp;authentication </span><span class="c3">data</span></li><li class="c180 c101 c144 c241 li-bullet-0"><span class="c67 c24 c68 c39">Default Awake Messages</span><span class="c67 c3 c68 c39">: A value between 0-15 to indicate the maximum number of messages a client shall receive during an AWAKE session. Specifying 0 will mean it is up to the gateway to determine how many messages it will send, which </span><span class="c3">may be</span><span class="c67 c3 c68 c39">&nbsp;unbounded.</span></li></ul><p class="c101 c192"><span class="c60 c3 c39">The Gateway MUST validate that the reserved flags in the CONNECT packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.kxsqte300p6i" style="display:inline"><span class="c35 c24">3.1.4.3 Correlation Id</span></h4></li></ul><p class="c137 c101 c191"><span class="c60 c3 c39">A byte of data to be used to correlate a packet request to an equivalent packet response. It should be populated with ideally a random integer value between 0-255 and be coded such that it can be used to identify the corresponding CONNACK packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.xvir7l" style="display:inline"><span class="c35 c24">3.1.4.4 Protocol Version</span></h4></li></ul><p class="c36" id="h.3hv69ve"><span class="c37 c3 c78">The one-byte unsigned value that represents the revision level of the protocol used by the Client. </span></p><a id="t.31edaa1c3380c5fc112b5111c6fd7a2d95819bce"></a><a id="t.13"></a><table class="c235"><tr class="c25"><td class="c217 c75" colspan="1" rowspan="1"><p class="c9"><span class="c4 c78">Protocol Version</span></p></td><td class="c75 c217" colspan="1" rowspan="1"><p class="c9"><span class="c4 c78">Value</span></p></td></tr><tr class="c25"><td class="c217" colspan="1" rowspan="1"><p class="c36"><span class="c1 c78">Version 1.2</span></p></td><td class="c217" colspan="1" rowspan="1"><p class="c9"><span class="c1 c78">0x01</span></p></td></tr><tr class="c25"><td class="c217" colspan="1" rowspan="1"><p class="c36"><span class="c4 c78">Version 2.0</span></p></td><td class="c217" colspan="1" rowspan="1"><p class="c9"><span class="c4 c78">0x02</span></p></td></tr><tr class="c25"><td class="c217" colspan="1" rowspan="1"><p class="c36"><span class="c1 c78">Reserved for future versions</span></p></td><td class="c217" colspan="1" rowspan="1"><p class="c9 c45"><span class="c1 c78">0x03 &ndash; 0xFF</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 15: Protocol version values</span></p><p class="c36"><span class="c3 c81 c64">The value of the Protocol Version field for MQTT-SN version 2.0 </span><span class="c3 c64">MUST</span><span class="c3 c81 c64">&nbsp;be 2 (0x02).</span></p><p class="c36"><span class="c60 c3 c39">A Gateway which supports multiple versions of the MQTT-SN protocol uses the Protocol Version to determine which version of MQTT-SN the Client is using. </span></p><p class="c36"><span class="c3 c64">If the Protocol Version is valid but it is not the latest one available (for instance 0x02) and the Gateway does not want to accept the CONNECT packet, the Server MAY send a CONNACK packet with Reason Code 0x84 (Unsupported Protocol Version) and consider the session closed.</span><sup><a href="#cmnt9" id="cmnt_ref9">[i]</a></sup><sup><a href="#cmnt10" id="cmnt_ref10">[j]</a></sup><sup><a href="#cmnt11" id="cmnt_ref11">[k]</a></sup><sup><a href="#cmnt12" id="cmnt_ref12">[l]</a></sup><sup><a href="#cmnt13" id="cmnt_ref13">[m]</a></sup><sup><a href="#cmnt14" id="cmnt_ref14">[n]</a></sup></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.4h042r0" style="display:inline"><span class="c35 c24">3.1.4.5 Keep Alive Timer</span></h4></li></ul><p class="c36"><span class="c37 c3 c78">The Keep Alive is a Two Byte Integer greater than 0 (1 - 65,535), which is a time interval measured in seconds. It is the maximum time interval that is permitted to elapse between the point at which the Client finishes transmitting one MQTT-SN Control Packet and the point it starts sending the next. It is the responsibility of the Client to ensure that the interval between MQTT Control Packets being sent does not exceed the Keep Alive value.&nbsp;In the absence of sending any other MQTT-SN Control Packets, the Client MUST send a PINGREQ packet.</span></p><p class="c100"><span class="c24 c172">Informative comment</span></p><p class="c100"><span class="c3 c81 c172">The Client can send PINGREQ at any time, irrespective of the Keep Alive value, and check for a corresponding PINGRESP to determine that the network and the Gateway are available.</span></p><p class="c36"><span class="c3 c64">If the Gateway does not receive an MQTT-SN Control Packet from the Client within one and a half times the Keep Alive time period, it MUST consider the session &lsquo;LOST&rsquo; (see state description in table 3.6).</span><sup><a href="#cmnt15" id="cmnt_ref15">[o]</a></sup><sup><a href="#cmnt16" id="cmnt_ref16">[p]</a></sup><sup><a href="#cmnt17" id="cmnt_ref17">[q]</a></sup><sup><a href="#cmnt18" id="cmnt_ref18">[r]</a></sup><sup><a href="#cmnt19" id="cmnt_ref19">[s]</a></sup></p><p class="c36"><span class="c3 c81 c64">If a Client does not receive a PINGRESP packet within a </span><span class="c3 c7 c64">T</span><span class="c3 c7 c381 c64">retry</span><span class="c3 c81 c64">&nbsp;amount of time after it has sent a PINGREQ, it SHOULD retry the transmission according to </span><span class="c3 c81 c64">B4</span><sup><a href="#cmnt20" id="cmnt_ref20">[t]</a></sup><span class="c3 c81 c64">&nbsp;up to the max attempts. If a PINGRESP is still not received it </span><span class="c3 c64">MUST</span><span class="c3 c81 c64">&nbsp;close the Session to the Gateway by way of a DISCONNECT, with the</span><span class="c3 c64">&nbsp;understanding that the GW may no longer be reachable</span><span class="c3 c81 c64">.</span></p><p class="c36"><span class="c3 c81 c64">A Keep Alive must have a value greater than 0. It is considered a protocol error If a Keep Alive value of 0 is set.</span></p><p class="c100"><span class="c24 c172">Informative comment</span><span class="c3 c81 c172"><br>The Gateway may have other reasons to disconnect the Client, for instance because it is shutting down. Setting Keep Alive does not guarantee that the Client will remain connected.</span></p><p class="c100"><span class="c46 c24 c39">Informative comment</span></p><p class="c100"><span class="c3 c81 c172">The actual value of the Keep Alive is application specific; typically, this is a few minutes. The maximum value of 65,535 is 18 hours 12 minutes and 15 seconds.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1baon6m" style="display:inline"><span class="c35 c24">3.1.4.6 Session Expiry Interval</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">The Session Expiry Interval is a four-byte integer time interval measured in seconds. If the Session Expiry Interval is set to 0, the Session ends (and state deleted) when a (non SLEEPING) DISCONNECT packet is sent from either the client or gateway. </span></p><p class="c36"><span class="c60 c3 c39">If the Session Expiry Interval is 0xFFFFFFFF (UINT_MAX), the Session does not expire. </span></p><p class="c36"><span class="c3 c64">The Client and </span><span class="c3 c81 c64">Gateway </span><span class="c3 c64">MUST store the Session State after a DISCONNECT is issued if the Session Expiry Interval is greater than 0.</span></p><p class="c36"><span class="c60 c244 c39">Informative comment</span></p><p class="c36"><span class="c60 c96 c39">The clock in the Client or Gateway may not be running for part of the time interval, for instance because the Client or Gateway are not running. This might cause the deletion of the state to be delayed.</span></p><p class="c36"><span class="c60 c244 c39">Informative comment</span></p><p class="c36"><span class="c60 c96 c39">The client and gateway between them should negotiate a reasonable and practical session expiry interval according to the network and infrastructure environment in which they are deployed. For example, it would not be practical to set a session &ndash; expiry &ndash; interval of many months on a gateway whose hardware is only capable of storing a few client sessions.</span></p><p class="c100 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3vac5uf" style="display:inline"><span class="c35 c24">3.1.4.7 Max Packet Size</span></h4></li></ul><p class="c36"><span class="c37 c3 c78">A Two Byte (16-bit) Integer representing the Maximum Packet Size the Client is willing to accept. If the Maximum Packet Size is set to 0, no limit on the packet size is imposed beyond the limitations in the protocol as a result of the remaining length encoding and the protocol header sizes.</span></p><p class="c100"><span class="c24">Informative comment</span></p><p class="c100"><span class="c37 c3 c78">It is the responsibility of the application to select a suitable Maximum Packet Size value if it chooses to restrict the Maximum Packet Size.</span></p><p class="c36"><span class="c37 c3 c78">The packet size is the total number of bytes in an MQTT Control Packet, as defined in section 3.1. The Client uses the Maximum Packet Size to inform the Server that it will not process packets exceeding this limit.</span></p><p class="c36"><span class="c3 c81">&nbsp;</span><span class="c3 c81 c64">The Gateway MUST NOT send packets exceeding Maximum Packet Size to the Client.&nbsp;If a Client receives a packet whose size exceeds this limit, this is a Protocol Error, the Client uses DISCONNECT with Reason Code 0x95 (Packet too large).</span></p><p class="c36"><span class="c3 c81 c64">Where a Packet is too large to send, the Gateway MUST discard it without sending it and then behave as if it had completed sending that Application Message.</span></p><p class="c100" id="h.2afmg28"><span class="c24">Informative comment</span></p><p class="c100"><span class="c3 c81">Where a packet is discarded without being sent, the Gateway could place the discarded packet on a &lsquo;dead letter queue&rsquo; or perform other diagnostic action. Such actions are outside the scope of this specification.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.pkwqa1" style="display:inline"><span class="c35 c24">3.1.4.8 Client Identifier</span></h4></li></ul><p class="c386 c101 c66"><span class="c3 c81">The Client Identifier (ClientID) identifies the Client to the Gateway. Each Client connecting to the Gateway has a unique ClientID.&nbsp;</span><span class="c3 c81 c64">The ClientID MUST be used by Clients and by Gateway to </span><span class="c3 c64">identify the state</span><span class="c3 c81 c64">&nbsp;that they hold relating to this MQTT-SN Session between the Client and the Gateway</span><span class="c37 c3 c78">. </span></p><p class="c100"><span class="c24">Informative comment</span></p><p class="c386 c101 c203"><span class="c3 c81">A Client Identifier can be between 0 - </span><span class="c60 c3 c39">65,521 bytes. We advise for practicality, ClientID&rsquo;s are restricted to a reasonable size (less than 243 bytes to fit within a small CONNECT packet).</span></p><p class="c36"><span class="c3 c64">When the clientID is present (greater than 0 bytes), t</span><span class="c3 c81 c64">he Gateway MUST allow </span><span class="c3 c64">values</span><span class="c37 c3 c64">&nbsp;which are between 1 and 23 UTF-8 encoded bytes in length, and that contain only the characters &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&rdquo;. </span></p><p class="c36"><span class="c3 c81 c64">The Gateway may choose to allow more than 23 bytes.</span></p><p class="c36"><span class="c3 c81 c64">The Client Identifier MUST be a </span><span class="c3 c64">UTF-8 Encoded String</span><span class="c3 c81">.</span><span class="c37 c3 c64">&nbsp;</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c45 c345 li-bullet-0"><h4 id="h.u38i2mpp332q" style="display:inline"><span class="c3">3.1.4.9 </span><span>Connect Will Flags (optional, only with </span><span class="c7">Will </span><span>flag set)</span><span class="c3">&nbsp;</span></h4></li></ul><p class="c36"><span class="c3">The Connect optional </span><span class="c3 c7">Will Flags</span><span class="c3">&nbsp;is 1 byte field which contains several parameters specifying the handling of the Will Message feature. It is present only if the Will flag in the Connect </span><span class="c3 c7">Flags</span><span class="c60 c3 c39">&nbsp;contains the value 1.</span></p><p class="c36"><span class="c3">The Connect optional </span><span class="c3 c7">Will Flags </span><span class="c60 c3 c39">field includes the following flags:</span></p><ul class="c12 lst-kix_list_4-0"><li class="c414 c101 c144 c518 li-bullet-0"><span class="c24">Will Topic Type:</span><span class="c3">&nbsp;This is a 2-bit field in Bit 0 and 1 which determines the format of the topic value. Refer to </span><span class="c3 c127"><a class="c29" href="#h.2zbgiuw">Table 10</a></span><span class="c3">&nbsp;for the definition of the various topic types.</span></li><li class="c114 c101 li-bullet-0"><span class="c24">Will QoS</span><span class="c3">: Stored in Bit 2 and 3, these two bits specify the QoS level to be used. The value of Will QoS can be 0 (0x00), 1 (0x01), or 2 (0x02). A value of 3 (0x03) is a Malformed Packet.</span></li><li class="c114 c101 li-bullet-0"><span class="c24 c68 c81">Will Retain</span><span class="c67 c3 c68 c39 c78">: Stored in Bit 4, this bit specifies if the Will Message is to be retained when it is published.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.6mntinqaom6n" style="display:inline"><span class="c3">3.1.4.10 Will Topic Short or Will Topic Length (optional</span><span>, only with </span><span class="c7">Will </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c281 c101 c66"><span class="c60 c3 c39">In the case of Will Topic Type being b11 this field will refer to the length of data assigned to the &ldquo;Will Full Topic Name&rdquo;, in all other cases, this will be the value used as the Will topic alias or Will short topic name.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.g5w1zpmaiace" style="display:inline"><span class="c3">3.1.4.11 Will Payload Length (optional</span><span>, only with </span><span class="c7">Will </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">Contains the length of the Will Payload field.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.o88zms19c5d1" style="display:inline"><span class="c3">3.1.4.12 Will Payload (optional</span><span>, only with </span><span class="c7">Will </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c36"><span class="c60 c96 c39">It contains the content of the Will Message which is published after the Virtual Connection is closed. &nbsp;</span></p><p class="c36"><span>In the case of Topic Type b11 the payload section will be prefixed with a &ldquo;Will Full Topic Name&rdquo; encoded with a UTF-8 encoded string value of length determined by the previously defined length field. Thereafter, </span><span class="c3">the </span><span class="c3 c7">Will Payload </span><span class="c60 c3 c39">field corresponds to the MQTT Will Payload and so it defines the Application Message Payload that is to be published to the Will Topic and this field consists of Binary Data. It has a variable length defined by the Will Payload Length fields.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.mw1gvx9qi5t0" style="display:inline"><span class="c3">3.1.4.13 Authentication Method Length (optional</span><span>, only with </span><span class="c7">Auth </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c131 c101 c66"><span class="c3">Single byte value (max 0-255 bytes), representing the length of field used to specify the authentication method. Refer to </span><span class="c3 c127">LINKED TO AUTH</span><sup><a href="#cmnt21" id="cmnt_ref21">[u]</a></sup><sup><a href="#cmnt22" id="cmnt_ref22">[v]</a></sup><sup><a href="#cmnt23" id="cmnt_ref23">[w]</a></sup><span class="c3 c127">&nbsp;</span><span class="c60 c3 c39">for more information about extended authentication.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.4ydjyi9y5y20" style="display:inline"><span class="c3">3.1.4.14 Authentication Method (optional</span><span>, only with </span><span class="c7">Auth </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c131 c101 c66"><span class="c3">A UTF-8 Encoded String containing the name of the authentication method. Refer to </span><span class="c3 c127">LINKED TO AUTH</span><sup><a href="#cmnt24" id="cmnt_ref24">[x]</a></sup><sup><a href="#cmnt25" id="cmnt_ref25">[y]</a></sup><sup><a href="#cmnt26" id="cmnt_ref26">[z]</a></sup><span class="c3 c127">&nbsp;</span><span class="c60 c3 c39">for more information about extended authentication.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c45 c255 li-bullet-0"><h4 id="h.5hocu94eubqg" style="display:inline"><span class="c3">3.1.4.15 Authentication Data Length (optional</span><span>, only with </span><span class="c7">Auth </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c131 c101 c66"><span class="c3">Two byte value (max 0-65535 bytes), representing the length of field used to specify the authentication data. Refer to </span><span class="c3 c127">LINKED TO AUTH</span><sup><a href="#cmnt27" id="cmnt_ref27">[aa]</a></sup><sup><a href="#cmnt28" id="cmnt_ref28">[ab]</a></sup><sup><a href="#cmnt29" id="cmnt_ref29">[ac]</a></sup><span class="c3 c127">&nbsp;</span><span class="c60 c3 c39">for more information about extended authentication.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.g9mib2nvvlzy" style="display:inline"><span class="c3">3.1.4.16 Authentication Data (optional</span><span>, only with </span><span class="c7">Auth </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c131 c101 c66"><span class="c3">Binary Data containing authentication data. The contents of this data are defined by the authentication method. Refer to </span><span class="c3 c127">LINKED TO AUTH</span><sup><a href="#cmnt30" id="cmnt_ref30">[ad]</a></sup><sup><a href="#cmnt31" id="cmnt_ref31">[ae]</a></sup><sup><a href="#cmnt32" id="cmnt_ref32">[af]</a></sup><span class="c3 c127">&nbsp;</span><span class="c60 c3 c39">for more information about extended authentication.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c101 c241 c255 c45 c390"><h3 id="h.39kk8xu" style="display:inline"><span>3.1.5 </span><span class="c21">CONNACK</span></h3></li></ul><a id="t.020f93079d7a1a19ebcabf5718411814cf198d64"></a><a id="t.14"></a><table class="c235"><tr class="c25"><td class="c117 c75" colspan="1" rowspan="1"><p class="c9" id="h.1opuj5n"><span class="c11 c39">Bit</span></p></td><td class="c75 c528" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c82 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c183 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c183 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c82 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c269 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c226 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c113 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c242" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c242" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c184"><td class="c117" colspan="1" rowspan="2"><p class="c2"><span class="c17 c3"></span></p></td><td class="c242 c148" colspan="14" rowspan="1"><p class="c9"><span class="c11 c7">CONNACK FLAGS</span></p></td></tr><tr class="c184"><td class="c408" colspan="12" rowspan="1"><p class="c9"><span class="c3 c7">Reserved</span></p></td><td class="c276" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Auth</span></p></td><td class="c113" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Session</span></p><p class="c9"><span class="c17 c3">Present</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c380" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c276" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c276" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c183" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c82" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c269" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c276" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">X</span></p></td><td class="c113" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">X</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c242" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Correlation Id</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c242" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Reason Code</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6</span></p></td><td class="c242" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval MSB</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 7</span></p></td><td class="c242" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 8</span></p></td><td class="c242" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 9</span></p></td><td class="c242" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval LSB</span></p></td></tr><tr class="c184"><td class="c117" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c242 c148" colspan="14" rowspan="1"><p class="c9"><span class="c11 c7">AUTH DATA (OPTIONAL - ONLY WHEN AUTH FLAG SET)</span></p></td></tr><tr class="c184"><td class="c117 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (9 + 1)</span></p></td><td class="c242 c105" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Auth Method Length</span></p></td></tr><tr class="c184"><td class="c117 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (9 + 2)</span></p></td><td class="c105 c242" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Auth Method</span></p></td></tr><tr class="c184"><td class="c117 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (9 + 3)</span></p></td><td class="c242 c105" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Auth Data Length MSB</span></p></td></tr><tr class="c184"><td class="c117 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (9 + 4)</span></p></td><td class="c242 c105" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Auth Data Length LSB</span></p></td></tr><tr class="c184"><td class="c117 c105" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (9 + 5)</span></p></td><td class="c242 c105" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Auth Data</span></p></td></tr><tr class="c25"><td class="c117" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 10 &hellip; N</span></p></td><td class="c242" colspan="14" rowspan="1"><p class="c9 c45"><span class="c17 c3">Assigned Client Identifier (optional)</span></p></td></tr></table><p class="c116 c101" id="h.48pi1tg"><span class="c52 c96 c39 c186">Table 16: CONNACK packet</span></p><p class="c101 c66 c524"><span class="c3">The CONNACK packet is sent by the </span><span class="c3 c81">Gateway </span><span class="c60 c3 c39">in response to a Virtual Connection request from a client.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2nusc19" style="display:inline"><span class="c35 c24">3.1.5.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c3">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3mzq4wv" style="display:inline"><span class="c35 c24">3.1.5.2 Connack Flags</span></h4></li></ul><p class="c36"><span class="c3 c81">The CONNACK FLAGS is a 1 byte field located at byte 4 which contains flags specifying the behavior of the MQTT-SN </span><span class="c3">Virtual C</span><span class="c3 c81">onnection on the gateway</span><span class="c3 c68 c81">. </span><span class="c3 c68 c81 c64">Bits 7-2 of the CONNACK FLAGS are reserved and MUST be set to 0</span><span class="c37 c3 c78">.</span></p><p class="c36"><span class="c3">The Connack </span><span class="c3 c7">Flags </span><span class="c60 c3 c39">field includes the following flags:</span></p><ul class="c12 lst-kix_list_25-0 start"><li class="c100 c161 li-bullet-0"><span class="c24 c186">Session Present:</span><span class="c3 c186">&nbsp;</span><span class="c186">Stored in Bit 0 and specifies whether an existing session was present on the gateway for the given client identifier</span><span>. A value of 1 indicates a session was present, a value 0 indicates no session was present.<br><br></span><span class="c64">If the Gateway accepts a connection with Clean Start set to 1, the Gateway MUST set Session Present to 0 in the CONNACK Packet in addition to setting a 0x00 (Success) Reason Code in the CONNACK packet. </span></li></ul><p class="c100"><span class="c64">If the Gateway accepts a connection with Clean Start set to 0 and the Gateway has Session State for the client identifier it MUST set Session Present to 1 in the CONNACK packet, otherwise it MUST set Session Present to 0 in the CONNACK packet. In both cases it MUST set a 0x00 (Success) Reason Code in the CONNACK packet.</span><span class="c60 c96 c39">&nbsp;<br><br>If the value of Session Present received by the Client from the Gateway &nbsp;is not as expected, the Client proceeds as follows:</span></p><ul class="c12 lst-kix_list_3-0"><li class="c173 c101 c241 c161 c333 li-bullet-0"><span class="c64">If the Client does not have Session State and receives Session Present set to 1 it MUST close the Virtual Connection.</span><span>&nbsp;</span><span class="c64">If it wishes to restart with a new Session the Client can reconnect using Clean Start set to 1.</span></li><li class="c180 c101 c241 c161 c333 li-bullet-0"><span class="c98 c96 c39 c64">If the Client does have Session State and receives Session Present set to 0 it MUST discard its Session State if it continues with the Virtual Connection.</span></li></ul><p class="c41 c101 c144 c78 c300"><span class="c64">If a Gateway sends a CONNACK packet containing a non-zero Reason Code it MUST set Session Present to 0.</span></p><ul class="c12 lst-kix_list_6-0 start"><li class="c100 c161 li-bullet-0"><span class="c357">Auth:</span><span>&nbsp;</span><span class="c3">Stored in Bit 1 and specifies whether the packet contains Auth material that should be considered.</span></li></ul><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c98 c3 c39 c64">The Client MUST validate that the reserved flags in the CONNACK packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.lnmexuhpjkl8" style="display:inline"><span class="c35 c24">3.1.5.3 Correlation Id</span></h4></li></ul><p class="c294 c101 c66"><span class="c60 c3 c39">The same value as the one contained in the corresponding CONNECT packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.1302m92" style="display:inline"><span class="c35 c24">3.1.5.4 Reason Code</span></h4></li></ul><p class="c36"><span class="c3">Byte 5 in the CONNACK header contains the Connect Reason Code. </span><span>The values for the Connect Reason Code field are shown in Table 9: Reason Code Values. </span><span class="c64">The Server sending the CONNACK packet MUST use one of the Connect Reason Code values.</span></p><p class="c36"><span class="c64">If a Server sends a CONNACK packet containing a Reason code of </span><span class="c64">128</span><sup><a href="#cmnt33" id="cmnt_ref33">[ag]</a></sup><span class="c64">&nbsp;or greater it MUST then close the Virtual Connection.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2250f4o" style="display:inline"><span class="c35 c24">3.1.5.5 Session Expiry Interval</span></h4></li></ul><p class="c41 c101 c66"><span class="c3 c81">If the Session Expiry Interval is 0, the value of Session Expiry Interval in the CONNECT Packet is used. </span><span class="c523 c313 c7">The server uses this property to inform the Client that it is using a value other than that sent by the Client in the CONNECT</span><span class="c3 c81">. </span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.3wmneavoet74" style="display:inline"><span class="c3">3.1.5.6 Authentication Method Length (optional</span><span>, only with </span><span class="c7">Auth </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c131 c101 c241"><span class="c3">Single byte value (max 0-255 bytes), representing the length of field used to specify the authentication method. Refer to </span><span class="c3 c127">LINKED TO AUTH</span><sup><a href="#cmnt34" id="cmnt_ref34">[ah]</a></sup><sup><a href="#cmnt35" id="cmnt_ref35">[ai]</a></sup><sup><a href="#cmnt36" id="cmnt_ref36">[aj]</a></sup><span class="c3 c127">&nbsp;</span><span class="c60 c3 c39">for more information about extended authentication.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.ydayklwjstjk" style="display:inline"><span class="c3">3.1.5.7 Authentication Method (optional</span><span>, only with </span><span class="c7">Auth </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c131 c101 c66"><span class="c3">A UTF-8 Encoded String containing the name of the authentication method. Refer to </span><span class="c3 c127">LINKED TO AUTH</span><sup><a href="#cmnt37" id="cmnt_ref37">[ak]</a></sup><sup><a href="#cmnt38" id="cmnt_ref38">[al]</a></sup><sup><a href="#cmnt39" id="cmnt_ref39">[am]</a></sup><span class="c3 c127">&nbsp;</span><span class="c60 c3 c39">for more information about extended authentication.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.kvppk7yh36lv" style="display:inline"><span class="c3">3.1.5.8 Authentication Data Length (optional</span><span>, only with </span><span class="c7">Auth </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c131 c101 c66"><span class="c3">Two byte value (max 0-65535 bytes), representing the length of field used to specify the authentication data. Refer to </span><span class="c3 c127">LINKED TO AUTH</span><sup><a href="#cmnt40" id="cmnt_ref40">[an]</a></sup><sup><a href="#cmnt41" id="cmnt_ref41">[ao]</a></sup><sup><a href="#cmnt42" id="cmnt_ref42">[ap]</a></sup><span class="c3 c127">&nbsp;</span><span class="c60 c3 c39">for more information about extended authentication.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.600ktmi3vm5o" style="display:inline"><span class="c3">3.1.5.9 Authentication Data (optional</span><span>, only with </span><span class="c7">Auth </span><span>flag set</span><span class="c35 c24">)</span></h4></li></ul><p class="c131 c101 c241"><span class="c3">Binary Data containing authentication data. The contents of this data are defined by the authentication method and the state of already exchanged authentication data. Refer to </span><span class="c3 c127">LINKED TO AUTH</span><sup><a href="#cmnt43" id="cmnt_ref43">[aq]</a></sup><sup><a href="#cmnt44" id="cmnt_ref44">[ar]</a></sup><sup><a href="#cmnt45" id="cmnt_ref45">[as]</a></sup><span class="c3 c127">&nbsp;</span><span class="c60 c3 c39">for more information about extended authentication.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.haapch" style="display:inline"><span class="c35 c24">3.1.5.10 Assigned Client Identifier</span></h4></li></ul><p class="c36"><span class="c3">The Client Identifier assigned by the gateway when the associated CONNECT packet contained no Client Identifier. </span><span class="c3 c64">If the Client connects using a zero length Client Identifier, the Server MUST respond with a CONNACK containing an Assigned Client Identifier. The Assigned Client Identifier MUST be a new Client Identifier not used by any other Session currently in the Gateway</span><span class="c3">.</span></p><p class="c36"><span class="c3 c81 c64">The Assigned Client Identifier MUST be a </span><span class="c3 c64">UTF-8 Encoded String</span><span class="c3 c81">.</span></p><p class="c100"><span class="c24">Informative comment</span></p><p class="c100"><span class="c37 c3 c78">Assigned Client Identifiers SHOULD be less than 247 bytes so they can be accommodated in a small packet version. This is also to cater for devices which may not support larger Client Identifiers.</span></p><p class="c100"><span class="c24">Informative comment</span></p><p class="c100"><span class="c3 c81">Where a transparent gateway obtains an Assigned Client Identifier which is deemed too large for a device, it should maintain a registry to map shorter gateway generated Client Identifiers with their versions returned from the broker.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c219 c101 c45"><h3 id="h.184mhaj" style="display:inline"><span>3.1.6 </span><span class="c3">AUTH</span><sup><a href="#cmnt46" id="cmnt_ref46">[at]</a></sup><sup><a href="#cmnt47" id="cmnt_ref47">[au]</a></sup><sup><a href="#cmnt48" id="cmnt_ref48">[av]</a></sup></h3></li></ul><a id="t.5dc91a974929408ccc6a4e5c008c3294b511964a"></a><a id="t.15"></a><table class="c235"><tr class="c25"><td class="c450 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c75 c373" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c460 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c450" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c279" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c450" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c279" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c450" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c279" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Auth Reason Code</span></p></td></tr><tr class="c25"><td class="c450" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c279" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Auth Method Length (K)</span></p></td></tr><tr class="c25"><td class="c450" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5:5+K</span></p></td><td class="c279" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Auth Method</span></p></td></tr><tr class="c25"><td class="c450" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6+K:N</span></p></td><td class="c279" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Auth Data (N)</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 22: AUTH packet</span></p><p class="c36"><span class="c3 c78">The authentication method and data is first sent by the Client as part of a CONNECT exchange.&nbsp;If the Server requires additional information to complete the authentication, it responds with an AUTH packet to </span><span class="c3 c78">obtain</span><span class="c60 c3 c39">&nbsp;that the Client generates and sends another AUTH packet with the required information and so on until the authentication is complete. The server then responds with a CONNACK message.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3s49zyc" style="display:inline"><span class="c35 c24">3.1.6.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.279ka65" style="display:inline"><span class="c35 c24">3.1.6.2 Reason Code</span></h4></li></ul><p class="c36"><span class="c3 c78">Byte 3 in the Auth packet holds the Authentication Reason Code. The values for the Authentication Reason Code field are shown in </span><span>Table 9: Reason Code Values. </span><span class="c3 c78">The sender of the AUTH Packet MUST use one of the Authenticate Reason Codes.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.meukdy" style="display:inline"><span class="c35 c24">3.1.6.3 Auth Method Length</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">The length of the auth method string.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.36ei31r" style="display:inline"><span class="c35 c24">3.1.6.4 Auth Method</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">A UTF-8 Encoded String containing the name of the authentication method.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1ljsd9k" style="display:inline"><span class="c35 c24">3.1.6.5 Auth Data</span></h4></li></ul><p class="c36"><span class="c3 c78">Binary Data containing authentication data. The contents of this data are defined by the authentication method.</span></p><p class="c2"><span class="c3 c218 c257 c39 c78 c186"></span></p><p class="c100"><span class="c24">Informative comment</span></p><p class="c100"><span class="c3 c78">For a simple cleartext password analogous to MQTT username and password, the SASL PLAIN method can be used.</span></p><p class="c137 c101 c191 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c219 c101 c45"><h3 id="h.45jfvxd" style="display:inline"><span>3.1.7 </span><span class="c21">REGISTER</span></h3></li></ul><a id="t.161fa1f7c9b6575bc68f4215df99e84475b1a711"></a><a id="t.16"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Topic Alias MSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Topic Alias LSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c3">Correlation Id</span><span class="c3 c7">&nbsp;</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6 &hellip; N</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Topic Name</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 24: REGISTER packet</span></p><p class="c101 c238"><span class="c60 c3 c39">The REGISTER packet is sent by a client to a GW for requesting a topic alias value for the included topic name. It is also sent by a GW to inform a client about the topic alias value it has assigned to the included topic name.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2koq656" style="display:inline"><span class="c35 c24">3.1.7.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.zu0gcz" style="display:inline"><span class="c35 c24">3.1.7.2 Topic Alias</span></h4></li></ul><p class="c137 c101 c191"><span class="c60 c3 c39">If sent by a client, it is coded 0x0000 and is not relevant; if sent by a GW, it contains the topic alias value assigned to the topic name included in the Topic Name field.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3jtnz0s" style="display:inline"><span class="c35 c24">3.1.7.3 Correlation Id</span></h4></li></ul><p class="c137 c101 c191"><span class="c60 c3 c39">A byte of data to be used to correlate a packet request to an equivalent packet response. It should be populated with ideally a random integer value between 0-255 and be coded such that it can be used to identify the corresponding REGACK packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1yyy98l" style="display:inline"><span class="c35 c24">3.1.7.4 Topic Name</span></h4></li></ul><p class="c281 c101 c191"><span class="c60 c3 c39">Fixed Length UTF-8 Encoded String Contains the fully qualified topic name.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.4iylrwe" style="display:inline"><span>3.1.8 </span><span class="c21">REGACK</span></h3></li></ul><a id="t.60554637de1a8d627fcaeb519bceb785441e7329"></a><a id="t.17"></a><table class="c235"><tr class="c25"><td class="c92 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c215 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c226 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c75 c249" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c30 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c75 c183" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c75 c512" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c153 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c146 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c92" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c330" colspan="10" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c92" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c330" colspan="10" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c184"><td class="c92" colspan="1" rowspan="2"><p class="c2"><span class="c17 c3"></span></p></td><td class="c159 c330" colspan="10" rowspan="1"><p class="c9"><span class="c11 c7">REGACK FLAGS</span></p></td></tr><tr class="c184"><td class="c215" colspan="1" rowspan="1"><p class="c9"><span class="c3">Reserved</span></p></td><td class="c226" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Reserved</span></p></td><td class="c249" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Reserved</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Reserved</span></p></td><td class="c249" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">Reserved</span></p></td><td class="c215" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Reserved</span></p></td><td class="c435" colspan="3" rowspan="1"><p class="c9"><span class="c17 c3">Topic Type</span></p></td></tr><tr class="c25"><td class="c92" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c215" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c226" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c249" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c249" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c215" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c176" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">X</span></p></td><td class="c187" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">X</span></p></td></tr><tr class="c25"><td class="c92" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c330" colspan="10" rowspan="1"><p class="c9"><span class="c17 c3">Topic Alias MSB</span></p></td></tr><tr class="c25"><td class="c92" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c330" colspan="10" rowspan="1"><p class="c9"><span class="c17 c3">Topic Alias LSB</span></p></td></tr><tr class="c25"><td class="c92" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6</span></p></td><td class="c330" colspan="10" rowspan="1"><p class="c9"><span class="c17 c3">Correlation Id</span></p></td></tr><tr class="c25"><td class="c92" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 7</span></p></td><td class="c330" colspan="10" rowspan="1"><p class="c9 c45"><span class="c17 c3">Reason Code</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 25: REGACK packet</span></p><p class="c36"><span class="c60 c3 c39">The REGACK packet is sent by a client or by a GW as an acknowledgment to the receipt and processing of a REGISTER packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2y3w247" style="display:inline"><span class="c35 c24">3.1.8.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1d96cc0" style="display:inline"><span class="c35 c24">3.1.8.2 REGACK Flags</span></h4></li></ul><p class="c101 c66 c310"><span class="c3 c81">The REGACK Flags is 1 byte field in Byte position 3 of the REGACK packet. &nbsp;</span></p><p class="c36"><span class="c3">The REGACK Flags</span><span class="c3 c7">&nbsp;</span><span class="c60 c3 c39">field includes the following flag:</span></p><ul class="c12 lst-kix_list_11-0 start"><li class="c281 c101 c241 c486 li-bullet-4"><span class="c67 c24 c68 c39">Topic Type</span><span class="c67 c3 c68 c39">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic value. Refer to </span><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="#h.2zbgiuw">Table 10</a></span><span class="c67 c3 c68 c39">&nbsp;for the definition of the various topic types.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.3x8tuzt" style="display:inline"><span class="c35 c24">3.1.8.3 Topic Alias</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">A Topic Alias is an integer value that is used to identify the Topic instead of the Topic Name. This numeric value is used as the Topic Alias.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2ce457m" style="display:inline"><span class="c35 c24">3.1.8.4 Correlation Id</span></h4></li></ul><p class="c294 c101 c66"><span class="c60 c3 c39">The same value as the one contained in the corresponding REGISTER packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.rjefff" style="display:inline"><span class="c35 c24">3.1.8.5 Reason Code</span></h4></li></ul><p class="c36"><span class="c3 c78">Byte 8 in the REGACK packet holds the Register Reason Code. </span><span>The values for the Register Reason Code field are shown in Table 9: Reason Code Values. </span><span class="c64">The sender of the REGACK Packet MUST use one of the Register Reason Codes.</span></p><p class="c2"><span class="c60 c96 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c189 c101 c311 c45 c487 li-bullet-5"><h3 id="h.3bj1y38" style="display:inline"><span class="c244 c247 c39 c78 c186 c363">3.1.9 Publish Variants</span></h3></li></ul><p class="c36"><span class="c60 c96 c39">MQTT-SN is designed to be optimized for packet size. For this reason, the PUBLISH packet has been split into 3 variants; Variant 1 catering for PUBLISH WITHOUT SESSION where no GW session is required, Variant 2 catering for Quality of Service 0 where no response ACK is required and thus no packet identifier is required and Quality of Service 1 and 2 where a response is expected. The table below breaks down the different versions of the PUBLISH packet and their respective type identifiers.</span></p><p class="c36"><span class="c3 c78">&nbsp;</span></p><a id="t.08b33d8ae47c5acc7c3c890dcdd26e6ba442cd0d"></a><a id="t.18"></a><table class="c165"><tr class="c421"><td class="c155 c75" colspan="1" rowspan="1"><p class="c101 c177"><span class="c11 c39">Packet Type</span></p></td><td class="c50 c75" colspan="1" rowspan="1"><p class="c177 c101"><span class="c11 c39">Type</span></p></td><td class="c409 c75" colspan="1" rowspan="1"><p class="c290 c101 c191"><span class="c11 c39">Description</span></p></td></tr><tr class="c421"><td class="c155" colspan="1" rowspan="1"><p class="c5"><span class="c11 c39">Publish</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c463 c101 c406"><span class="c17 c3">0x0C</span></p></td><td class="c409" colspan="1" rowspan="1"><p class="c101 c191 c73 c467"><span class="c17 c3">A PUBLISH packet corresponding to Quality of Service (QoS) &nbsp;0, 1 or 2</span></p></td></tr><tr class="c421"><td class="c155" colspan="1" rowspan="1"><p class="c5"><span class="c11 c39">Publish Without Session</span></p></td><td class="c50" colspan="1" rowspan="1"><p class="c101 c406 c463"><span class="c17 c3">0x11</span></p></td><td class="c409" colspan="1" rowspan="1"><p class="c467 c101 c191"><span class="c3 c383">A PUBLISH Packet sent by a Client and does not need not to have an active Session</span></p></td></tr></table><p class="c2"><span class="c60 c96 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.j8sehv" style="display:inline"><span>3.1.10 </span><span class="c3">PUBLISH </span><span>WITHOUT SESSION</span></h3></li></ul><p class="c2"><span class="c60 c96 c39"></span></p><a id="t.59fd002dbe18977b01b7d5159c62d4e123823dba"></a><a id="t.19"></a><table class="c235"><tr class="c25"><td class="c179 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c466 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c422 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c28 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c185 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c75 c420" colspan="3" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c412 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c199 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c424 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type (0x11)</span></p></td></tr><tr class="c184"><td class="c179" colspan="1" rowspan="2"><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c197 c159" colspan="14" rowspan="1"><p class="c9"><span class="c11 c7">PUBLISH WITHOUT SESSION</span></p></td></tr><tr class="c184"><td class="c506" colspan="4" rowspan="1"><p class="c9"><span class="c71 c3 c7 c78">Reserved</span></p></td><td class="c210" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Retain</span></p></td><td class="c208" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c301" colspan="4" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Topic Type</span></p><p class="c2"><span class="c71 c3 c78 c7"></span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c384" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c287" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c274" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c210" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c316" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c174" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c308" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c82" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c184"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data MSB</span></p></td></tr><tr class="c184"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data LSB</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (6 + TL) .. N</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9 c45"><span class="c17 c3">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 28: PUBLISH WITHOUT SESSION packet</span></p><p class="c36"><span class="c60 c3 c39">This packet is used by both clients and gateways to publish data for a certain topic.</span></p><p class="c100 c72"><span class="c46 c24 c39"></span></p><p class="c343 c101 c241"><span class="c3 c64">Upon being processed, PUBLISH WITHOUT SESSION packets received by a Gateway MUST have their Quality of Service level set to 0 for onward transmission into the MQTT network. PUBLISH WITHOUT SESSION packets are a concept considered </span><span class="c24 c64">only </span><span class="c3 c64">valid</span><span class="c24 c64">&nbsp;</span><span class="c98 c3 c39 c64">on the Gateway side of the network. [MQTTSN-????]</span></p><p class="c100"><span class="c24 c172">Informative comment</span></p><p class="c100"><span class="c46 c3 c39">If the Transport Layer supports broadcast, like UDP/IP, the PUBLISH WITHOUT SESSION packet is generally sent using the broadcast address as destination.</span></p><p class="c100"><span class="c24 c172">Informative comment</span></p><p class="c100"><span class="c3 c172">PUBLISH WITHOUT SESSION packets received by a Gateway should not be associated with a MQTT-SN Client Session and can be optionally discarded by the Gateway without being processed for onward delivery.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.338fx5o" style="display:inline"><span class="c35 c24">3.1.10.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1idq7dh" style="display:inline"><span class="c35 c24">3.1.10.2 PUBLISH Flags</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">The PUBLISH Flags field is 1-byte located in the Byte 3 position of the PUBLISH control packet. </span></p><p class="c36"><span class="c60 c3 c39">The PUBLISH Flags includes the following flags:</span></p><ul class="c12 lst-kix_list_7-0 start"><li class="c101 c311 c332 li-bullet-6"><span class="c24">Topic Type</span><span class="c3">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic data field. Refer to </span><span class="c3 c127"><a class="c29" href="#h.2zbgiuw">Table 10</a></span><span class="c3">&nbsp;for the definition of the various topic types. </span><span class="c24">NOTE: only predefined topic alias, short topic or full topic types are allowed in PUBLISH WITHOUT SESSION packets.</span></li><li class="c101 c221 li-bullet-7"><span class="c24">Retain</span><span class="c60 c3 c39">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing retained message for this topic is replaced or kept.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.42ddq1a" style="display:inline"><span class="c35 c24">3.1.10.3 Topic Data</span></h4></li></ul><p class="c281 c101 c66"><span class="c3">Contains 2 bytes of topic length (if the topic type is Full Topic Name) or the topic alias (predefined), or short topic name as indicated in the </span><span class="c3 c7">Topic Type </span><span class="c60 c3 c39">field in flags. Determines the topic which this payload will be published to.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2hio093" style="display:inline"><span class="c35 c24">3.1.10.4 Data</span></h4></li></ul><p class="c36"><span>In the case of Topic Alias Type b11 the data section will be prefixed with a &ldquo;Full Topic Name&rdquo; encoded with a UTF-8 encoded string value of length determined by the previously defined length field. Thereafter, </span><span class="c3">the </span><span class="c3 c7">Data </span><span class="c60 c3 c39">field corresponds to the payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c101 c45 c134"><h3 id="h.wnyagw" style="display:inline"><span>3.1.11 </span><span class="c21">PUBLISH (used for QoS 0)</span></h3></li></ul><p class="c2"><span class="c60 c3 c39"></span></p><a id="t.d927e190e3c4ce5e956c07f1ebbf59ceefd551a2"></a><a id="t.20"></a><table class="c235"><tr class="c25"><td class="c213 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c273 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c119 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c187 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c187 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c75 c339" colspan="3" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c75 c449" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c119 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c222 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c213" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c211" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c213" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c211" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type (0x0C)</span></p></td></tr><tr class="c184"><td class="c213" colspan="1" rowspan="2"><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c211 c159" colspan="14" rowspan="1"><p class="c9"><span class="c11 c7">PUBLISH QoS 0 FLAGS</span></p></td></tr><tr class="c184"><td class="c249" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">DUP</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c526" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">QoS</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c84" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Retain</span></p></td><td class="c84" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c174" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c483" colspan="4" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Topic Type</span></p><p class="c2"><span class="c71 c3 c78 c7"></span></p></td></tr><tr class="c25"><td class="c213" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c249" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c43" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c146" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c84" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c84" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c174" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c249" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c82" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c25"><td class="c213" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c211" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data MSB</span></p></td></tr><tr class="c25"><td class="c213" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c211" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data LSB</span></p></td></tr><tr class="c25"><td class="c213" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (6 + TL) .. N</span></p></td><td class="c211" colspan="14" rowspan="1"><p class="c9 c45"><span class="c17 c3">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 29: PUBLISH packet</span></p><p class="c36"><span class="c60 c3 c39">This packet is used by both clients and gateways to publish data for a certain topic.</span></p><p class="c100"><span class="c24 c64">Normative Comment</span></p><p class="c100"><span class="c3 c64">PUBLISH QoS 0, 1 &amp; 2 packets received by a Gateway </span><span class="c24 c64">must</span><span class="c3 c64">&nbsp;be associated with a valid Client Session.</span><sup><a href="#cmnt49" id="cmnt_ref49">[aw]</a></sup><span class="c98 c3 c39 c64">&nbsp;</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3gnlt4p" style="display:inline"><span class="c35 c24">3.1.11.1 Length &amp; Packet Type</span></h4></li></ul><p class="c101 c66 c400"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1vsw3ci" style="display:inline"><span class="c35 c24">3.1.11.2 PUBLISH Flags</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">The PUBLISH Flags field is 1-byte located in Byte 3 position of the PUBLISH control packet. </span></p><p class="c36"><span class="c60 c3 c39">The PUBLISH Flags includes the following flags:</span></p><ul class="c12 lst-kix_list_7-0"><li class="c332 c101 c311 li-bullet-6"><span class="c24">Topic Type</span><span class="c3">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic data field. Refer to </span><span class="c3 c127"><a class="c29" href="#h.2zbgiuw">Table 10</a></span><span class="c60 c3 c39">&nbsp;for the definition of the various topic types.</span></li><li class="c220 c101 li-bullet-8"><span class="c67 c24 c68 c39">QoS</span><span class="c67 c3 c68 c39">: This is a 2-bit field stored in Bit 5 and 6. QoS has the same meaning as with MQTT indicating the Quality of Service. Set to &ldquo;0b00&rdquo; for QoS 0, &ldquo;0b01&rdquo; for QoS 1, &ldquo;0b10&rdquo; for QoS 2, and &ldquo;0b11&rdquo; for QoS -1. For a detailed description of the various Quality Of Service levels please refer to the operational behavior section.</span></li><li class="c220 c101 li-bullet-8"><span class="c67 c24 c68 c39">DUP</span><span class="c67 c3 c68 c39">: 1 bit field stored in Bit 7 and has the same meaning as with MQTT. It notes the duplicate delivery of packet. If the DUP flag </span><span class="c3">is set</span><span class="c67 c3 c68 c39">&nbsp;to &ldquo;0&rdquo;, it signifies that the packet is sent for the first time. If the DUP flag is set to &ldquo;1&rdquo;, it signifies that the packet was retransmitted. </span></li><li class="c221 c101 li-bullet-9"><span class="c24">Retain</span><span class="c60 c3 c39">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing retained message for this topic is replaced or kept.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.4fsjm0b" style="display:inline"><span class="c35 c24">3.1.11.3 Topic Data</span></h4></li></ul><p class="c281 c101 c66"><span class="c3">Contains 2 bytes of topic length (if the topic type is Full Topic Name) or the topic alias (predefined or normal), or short topic name as indicated in the </span><span class="c3 c7">Topic Type </span><span class="c60 c3 c39">field in flags. Determines the topic which this payload will be published to.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2uxtw84" style="display:inline"><span class="c35 c24">3.1.11.4 Data</span></h4></li></ul><p class="c36"><span>In the case of Topic Type b11 the data section will be prefixed with a &ldquo;Full Topic Name&rdquo; encoded with a UTF-8 encoded string value of length determined by the previously defined length field. Thereafter, </span><span class="c3">the </span><span class="c3 c7">Data </span><span class="c60 c3 c39">field corresponds to the payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><hr style="page-break-before:always;display:none;"><p class="c40 c66"><span class="c60 c3 c39"></span></p><p class="c231 c101 c66 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.1a346fx" style="display:inline"><span>3.1.12 </span><span class="c21">PUBLISH (used for QoS 1 &amp; 2)</span></h3></li></ul><p class="c2"><span class="c60 c3 c39"></span></p><a id="t.6955b0bc9ab6da0ddb1707adc015de194832c64d"></a><a id="t.21"></a><table class="c235"><tr class="c25"><td class="c179 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c75 c466" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c75 c422" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c28 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c185 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c420 c75" colspan="3" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c412 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c199 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c424 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type (0x0C)</span></p></td></tr><tr class="c184"><td class="c179" colspan="1" rowspan="2"><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c197 c159" colspan="14" rowspan="1"><p class="c9"><span class="c11 c7">PUBLISH QoS 1&amp;2 FLAGS</span></p></td></tr><tr class="c184"><td class="c384" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">DUP</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c417" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">QoS</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c210" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Retain</span></p></td><td class="c316" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c174" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c301" colspan="4" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Topic Type</span></p><p class="c2"><span class="c71 c3 c78 c7"></span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c384" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c287" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c274" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c210" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c316" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c174" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c308" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c82" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id MSB</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id LSB</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data MSB</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 7</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data LSB</span></p></td></tr><tr class="c25"><td class="c179" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (8 + TL) .. N</span></p></td><td class="c197" colspan="14" rowspan="1"><p class="c9 c45"><span class="c17 c3">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 30: PUBLISH packet</span></p><p class="c36"><span class="c60 c3 c39">This packet is used by both clients and gateways to publish data for a certain topic.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c100"><span class="c24 c64">Normative Comment</span></p><p class="c100"><span class="c3 c64">PUBLISH QoS 0, 1 &amp; 2 packets received by a Gateway </span><span class="c24 c64">must</span><span class="c3 c64">&nbsp;be associated with a valid Client Session. </span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3u2rp3q" style="display:inline"><span class="c35 c24">3.1.12.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2981zbj" style="display:inline"><span class="c35 c24">3.1.12.2 PUBLISH Flags</span></h4></li></ul><p class="c36" id="h.odc9jc"><span class="c60 c3 c39">The PUBLISH Flags field is 1-byte located in Byte 3 position of the PUBLISH control packet. </span></p><p class="c36"><span class="c60 c3 c39">The PUBLISH Flags includes the following flags:</span></p><ul class="c12 lst-kix_list_7-0"><li class="c220 c101 li-bullet-9"><span class="c67 c24 c68 c39">Topic Type</span><span class="c67 c3 c68 c39">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic </span><span class="c3">data</span><span class="c67 c3 c68 c39">&nbsp;</span><span class="c3">field</span><span class="c67 c3 c68 c39">. Refer to </span><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="#h.2zbgiuw">Table 10</a></span><span class="c67 c3 c68 c39">&nbsp;for the definition of the various topic types.</span></li><li class="c220 c101 li-bullet-10"><span class="c67 c24 c68 c39">QoS</span><span class="c67 c3 c68 c39">: This is a 2-bit field stored in Bit 5 and 6. QoS has the same meaning as with MQTT indicating the Quality of Service. Set to &ldquo;0b00&rdquo; for QoS 0, &ldquo;0b01&rdquo; for QoS 1, &ldquo;0b10&rdquo; for QoS 2, and &ldquo;0b11&rdquo; for QoS -1. For a detailed description of the various Quality Of Service levels please refer to the operational behavior section.</span></li><li class="c101 c220 li-bullet-9"><span class="c67 c24 c68 c39">DUP</span><span class="c67 c3 c68 c39">: 1 bit field stored in Bit 7 and has the same meaning as with MQTT. It notes the duplicate delivery of </span><span class="c3">packets</span><span class="c67 c3 c68 c39">. If the DUP flag </span><span class="c3">is set</span><span class="c67 c3 c68 c39">&nbsp;to &ldquo;0&rdquo;, it signifies that the packet is sent for the first time. If the DUP flag is set to &ldquo;1&rdquo;, it signifies that the packet was retransmitted. </span></li><li class="c221 c101 li-bullet-9"><span class="c24">Retain</span><span class="c60 c3 c39">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing retained message for this topic is replaced or kept.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.1nia2ey" style="display:inline"><span class="c35 c24">3.1.12.4 Packet Id</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">Same meaning as the MQTT &ldquo;Packet ID&rdquo;; only relevant in case of QoS levels 1 and 2, otherwise coded 0x0000.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.47hxl2r" style="display:inline"><span class="c35 c24">3.1.12.5 Topic Data</span></h4></li></ul><p class="c281 c101 c66"><span class="c3">Contains 2 bytes of topic length (if the topic type is Full Topic Name) or the topic alias (predefined or normal), or short topic name as indicated in the </span><span class="c3 c7">Topic Type </span><span class="c60 c3 c39">field in flags. Determines the topic which this payload will be published to.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2mn7vak" style="display:inline"><span class="c35 c24">3.1.12.6 Data</span></h4></li></ul><p class="c231 c101 c158"><span class="c3">The </span><span class="c3 c7">Data </span><span class="c60 c3 c39">field corresponds to the payload of an MQTT PUBLISH packet. It has a variable length and contains the application data that is being published.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.11si5id" style="display:inline"><span>3.1.13 </span><span class="c21">PUBACK &ndash; Publish Acknowledgement</span></h3></li></ul><a id="t.7eb90a5d883b41c8b4586be4ebdd33023b83b125"></a><a id="t.22"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id MSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id LSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Reason Code</span></p></td></tr></table><p class="c101 c116"><span class="c52 c96 c39 c186">Table 31: PUBACK packet</span></p><p class="c36"><span class="c3">A PUBACK packet is the response to a PUBLISH packet with QoS 1. It can also be sent as response to a PUBLISH packet of any QoS (</span><span class="c3 c7">with the exception of QoS -1, or PUBLISH WITHOUT SESSION</span><span class="c3">) in case of an error; the error reason is then indicated in the </span><span class="c3 c7">Reason Code </span><span class="c60 c3 c39">field.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3ls5o66" style="display:inline"><span class="c35 c24">3.1.13.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.20xfydz" style="display:inline"><span class="c35 c24">3.1.13.2 Packet Id</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">Same value as the one contained in the corresponding PUBLISH packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.4kx3h1s" style="display:inline"><span class="c35 c24">3.1.13.3 Reason Code</span></h4></li></ul><p class="c101 c66 c137"><span class="c3">Byte 5 in the PUBACK packet holds the Reason code in response to the PUBLISH packet. The PUBACK Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c60 c3 c39">The Client or Server sending the PUBACK packet MUST use one of the PUBACK Reason Codes.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c99 c42"><h3 id="h.6ou4tvr7malk" style="display:inline"><span class="c244 c247 c39 c78 c186 c363"></span></h3></li><li class="c45 c99"><h3 id="h.302dr9l" style="display:inline"><span>3.1.14 </span><span class="c21">PUBREC (QoS 2 delivery part 1)</span></h3></li></ul><a id="t.7eb90a5d883b41c8b4586be4ebdd33023b83b125"></a><a id="t.23"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id MSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Packet Id LSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Reason Code</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 33: PUBREC packet</span></p><p class="c36"><span class="c60 c3 c39">A PUBREC packet is the response to a PUBLISH packet with QoS 2. It is the second packet of the QoS 2 protocol exchange.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1f7o1he" style="display:inline"><span class="c35 c24">3.1.14.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 2.1 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3z7bk57" style="display:inline"><span class="c35 c24">3.1.14.2 Packet Id</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">Same value as the one contained in the corresponding PUBLISH packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.e5jf58hkzqw8" style="display:inline"><span class="c35 c24">3.1.14.3 Reason Code</span></h4></li></ul><p class="c137 c101 c66"><span class="c3">Byte 5 in the PUBREC packet holds the Reason code in response to the PUBLISH packet. The PUBREC Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c60 c3 c39">The Client or Server sending the PUBREC packet MUST use one of the PUBREC Reason Codes.</span></p><p class="c137 c101 c66 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c99 c45"><h3 id="h.2eclud0" style="display:inline"><span>3.1.15 </span><span class="c21">PUBREL (QoS 2 delivery part 2)</span></h3></li></ul><a id="t.7eb90a5d883b41c8b4586be4ebdd33023b83b125"></a><a id="t.24"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id MSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Packet Id LSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Reason Code</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 34: PUBREL packet</span></p><p class="c36"><span class="c60 c3 c39">A PUBREL packet is the response to a PUBREC packet. It is the third packet of the QoS 2 protocol exchange.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.thw4kt" style="display:inline"><span class="c35 c24">3.1.15.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c203"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 2.1 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3dhjn8m" style="display:inline"><span class="c35 c24">3.1.15.2 Packet Id</span></h4></li></ul><p class="c137 c101 c241 c298"><span class="c60 c3 c39">Same value as the one contained in the corresponding PUBLISH packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.o7qegribw1em" style="display:inline"><span class="c35 c24">3.1.15.3 Reason Code</span></h4></li></ul><p class="c137 c101 c66"><span class="c3">Byte 5 in the PUBREL packet holds the Reason code in response to the PUBREC packet. The PUBREL Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c60 c3 c39">The Client or Server sending the PUBREL packet MUST use one of the PUBREL Reason Codes.</span></p><p class="c137 c101 c66 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c99 c45"><h3 id="h.1smtxgf" style="display:inline"><span>3.1.16 </span><span class="c21">PUBCOMP (QoS 2 delivery part 3)</span></h3></li></ul><a id="t.7eb90a5d883b41c8b4586be4ebdd33023b83b125"></a><a id="t.25"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id MSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Packet Id LSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Reason Code</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 35: PUBCOMP packet</span></p><p class="c36"><span class="c60 c3 c39">The PUBCOMP packet is the response to a PUBREL packet. It is the fourth and final packet of the QoS 2 protocol exchange.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.4cmhg48" style="display:inline"><span class="c24 c35">3.1.16.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2rrrqc1" style="display:inline"><span class="c35 c24">3.1.16.2 Packet Identifier</span></h4></li></ul><p class="c137 c101 c66"><span class="c3">Same value as the one contained in the corresponding PUBLISH packet.</span><sup><a href="#cmnt50" id="cmnt_ref50">[ax]</a></sup></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.j9ce9nedlrkd" style="display:inline"><span class="c35 c24">3.1.16.3 Reason Code</span></h4></li></ul><p class="c137 c101 c66"><span class="c3">Byte 5 in the PUBCOMP packet holds the Reason code in response to the PUBREL packet. The PUBCOMP Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c60 c3 c39">The Client or Server sending the PUBCOMP packet MUST use one of the PUBCOMP Reason Codes.</span></p><p class="c137 c101 c66 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c219 c101 c45"><h3 id="h.16x20ju" style="display:inline"><span>3.1.17 </span><span class="c21">SUBSCRIBE </span></h3></li></ul><a id="t.3975c6545a3092064e2eae64cc840e59ff0933ef"></a><a id="t.26"></a><table class="c235"><tr class="c25"><td class="c75 c97" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c271 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c75 c453" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c153 c75" colspan="3" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c243 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c75 c432" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c133 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c133 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c75 c372" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c97" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c387" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c97" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c387" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c184"><td class="c97" colspan="1" rowspan="2"><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c159 c387" colspan="13" rowspan="1"><p class="c9"><span class="c11 c7">SUBSCRIBE FLAGS</span></p></td></tr><tr class="c184"><td class="c443" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">No Local</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c393" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">QoS</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c295" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Retain as published</span></p></td><td class="c431" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Retain Handling</span></p></td><td class="c520" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Topic Type</span></p><p class="c2"><span class="c71 c3 c78 c7"></span></p></td></tr><tr class="c25"><td class="c97" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c443" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c123" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c427" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c295" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c432" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c133" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c157" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c129" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c25"><td class="c97" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c387" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id MSB</span></p></td></tr><tr class="c25"><td class="c97" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c387" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id LSB</span></p></td></tr><tr class="c25"><td class="c97" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6</span></p></td><td class="c375" colspan="4" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data MSB</span></p></td><td class="c521" colspan="4" rowspan="2"><p class="c9"><span class="c11 c39">OR</span></p></td><td class="c473" colspan="5" rowspan="2"><p class="c9"><span class="c17 c3">Topic Filter</span></p><p class="c9"><span class="c17 c3">Byte 6 &hellip; N</span></p></td></tr><tr class="c25"><td class="c97" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 7</span></p></td><td class="c472" colspan="4" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data LSB</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 36: SUBSCRIBE packet</span></p><p class="c343 c101 c158"><span class="c60 c3 c39">The SUBSCRIBE packet is used by a client to subscribe to a certain topic name.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3qwpj7n" style="display:inline"><span class="c35 c24">3.1.17.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.261ztfg" style="display:inline"><span class="c35 c24">3.1.17.2 SUBSCRIBE Flags</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">The SUBSCRIBE Flags field is 1-byte and contains the following flags:</span></p><ul class="c12 lst-kix_list_8-0 start"><li class="c288 c101 c241 c161 li-bullet-0"><span class="c67 c24 c68 c39">QoS</span><span class="c67 c3 c68 c39">: maximum QoS. This gives the maximum QoS level at which the Server can send Application Messages to the Client. It is a Protocol Error if the Maximum QoS field has the value 3.</span></li><li class="c288 c101 c241 c161 li-bullet-0"><span class="c67 c24 c68 c39">No Local</span><span class="c67 c3 c68 c39">: if the value is 1, Application Messages MUST NOT be forwarded to a Virtual Connection with a ClientID equal to the ClientID of the publishing </span><span class="c3">Virtual C</span><span class="c67 c3 c68 c39">onnection</span></li><li class="c288 c101 c241 c161 li-bullet-0"><span class="c67 c24 c68 c39">Retain as published</span><span class="c67 c3 c68 c39">: If 1, Application Messages forwarded using this subscription keep the RETAIN flag they were published with. If 0, Application Messages forwarded using this subscription have the RETAIN flag set to 0. Retained messages sent when the subscription is established have the RETAIN flag set to 1.</span></li><li class="c101 c241 c161 c288 li-bullet-0"><span class="c67 c24 c68 c39">Retain handling</span><span class="c67 c3 c68 c39">: This option specifies whether retained messages are sent when the subscription is established. This does not affect the sending of retained messages at any point after the subscribe. If there are no retained messages matching the Topic Filter, all these values act the same. The values are:</span></li></ul><ul class="c12 lst-kix_list_8-1 start"><li class="c414 c101 c241 c161 c419 li-bullet-0"><span class="c67 c3 c68 c39">0: Send retained messages at the time of the subscribe</span></li><li class="c414 c101 c241 c161 c419 li-bullet-0"><span class="c67 c3 c68 c39">1: Send retained messages at subscribe only if the subscription does not currently exist</span></li><li class="c414 c101 c241 c161 c419 li-bullet-0"><span class="c67 c3 c68 c39">2: Do not send retained messages at the time </span><span class="c3">the new subscription is processed</span><span class="c67 c3 c39 c68">.</span></li></ul><p class="c288 c101 c241"><span class="c67 c3 c68 c39">It is a Protocol Error to send a Retain Handling value of 3.</span></p><ul class="c12 lst-kix_list_11-0"><li class="c281 c101 c241 c499 li-bullet-11"><span class="c67 c24 c68 c39">Topic Type</span><span class="c67 c3 c68 c39">: </span><span class="c3">This is a 2-bit field in Bit 0 and 1 which determines the format of the topic data field. Refer to </span><span class="c3 c127"><a class="c29" href="#h.2zbgiuw">Table 10</a></span><span class="c3">&nbsp;for the definition of the various topic types.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.l7a3n9" style="display:inline"><span class="c35 c24">3.1.17.3 Packet Id</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">Should be coded such that it can be used to identify the corresponding SUBACK packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.356xmb2" style="display:inline"><span class="c35 c24">3.1.17.4 Topic Data or Topic Filter</span></h4></li></ul><p class="c101 c66 c281"><span class="c3">Contains Fixed Length UTF-8 Encoded String topic filter, topic alias (predefined or normal), or short topic name as indicated in the </span><span class="c3 c7">Topic Type </span><span class="c60 c3 c39">field in flags. Determines the topic names which this subscription is interested in.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.1kc7wiv" style="display:inline"><span>3.1.18 </span><span class="c21">SUBACK</span></h3></li></ul><a id="t.5f2aef26e901457b583d040d25d83ed52c880f02"></a><a id="t.27"></a><table class="c235"><tr class="c25"><td class="c63 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c75 c253" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c169 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c75 c503" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c151 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c75 c511" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c271 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c351 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c179 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c63" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c104" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c63" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c104" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c184"><td class="c63" colspan="1" rowspan="2"><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c104 c159" colspan="13" rowspan="1"><p class="c9"><span class="c11 c7">SUBACK FLAGS</span></p></td></tr><tr class="c184"><td class="c171" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c410" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c428" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c355" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c326" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Topic Type</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td></tr><tr class="c25"><td class="c63" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c171" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c153" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c277" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c428" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c171" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c355" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c469" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c229" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c25"><td class="c63" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c104" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data MSB</span></p></td></tr><tr class="c25"><td class="c63" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c104" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data LSB</span></p></td></tr><tr class="c25"><td class="c63" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6</span></p></td><td class="c104" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id MSB</span></p></td></tr><tr class="c25"><td class="c63" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 7</span></p></td><td class="c104" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id LSB</span></p></td></tr><tr class="c25"><td class="c63" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 8</span></p></td><td class="c104" colspan="13" rowspan="1"><p class="c9 c45"><span class="c17 c3">Reason Code</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 37: SUBACK packet</span></p><p class="c36"><span class="c60 c3 c39">The SUBACK packet is sent by a gateway to a client as an acknowledgment to the receipt and processing of a SUBSCRIBE packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.44bvf6o" style="display:inline"><span class="c35 c24">3.1.18.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2jh5peh" style="display:inline"><span class="c35 c24">3.1.18.2 Flags</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">The SUBACK Flags field is 1-byte located in Byte 3 position of the SUBACK control packet. The SUBACK Flags includes the following flags:</span></p><ul class="c12 lst-kix_list_7-0"><li class="c220 c101 li-bullet-12"><span class="c67 c24 c68 c39">Topic Type</span><span class="c67 c3 c68 c39">. </span><span class="c3">This is a 2-bit field in Bit 0 and 1 which determines the format of the topic data field. Refer to </span><span class="c3 c127"><a class="c29" href="#h.2zbgiuw">Table 10</a></span><span class="c3">&nbsp;for the definition of the various topic types.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.ymfzma" style="display:inline"><span class="c35 c24">3.1.18.3 Topic Data</span></h4></li></ul><p class="c101 c66 c459"><span class="c3">In case of &ldquo;accepted&rdquo; the value that will be used as topic alias by the gateway when sending PUBLISH packets to the client (</span><span class="c3">not relevant in case of subscriptions to a short topic name or to a topic name which contains wildcard characters</span><sup><a href="#cmnt51" id="cmnt_ref51">[ay]</a></sup><span class="c60 c3 c39">)</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3im3ia3" style="display:inline"><span class="c35 c24">3.1.18.4 Packet Identifier</span></h4></li></ul><p class="c15"><span class="c60 c3 c39">Same value as the one contained in the corresponding SUBSCRIBE packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1xrdshw" style="display:inline"><span class="c35 c24">3.1.18.5 Reason Code</span></h4></li></ul><p class="c137 c101 c66"><span class="c3">Byte 8 in the SUBACK packet holds the Reason code in response to the SUBSCRIBE packet. The SUBACK Reason Codes are shown in </span><span>Table 9: Reason Code Values.</span><span class="c3">The Server sending the SUBACK packet MUST use one of the SUBACK Reason Codes.</span></p><p class="c294 c101 c66 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c101 c45 c219"><h3 id="h.4hr1b5p" style="display:inline"><span>3.1.19 </span><span class="c21">UNSUBSCRIBE</span></h3></li></ul><a id="t.386984bedf97e5ae407ca2627df5141868b0b090"></a><a id="t.28"></a><table class="c235"><tr class="c25"><td class="c245 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c75 c416" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c75 c411" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c75 c474" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c75 c115" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c75 c515" colspan="4" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c245 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c202 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c75 c251" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c245" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c335" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c245" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c335" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c184"><td class="c245" colspan="1" rowspan="2"><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c335 c159" colspan="14" rowspan="1"><p class="c9"><span class="c11 c7">UNSUBSCRIBE FLAGS</span></p></td></tr><tr class="c184"><td class="c194" colspan="2" rowspan="1"><p class="c36"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c426" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c253" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c331" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c245" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c301" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Topic Type</span></p><p class="c2"><span class="c71 c3 c78 c7"></span></p></td></tr><tr class="c25"><td class="c245" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c194" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c142" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c265" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c253" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c331" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c245" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c56" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c232" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c25"><td class="c245" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c335" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Packet Identifier MSB</span></p></td></tr><tr class="c25"><td class="c245" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c335" colspan="14" rowspan="1"><p class="c9"><span class="c17 c3">Packet Identifier LSB</span></p></td></tr><tr class="c25"><td class="c245" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6</span></p></td><td class="c448" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data MSB</span></p></td><td class="c509" colspan="1" rowspan="2"><p class="c9"><span class="c11 c39">OR</span></p></td><td class="c307" colspan="5" rowspan="2"><p class="c9"><span class="c17 c3">Topic Filter</span></p><p class="c9"><span class="c17 c3">Byte 6 &hellip; N</span></p></td></tr><tr class="c25"><td class="c245" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 7</span></p></td><td class="c59" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Topic Data LSB</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 39: UNSUBSCRIBE packet</span></p><p class="c101 c317" id="h.2wwbldi"><span class="c60 c3 c39">An UNSUBSCRIBE packet is sent by the client to the GW to unsubscribe from named topics.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1c1lvlb" style="display:inline"><span class="c35 c24">3.1.19.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3w19e94" style="display:inline"><span class="c35 c24">3.1.19.2 UNSUBSCRIBE Flags</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">For The UNSUBSCRIBE Flags is 1 byte field in Byte position 3 of the UNSUBSCRIBE packet. &nbsp;</span></p><p class="c36"><span class="c60 c3 c39">The UNSUBSCRIBE Flags field includes the following flag:</span></p><ul class="c12 lst-kix_list_30-0 start"><li class="c100 c161 li-bullet-0"><span class="c67 c24 c68 c39">Topic Type.</span><span class="c67 c3 c68 c39">&nbsp;This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. Refer to </span><span class="c3 c68 c254 c39 c127 c186"><a class="c29" href="#h.2zbgiuw">Table 10</a></span><span class="c67 c3 c68 c39">&nbsp;for the definition of the various topic types.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.2b6jogx" style="display:inline"><span class="c35 c24">3.1.19.3 Packet Identifier</span></h4></li></ul><p class="c15"><span class="c60 c3 c39">Should be coded such that it can be used to identify the corresponding SUBACK packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.qbtyoq" style="display:inline"><span class="c35 c24">3.1.19.4 Topic Data or Topic Filter</span></h4></li></ul><p class="c281 c101 c66"><span class="c3">Contains Fixed Length UTF-8 Encoded String topic filter, topic alias (predefined or normal), or short topic name as indicated in the </span><span class="c3 c7">Topic Type </span><span class="c60 c3 c39">field in flags. Determines the topic names which this subscription is interested in.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c45 c57"><h3 id="h.3abhhcj" style="display:inline"><span>3.1.20 </span><span class="c21">UNSUBACK</span></h3></li></ul><a id="t.7eb90a5d883b41c8b4586be4ebdd33023b83b125"></a><a id="t.29"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id MSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Id LSB</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Reason Code</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 40: UNSUBACK packet</span></p><p class="c101 c66 c347"><span class="c60 c3 c39">An UNSUBACK packet is sent by a GW to acknowledge the receipt and processing of an UNSUBSCRIBE packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1pgrrkc" style="display:inline"><span class="c35 c24">3.1.20.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.49gfa85" style="display:inline"><span class="c35 c24">3.1.20.2 Packet Identifier</span></h4></li></ul><p class="c101 c66 c268"><span class="c60 c3 c39">Same value as the one contained in the corresponding UNSUBSCRIBE packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2olpkfy" style="display:inline"><span class="c35 c24">3.1.20.3 Reason Code</span></h4></li></ul><p class="c137 c101 c66"><span class="c3">Byte 5 in the UNSUBACK packet holds the Reason code in response to UNSUBSCRIBE packet. The UNSUBACK Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c60 c3 c39">The server sending the UNSUBACK packet MUST use one of the UNSUBACK Reason Codes.</span></p><p class="c101 c72 c436"><span class="c52 c96 c39 c186"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.13qzunr" style="display:inline"><span>3.1.21 </span><span class="c21">PINGREQ</span></h3></li></ul><a id="t.59ec876bad9826d9115aeaef02141986595eaf9c"></a><a id="t.30"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Correlation Id</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4 &hellip; N</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Client Identifier (optional)</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 42: PINGREQ packet</span></p><p class="c36"><span class="c60 c3 c39">As with MQTT, the PINGREQ packet is an &rdquo;are you alive&rdquo; packet that is sent from or received by a connected client.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3nqndbk" style="display:inline"><span class="c35 c24">3.1.21.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.sqbpplpqb01e" style="display:inline"><span class="c35 c24">3.1.21.2 Correlation Id</span></h4></li></ul><p class="c137 c101 c191"><span class="c60 c3 c39">A byte of data to be used to correlate a packet request to an equivalent packet response. It should be populated with ideally a random integer value between 0-255 and be coded such that it can be used to identify the corresponding PINGRESP packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.22vxnjd" style="display:inline"><span class="c35 c24">3.1.21.3 Client Identifier (optional)</span></h4></li></ul><p class="c101 c66 c378"><span class="c60 c3 c39">Contains the client identifier (client id); this field is optional and is included by a &ldquo;sleeping&rdquo; client when it goes to the &ldquo;awake&rdquo; state and is waiting for packets sent by the server/gateway.</span></p><p class="c36"><span class="c3 c81 c64">The Client Identifier MUST be a Fixed Length UTF-8 Encoded String</span><span class="c3 c81">.</span><span class="c37 c3 c64">&nbsp;</span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.i17xr6" style="display:inline"><span>3.1.22 </span><span class="c21">PINGRESP</span></h3></li></ul><a id="t.f8b97a437c003012728aa6c335475d1aabbf44a7"></a><a id="t.31"></a><table class="c235"><tr class="c25"><td class="c167 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c250 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c8 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Correlation Id</span></p></td></tr><tr class="c25"><td class="c167" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c163" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">Messages Remaining (optional)</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 43: PINGRESP packet</span></p><p class="c173 c101 c66"><span class="c60 c3 c39">As with MQTT, a PINGRESP packet is the response to a PINGREQ packet and means &rdquo;yes I am alive&rdquo;. Keep Alive packets flow in either direction, sent either by a connected client or the gateway. it has only a header and no variable part.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c101 c66 c231"><span class="c60 c3 c39">Moreover, a PINGRESP packet is sent by a gateway to inform a sleeping client that it has no more buffered packets for that client.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.320vgez" style="display:inline"><span class="c35 c24">3.1.22.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.fodwg3l5deju" style="display:inline"><span class="c35 c24">3.1.22.2 Correlation Id</span></h4></li></ul><p class="c101 c66 c294"><span class="c60 c3 c39">The same value as the one contained in the corresponding PINGREQ packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1h65qms" style="display:inline"><span class="c35 c24">3.1.22.3 Messages Remaining</span></h4></li></ul><p class="c231 c101 c66"><span class="c60 c3 c39">The number of messages left when a client is sent back to sleep. Optional &ndash; for use at the end of a client&#39;s awake period. &nbsp;Values can be:</span></p><a id="t.3867620a34edcba5d209aafd514593345605e6b5"></a><a id="t.32"></a><table class="c267"><tr class="c285"><td class="c338 c75" colspan="1" rowspan="1"><p class="c329 c101"><span class="c11 c39">Allowed Values</span></p></td><td class="c62 c75" colspan="1" rowspan="1"><p class="c101 c329"><span class="c11 c39">Description</span></p></td></tr><tr class="c285"><td class="c338 c148" colspan="1" rowspan="1"><p class="c101 c341"><span class="c17 c3">0</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c258 c101"><span class="c17 c3">No messages remain in the queue</span></p></td></tr><tr class="c285"><td class="c148 c338" colspan="1" rowspan="1"><p class="c341 c101"><span class="c17 c3">1 &ndash; 254 (incl.)</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c258 c101"><span class="c17 c3">The number of messages remaining in the queue</span></p></td></tr><tr class="c285"><td class="c338 c148" colspan="1" rowspan="1"><p class="c341 c101"><span class="c17 c3">255 (0xFF)</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c101 c45 c258"><span class="c17 c3">An unspecified positive number of messages remain in the queue greater than 0.</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 44: &nbsp;Allowed PINGRESP continuation values</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c134 c101 c45"><h3 id="h.415t9al" style="display:inline"><span>3.1.23 </span><span class="c21">DISCONNECT</span></h3></li></ul><a id="t.80ba8b51d98279a711570210036acb35a50ff9eb"></a><a id="t.33"></a><table class="c235"><tr class="c25"><td class="c249 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c65 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c30 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c30 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c30 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c79 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c226 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c226 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c205 c75" colspan="3" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c249" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c135" colspan="16" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c249" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c135" colspan="16" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c184"><td class="c249" colspan="1" rowspan="2"><p class="c2"><span class="c17 c3"></span></p></td><td class="c135 c159" colspan="16" rowspan="1"><p class="c9"><span class="c11 c7">DISCONNECT FLAGS</span></p></td></tr><tr class="c184"><td class="c532" colspan="8" rowspan="1"><p class="c9"><span class="c3 c7 c32">Reserved</span></p></td><td class="c79" colspan="2" rowspan="1"><p class="c9"><span class="c32 c3 c7">Reason Code Present</span></p></td><td class="c226" colspan="2" rowspan="1"><p class="c9"><span class="c32 c3 c7">Session Expiry Interval Present</span></p></td><td class="c76" colspan="3" rowspan="1"><p class="c9"><span class="c32 c3 c7">Reason String Present</span></p></td><td class="c273" colspan="1" rowspan="1"><p class="c9"><span class="c32 c3 c7">Retain Registrations</span></p></td></tr><tr class="c25"><td class="c249" colspan="1" rowspan="1"><sup><a href="#cmnt52" id="cmnt_ref52">[az]</a></sup><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c28" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c30" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c30" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c30" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c79" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">X</span></p></td><td class="c226" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">X</span></p></td><td class="c226" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">X</span></p></td><td class="c249" colspan="2" rowspan="1"><p class="c9"><span class="c17 c3">X</span></p></td></tr><tr class="c25"><td class="c249" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c135" colspan="16" rowspan="1"><p class="c9"><span class="c17 c3">Reason Code (optional)</span></p></td></tr><tr class="c25"><td class="c249" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c135" colspan="16" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval MSB (optional)</span></p></td></tr><tr class="c25"><td class="c249" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6</span></p></td><td class="c135" colspan="16" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval (optional)</span></p></td></tr><tr class="c25"><td class="c249" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 7</span></p></td><td class="c135" colspan="16" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval (optional)</span></p></td></tr><tr class="c25"><td class="c249" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 8</span></p></td><td class="c135" colspan="16" rowspan="1"><p class="c9"><span class="c17 c3">Session Expiry Interval LSB (optional)</span></p></td></tr><tr class="c25"><td class="c249" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Bytes 9..N</span></p></td><td class="c135" colspan="16" rowspan="1"><p class="c9 c45"><span class="c17 c3">Reason String (optional)</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 45: DISCONNECT packet</span></p><p class="c445 c101 c66"><span class="c60 c3 c39">As with MQTT, the DISCONNECT packet is sent by a client to indicate that it wants to close the Virtual connection. The gateway will acknowledge the receipt of that packet by returning a DISCONNECT to the client. A server or gateway may also send a DISCONNECT to a client, e.g. in case a gateway, due to an error, cannot map a received packet to a client. Upon receiving such a DISCONNECT packet, a client should try to set up the Virtual Connection again by sending a CONNECT packet to the gateway or server.</span></p><p class="c101 c66 c72 c445"><span class="c60 c3 c39"></span></p><p class="c231 c101 c66"><span class="c3">A DISCONNECT packet with a </span><span class="c3 c7">Session Expiry Interval </span><span class="c60 c3 c39">field is sent by a client when it wants to go to the &ldquo;asleep&rdquo; state. The receipt of this packet is also acknowledged by the gateway by means of a DISCONNECT packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2gb3jie" style="display:inline"><span class="c35 c24">3.1.23.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.vgdtq7" style="display:inline"><span class="c35 c24">3.1.23.2 Disconnect Flags</span></h4></li></ul><p class="c36"><span class="c3 c81">The Disconnect Flags is 1 byte field located at byte </span><span class="c3">3</span><span class="c37 c3 c78">&nbsp;which contains parameters specifying the behavior of the MQTT-SN sleep on the gateway. </span></p><p class="c36"><span class="c3">The </span><span class="c3 c81">Disconnect </span><span class="c3 c7">Flags </span><span class="c60 c3 c39">field includes the following flags:</span></p><ul class="c12 lst-kix_list_4-0"><li class="c114 c101 li-bullet-0"><span class="c67 c24 c68 c39">Reason Code Present:</span><span class="c67 c3 c68 c39">&nbsp;Stored in Bit 3 Does the reason code exist on the packet</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c67 c24 c68 c39">Session Expiry Interval Present:</span><span class="c67 c3 c68 c39">&nbsp;Stored in Bit 2, Does the session expiry interval field exist.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c67 c24 c68 c39">Reason String Present:</span><span class="c67 c3 c68 c39">&nbsp;Stored in Bit 1, Does the reason string field exist</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c67 c24 c68 c39">Retain Registrations:</span><span class="c67 c3 c68 c39">&nbsp;Stored in Bit 0 and specifies whether registrations should be retained by the gateway during the sleep state. &ldquo;0&rdquo; indicates registrations should be removed during the sleeping period and renegotiated when AWAKE or ACTIVE. &ldquo;1&rdquo; indicates registrations should be retained during the SLEEP period, and therefore not renegotiated when AWAKE or ACTIVE.</span></li><li class="c40 c144 c241 li-bullet-0"><span class="c67 c3 c68 c39"></span></li></ul><p class="c36"><span class="c3 c64">The </span><span class="c3 c64">Gateway</span><sup><a href="#cmnt53" id="cmnt_ref53">[ba]</a></sup><span class="c3 c64">&nbsp;MUST validate that the reserved flags in the DISCONNECT packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3fg1ce0" style="display:inline"><span class="c35 c24">3.1.23.3 Reason Code</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The Reason Code for the DISCONNECT packet is optional. If provided, Byte 3 in the DISCONNECT control packet holds the Reason Code of the disconnection. If not provided, 0x00 (Normal disconnection) is assumed. </span></p><p class="c137 c101 c66"><span class="c3">The DISCONNECT Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c3 c64">The Client or Server sending the DISCONNECT packet MUST use one of the DISCONNECT Reason Code values.</span></p><p class="c137 c101 c66 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1ulbmlt" style="display:inline"><span class="c35 c24">3.1.23.4 Session Expiry Interval</span></h4></li></ul><p class="c36"><span class="c3">The Session Expiry Interval is a four-byte integer time interval measured in seconds. If the Session Expiry Interval is set to 0 or omitted, the Session is transitioned to the &ldquo;</span><span class="c24 c7">disconnected</span><span class="c3">&rdquo; state. When the value of this field is greater than zero, it is deemed to be sent by a client that wants to transition to the &ldquo;</span><span class="c24 c7">asleep</span><span class="c60 c3 c39">&rdquo; state, see Section 3.19 for further details. At this point the keep alive timer becomes obsolete until the device issues a new CONNECT.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.4ekz59m" style="display:inline"><span class="c35 c24">3.1.23.5 Reason String</span></h4></li></ul><p class="c36"><span class="c3">Fixed Length UTF-8 Encoded String representing a clear text description of disconnection.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.1e03kqp" style="display:inline"><span>3.1.24 </span><span class="c21">Forwarder Encapsulation</span></h3></li></ul><p class="c467 c101 c72 c394 c513"><span class="c60 c3 c39"></span></p><a id="t.28f24e07fdeed09f0bb05f0e75fc74586dfa0734"></a><a id="t.34"></a><table class="c235"><tr class="c25"><td class="c75 c344" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c380 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c142 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c75 c337" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c129 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c129 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c129 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c129 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c129 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c344" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c437" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c344" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c437" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c25"><td class="c344" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c437" colspan="8" rowspan="1"><p class="c9"><span class="c17 c3">Ctrl</span></p></td></tr><tr class="c25"><td class="c344" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4 .. N</span></p></td><td class="c437" colspan="8" rowspan="1"><p class="c9"><span class="c3">Wireless Node Id</span><sup><a href="#cmnt54" id="cmnt_ref54">[bb]</a></sup><sup><a href="#cmnt55" id="cmnt_ref55">[bc]</a></sup><sup><a href="#cmnt56" id="cmnt_ref56">[bd]</a></sup></p></td></tr><tr class="c25"><td class="c344" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte (N + 1 ,,, M)</span></p></td><td class="c437" colspan="8" rowspan="1"><p class="c9 c45"><span class="c17 c3">MQTT SN packet</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 53: Format of an encapsulated MQTT-SN frame</span></p><p class="c152 c101"><span class="c60 c3 c39">As detailed in Section 4, MQTT-SN clients can also access a gateway via a forwarder in case the gateway is not directly attached to their WSNs. The forwarder simply encapsulates the MQTT-SN frames it receives on the wireless side and forwards them unchanged to the gateway; in the opposite direction, it decapsulates the frames it receives from the gateway and sends them to the clients, unchanged too.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3xzr3ei" style="display:inline"><span class="c35 c24">3.1.24.1 Length</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">1-byte long, specifies the number of bytes up to the end of the &ldquo;Wireless Node Id&rdquo; field (incl. the Length byte itself)</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.2d51dmb" style="display:inline"><span class="c35 c24">3.1.24.2 Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">Coded &ldquo;0xFE&rdquo;, see Table 6</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.sabnu4" style="display:inline"><span class="c35 c24">3.1.24.3 Ctrl</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The Ctrl byte contains control information exchanged between the GW and the forwarder. </span></p><a id="t.864eaf7f37c04e687eb034f893aa40694e9d6402"></a><a id="t.35"></a><table class="c235"><tr class="c25"><td class="c309 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">Bit</span></p></td><td class="c75 c349" colspan="1" rowspan="1"><p class="c9"><span class="c24">7</span></p></td><td class="c75 c293" colspan="1" rowspan="1"><p class="c9"><span class="c24">6</span></p></td><td class="c362 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">5</span></p></td><td class="c320 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">4</span></p></td><td class="c364 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">3</span></p></td><td class="c263 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">2</span></p></td><td class="c263 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">1</span></p></td><td class="c275 c75" colspan="1" rowspan="1"><p class="c9"><span class="c24">0</span></p></td></tr><tr class="c517"><td class="c309" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c399" colspan="6" rowspan="1"><p class="c9"><span class="c17 c3">Reserved</span></p></td><td class="c447" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Radius</span></p><p class="c9 c72"><span class="c17 c3"></span></p></td></tr><tr class="c25"><td class="c309" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c349" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c293" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c362" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c320" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c364" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c263" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">0</span></p></td><td class="c263" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">X</span></p></td><td class="c275" colspan="1" rowspan="1"><p class="c9 c45"><span class="c17 c3">X</span></p></td></tr></table><p class="c116 c101"><span class="c52 c96 c39 c186">Table 54: Format of the ctrl byte</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3c9z6hx" style="display:inline"><span class="c35 c24">3.1.24.4 Radius</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">Transmission radius (only relevant in direction gateway to forwarder)</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.1rf9gpq" style="display:inline"><span class="c35 c24">3.1.24.5 Wireless Node Id</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">Identifies the wireless node which has sent or should receive the encapsulated MQTT-SN packet. The mapping between this Id and the address of the wireless node is implemented by the forwarder, if needed.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.4bewzdj" style="display:inline"><span class="c35 c24">3.1.24.6 MQTT SN Packet</span></h4></li></ul><p class="c15"><span class="c60 c3 c39">The MQTT-SN packet, encoded according to the packet type.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.15cqrsoyxc87" style="display:inline"><span class="c244 c247 c39 c78 c186 c363">3.1.25 Protection Encapsulation</span></h3></li><li class="c498 c101 c433 c42 c241 c488"><h3 id="h.efvs1al4eeri" style="display:inline"><span class="c244 c247 c39 c78 c186 c363"></span></h3></li></ul><a id="t.d34b4d2fcfb755f8d28e621dbbf9e179cab196e7"></a><a id="t.36"></a><table class="c235"><tr class="c25"><td class="c88 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c82 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c276 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c92 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c119 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c339 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c51 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c75 c441" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c226 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c14" colspan="12" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c14" colspan="12" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type</span></p></td></tr><tr class="c184"><td class="c88" colspan="1" rowspan="2"><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c14 c159" colspan="12" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">PROTECTION FLAGS</span></p></td></tr><tr class="c184"><td class="c280" colspan="7" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Auth Tag Length</span></p></td><td class="c461" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Crypto Material Length</span></p></td><td class="c530" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Monotonic Counter Length</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c222" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c28" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c79" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c249" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c215" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c213" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c226" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c14" colspan="12" rowspan="1"><p class="c9 c45"><span class="c17 c3">Protection Scheme</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5 - 12</span></p></td><td class="c14" colspan="12" rowspan="1"><p class="c9 c45"><span class="c17 c3">Sender Id</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c101 c323"><span class="c17 c3">Byte 13 - 16</span></p></td><td class="c14" colspan="12" rowspan="1"><p class="c9 c45"><span class="c17 c3">Random</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 17 - P</span></p></td><td class="c14" colspan="12" rowspan="1"><p class="c9 c45"><span class="c17 c3">Crypto Material (Optional)</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte Q - R</span></p></td><td class="c14" colspan="12" rowspan="1"><p class="c9 c45"><span class="c17 c3">Monotonic Counter (Optional)</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte S - T</span></p></td><td class="c14" colspan="12" rowspan="1"><p class="c9 c45"><span class="c17 c3">Protected MQTT-SN Packet</span></p></td></tr><tr class="c25"><td class="c88" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte U - N</span></p></td><td class="c14" colspan="12" rowspan="1"><p class="c9 c45"><span class="c17 c3">Authentication Tag</span></p></td></tr></table><p class="c116 c101 c241"><span class="c321 c96 c39 c452 c78 c186">Table 53: Format of the protection encapsulated MQTT-SN packet</span></p><p class="c152 c101"><span class="c60 c3 c39">Protection encapsulation provides a secure envelope for any &nbsp;MQTT-SN packet (with the exception of the Forward Encapsulation packet). The fields provided by the protection encapsulation provide a means by which the sender can be identified and the packet can be protected, using a number of prescribed protection schemes. </span></p><p class="c152 c101"><span class="c60 c3 c39">The sender is the originator of the &ldquo;Protected MQTT-SN Packet&rdquo; and responsible for its protection. This responsibility MUST NOT &nbsp;be delegated to a third entity like a Forwarder. </span></p><p class="c152 c101"><span class="c60 c3 c39">The sender identification is required as the sender and the receiver of the protected packet must have access to the same shared key to be used directly or after derivation. The authentication of the sender and the receiver, their authorizations and the provisioning of the shared keys used to protect integrity and optionally confidentiality of the protected packet content are out of scope.</span></p><p class="c152 c101"><span class="c60 c3 c39">A protected packet, like any other one, can be the payload of a Forwarder Encapsulated packet.</span></p><p class="c152 c101 c72"><span class="c60 c3 c39"></span></p><p class="c152 c101"><span class="c60 c24 c39">//TODO - Break out the conformance aspects of this paragraph from recommendations.</span></p><p class="c36"><span class="c98 c3 c39 c64">When the PROTECTION packet is handled by a gateway, it is mandatory to use it to protect all MQTT-SN packets exchanged with a Client for which a shared key (indexed by its Sender Id) is available.</span></p><p class="c36"><span class="c98 c3 c39 c64">If the client is not enrolled to the gateway (so the gateway has no access to a key shared with it on the basis of its Sender Id) and the Client and gateway are not in a private network, it is recommended for the gateway to process only MQTT-SN packets received over a DTLS session initiated with mutual authentication by the client.</span></p><p class="c36"><span class="c3 c64">When the PROTECTION packet is handled by a Client, it is mandatory to use it to protect all MQTT-SN packets exchanged with a GW for which a shared key (indexed by its </span><span class="c3 c107 c64">GwId</span><span class="c98 c3 c39 c64">) is available.</span></p><p class="c36"><span class="c3 c64">If the GW is not enrolled to the Client (so the Client has no access to a key shared with it on the basis of its GwId) and the Client and GW are not in a private network, it is recommended for the Client to open a DTLS session and process only MQTT-SN packets received over it.</span><sup><a href="#cmnt57" id="cmnt_ref57">[be]</a></sup><sup><a href="#cmnt58" id="cmnt_ref58">[bf]</a></sup></p><p class="c152 c101 c72"><span class="c98 c3 c39 c64"></span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.j9tutdzg8gdj" style="display:inline"><span class="c35 c24">3.1.25.1 Length</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.8duggxbcbw2" style="display:inline"><span class="c35 c24">3.1.25.2 Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c3">Coded &ldquo;</span><span class="c368 c313 c107">0x1E</span><span class="c60 c3 c39">&rdquo;, see Table 63</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.g1mmf1c4lvqh" style="display:inline"><span class="c35 c24">3.1.25.3 Protection Flags</span></h4></li></ul><p class="c310 c101 c66"><span class="c60 c3 c39">The PROTECTION Flags is 1 byte field in Byte position 3 of the packet, specifying the properties of the PROTECTION. </span></p><p class="c36"><span class="c3">The PROTECTION Flags</span><span class="c3 c7">&nbsp;</span><span class="c60 c3 c39">field includes the following flags:</span></p><ul class="c12 lst-kix_list_4-0"><li class="c310 c101 c144 c241 li-bullet-0"><span class="c24 c107">(Auth)entication tag length</span><span class="c257 c357 c107 c492">&nbsp;-</span><span class="c257 c107 c368">&nbsp;</span><span class="c3 c107">(4 bits) should represent the number of 16 bits groups forming the authentication tag in big-endian order.</span></li></ul><ul class="c12 lst-kix_list_4-1 start"><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">Only 14 of the 16 possible values are allowed:</span></li></ul><ul class="c12 lst-kix_list_4-2 start"><li class="c41 c101 c241 c161 c333 li-bullet-0"><span class="c3 c107">If 0x00, the authentication tag length is provider defined</span></li><li class="c41 c101 c241 c161 c333 li-bullet-0"><span class="c3 c107">the values from 0x1 to 0x2 are Reserved;</span></li><li class="c41 c101 c241 c161 c333 li-bullet-0"><span class="c3 c107">any other value 0xZ, so between 0x3 and 0xF, is allowed and the authentication tag length will be (0xZ+1)*16 bits; for example</span></li></ul><ul class="c12 lst-kix_list_4-3 start"><li class="c41 c101 c241 c161 c216 li-bullet-0"><span class="c3 c107">if the value is 0xF, the Authentication tag length will be (0xF+1)*16=256 bits;</span></li><li class="c41 c101 c241 c161 c216 li-bullet-0"><span class="c3 c107">if the value is 0x3, the Authentication tag length will be (0x3+1)*16=64 bits;</span></li></ul><ul class="c12 lst-kix_list_4-1"><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">If a truncation of the output of the authentication algorithm is required, it has to be taken in most significant bits first order (leftmost bits).</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c39 c78 c107 c145">If an extension of the output of the authentication algorithm is required, 0s are appended until the Authentication tag length is reached.</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c145 c3 c39 c78 c107">Some values are not allowed for some protection schemes. For instance the values 0x03, 0x04, 0x05, 0x06 are not allowed for AES-CCM-128-128, AES-CCM-128-192, AES-CCM-128-256, AES-GCM-128-128, AES-GCM-128-192, AES-GCM-128-256 and ChaCha20/Poly1305 as for those protection schemes the 128-bit authentication tag can&rsquo;t be truncated.</span></li></ul><p class="c40 c66"><span class="c145 c3 c39 c78 c107"></span></p><ul class="c12 lst-kix_list_27-0 start"><li class="c41 c101 c144 c241 li-bullet-0"><span class="c24 c107">Crypto material length -</span><span class="c3 c107">&nbsp;(2 bits) should represent the number of 16 bits groups forming the crypto material in big-endian order. Below the meaning of each possible value:</span></li></ul><ul class="c12 lst-kix_list_27-1 start"><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">if 0x3, a crypto material field of 96 bits (12 bytes) is present</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">if 0x2, a crypto material field of 32 bits (4 bytes) is present</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">if 0x1, a crypto material field of 16 bits (2 bytes) is present</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">if 0x0, the crypto material field is not present.</span></li></ul><p class="c40 c66"><span class="c145 c3 c39 c78 c107"></span></p><ul class="c12 lst-kix_list_23-0 start"><li class="c41 c101 c144 c241 li-bullet-0"><span class="c24 c107">Monotonic counter length -</span><span class="c3 c107">&nbsp;(2 bits) should represent the number of bytes forming the monotonic counter in big-endian order. Only 3 of the 4 possible values are allowed:</span></li></ul><ul class="c12 lst-kix_list_23-1 start"><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">the value 0x3 is Reserved;</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">if 0x2, a monotonic counter field of 32 bits (4 bytes) is present;</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">if 0x1, a monotonic counter field of 16 bits (2 bytes) is present;</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c3 c107">if 0x0, the monotonic counter field is not present.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.m1zk7agco355" style="display:inline"><span class="c35 c24">3.1.25.4 Protection Scheme</span></h4></li></ul><p class="c41 c101 c241 c488"><span class="c3 c107">A (1 byte) field located at byte 4 should contain one of the not Reserved indexes in the following table. In general two types of protection scheme are considered: </span><span class="c24 c107">Authentication only</span><span class="c3 c107">&nbsp;(like HMAC or CMAC) and </span><span class="c24 c107">AEAD</span><span class="c145 c3 c39 c78 c107">&nbsp;(Authenticated Encryption with Associated Data, like GCM, CCM or ChaCha20/Poly1305).</span></p><p class="c231 c101 c66 c72"><span class="c60 c3 c39"></span></p><a id="t.387dd8aecc2e69883c10d3bcca32b68b87a7b6e4"></a><a id="t.37"></a><table class="c267"><tr class="c25"><td class="c181 c75" colspan="1" rowspan="1"><p class="c231 c101 c66"><span class="c11 c39">Index</span></p></td><td class="c292 c75" colspan="1" rowspan="1"><p class="c231 c101 c66"><span class="c11 c39">Name</span></p></td><td class="c120 c75" colspan="1" rowspan="1"><p class="c231 c101 c66"><span class="c11 c39">Auth Only</span></p></td><td class="c120 c75" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c11 c39">Key size</span></p></td><td class="c120 c75" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c11 c39">Tag size</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x00</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c107">HMAC-SHA256</span><span class="c95 c3">&nbsp;(Note 1)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">Yes</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c3 c107">Any size</span><span class="c95 c3">&nbsp;(Note 2)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">256 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x01</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c107">HMAC-SHA3_256</span><span class="c95 c3">&nbsp;(Note 1)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">Yes</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c3 c107">Any size</span><span class="c95 c3">&nbsp;(Note 2)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">256 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x02</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c107">CMAC-128</span><span class="c3 c95">&nbsp;(Note 3)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">Yes</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x03</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c107">CMAC-192</span><span class="c95 c3">&nbsp;(Note 3)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">Yes</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">192 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x04</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c107">CMAC-256</span><span class="c95 c3">&nbsp;(Note 3)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">Yes</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">256 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x05-0x3B</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">RESERVED</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">&nbsp;</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c40 c66"><span class="c19 c3"></span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c40 c66"><span class="c19 c3"></span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x3C-0x3F</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">Provider defined</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">Yes</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">Provider defined</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">Provider defined</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x40</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36 c78"><span class="c3 c233">AES-CCM-64-128</span><span class="c95 c3">&nbsp;(Notes 4,5)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">64 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x41</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c233">AES-CCM-64-192</span><span class="c95 c3">&nbsp;(Notes 4,5)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">192 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">64 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x42</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c233">AES-CCM-64-256</span><span class="c95 c3">&nbsp;(Notes 4,5)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">256 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">64 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x43</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c233">AES-CCM-128-128</span><span class="c95 c3">&nbsp;(Notes 4,5)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x44</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c233">AES-CCM-128-192</span><span class="c95 c3">&nbsp;(Notes 4,5)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">192 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x45</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c233">AES-CCM-128-256</span><span class="c95 c3">&nbsp;(Notes 4,5)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">256 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x46</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c233">AES-GCM-128-128</span><span class="c95 c3">&nbsp;(Notes 6,7)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x47</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c233">AES-GCM-128-192</span><span class="c95 c3">&nbsp;(Notes 6,7)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">192 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x48</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c233">AES-GCM-128-256</span><span class="c95 c3">&nbsp;(Notes 6,7)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c3 c19">256 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x49</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c3 c233">ChaCha20/Poly1305</span><span class="c95 c3">&nbsp;(Notes 8,9)</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c66 c101"><span class="c19 c3">256 bits</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">128 bits</span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0x4A-0xEF</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">RESERVED</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">&nbsp;</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c40 c66"><span class="c19 c3"></span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c40 c66"><span class="c19 c3"></span></p></td></tr><tr class="c25"><td class="c181" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">0xF0-0xFF</span></p></td><td class="c292" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">Provider defined</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c36"><span class="c19 c3">No</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">Provider defined</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c41 c101 c66"><span class="c19 c3">Provider defined</span></p></td></tr></table><p class="c40 c66"><span class="c223 c39 c78 c107 c186"></span></p><p class="c41 c101 c66"><span class="c145 c24 c39 c78 c107">Note(s):</span></p><ol class="c12 lst-kix_list_2-0 start" start="1"><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3 c107">Reference </span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://www.rfc-editor.org/rfc/rfc2104&amp;sa=D&amp;source=editors&amp;ust=1711133546480440&amp;usg=AOvVaw2S4iCfmvU3s6r1eMH5Task">https://www.rfc-editor.org/rfc/rfc2104</a></span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3">Reference </span><span class="c3"><a class="c29" href="https://www.google.com/url?q=https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.198-1.pdf&amp;sa=D&amp;source=editors&amp;ust=1711133546480967&amp;usg=AOvVaw18LvnEP6-iQbhGpn32qy-A">https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.198-1.pdf</a></span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3">Reference </span><span class="c3"><a class="c29" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc4493%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3Dxugq2R3JL90RCv%252BzdnQqW7rtztg1MF6xtBAYnqa1K8s%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1711133546481552&amp;usg=AOvVaw10DKHmKIZnAK2smQzhGjUE">https://www.rfc-editor.org/rfc/rfc4493</a></span><span class="c3">&nbsp;and </span><span class="c3"><a class="c29" href="https://www.google.com/url?q=https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38b.pdf&amp;sa=D&amp;source=editors&amp;ust=1711133546481832&amp;usg=AOvVaw0xC5wiQxhRPm-usHhRwEOc">https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38b.pdf</a></span><span class="c3">&nbsp;and https://csrc.nist.gov/CSRC/media/Projects/Cryptographic-Standards-and-Guidelines/documents/examples/AES_CMAC.pdf</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3">Reference</span><span class="c3"><a class="c29" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc3610%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3DvMkxcRTrFVbOOc6NEcSe9b4WVfyCOwnuV7Bj4tDb03s%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1711133546482462&amp;usg=AOvVaw0fGve_GWdSvMlokG1Pauaf">&nbsp;</a></span><span class="c3"><a class="c29" href="https://www.google.com/url?q=https://www.rfc-editor.org/rfc/rfc3610&amp;sa=D&amp;source=editors&amp;ust=1711133546482681&amp;usg=AOvVaw3hemL5XgkqxbECQcUKd8fi">https://www.rfc-editor.org/rfc/rfc3610</a></span><span class="c3">&nbsp;and security considerations on </span><span class="c3"><a class="c29" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc8152%2523section-10.2.1%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3DDTxkXC3J%252B8Wj2l7qn6U5cFUExdZVFXPv2Ss3M2%252B1VLY%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1711133546483211&amp;usg=AOvVaw0FugGRh39JsrjVqSgaWTDq">https://www.rfc-editor.org/rfc/rfc8152#section-10.2.1</a></span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3">AES CCM requires a 13 bytes nonce as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.2 and the nonce is obtained by performing SHA256, truncated to the leftmost 104 bits, of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3 c233">Reference https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf</span><span class="c3">&nbsp;and security considerations on https://www.rfc-editor.org/rfc/rfc8152#section-10.1.1</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3">AES GCM requires a </span><span class="c3 c107">12 bytes IV as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.1 and the IV is obtained by performing SHA256, truncated to the leftmost 96 bits, of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3 c233">Reference: https://www.rfc-editor.org/rfc/rfc7539 and security considerations on https://www.rfc-editor.org/rfc/rfc8152#section-10.3.1</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3 c233">ChaCha20/Poly1305 requires a </span><span class="c3 c107">12 bytes nonce as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.3 obtained by performing SHA256 truncated to 96 bit of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span><sup><a href="#cmnt59" id="cmnt_ref59">[bg]</a></sup></li></ol><ul class="c12 lst-kix_list_3-3 start"><li class="c33"><h4 id="h.jo2d2fngx6hj" style="display:inline"><span class="c3">3.1.25.5 Sender Id</span></h4></li></ul><p class="c41 c101 c241"><span class="c145 c3 c39 c78 c107">Located at Bytes 5 - 12 the Sender Id field (8 bytes) should contain:</span></p><p class="c40 c241"><span class="c145 c3 c39 c78 c107"></span></p><p class="c41 c101 c241 c494"><span class="c3 c107">If the message is originated by the </span><span class="c24 c107 c7">Gateway</span><span class="c145 c3 c39 c78 c107">:</span></p><ul class="c12 lst-kix_list_19-0 start"><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c145 c3 c39 c78 c107">The SHA256 of the GwId truncated to the leftmost 64 bits (8 bytes); </span></li></ul><p class="c40 c203"><span class="c145 c3 c39 c78 c107"></span></p><p class="c41 c101 c203"><span class="c3 c107">If the message is originated by the </span><span class="c24 c107 c7">Client</span><span class="c145 c3 c39 c78 c107">:</span></p><ul class="c12 lst-kix_list_9-0 start"><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c24 c107">If a session is available</span><span class="c3 c107">: the SHA256 of the [Client Identifier] truncated to the leftmost 64 bits (8 bytes);</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c24 c107">If a session is not available</span><span class="c3 c107">: a unique value per sender over 8 bytes (like a MAC address, or other identifying characteristics). </span><span class="c3">The methods to guarantee the uniqueness of the Sender Id in this case are out of scope for this technical proposal.</span></li></ul><p class="c40 c66"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_14-0 start"><li class="c101 c144 c241 c246 li-bullet-0"><span class="c404 c24 c172">Informative comment</span></li></ul><p class="c137 c101 c203"><span class="c3 c69 c7">8 bytes for the &ldquo;Sender Id&rdquo; field seems enough as it is calculated with a cryptographic hash, so the probability of collision is 1/2^64=5.42x10</span><span class="c3 c69 c7 c80">-20</span><span class="c145 c3 c69 c7">. </span></p><p class="c41 c101 c203"><span class="c321 c24 c69 c7 c186">Client Behavior</span></p><p class="c41 c101 c203"><span class="c3 c69 c7">In order to create a whitelist of authorized senders, the Client should store a map of GwId </span><span class="c3 c69">and SHA256(GwId) </span><span class="c3 c69 c7">truncated to the leftmost 64 bits. GwId can be obtained from pre-configuration, from an ADVERTISE packet or from a GWINFO packet</span><span class="c145 c3 c69 c39">.</span></p><p class="c40 c203"><span class="c145 c3 c69 c39"></span></p><p class="c41 c101 c203"><span class="c24 c69 c7 c186 c321">Gateway Behavior</span></p><p class="c41 c101 c203"><span class="c3 c69 c7">In order to create a whitelist of authorized senders, the MQTT-SN Gateway should store a map of ClientID and SHA256(ClientID) truncated to the leftmost 64 bits (8 bytes for each registered ClientID) for the clients having an active session and store a list of authorized Sender Ids for the clients not capable to establish sessions. </span><sup><a href="#cmnt60" id="cmnt_ref60">[bh]</a></sup></p><p class="c137 c101 c66 c72"><span class="c321 c24 c39 c452 c78 c186"></span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.vjl219ghlhvi" style="display:inline"><span class="c35 c24">3.1.25.6 Random</span></h4></li></ul><p class="c41 c101 c241"><span class="c404 c24 c107">Located at Byte 13 - 16</span><span class="c3 c107">&nbsp;, the &ldquo;</span><span class="c24 c107">Random</span><span class="c145 c3 c39 c78 c107">&rdquo; field (4 bytes) should contain a random number (not guessable) generated at the PROTECTION packet creation .</span></p><p class="c15 c72"><span class="c223 c39 c78 c107 c186"></span></p><ul class="c12 lst-kix_list_14-0"><li class="c246 c101 c144 c241 li-bullet-0"><span class="c24 c172 c404">Informative comment</span></li></ul><p class="c41 c101 c203"><span class="c3 c69 c7">In case of CCM, in the worst case scenario where the &ldquo;Crypto Material&rdquo; and the &ldquo;Monotonic Counter&rdquo; optional fields are not present, &nbsp;the recommended nonce on 13 bytes will be calculated as SHA256 truncated to 104 bits of the sequence Byte 1 to Byte 16 (all packet fields until Protected MQTT-SN Packet). So considering the same Sender Id, the same nonce can be generated with a probability of 1/2^32=2.33x10</span><span class="c3 c69 c80 c7">-10</span><span class="c3 c69 c7">. With a shorter Random field of 2 bytes, the same nonce would be calculated with a probability of only 1/2^16=1.53x10</span><span class="c3 c69 c80 c7">-5</span><span class="c3 c69 c7">. As CCM is a derivation of CTR (see </span><span class="c118 c3 c172 c7"><a class="c29" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/CCM_mode&amp;sa=D&amp;source=editors&amp;ust=1711133546488096&amp;usg=AOvVaw3YX20Um2NxHRaXnNl77HWR">https://en.wikipedia.org/wiki/CCM_mode</a></span><span class="c3 c69 c7">), the nonce should never be reused for the same key so the probability to generate two identical nonces should be kept as low as possible. Same for GCM and ChaCha20/Poly1305, the security depends on choosing a unique IV of 12 bytes for every encryption performed with the same key (</span><span class="c118 c3 c172 c7"><a class="c29" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Galois/Counter_Mode&amp;sa=D&amp;source=editors&amp;ust=1711133546488438&amp;usg=AOvVaw3lWCCajJ3wZ0Xq7QdXmwrN">https://en.wikipedia.org/wiki/Galois/Counter_Mode</a></span><span class="c3 c69 c7">).</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.q30yx1mc4rc1" style="display:inline"><span class="c35 c24">3.1.25.7 Crypto Material</span></h4></li></ul><p class="c41 c101 c241"><span>Located at</span><span class="c3">&nbsp;</span><span class="c3 c107">Byte (17 - P), the optional field &ldquo;</span><span class="c24 c107">Crypto Material</span><span class="c3 c107">&rdquo; contains </span><span class="c145 c3 c39 c78 c107">0, 2, 4 or 12 bytes of crypto material that when defined it can be used to derive, from a shared master secret, the same keys on the two endpoints and/or, when filled partially or totally with a random value, to further reduce the probability of IV/nonce reuse for CCM or GCM or ChaCha20/Poly1305. For instance when the Crypto material length is set to 0x03, the Crypto Material field can be partially filled with a random value of 9 bytes (the remaining 3 bytes can be set to 0 if not used) in order to reach the 13 bytes used only once recommended for the nonce used by CCM or it can be partially filled with a random value of 8 bytes in order to reach the 12 bytes used only once recommended for the IV/nonce used by GCM or ChaCha20/Poly1305 .</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.3y6o9vhqakro" style="display:inline"><span class="c3">3.1.25.8 Monotonic Counter</span></h4></li></ul><p class="c41 c101 c241"><span class="c3">Located at </span><span class="c3 c107">Byte Byte (Q - R), the optional field &ldquo;</span><span class="c24 c107">Monotonic Counter</span><span class="c3 c107">&rdquo; contains </span><span class="c145 c3 c39 c78 c107">0, 2 or 4 byte number that when defined, is increased by the Client or GW for every packet sent. The counters should be considered independent of session or destination. E.g. The UE will keep a counter independently from the GW.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.dovnwl46a7is" style="display:inline"><span class="c3">3.1.25.9 Protected MQTT-SN Packet</span></h4></li></ul><p class="c40 c66"><span class="c19 c3"></span></p><p class="c41 c101 c241"><span class="c3">Located at </span><span class="c3 c107">Byte (S - T), the field &nbsp;&ldquo;</span><span class="c24 c107">Protected MQTT-SN Packet</span><span class="c145 c3 c39 c78 c107">&rdquo; contains the MQTT-SN packet that is being secured, encoded as per its packet type.</span></p><p class="c41 c101 c241"><span class="c145 c3 c39 c78 c107">The &ldquo;Protected MQTT-SN Packet&rdquo; should not be a &ldquo;Forwarder-Encapsulation packet&rdquo; as the shared key used directly or after derivation for the protection must belong to the originator of the content and not to a Forwarder that, in general, is not able to securely identify the originator.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c33"><h4 id="h.j75p96o6vesm" style="display:inline"><span class="c35 c24">3.1.25.10 Authentication Tag</span></h4></li></ul><p class="c343 c101 c241"><span class="c3">Located at Byte (U - N), the field</span><span class="c3 c107">&nbsp;&ldquo;</span><span class="c24 c107">Authentication tag</span><span class="c145 c3 c39 c78 c107">&rdquo; field has a length depending on the &ldquo;Authentication tag length&rdquo; flag and it is calculated, on the basis of the &ldquo;Protection scheme&rdquo; selected in Byte 4, on ALL the preceding fields.</span></p><p class="c15 c72"><span class="c39 c78 c107 c186 c223"></span></p><ul class="c12 lst-kix_list_3-0"><li class="c359 c101 c433 c241 c255 c45"><h1 id="h.2qk79lc" style="display:inline"><span class="c24 c38">4 Operational behavior</span></h1></li></ul><p class="c101 c158 c343"><span class="c60 c3 c39">An important design point of MQTT-SN is to be as close as possible to MQTT. Therefore, all protocol semantics should remain, as far as possible, the same as those defined by MQTT. In the following we will focus on those points that either are new to or deviate from MQTT.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.15phjt5" style="display:inline"><span class="c3">4.1 Example MQTT-SN Architecture</span><span class="c3">(</span><span class="c3">s</span><span class="c3">)</span></h2></li></ul><p class="c173 c101 c66"><span class="c3">The architecture of MQTT-SN is shown in figure 1. </span><span class="c3">There are three kinds of MQTT-SN components, MQTT-SN </span><span class="c3 c7">clients</span><span class="c3">, MQTT-SN </span><span class="c3 c7">gateways</span><span class="c3">, and MQTT-SN </span><span class="c3 c7">forwarders</span><span class="c60 c3 c39">. MQTT-SN clients connect themselves to an MQTT server/broker via an MQTT-SN Gateway using the MQTT-SN protocol. An MQTT-SN Gateway may or may not be integrated with a MQTT server. Where an MQTT broker is involved, the MQTT protocol is used between the MQTT broker and the MQTT-SN Gateway. Its main function is the translation between MQTT and MQTT-SN.</span></p><p class="c193 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c193 c101 c66"><span class="c60 c3 c39">MQTT-SN clients can also access a Gateway via a forwarder in case the Gateway is not directly attached to their network. The forwarder simply encapsulates the MQTT-SN frames it receives on the wireless side and forwards them unchanged to the Gateway; in the opposite direction, it decapsulates the frames it receives from the gateway and sends them to the clients, unchanged too.</span></p><p class="c101 c66 c72 c193"><span class="c60 c3 c39"></span></p><p class="c100"><span class="c24 c172">Informative comment</span></p><p class="c100"><span class="c3 c172">The architectures described below are meant as examples and are not exhaustive.</span></p><p class="c438 c101 c241 c476"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.50px; height: 558.68px;"><img alt="" src="images/image3.png" style="width: 582.78px; height: 567.76px; margin-left: 10.63px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><sup><a href="#cmnt61" id="cmnt_ref61">[bi]</a></sup></p><p class="c101 c66 c160"><span class="c3">Figure 1: MQTT-SN Architecture</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.3pp52gy" style="display:inline"><span>4.1.1 </span><span class="c21">Transparent Gateway</span></h3></li></ul><p class="c173 c101 c158"><span class="c3">For each connected MQTT-SN client a transparent </span><span class="c3 c81">Gateway</span><span class="c3">&nbsp;will set up and maintain a MQTT connection to the MQTT server. This MQTT connection is reserved exclusively for the end-to-end and almost transparent packet exchange between the client and the server. There will be as many MQTT connections between the </span><span class="c3 c81">Gateway</span><span class="c3">&nbsp;and the server as MQTT-SN clients connected to the </span><span class="c3 c81">Gateway</span><span class="c3">. The transparent </span><span class="c3 c81">Gateway</span><span class="c60 c3 c39">&nbsp;will perform a &ldquo;syntax&rdquo; translation between the two protocols. Since all packet exchanges are end-to-end between the MQTT-SN client and the MQTT Server, all functions and features that are implemented by the server can be offered to the client.</span></p><p class="c173 c101 c66"><span class="c3">Although the implementation of the transparent </span><span class="c3 c81">Gateway</span><span class="c3">&nbsp;is simpler when compared to the one of an aggregating </span><span class="c3 c81">Gateway</span><span class="c60 c3 c39">, it requires the MQTT server to support a separate connection for each active client. Some MQTT server implementations might impose a limitation on the number of concurrent connections that they support.</span></p><p class="c101 c66 c438"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 510.42px; height: 190.10px;"><img alt="A close up of a map

Description automatically generated" src="images/image2.png" style="width: 510.42px; height: 190.10px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><sup><a href="#cmnt62" id="cmnt_ref62">[bj]</a></sup><sup><a href="#cmnt63" id="cmnt_ref63">[bk]</a></sup><sup><a href="#cmnt64" id="cmnt_ref64">[bl]</a></sup></p><p class="c101 c66 c365"><span class="c3">Figure </span><span class="c3">2</span><span class="c3">: Transparent </span><span class="c3">and Aggregating </span><span class="c3">Gateway</span><span class="c3">s</span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.24ufcor" style="display:inline"><span>4.1.2 </span><span class="c21">Aggregating Gateway</span></h3></li></ul><p class="c101 c158 c405"><span class="c3">Instead of having a MQTT connection for each connected client, an aggregating</span><span class="c3 c81">&nbsp;Gateway</span><span class="c3">&nbsp;will have only one MQTT connection to the Server. All packet exchanges between a MQTT-SN client and an aggregating </span><span class="c3 c81">Gateway </span><span class="c3">end at the </span><span class="c3 c81">Gateway</span><span class="c3">. The </span><span class="c3 c81">Gateway</span><span class="c3">&nbsp;then decides which information will be given further to the Server. Although its implementation is more complex than the one of a transparent </span><span class="c3 c81">Gateway</span><span class="c3">, an aggregating </span><span class="c3 c81">Gateway</span><span class="c3">&nbsp;may be helpful in case of WSNs with a very large number of SAs because it reduces the number of MQTT connections that the </span><span class="c3 c81">Gateway </span><span class="c3">must support concurrently.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 style="display:inline"><span class="c111 c24 c39 c78">4.2 Networks &amp; Transport Layers</span></h2></li></ul><p class="c131 c101 c66"><span>The MQTT-SN protocol requires an underlying transport to create a Virtual Connection, this carries Packets from a Client to a Gateway and a Gateway to a Client.<br>The underlying transport may also </span><span class="c3">broadcast </span><span class="c60 c96 c39">Packets from a Client to all Gateways and from a Gateway to all Clients.<br>These MQTT-SN Packets which must be received unaltered and complete.</span></p><ul class="c12 lst-kix_list_15-0 start"><li class="c439 c101 c144 c241 li-bullet-0"><span class="c60 c96 c39">The underlying transport does not need to be reliable, it is expected that Packets will be lost or delivered out of order.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c60 c96 c39">If the network might deliver a Packet more than once, then it is highly recommended that the PROTECTION packet Monotonic Counter is used to eliminate the duplicates.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c60 c96 c39">The MQTT-SN protocol will tolerate out of order Packets and it will retransmit lost Packets.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c60 c96 c39">The MQTT-SN does not perform error correction. If a corrupted or partial packet is received it will cause a protocol error.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span>The MQTT-SN implementation may use either the origin network address or the sender identifier in the </span><span>PROTECTION Packet</span><sup><a href="#cmnt65" id="cmnt_ref65">[bm]</a></sup><sup><a href="#cmnt66" id="cmnt_ref66">[bn]</a></sup><span class="c60 c96 c39">&nbsp;to determine the identity of the Virtual Connection.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c60 c96 c39">The networks may be connectionless, the Virtual Connections do not need to have an event that signals when they begin or end.</span></li><li class="c101 c144 c241 c304 li-bullet-0"><span class="c60 c96 c39">The networks may be radio networks.</span></li></ul><p class="c131 c101 c203"><span class="c98 c244 c31 c39">Informative comment</span></p><p class="c131 c101 c203"><span class="c98 c96 c31 c39">UDP as defined in [RFC0768] can be used for MQTT-SN if the Maximum Transmission Unit is configured to be more than the MQTT-SN Packet size used and no Packet fragmentation occurs.<br>Depending on the network configuration, UDP can duplicate Packets. If this can happen, the PROTECTION Packet monotonic counter should be used.</span></p><p class="c131 c101 c203"><span class="c98 c96 c31 c39">Examples of possible consequences of not removing duplicate Packets are:<br> &ndash; DISCONNECT Packet applied to the wrong Virtual Connection<br> &ndash; SUBSCRIBE and UNSUBSCRIBE Packets applied to the wrong Virtual Connection<br> &ndash; PUBLISH QOS=2 published more than once</span></p><p class="c131 c101 c203"><span class="c98 c96 c31 c39">The following transport protocols are also suitable but if not capable of broadcast the implementation of the optional ADVERTISE, SEARCHGW, GWINFO packets may not be possible and also the broadcast of the PUBLISH MINUS -1 packets may not be possible:</span></p><ul class="c12 lst-kix_list_10-0 start"><li class="c101 c241 c161 c252 c439 li-bullet-0"><span class="c98 c96 c31 c39">DTLS v1.2 [RFC6347]</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c98 c96 c31 c39">DTLS v1.3 [RFC9147]</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c98 c96 c31 c39">QUIC [RFC9000]</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c98 c96 c31 c39">Non-IP protocolsTCP/IP [RFC0793]</span></li><li class="c41 c101 c241 c161 c252 li-bullet-0"><span class="c98 c96 c31 c39">TLS [RFC5246]</span></li><li class="c304 c101 c241 c161 c252 li-bullet-0"><span class="c98 c96 c31 c39">WebSocket [RFC6455].</span></li></ul><p class="c131 c101 c203"><span class="c98 c244 c31 c39">Informative comment</span></p><p class="c131 c101 c203"><span class="c31">TCP ports 8883 and 1883 are registered with IANA for MQTT TLS and non-TLS communication respectively.</span><sup><a href="#cmnt67" id="cmnt_ref67">[bo]</a></sup><sup><a href="#cmnt68" id="cmnt_ref68">[bp]</a></sup></p><p class="c2"><span class="c60 c96 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.1j4nfs6" style="display:inline"><span class="c111 c24 c39 c78">4.3 Gateway Advertisement and Discovery</span></h2></li></ul><p class="c173 c101 c66"><span class="c60 c3 c39">A gateway may announce its presence by transmitting periodically an ADVERTISE packet to all devices that are currently parts of the network. A gateway should only advertise its presence if it is connected to a server (or is itself a server).</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c3">Multiple gateways may be active at the same time in the same network. In this case they will have different ids. It is up to the client to decide to which gateway it wants to connect. </span><span class="c3 c64">At any point in time a client is allowed to be connected to only one gateway.</span><sup><a href="#cmnt69" id="cmnt_ref69">[bq]</a></sup><sup><a href="#cmnt70" id="cmnt_ref70">[br]</a></sup><sup><a href="#cmnt71" id="cmnt_ref71">[bs]</a></sup></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c147 c101 c66"><span class="c60 c3 c39">A client should maintain a list of active gateways together with their network addresses. This list is populated by means of the ADVERTISE and GWINFO packets received.</span></p><p class="c101 c66 c72 c147"><span class="c60 c3 c39"></span></p><p class="c299 c101 c66"><span class="c3">The time duration </span><span class="c3 c7">T</span><span class="c3 c103 c7">ADV </span><span class="c3">until the gateway sends the next ADVERTISE packet is indicated in the </span><span class="c3 c7">Duration </span><span class="c3">field of the ADVERTISE packets. A client may use this information to monitor the availability of a gateway. For example, if it does not receive ADVERTISE packets from a gateway for </span><span class="c3 c7">N</span><span class="c3 c103 c7">ADV </span><span class="c60 c3 c39">consecutive times, it may assume that the gateway is down and remove it from its list of active gateways. Similarly, gateways in stand-by mode will become active (i.e. start sending ADVERTISE packets) if they miss successively a couple of times advertisements from a certain gateway.</span></p><p class="c299 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c101 c66 c402"><span class="c3">Since the ADVERTISE packets are transmitted into the whole wireless network, the time interval </span><span class="c3 c7">T</span><span class="c3 c103 c7">ADV </span><span class="c60 c3 c39">between two ADVERTISE packets sent by a gateway should be large enough (e.g. greater than 15 min) to avoid bandwidth congestion in the network.</span></p><p class="c101 c66 c299"><span class="c3">The large value of </span><span class="c3 c7">T</span><span class="c3 c103 c7">ADV </span><span class="c3">will lead to a long waiting time for new clients which are looking for a gateway. To shorten this waiting time a client may send a SEARCHGW packet. To prevent network flooding when multiple clients start searching for gateway almost at the same time, the sending of the SEARCHGW packet is delayed by a random time between 0 and </span><span class="c3 c7">T</span><span class="c3 c103 c7">SEARCHGW</span><span class="c60 c3 c39">. A client will cancel its transmission of the SEARCHGW packet if it receives during this delay time a SEARCHGW packet sent by another client and identical to the one it wants to send, and behaves as if the SEARCHGW packet was sent by itself.</span></p><p class="c173 c101 c66"><span class="c3">The transmission radius </span><span class="c3 c7">R</span><span class="c3 c103 c7">b </span><span class="c60 c3 c39">of the SEARCHGW packet is limited, e.g. to a single hop in case of a dense deployment of MQTT-SN clients.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c283 c101 c66"><span class="c60 c3 c39">Upon receiving a SEARCHGW packet a gateway replies with a GWINFO packet containing its id. Similarly, a client answers with a GWINFO packet if it has at least one active gateway in its list of active gateways. If the client has multiple gateways in its list, it selects one gateway out of its list and includes that information into the GWINFO packet.</span></p><p class="c101 c66 c72 c283"><span class="c60 c3 c39"></span></p><p class="c312 c101 c66"><span class="c3">Like the SEARCHGW packet, the GWINFO packet is transmitted with the same radius </span><span class="c3 c7">R</span><span class="c3 c103 c7">b</span><span class="c3">, which is indicated in the SEARCHGW packet. The radius </span><span class="c3 c7">R</span><span class="c3 c103 c7">b </span><span class="c60 c3 c39">is also given to the underlying layer when these two packets are passed down for transmission.</span></p><p class="c101 c66 c72 c312"><span class="c60 c3 c39"></span></p><p class="c141 c101 c66"><span class="c60 c3 c39">To give priority to the gateways a client will delay its sending of the GWINFO packet for a random time</span></p><p class="c173 c101 c158"><span class="c3 c7">T</span><span class="c3 c103 c7">GWINFO</span><span class="c60 c3 c39">. If during this delay time the client receives a GWINFO packet it will cancel the transmission of its GWINFO packet.</span></p><p class="c173 c101 c158 c72"><span class="c60 c3 c39"></span></p><p class="c89 c66"><span class="c60 c3 c39">In case of no response the SEARCHGW packet may be retransmitted. In this case the time intervals between consecutive SEARCHGW packets should be increased by the exponential backoff algorithm described in the appendix.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.434ayfz" style="display:inline"><span class="c111 c24 c39 c78">4.4 Session Establishment</span></h2></li></ul><p class="c34"><span class="c60 c3 c39">As with MQTT, an MQTT-SN client needs to set up a session on the gateway, unless it is publishing ONLY using PUBLISH WITHOUT SESSION packets. The procedure for setting up a session with a gateway is illustrated in Fig. 3a and 3b. </span></p><p class="c36"><span class="c60 c3 c39">The CONNECT packet contains flags to communicate to the gateway that Auth interactions should take place.</span></p><p class="c34 c72"><span class="c60 c3 c39"></span></p><p class="c207 c101 c158 c72"><span class="c60 c3 c39"></span></p><p class="c101 c158 c207"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 321.10px; height: 232.06px;"><img alt="" src="images/image4.png" style="width: 321.10px; height: 232.06px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c342 c101 c66"><span class="c60 c3 c39">Figure 3a: Connect procedure (without Auth flag set or no further authentication data required)</span></p><p class="c101 c66 c72 c342"><span class="c60 c3 c39"></span></p><p class="c342 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c342 c101 c66"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 321.14px; height: 284.50px;"><img alt="" src="images/image7.png" style="width: 321.14px; height: 284.50px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c342 c101 c66"><span class="c60 c3 c39">Figure 3b: Connect procedure (with Auth flag set and additional authentication data required)</span></p><p class="c101 c66 c358"><span class="c60 c3 c39">In case the gateway could not accept the CONNECT request (e.g. because of congestion or it does not support a feature indicated in the CONNECT packet), the gateway returns a CONNACK packet with the rejection reason.</span></p><p class="c358 c101 c66"><span class="c60 c3 c39">In the case where the client provides no client identifier, the Server MUST respond with a CONNACK containing an Assigned Client Identifier. </span></p><p class="c358 c101 c66"><span class="c3 c64">The Assigned Client Identifier MUST be a new Client Identifier not used by any other Session currently in the gateway.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.2i9l8ns" style="display:inline"><span class="c3">4.5 Quality of Service levels and protocol flows</span><sup><a href="#cmnt72" id="cmnt_ref72">[bt]</a></sup></h2></li></ul><p class="c36"><span class="c60 c3 c39">MQTT delivers Application Messages according to the Quality of Service (QoS) levels defined in the following sections. The delivery protocol is symmetric, in the description below the Client and Server &amp; Gateway can each take the role of either sender or receiver. The delivery protocol is concerned solely with the delivery of an application message from a single sender to a single receiver. When the Gateway &nbsp;is delivering an Application Message to more than one Client, each Client is treated independently. The QoS level used to deliver an Application Message outbound to the Client could differ from that of the inbound Application Message.</span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.xevivl" style="display:inline"><span>4.5.1 </span><span class="c21">QoS 0: At most once delivery</span></h3></li></ul><p class="c36"><span class="c60 c3 c39">The message is delivered according to the capabilities of the underlying network. No response is sent by the receiver and no retry is performed by the sender. The message arrives at the receiver either once or not at all. </span></p><p class="c2"><span class="c98 c3 c39 c64"></span></p><p class="c36" id="h.3hej1je"><span class="c3 c64">In the QoS 0 delivery protocol, the sender</span></p><ul class="c12 lst-kix_list_20-0 start"><li class="c140 c101 li-bullet-0"><span class="c3 c64">MUST send a PUBLISH packet with QoS 0 and DUP flag set to 0</span><span class="c3 c195">.</span></li></ul><p class="c36" id="h.1wjtbr7"><span class="c60 c3 c39">In the QoS 0 delivery protocol, the receiver</span></p><ul class="c12 lst-kix_list_20-0"><li class="c140 c101 li-bullet-0"><span class="c60 c3 c39">Accepts ownership of the message when it receives the PUBLISH packet.</span></li></ul><p class="c100 c72" id="h.4gjguf0"><span class="c60 c3 c39"></span></p><a id="t.374b417a69fa210a8e608af463123efed625fde4"></a><a id="t.38"></a><table class="c214 c484"><tr class="c25"><td class="c93 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Sender Action</span></p></td><td class="c289 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Control Packet</span></p></td><td class="c102 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Receiver Action</span></p></td></tr><tr class="c25"><td class="c93" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">PUBLISH QoS 0, DUP=0</span></p><p class="c2"><span class="c17 c3"></span></p></td><td class="c289" colspan="1" rowspan="1"><p class="c9 c72"><span class="c17 c3"></span></p></td><td class="c102" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td></tr><tr class="c25"><td class="c93" colspan="1" rowspan="1"><p class="c9 c72"><span class="c17 c3"></span></p></td><td class="c289" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">----------&gt;</span></p></td><td class="c102" colspan="1" rowspan="1"><p class="c9 c72"><span class="c11 c39"></span></p></td></tr><tr class="c25"><td class="c93" colspan="1" rowspan="1"><p class="c9 c72"><span class="c17 c3"></span></p></td><td class="c289" colspan="1" rowspan="1"><p class="c9 c72"><span class="c17 c3"></span></p></td><td class="c102" colspan="1" rowspan="1"><p class="c9"><span class="c3">Deliver Application Message to appropriate onward recipient(s) </span></p></td></tr></table><p class="c2" id="h.2vor4mt"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c33"><h3 id="h.1au1eum" style="display:inline"><span>4.5.2 </span><span class="c21">QoS 1: At least once delivery</span></h3></li></ul><p class="c386 c101 c66"><span class="c60 c3 c39">This Quality of Service level ensures that the message arrives at the receiver at least once. A QoS 1 PUBLISH packet has a Packet Identifier in its Variable Header and is acknowledged by a PUBACK packet.</span></p><p class="c55 c72"><span class="c67 c24 c327 c39 c78"></span></p><p class="c36" id="h.3utoxif"><span class="c3 c64">In the QoS 1 delivery protocol, the sender</span></p><ul class="c12 lst-kix_list_20-0"><li class="c101 c140 li-bullet-0"><span class="c3 c64">MUST assign an unused Packet Identifier each time it has a new Application Message to publish</span><span class="c60 c3 c39">&nbsp;</span></li><li class="c140 c101 li-bullet-0"><span class="c3 c64">MUST send a PUBLISH packet containing this Packet Identifier with QoS 1 and DUP flag set to 0</span><span class="c60 c3 c39">&nbsp;</span></li><li class="c140 c101 li-bullet-0"><span class="c3 c64">MUST treat the PUBLISH packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBACK packet from the receiver</span><span class="c3">. </span></li></ul><p class="c36" id="h.29yz7q8"><span class="c3">The Packet Identifier becomes available for reuse once the sender has received the PUBACK packet. </span></p><p class="c101 c241 c72 c324"><span class="c98 c3 c39 c64"></span></p><p class="c386 c101 c66"><span class="c24 c64">In a difference to MQTT 5, the sender is NOT permitted to send further PUBLISH packets with different Packet Identifiers while it is waiting to receive acknowledgements. </span><span class="c24 c64">At any given time a sender must ONLY have 1 outstanding application message inflight.</span><sup><a href="#cmnt73" id="cmnt_ref73">[bu]</a></sup></p><p class="c2"><span class="c98 c3 c39 c64"></span></p><p class="c36" id="h.p49hy1"><span class="c3 c64">In the QoS 1 delivery protocol, the receiver</span></p><ul class="c12 lst-kix_list_21-0 start"><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST respond with a PUBACK packet containing the Packet Identifier from the incoming PUBLISH packet, having accepted ownership of the Application Message</span><span class="c60 c3 c39">&nbsp;</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">After it has sent a PUBACK packet the receiver MUST treat any incoming PUBLISH packet that contains the same Packet Identifier as being a new Application Message, irrespective of the setting of its DUP flag</span></li></ul><p class="c386 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c100" id="h.393x0lu"><span class="c60 c3 c39">Figure 4.2 &ndash; QoS 1 protocol flow diagram, Informative example</span></p><a id="t.8a4a6713011428b93aa429dff313e8b995a611c7"></a><a id="t.39"></a><table class="c484 c214"><tr class="c25"><td class="c93 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Sender Action</span></p></td><td class="c289 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">MQTT Control Packet</span></p></td><td class="c102 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Receiver action</span></p></td></tr><tr class="c25"><td class="c93" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Store message</span></p></td><td class="c289" colspan="1" rowspan="1"><p class="c9 c72"><span class="c17 c3"></span></p></td><td class="c102" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td></tr><tr class="c25"><td class="c93" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Send PUBLISH QoS 1, DUP=0, &lt;Packet Identifier&gt;</span></p></td><td class="c289" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">----------&gt;</span></p></td><td class="c102" colspan="1" rowspan="1"><p class="c2"><span class="c11 c39"></span></p></td></tr><tr class="c25"><td class="c93" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c289" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c102" colspan="1" rowspan="1"><p class="c36"><span class="c3">Initiate onward delivery of the Application Message</span><span class="c95 c3">&nbsp;(Note 1)</span></p></td></tr><tr class="c25"><td class="c93" colspan="1" rowspan="1"><p class="c2"><span class="c17 c3"></span></p></td><td class="c289" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">&lt;----------</span></p></td><td class="c102" colspan="1" rowspan="1"><p class="c9"><span class="c17 c3">Send PUBACK &lt;Packet Identifier&gt;</span></p></td></tr><tr class="c25"><td class="c93" colspan="1" rowspan="1"><p class="c36"><span class="c3">Discard message</span></p></td><td class="c289" colspan="1" rowspan="1"><p class="c9 c72"><span class="c17 c3"></span></p></td><td class="c102" colspan="1" rowspan="1"><p class="c9 c72"><span class="c11 c39"></span></p></td></tr></table><p class="c2"><span class="c3 c218 c39 c78 c80 c348"></span></p><p class="c100 c72"><span class="c60 c3 c39"></span></p><p class="c41 c101 c66"><span class="c223 c39 c78 c107 c186">Note(s):</span></p><ol class="c12 lst-kix_list_26-0 start" start="1"><li class="c101 c161 c239 li-bullet-0"><span class="c60 c96 c39">The receiver does not need to complete delivery of the Application Message before sending the PUBACK. When its original sender receives the PUBACK packet, ownership of the Application Message is transferred to the receiver.</span></li></ol><ul class="c12 lst-kix_list_3-2 start"><li class="c33"><h3 id="h.1o97atn" style="display:inline"><span>4.5.3 </span><span class="c21">QoS 2: Exactly once delivery</span></h3></li></ul><p class="c36"><span class="c60 c3 c39">This is the highest Quality of Service level, for use when neither loss nor duplication of messages are acceptable. There is an increased overhead associated with QoS 2.</span></p><p class="c36" id="h.488uthg"><span class="c3 c64">In the QoS 2 delivery protocol, the sender</span><span class="c60 c3 c39">:</span></p><ul class="c12 lst-kix_list_22-0 start"><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST assign an unused Packet Identifier when it has a new Application Message to publish</span><span class="c3 c195">&nbsp;</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST send a PUBLISH packet containing this Packet Identifier with QoS 2 and DUP flag set to 0</span><span class="c60 c3 c39">&nbsp;</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST treat the PUBLISH packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBREC packet from the receiver</span><span class="c60 c3 c39">&nbsp;</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST send a PUBREL packet when it receives a PUBREC packet from the receiver with a Reason Code value less than 0x80. This PUBREL packet MUST contain the same Packet Identifier as the original PUBLISH packet</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST treat the PUBREL packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBCOMP packet from the receiver</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST NOT resend the PUBLISH once it has sent the corresponding PUBREL packe</span><span class="c60 c3 c39">t</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST NOT apply Message expiry if a PUBLISH packet has been sent</span><span class="c3">&nbsp;</span></li></ul><p class="c386 c101 c66"><span class="c60 c3 c39">The Packet Identifier becomes available for reuse once the sender has received the PUBCOMP packet or a PUBREC with a Reason Code of 0x80 or greater. </span></p><p class="c55 c72"><span class="c98 c3 c39 c64"></span></p><p class="c386 c101 c66"><span class="c24 c64">In this version of MQTT-SN and in contrast to MQTT 5.0, the sender MUST only &nbsp;send further PUBLISH packets with different Packet Identifiers when it is not waiting to receive acknowledgements. </span><span class="c24 c64">At any given time a sender has only 1 outstanding application message inflight.</span><sup><a href="#cmnt74" id="cmnt_ref74">[bv]</a></sup></p><p class="c55 c72"><span class="c98 c3 c39 c64"></span></p><p class="c36" id="h.2ne53p9"><span class="c3 c64">In the QoS 2 delivery protocol, the receiver</span><span class="c3">:</span></p><ul class="c12 lst-kix_list_24-0 start"><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST respond with a PUBREC containing the Packet Identifier from the incoming PUBLISH packet, having accepted ownership of the Application Message</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">If it has sent a PUBREC with a Reason Code of 0x80 or greater, the receiver MUST treat any subsequent PUBLISH packet that contains that Packet Identifier as being a new Application Message</span><span class="c60 c3 c39">&nbsp;</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">Until it has received the corresponding PUBREL packet, the receiver MUST acknowledge any subsequent PUBLISH packet with the same Packet Identifier by sending a PUBREC. It MUST NOT cause duplicate messages to be delivered to any onward recipients in this case</span><span class="c60 c3 c39">&nbsp;</span></li><li class="c100 c161 li-bullet-0"><span class="c3 c64">MUST respond to a PUBREL packet by sending a PUBCOMP packet containing the same Packet Identifier as the PUBREL</span></li><li class="c100 c161 li-bullet-0"><span class="c98 c3 c39 c64">After it has sent a PUBCOMP, the receiver MUST treat any subsequent PUBLISH packet that contains that Packet Identifier as being a new Application Message</span></li></ul><p class="c2"><span class="c98 c3 c39 c64"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.3mj2wkv" style="display:inline"><span class="c111 c24 c39 c78">4.6 Client states</span></h2></li></ul><p class="c36"><span class="c3">At any given point in time, a client may be in one of </span><span class="c24">5 different states</span><span class="c3">. Transition through these states is governed by a strictly coordinated sequence of packets between client and server/gateway and further mediated by timers resident on the gateway. A client is in the </span><span class="c3 c7">active </span><span class="c3">state when the server/gateway receives a CONNECT packet from that client. This state is supervised by the server/gateway with the &ldquo;keep alive&rdquo; timer. If the server/gateway does not receive any packet from the client for a period longer than the keep alive duration (indicated in the CONNECT packet), the gateway will consider that client as </span><span class="c3 c7">lost </span><span class="c3">and activate for example the Will feature for that client. A client goes to the </span><span class="c3 c7">disconnected </span><span class="c3">state when the server/gateway receives a DISCONNECT without a </span><span class="c3 c7">session expiry interval</span><span class="c3">&nbsp;field. This state is not time-supervised by the server/gateway. A client moves into the asleep state by issuing a DISCONNECT with a </span><span class="c3 c7">session expiry interval</span><span class="c60 c3 c39">&nbsp;field. For more information on the sleep state, please refer to the &ldquo;Sleeping clients&rdquo; section.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><a id="t.e6cea2d6f137db6190cddbdf0b718e88201a1954"></a><a id="t.40"></a><table class="c235"><tr class="c25"><td class="c198 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">State</span></p></td><td class="c75 c91" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">State Description</span></p></td><td class="c75 c301" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Possible Transitions</span></p></td></tr><tr class="c25"><td class="c148 c198" colspan="1" rowspan="1"><sup><a href="#cmnt75" id="cmnt_ref75">[bw]</a></sup><sup><a href="#cmnt76" id="cmnt_ref76">[bx]</a></sup><p class="c36"><span class="c11 c39">DISCONNECTED</span></p></td><td class="c91" colspan="1" rowspan="1"><p class="c36"><span class="c3">The client is considered offline. The gateway may or may not have a previous session state for this client. From here a client may transition ONLY to the </span><span class="c24">ACTIVE</span><span class="c17 c3">&nbsp;state.</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c36"><span class="c11 c39">ACTIVE</span></p></td></tr><tr class="c25"><td class="c198 c148" colspan="1" rowspan="1"><p class="c36"><span class="c11 c39">ACTIVE</span></p></td><td class="c91" colspan="1" rowspan="1"><p class="c36"><span class="c3">The client is actively engaged in the session. It should be able to send and receive packets. Its state is supervised by the gateway with the associated &ldquo;keep alive&rdquo; timers. From here the client may transition to </span><span class="c24">ASLEEP</span><span class="c3">&nbsp;(by way of DISCONNECT with a session expiry interval &gt; 0), </span><span class="c24">DISCONNECTED</span><span class="c3">&nbsp;(by way of DISCONNECT with a session expiry of 0) or </span><span class="c24">LOST </span><span class="c3">(</span><span class="c3">by way of supervised gateway timers</span><sup><a href="#cmnt77" id="cmnt_ref77">[by]</a></sup><span class="c17 c3">).</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c36"><span class="c11 c39">ASLEEP DISCONNECTED</span></p><p class="c36"><span class="c11 c39">LOST</span></p></td></tr><tr class="c25"><td class="c198 c148" colspan="1" rowspan="1"><p class="c36"><span class="c11 c39">ASLEEP</span></p></td><td class="c91" colspan="1" rowspan="1"><p class="c36"><span class="c3">The client is engaged in an ongoing session. It cannot receive packets; it can send packets. The gateway should not expect a response from the client in this state until further packets are received from the client. From here the client may transition to </span><span class="c24">AWAKE</span><span class="c3">&nbsp;(by way of PINGREQ), </span><span class="c24">ACTIVE</span><span class="c3">&nbsp;by way of CONNECT, </span><span class="c24">DISCONNECTED</span><span class="c3">&nbsp;(by way of DISCONNECT with a session expiry of 0) or </span><span class="c24">LOST</span><span class="c3">&nbsp;(by </span><span class="c3">way of supervised gateway timers</span><sup><a href="#cmnt78" id="cmnt_ref78">[bz]</a></sup><span class="c17 c3">).</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c36"><span class="c11 c39">AWAKE</span></p><p class="c36"><span class="c11 c39">ACTIVE</span></p><p class="c36"><span class="c11 c39">DISCONNECTED</span></p><p class="c36"><span class="c11 c39">LOST</span></p></td></tr><tr class="c25"><td class="c198 c148" colspan="1" rowspan="1"><p class="c36"><span class="c11 c39">AWAKE</span></p></td><td class="c91" colspan="1" rowspan="1"><p class="c36"><span class="c3">The client is partially engaged in an ongoing session; it is obliged to not send ANY packets other than those involved in the receipt of PUBLISH packets (PUBACK, PUBREC, PUBCOMP, REGACK) or a DISCONNECT to transition to </span><span class="c24">DISCONNECTED</span><span class="c3">. The client transitions back to the </span><span class="c24">ASLEEP</span><span class="c3">&nbsp;state on receipt of a PINGRESP packet or </span><span class="c24">LOST</span><span class="c3">&nbsp;(</span><span class="c3">by way of supervised gateway timers</span><sup><a href="#cmnt79" id="cmnt_ref79">[ca]</a></sup><sup><a href="#cmnt80" id="cmnt_ref80">[cb]</a></sup><sup><a href="#cmnt81" id="cmnt_ref81">[cc]</a></sup><sup><a href="#cmnt82" id="cmnt_ref82">[cd]</a></sup><span class="c17 c3">).</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c36"><span class="c11 c39">ASLEEP</span></p><p class="c36"><span class="c11 c39">DISCONNECTED</span></p><p class="c36"><span class="c11 c39">LOST</span></p></td></tr><tr class="c25"><td class="c198 c148" colspan="1" rowspan="1"><p class="c36"><span class="c11 c39">LOST</span></p></td><td class="c91" colspan="1" rowspan="1"><p class="c36"><span class="c3">The client is considered offline and not able to receive packets until it has re-established a session with the GW by way of a CONNECT. The gateway </span><span class="c24">must not</span><span class="c3">&nbsp;attempt to send packets to a client in the </span><span class="c24">LOST </span><span class="c3">state</span><span class="c24">. </span><span class="c3">Any packets received from a client whose state is</span><span class="c24">&nbsp;LOST </span><span class="c3">should not be processed and a DISCONNECT with error should be sent in response, unless the packets received are PUBLISH WITHOUT SESSION or PUBLISH -1. Session state may exist on the GW for a client in the </span><span class="c24">LOST</span><span class="c17 c3">&nbsp;state.</span></p></td><td class="c301" colspan="1" rowspan="1"><p class="c36"><span class="c11 c39">ACTIVE</span></p></td></tr></table><p class="c2"><span class="c60 c3 c39"></span></p><p class="c9 c72"><span class="c60 c3 c39"></span></p><p class="c9 c72"><span class="c60 c3 c39"></span></p><p class="c9 c72"><span class="c60 c3 c39"></span></p><p class="c370 c101 c66"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 666.67px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 666.67px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c101 c66 c370"><span class="c60 c3 c39">Figure 4: &nbsp;Client&rsquo;s state transition diagram</span></p><ul class="c12 lst-kix_list_3-2"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h3 id="h.qfa0p4gzzbmu" style="display:inline"><span class="c244 c247 c39 c78 c186 c363">4.6.1 Gateway timers</span></h3></li></ul><p class="c36"><span class="c60 c96 c39">The following timers must be managed by a Gateway per Client to handle the different Client states:</span></p><ul class="c12 lst-kix_list_31-0 start"><li class="c114 c101 li-bullet-0"><span>&ldquo;Keep Alive&rdquo; timer based on the value defined in the CONNECT packet. If expired, a Client is moved from Active to Lost state or from Asleep to Lost state or from Awake to Lost state.</span></li><li class="c180 c101 c144 c241 li-bullet-0"><span>&ldquo;Session Expiry&rdquo; timer based on the value defined in the CONNECT or the DISCONNECT packet. If expired, the session state associated with the Client can be removed.</span></li></ul><ul class="c12 lst-kix_list_3-1 start"><li class="c149 c101 c45"><h2 id="h.21od6so" style="display:inline"><span class="c111 c24 c39 c78">4.7 Session state</span></h2></li></ul><p class="c36"><span class="c60 c3 c39">Sessions are maintained by both the Client and a Gateway. Sessions typically include (but are not limited to):</span></p><ul class="c12 lst-kix_list_11-0"><li class="c173 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Client Identifier</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Last packet received timestamp</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Keep Alive value</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Session Expiry Interval value</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Outbound unconfirmed application messages</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Inbound unconfirmed application messages</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Buffered messages from the broker</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Registered topic alias dictionary (normal topic alias&rsquo;s)</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Confirmed subscriptions with their granted QoS</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Network address of Gateway (in the case of clients).</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Network address of Client (in the case of gateways).</span></li><li class="c41 c101 c161 c252 li-bullet-0"><span class="c67 c3 c68 c39">Next outbound packet identifier</span></li></ul><p class="c101 c72 c139"><span class="c67 c3 c68 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.gtnh0h" style="display:inline"><span class="c111 c24 c39 c78">4.8 Clean start</span></h2></li></ul><p class="c173 c101 c454"><span class="c313 c523">With MQTT-SN, when a client disconnects, its subscriptions are retained for no less than the session expiration time</span><span class="c60 c3 c39">. They are persistent and valid for new (non clean start) sessions, until either they are explicitly un-subscribed by the client, or the client establishes a new session with the &ldquo;clean start&rdquo; flag set or their idle time exceeds the session expiry interval associated with the session.</span></p><p class="c173 c101 c72 c454"><span class="c60 c3 c39"></span></p><p class="c101 c66 c371"><span class="c60 c3 c39">In MQTT-SN the meaning of a &ldquo;clean start&rdquo; is extended to the Will feature, i.e. not only the subscriptions are persistent, but also the Will topic and the Will packet. The two flags &ldquo;CleanStart&rdquo; and &ldquo;Will&rdquo; in the CONNECT have then the following meanings:</span></p><ul class="c12 lst-kix_list_12-0 start"><li class="c137 c101 c266 c394 li-bullet-12"><span class="c60 c3 c39">CleanStart=true, Will=true: The gateway will delete all subscriptions and Will data, if present, related to the client and it will add the Will data with the content of the CONNECT Will optional fields.</span></li><li class="c137 c101 c266 c394 li-bullet-9"><span class="c60 c3 c39">CleanStart=true, Will=false: The gateway will delete all subscriptions and Will data, if present, related to the client, and returns CONNACK.</span></li><li class="c137 c101 c266 c394 li-bullet-12"><span class="c60 c3 c39">CleanStart=false, Will=true: The gateway keeps all stored client&rsquo;s data and it will overwrite, if present, or add the Will data related to the client with the content of the CONNECT Will optional fields.</span></li><li class="c101 c266 c394 c451 li-bullet-9"><span class="c60 c3 c39">CleanStart=false, Will=false: The gateway keeps all stored client&rsquo;s data and returns CONNACK.</span></li></ul><p class="c101 c72 c296"><span class="c60 c3 c39"></span></p><p class="c358 c101 c66"><span class="c60 c3 c39">Note that if a client wants to delete only its Will data at Virtual Connection setup, it could send a CONNECT packet with &ldquo;CleanStart=false&rdquo; and &ldquo;Will=false&rdquo;.</span></p><p class="c89 c191 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c398 c180 c101 c191"><h2 id="h.g7vjj8m1vj3z" style="display:inline"><span class="c67 c244 c39 c78 c525">4.9 Topic Names and Topic Filters</span></h2></li></ul><ul class="c12 lst-kix_list_3-2 start"><li class="c180 c101 c191 c398"><h3 id="h.q0s32id4lv9p" style="display:inline"><span class="c67 c244 c39 c78 c363">4.9.1 Topic wildcards</span></h3></li></ul><p class="c131 c101 c66"><span class="c60 c3 c39">The topic level separator is used to introduce structure into the Topic Name. If present, it divides the Topic Name into multiple &ldquo;topic levels&rdquo;.</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">A subscription&rsquo;s Topic Filter can contain special wildcard characters, which allow a Client to subscribe to multiple topics at once.</span></p><p class="c131 c101 c66"><span class="c3 c64">The wildcard characters can be used in Topic Filters, but MUST NOT be used within a Topic Name</span><span class="c3">&nbsp;</span><span class="c3 c195">[MQTT-4.7.0-1]</span><sup><a href="#cmnt83" id="cmnt_ref83">[ce]</a></sup><sup><a href="#cmnt84" id="cmnt_ref84">[cf]</a></sup><span class="c60 c3 c39">.</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">&nbsp;</span></p><ul class="c12 lst-kix_list_3-3"><li class="c240 c101 c191"><h4 id="h.3kbulner4ob4" style="display:inline"><span class="c4 c78">4.9.1.1 Topic level separator</span></h4></li></ul><p class="c131 c101 c66"><span class="c60 c3 c39">The forward slash (&lsquo;/&rsquo; U+002F) is used to separate each level within a topic tree and provide a hierarchical structure to the Topic Names. The use of the topic level separator is significant when either of the two wildcard characters is encountered in Topic Filters specified by subscribing Clients. Topic level separators can appear anywhere in a Topic Filter or Topic Name. Adjacent Topic level separators indicate a zero-length topic level.</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">&nbsp;</span></p><ul class="c12 lst-kix_list_3-3"><li class="c240 c101 c191"><h4 id="h.ychcrpqsu69r" style="display:inline"><span class="c4 c78">4.9.1.2 Multi-level wildcard</span></h4></li></ul><p class="c131 c101 c66"><span class="c3">The number sign (&lsquo;#&rsquo; U+0023) is a wildcard character that matches any number of levels within a topic. The multi-level wildcard represents the parent and any number of child levels. </span><span class="c3 c64">The multi-level wildcard character MUST be specified either on its own or following a topic level separator. In either case it MUST be the last character specified in the Topic Filter</span><span class="c3">&nbsp;</span><span class="c3 c195">[MQTT-4.7.1-1]</span><span class="c60 c3 c39">.</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">&nbsp;</span></p><p class="c131 c101 c203"><span class="c60 c24 c39">Informative comment</span></p><p class="c131 c101 c203"><span class="c60 c3 c39">For example, if a Client subscribes to &ldquo;sport/tennis/player1/#&rdquo;, it would receive messages published using these Topic Names:</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;sport/tennis/player1&rdquo;</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;sport/tennis/player1/ranking</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;sport/tennis/player1/score/wimbledon&rdquo;</span></p><p class="c131 c101 c203"><span class="c60 c3 c39">&nbsp;</span></p><p class="c131 c101 c203"><span class="c60 c24 c39">Informative comment</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;sport/#&rdquo; also matches the singular &ldquo;sport&rdquo;, since # includes the parent level.</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;#&rdquo; is valid and will receive every Application Message</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;sport/tennis/#&rdquo; is valid</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;sport/tennis#&rdquo; is not valid</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;sport/tennis/#/ranking&rdquo; is not valid</span></p><p class="c6"><span class="c60 c3 c39">&nbsp;</span></p><ul class="c12 lst-kix_list_3-3"><li class="c101 c191 c240"><h4 id="h.x4yye38w41vd" style="display:inline"><span class="c4 c78">4.9.1.3 Single-level wildcard</span></h4></li></ul><p class="c131 c101 c66"><span class="c60 c3 c39">The plus sign (&lsquo;+&rsquo; U+002B) is a wildcard character that matches only one topic level.</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">&nbsp;</span></p><p class="c131 c101 c66"><span class="c3 c64">The single-level wildcard can be used at any level in the Topic Filter, including first and last levels. Where it is used, it MUST occupy an entire level of the filter</span><span class="c3">&nbsp;</span><span class="c3 c195">[MQTT-4.7.1-2]</span><span class="c60 c3 c39">. It can be used at more than one level in the Topic Filter and can be used in conjunction with the multi-level wildcard.</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">&nbsp;</span></p><p class="c131 c101 c203"><span class="c60 c24 c39">Informative comment</span></p><p class="c131 c101 c203"><span class="c60 c3 c39">For example, &ldquo;sport/tennis/+&rdquo; matches &ldquo;sport/tennis/player1&rdquo; and &ldquo;sport/tennis/player2&rdquo;, but not &ldquo;sport/tennis/player1/ranking&rdquo;. Also, because the single-level wildcard matches only a single level, &ldquo;sport/+&rdquo; does not match &ldquo;sport&rdquo; but it does match &ldquo;sport/&rdquo;.</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&nbsp;&ldquo;+&rdquo; is valid</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;+/tennis/#&rdquo; is valid</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;sport+&rdquo; is not valid</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;sport/+/player1&rdquo; is valid</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;/finance&rdquo; matches &ldquo;+/+&rdquo; and &ldquo;/+&rdquo;, but not &ldquo;+&rdquo;</span></p><p class="c131 c101 c241 c252"><span class="c60 c3 c39">&nbsp;</span></p><ul class="c12 lst-kix_list_3-2"><li class="c398 c180 c101 c191"><h3 id="h.p61p07rh2x26" style="display:inline"><span class="c67 c244 c39 c78 c363">4.9.2 &nbsp;Topics beginning with $</span></h3></li></ul><p class="c101 c66 c131"><span class="c3 c64">The Server MUST NOT match Topic Filters starting with a wildcard character (# or +) with Topic Names beginning with a $ character</span><span class="c3">&nbsp;</span><span class="c3 c195">[MQTT-4.7.2-1]</span><span class="c60 c3 c39">. The Server SHOULD prevent Clients from using such Topic Names to exchange messages with other Clients. Server implementations MAY use Topic Names that start with a leading $ character for other purposes.</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">&nbsp;</span></p><p class="c131 c101 c203"><span class="c60 c24 c39">Informative comment</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">$SYS/ has been widely adopted as a prefix to topics that contain Server-specific information or control APIs</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">Applications cannot use a topic with a leading $ character for their own purposes</span></p><p class="c131 c101 c203"><span class="c60 c3 c39">&nbsp;</span></p><p class="c131 c101 c203"><span class="c60 c24 c39">Informative comment</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">A subscription to &ldquo;#&rdquo; will not receive any messages published to a topic beginning with a $</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">A subscription to &ldquo;+/monitor/Clients&rdquo; will not receive any messages published to &ldquo;$SYS/monitor/Clients&rdquo;</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">A subscription to &ldquo;$SYS/#&rdquo; will receive messages published to topics beginning with &ldquo;$SYS/&rdquo;</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">A subscription to &ldquo;$SYS/monitor/+&rdquo; will receive messages published to &ldquo;$SYS/monitor/Clients&rdquo;</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">For a Client to receive messages from topics that begin with $SYS/ and from topics that don&rsquo;t begin with a $, it has to subscribe to both &ldquo;#&rdquo; and &ldquo;$SYS/#&rdquo;</span></p><p class="c6"><span class="c60 c3 c39">&nbsp;</span></p><ul class="c12 lst-kix_list_3-2"><li class="c398 c180 c101 c191"><h3 id="h.rvcur5x0am" style="display:inline"><span class="c67 c244 c39 c78 c363">4.9.3 Topic semantic and usage</span></h3></li></ul><p class="c131 c101 c66"><span class="c60 c3 c39">The following rules apply to Topic Names and Topic Filters:</span></p><p class="c131 c101 c241 c311"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3 c64">All Topic Names and Topic Filters MUST be at least one character long</span><span class="c3">&nbsp;</span><span class="c145 c3 c39 c78 c195">[MQTT-4.7.3-1]</span></p><p class="c131 c101 c311 c241"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">Topic Names and Topic Filters are case sensitive</span></p><p class="c131 c101 c311 c241"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">Topic Names and Topic Filters can include the space character</span></p><p class="c131 c101 c311 c241"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">A leading or trailing &lsquo;/&rsquo; creates a distinct Topic Name or Topic Filter</span></p><p class="c131 c101 c311 c241"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">A Topic Name or Topic Filter consisting only of the &lsquo;/&rsquo; character is valid</span></p><p class="c131 c101 c311 c241"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3 c64">Topic Names and Topic Filters MUST NOT include the null character (Unicode U+0000)</span><span class="c3"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1711133546533123&amp;usg=AOvVaw3Vyxz78ou8V1qnwx2i08xz">&nbsp;</a></span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1711133546533393&amp;usg=AOvVaw0lmjQPPpgRbq_ZsBc02sGy">[Unicode]</a></span><span class="c3">&nbsp;</span><span class="c145 c3 c39 c78 c195">[MQTT-4.7.3-2]</span></p><p class="c131 c101 c311 c241"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3 c64">Topic Names and Topic Filters are UTF-8 Encoded Strings; they MUST NOT encode to more than 65,535 bytes</span><span class="c3">&nbsp;</span><span class="c3 c195">[MQTT-4.7.3-3]</span><span class="c3">. Refer to</span><span class="c3"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23_UTF-8_Encoded_String&amp;sa=D&amp;source=editors&amp;ust=1711133546533856&amp;usg=AOvVaw2j5_80QUWnjSn3D06voxIo">&nbsp;</a></span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23_UTF-8_Encoded_String&amp;sa=D&amp;source=editors&amp;ust=1711133546534020&amp;usg=AOvVaw2rExuhLtBSwvNIsefJ8v03">section 1.5.4</a></span><span class="c60 c3 c39">.</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">&nbsp;</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">There is no limit to the number of levels in a Topic Name or Topic Filter, other than that imposed by the overall length of a UTF-8 Encoded String.</span></p><p class="c131 c101 c66"><span class="c3 c218 c39 c78 c186 c381">&nbsp;</span></p><p class="c131 c101 c66"><span class="c3 c64">When it performs subscription matching the Server MUST NOT perform any normalization of Topic Names or Topic Filters, or any modification or substitution of unrecognized characters</span><span class="c3">&nbsp;</span><span class="c3 c195">[MQTT-4.7.3-4]</span><span class="c60 c3 c39">. Each non-wildcarded level in the Topic Filter has to match the corresponding level in the Topic Name character for character for the match to succeed.</span></p><p class="c131 c101 c66"><span class="c3 c218 c39 c78 c186 c381">&nbsp;</span></p><p class="c131 c101 c203"><span class="c60 c24 c39">Informative comment</span></p><p class="c131 c101 c203"><span class="c60 c3 c39">The UTF-8 encoding rules mean that the comparison of Topic Filter and Topic Name could be performed either by comparing the encoded UTF-8 bytes, or by comparing decoded Unicode characters</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">&nbsp;</span></p><p class="c131 c101 c203"><span class="c60 c24 c39">Informative comment</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;ACCOUNTS&rdquo; and &ldquo;Accounts&rdquo; are two different Topic Names</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;Accounts payable&rdquo; is a valid Topic Name</span></p><p class="c6"><span class="c3">&middot;</span><span class="c175">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c60 c3 c39">&ldquo;/finance&rdquo; is different from &ldquo;finance&rdquo;</span></p><p class="c131 c101 c66"><span class="c60 c24 c39">&nbsp;</span></p><p class="c131 c101 c66"><span class="c60 c3 c39">An Application Message is sent to each Client Subscription whose Topic Filter matches the Topic Name attached to an Application Message. The topic resource MAY be either predefined in the Server by an administrator or it MAY be dynamically created by the Server when it receives the first subscription or an Application Message with that Topic Name. The Server MAY also use a security component to authorize particular actions on the topic resource for a given Client.</span></p><p class="c89 c191 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.1fyl9w3" style="display:inline"><span class="c111 c24 c39 c78">4.10 Topic Name and Topic Filter Registration Procedure</span></h2></li></ul><p class="c36"><span class="c60 c3 c39">Because of the limited bandwidth and the small packet payload in wireless sensor networks, data is not published together with its topic name as in MQTT. A registration procedure is introduced which allows both a client and a gateway to inform its peer about the short topic alias and its corresponding topic name before it can start sending PUBLISH packets using the short topic alias.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c343 c101 c158"><span class="c60 c3 c39">A topic alias is a two-byte long replacement of the string-based topic name. A client needs to use the REGISTER procedure to inform the gateway about the topic name it wants to employ and gets the corresponding topic alias from the gateway. It then will use this topic alias in the PUBLISH packets it sends to the gateway. In the opposite direction, the PUBLISH packets also contain a 2-byte topic alias (instead of the string-based topic name). The client is informed about the relation between topic alias and topic name by means of either a former SUBSCRIBE procedure, or a REGISTER procedure started by the gateway.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3">To register a topic name a client sends a REGISTER packet to the GW. If the registration could be accepted, the gateway assigns a </span><span class="c3 c7">topic alias </span><span class="c60 c3 c39">to the received topic name and returns it with a REGACK packet to the client. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">If the client initiates a REGISTER against a topic which is known by the gateway to have a predefined topic alias associated with it, it is an error case, but one which should not be terminal to the session since firmware updates could lead to this scenario. The gateway will specify its topic alias type to be predefined and set the topic alias value to match that defined on the gateway in the REGACK, it will also set an ERROR reason code on the REGACK to indicate the issue. The client can then choose to update its registry of predefined topic alias&rsquo; if it so wishes. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3 c64">Predefined topicId values CANNOT be used interchangeably with the NORMAL alias type. This is considered a protocol violation.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3">If there are no predefined topic alias&rsquo;, the gateway will pass back a NORMAL topic alias type. If the registration could not be accepted, a REGACK is also returned to the client with the failure reason encoded in the </span><span class="c3 c7">ReasonCode</span><span class="c60 c3 c39">&nbsp;field.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3">After having received the REGACK packet with </span><span class="c3 c7">ReasonCode =&ldquo;accepted&rdquo;</span><span class="c3">, the client shall use the assigned </span><span class="c3 c7">topicId </span><span class="c3">to publish data of the corresponding topic name. If, however, the REGACK contains a rejection code, the client may try to register later again. If the Reason Code was </span><span class="c3 c7">&ldquo;Congestion&rdquo;</span><span class="c3">, the client should wait for a time </span><span class="c3 c7">T</span><span class="c3 c103 c7">WAIT </span><span class="c60 c3 c39">before restarting the registration procedure.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">At any point in time a client may have only one REGISTER packet outstanding, i.e., it must wait for a REGACK packet before it can register another topic name.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3">A gateway sends a REGISTER packet to a client if it wants to inform that client about the topic name and the assigned topic alias that it will use later when sending PUBLISH packets of the corresponding topic name. This happens for example when no prior registrations exists, or when the client has DISCONNECTED with retail registration false, or the client re-connects without having set the &ldquo;CleanStart&rdquo; flag or the client has subscribed to topic names that contain wildcard characters such as # or +. </span></p><p class="c100"><span class="c60 c24 c39">Informative comment</span></p><p class="c100"><span class="c3 c81">The gateway should attempt to make the best effort to reuse the same topic alias&rsquo; mappings that existed during any initial associated ACTIVE states.</span><sup><a href="#cmnt85" id="cmnt_ref85">[cg]</a></sup><sup><a href="#cmnt86" id="cmnt_ref86">[ch]</a></sup><sup><a href="#cmnt87" id="cmnt_ref87">[ci]</a></sup><span class="c37 c3 c78">&nbsp;</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.3zy8sjw" style="display:inline"><span class="c111 c24 c39 c78">4.11 Topic Name and Topic Filter Mapping and Aliasing</span></h2></li></ul><p class="c36"><span class="c3 c64">On the gateway the mapping table between registered topic ids and topic names MUST be implemented per client (and not by a single shared pool between all clients), to reduce the risk of an incorrect topic id from a client matching another client&rsquo;s valid topic.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">For performance and efficiency reasons the broker may choose to align topic alias&rsquo; for registered normal topic aliases between multiple clients. The mapping table of predefined topic aliases is separate from normal registered aliases. It is global and shared between all clients and gateways and may overlap with registered aliases, since it is in a different pool.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c101 c45 c149"><h2 id="h.2f3j2rp" style="display:inline"><span class="c3">4</span><span>.</span><span class="c111 c24 c39 c78">12 Predefined topic alias&rsquo; and short topic names</span></h2></li></ul><p class="c343 c101 c158 c72"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c3">A &ldquo;predefined&rdquo; topic alias is a topic alias who&rsquo;s mapping to a topic name is known in advance by both the client&rsquo;s application and the gateway. This is indicated in the </span><span class="c3 c7">Flags </span><span class="c3">field of the packet. When using pre-defined topic alias&rsquo;, both sides can start immediately with the sending of PUBLISH packets; there is no need for the REGISTER procedure as in the case of &rdquo;normal&rdquo; topic alias&rsquo;. When receiving a PUBLISH packet with a predefined topic alias, of which the mapping to a topic name is unknown, the receiver should return a PUBACK with the </span><span class="c3 c7">ReasonCode= &ldquo;</span><span class="c3">Unknown Topic Alias</span><span class="c3 c7">&rdquo;</span><span class="c60 c3 c39">.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c101 c66 c173"><span class="c3 c64">The presence of a pre-defined topic alias does not imply any other meaning onto the topic name / topic filter itself. All lifecycle operations, for example SUBSCRIBE / UNSUBSCRIBE may still be used in the use of these aliases except for REGISTER.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c101 c66 c350"><span class="c60 c3 c39">A &ldquo;short&rdquo; topic name is a topic name that has a fixed length of two bytes. It could be carried together with the data within a PUBLISH packet, thus no REGISTER procedure is needed for a short topic name. Otherwise, all rules that apply to normal topic names also apply to short topic names. Note however that it does not make sense to do wildcarding in subscriptions to short topic names, because it is not possible to define a meaningful name hierarchy with only two characters.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.u8tczi" style="display:inline"><span class="c111 c24 c39 c78">4.13 Client&rsquo;s Topic Subscribe/Unsubscribe Procedure</span></h2></li></ul><p class="c315 c101 c158"><span class="c3">To subscribe to a topic name, a client sends a SUBSCRIBE packet to the gateway with the topic name included in that packet. If the gateway is able accept the subscription, it assigns a topic alias to the received topic name and returns it within a SUBACK packet to the client. If the subscription cannot be accepted, then a SUBACK packet is also returned to the client with the rejection cause encoded in the </span><span class="c3 c7">ReasonCode </span><span class="c3">field. </span><span class="c3">If the rejection cause is </span><span class="c3 c7">&ldquo;Congestion&rdquo;</span><sup><a href="#cmnt88" id="cmnt_ref88">[cj]</a></sup><span class="c3">, the client should wait for the time </span><span class="c3 c7">T</span><span class="c3 c103 c7">WAIT </span><span class="c60 c3 c39">before resending the SUBSCRIBE packet to the gateway.</span></p><p class="c315 c101 c158 c72"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c60 c3 c39">If the client subscribes to a topic name which contains a wildcard character, the returning SUBACK packet will contain the topic alias value 0x0000. The gateway will use the registration procedure to inform the client about the to-be-used topic alias value when it has the first PUBLISH packet with a matching topic name to be sent to the client.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c60 c3 c39">Similar to the client&rsquo;s PUBLISH procedure, topic alias&rsquo; may also be pre-defined for certain topic names. Short topic names may be used as well. In those two cases the client still needs to subscribe to those pre-defined topic alias&rsquo; or short topic names.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c60 c3 c39">To unsubscribe, a client sends an UNSUBSCRIBE packet to the gateway, which will then be answered by means of an UNSUBACK packet.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">As for the REGISTER procedure, a client may have only one SUBSCRIBE or one UNSUBSCRIBE transaction open at a time.</span></p><p class="c343 c101 c191 c361 c72"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.3e8gvnb" style="display:inline"><span class="c111 c24 c39 c78">4.14 Client&rsquo;s Publish Procedure</span></h2></li></ul><p class="c173 c101 c158"><span class="c60 c3 c39">After having registered successfully a topic name with the gateway, the client can start publishing data relating to the registered topic name by sending PUBLISH packets to the gateway. The PUBLISH packets contain the assigned topic alias.</span></p><p class="c173 c101 c66"><span class="c60 c3 c39">All three QoS levels and their corresponding packet flows are supported as defined in MQTT. The only difference is the use of topic alias&rsquo; instead of topic names in the PUBLISH packets.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">Regardless of the requested QoS level the client may receive in response to its PUBLISH a PUBACK packet which contains either:</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_5-0 start"><li class="c137 c101 c241 c266 li-bullet-9"><span class="c3">The </span><span class="c3 c7">ReasonCode= &ldquo;</span><span class="c3">Unknown Topic Alias</span><span class="c3 c7">&rdquo;</span><span class="c60 c3 c39">: in this case the client needs to register the topic name again before it can publish data related to that topic name; or</span></li><li class="c101 c266 c241 c418 li-bullet-8"><span class="c3">The </span><span class="c3 c7">ReasonCode= &ldquo;Congestion&rdquo;</span><span class="c3">: in this the client shall stop publishing toward the gateway for at least the time </span><span class="c3 c7">T</span><span class="c3 c103 c7">WAIT</span><span class="c60 c3 c39">.</span></li></ul><p class="c36"><span class="c60 c3 c39">A Client or Gateway processes a single outbound Qos 1 or Qos 2 message at a time.</span></p><p class="c36"><span class="c60 c3 c39">This prevents retransmitted Qos 1 and Qos 2 messages from being received out of order.</span></p><p class="c36"><span class="c98 c3 c39 c64">A Client MUST NOT send a Qos 1 or Qos 2 PUBLISH packet with a new Application Message until it has received a PUBACK or PUBCOMP Packet with the Packet Identifier corresponding to the PUBLISH packet previously sent.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.1tdr5v4" style="display:inline"><span class="c111 c24 c39 c78">4.15 Gateway&rsquo;s Publish Procedure</span></h2></li></ul><p class="c173 c101 c158"><span class="c60 c3 c39">Like the client&rsquo;s PUBLISH procedure described in Section 3.14, the gateway sends PUBLISH packets with the topic alias value that was returned in the SUBACK packet to the client.</span></p><p class="c173 c101 c158 c72"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c60 c3 c39">Preceding the PUBLISH packet the gateway may send a REGISTER packet to inform the client about the topic name and its assigned topic alias value. This will happen for example when the client re-connects without clean start or has subscribed to topic names with wildcard characters. Upon receiving a REGISTER packet the client replies with a REGACK packet. The gateway will wait for the REGACK packet before it sends the PUBLISH packet to the client.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c60 c3 c39">The client could reject the REGISTER packet with a REGACK packet indicating the rejection reason; this corresponds to an unsubscribe to the topic name indicated in the REGISTER packet. Note that unsubscribe to a topic name with wildcard characters can only be done with the unsubscribe procedure &nbsp; &nbsp; and not with the rejection of a REGISTER packet, since a REGISTER packet never contains a topic name with wildcard characters.</span></p><p class="c315 c101 c66"><span class="c3">If the client receives a PUBLISH packet with an unknown topic alias value, it shall respond with a PUBACK packet with the </span><span class="c3 c7">ReasonCode=&ldquo;</span><span class="c3">Unknown Topic Alias</span><span class="c3 c7">&rdquo;</span><span class="c60 c3 c39">. This will trigger the gateway to delete or correct the wrong topic alias assignment.</span></p><p class="c315 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c89 c66"><span class="c60 c3 c39">Note that in case either the topic name or the data is too long to fit into a REGISTER or a PUBLISH packet, the gateway silently aborts the publish procedure, i.e. no warning is sent to the affected subscribers.</span></p><p class="c89 c66 c72"><span class="c60 c3 c39"></span></p><p class="c89 c66"><span class="c3 c452 c348 c64">A Gateway MUST NOT send a Qos 1 or Qos 2 PUBLISH packet with a new Application Message until it has received a PUBACK or PUBCOMP Packet with the Packet Identifier corresponding to the PUBLISH packet previously sent.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.4ddeoix" style="display:inline"><span class="c111 c24 c39 c78">4.16 Keep Alive and PING Procedure</span></h2></li></ul><p class="c173 c101 c158"><span class="c60 c3 c39">As with MQTT, the value of the Keep Alive timer is indicated in the CONNECT packet. The client should send a PINGREQ packet within each Keep Alive time period, which the gateway acknowledges with a PINGRESP packet.</span></p><p class="c173 c101 c158 c72"><span class="c60 c3 c39"></span></p><p class="c173 c101 c66"><span class="c60 c3 c39">Similarly, a client shall answer with a PINGRESP packet when it receives a PINGREQ packet from the GW to which it is connected. Otherwise, the received PINGREQ packet is ignored.</span></p><p class="c173 c101 c66 c72"><span class="c60 c3 c39"></span></p><p class="c89 c66"><span class="c60 c3 c39">Clients should use this procedure to supervise the liveliness of the gateway to which they are connected. If a client does not receive a PINGRESP from the gateway even after multiple retransmissions of the PINGREQ packet, it should first try to connect to another gateway before trying to reconnect to this gateway. Note that because the clients&rsquo; keep-alive timers are not synchronized with each other, in case of a gateway failure there is practically no danger for a storm of CONNECT packets sent almost at the same time by all affected clients towards a new gateway.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.2sioyqq" style="display:inline"><span class="c111 c24 c39 c78">4.17 Client&rsquo;s Disconnect Procedure</span></h2></li></ul><p class="c173 c101 c158"><span class="c3">A client sends a DISCONNECT packet to the gateway to indicate that it is about to close its Virtual Connection. After this point, the client is then required to establish a new Virtual Connection with the gateway before it can exchange information with that gateway again. </span><span class="c3 c64">Like MQTT, sending the DISCONNECT packet does not affect existing subscriptions and Will data. They are persistent until they are either expired or explicitly un-subscribed, or deleted, or modified by the client, or if the client establishes a new Virtual Connection with the CleanStart flag set.</span><span class="c60 c3 c39">&nbsp;The gateway acknowledges the receipt of the DISCONNECT packet by returning a DISCONNECT to the client.</span></p><p class="c173 c101 c158 c72"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c60 c3 c39">A client may also receive an unsolicited DISCONNECT sent by the gateway. This may happen for example when the gateway, due to an error, cannot identify the client to which a received packet belongs. Upon receiving such a DISCONNECT packet a client should retry to setup the Virtual Connection again by sending a CONNECT packet to the gateway.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c149 c101 c45"><h2 id="h.17nz8yj" style="display:inline"><span class="c111 c24 c39 c78">4.18 Retransmission Procedure in the Client and Gateway</span></h2></li></ul><p class="c300 c41 c101 c161 c78"><span class="c3">The Client or Gateway will start a retransmission retry timer, T</span><span class="c3 c103">retry</span><span class="c60 c3 c39">, when one of the following Packets is sent.</span></p><p class="c300 c41 c101 c161 c78"><span class="c98 c3 c39 c64">A Client MUST retransmit AUTH, REGISTER, PUBLISH Qos1, PUBLISH Qos2, PUBREL, SUBSCRIBE, UNSUBSCRIBE Packets, including a PROTECTION encapsulation if there is one, after Tretry has passed or close the Virtual Connection.</span></p><p class="c300 c41 c101 c161 c78"><span class="c3 c64">A Gateway MUST retransmit PUBLISH Qos1, PUBLISH Qos2, PUBREL Packets, including a PROTECTION encapsulation if there is one, after T</span><span class="c3 c103 c64">retry</span><span class="c98 c3 c39 c64">&nbsp;has passed or close the Virtual Connection.</span></p><p class="c300 c41 c101 c161 c78"><span class="c3 c64">The timer is canceled if the corresponding acknowledgement packet is received. The Client or Gateway MUST retransmit the Packet after T</span><span class="c3 c103 c64">retry</span><span class="c98 c3 c39 c64">&nbsp;has passed or close the Virtual Connection.</span></p><p class="c300 c41 c101 c161 c78"><span class="c98 c3 c39 c64">If a Packet can be retransmitted it MUST NOT be sent using a Broadcast address.</span></p><p class="c300 c41 c101 c161 c78"><span class="c98 c3 c39 c64">If a Packet is retransmitted it MUST be identical to the previously transmitted Packet, the PROTECTION encapsulation need not be identical.</span></p><p class="c300 c41 c101 c161 c78"><span class="c98 c3 c39 c64">PUBLISH (used for QoS 0) and PUBLISH WITHOUT SESSION Packets MUST NOT be retransmitted.</span></p><p class="c300 c41 c101 c161 c78"><span class="c60 c3 c39">If the Virtual Connection is closed, the protocol will restart when a new CONNECT packet flows from the Client.</span></p><p class="c300 c41 c101 c161 c78"><span class="c60 c3 c39">Non normative comment.</span></p><p class="c300 c41 c101 c161 c78"><span class="c3">The value of the retry interval T</span><span class="c3 c103">retry</span><span class="c60 c3 c39">&nbsp;is not specified by the protocol, however, to be useful it ought to be longer than the network round trip time. If it is excessively long, the time taken to detect and retransmit lost Packets will also be excessively long. Implementers need to take care not to use a retry interval that might cause the network to become congested with retried Packets.</span></p><p class="c300 c41 c101 c161 c78"><span class="c3">The PINGREQ Packet described in [</span><span class="c118 c3"><a class="c29" href="#h.13qzunr">3.1.21 PINGREQ</a></span><span class="c60 c3 c39">] can also be used to determine whether the virtual connection is alive.</span></p><p class="c300 c41 c101 c161 c78"><span class="c3">An example of a retry algorithm is described in [</span><span class="c118 c3"><a class="c29" href="#h.1csj400">Appendix E.F4</a></span><span class="c60 c3 c39">]</span></p><p class="c54"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c398 c101 c241 c255 c45 c531"><h2 id="h.3rnmrmc" style="display:inline"><span class="c111 c24 c39 c78">4.19 Sleeping clients</span></h2></li></ul><p class="c36"><span class="c3 c7">Sleeping </span><span class="c60 c3 c39">clients are clients residing on (battery-operated) devices that want to save as much energy as possible. These devices need to enter a sleep mode whenever they are not active and will wake up whenever they have data to send or to receive. The server/gateway needs to be aware of the sleeping state of these clients and will buffer messages destined to them for later delivery when they wake up. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3">If a client wants to sleep, it sends a DISCONNECT packet which contains a sleep session expiry interval. The server/gateway acknowledges that packet with a DISCONNECT packet and considers the client for being in </span><span class="c3 c7">asleep </span><span class="c3">state. The </span><span class="c3 c7">asleep </span><span class="c3">state is supervised by the server/gateway with the indicated sleep session expiry interval. If the server/gateway does not receive any packet from the client for a period longer than the sleep session expiry interval, the server/gateway will consider that client as </span><span class="c3 c7">lost </span><span class="c60 c3 c39">and - as with the keep alive procedure - activates for example the Will feature. </span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3 c64">During the </span><span class="c3 c7 c64">asleep </span><span class="c3 c64">state, packets that need to be sent to the client are buffered at the server/gateway. The gateway MUST buffer application messages of quality-of-service 1 &amp; 2.</span><span class="c60 c3 c39">&nbsp;</span></p><p class="c100 c72"><span class="c60 c24 c39"></span></p><p class="c100"><span class="c60 c24 c39">Informative comment</span></p><p class="c343 c101 c241"><span class="c3">The gateway may </span><span class="c3 c7">choose</span><span class="c60 c3 c39">&nbsp;to buffer messages of Quality-of-Service 0, whilst the client is sleeping and is within its session expiry interval.</span></p><p class="c343 c101 c241 c72"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3 c81">The sleep timer is stopped when the server/gateway receives a PINGREQ from the client. Like the CONNECT </span><span class="c3">packet</span><span class="c3 c81">, this PINGREQ </span><span class="c3">packet</span><span class="c3 c81">&nbsp;contains the </span><span class="c3 c81 c7">Client Id</span><span class="c3 c81">. The identified client is then in the </span><span class="c3 c81 c7">awake </span><span class="c3 c81">state. If the server/gateway has buffered </span><span class="c3">packet</span><span class="c3 c81">s for the client, it will send these </span><span class="c3">packet</span><span class="c3 c81">s to the client, acknowledging the </span><span class="c3">Default Awake Messages</span><span class="c3 c81">&nbsp;value sent in the </span><span class="c3">CONNECT </span><span class="c3 c81">packet. If the number of messages buffered on the gateway queue exceeds the value specified by the client in the </span><span class="c3">Default Awake Messages</span><span class="c3 c81">&nbsp;field, the gateway shall send only the </span><span class="c3">Default Awake Messages</span><span class="c37 c3 c78">&nbsp;value number of messages, and cut short the AWAKE cycle, responding with a PINGRESP with a messages-left value of either the number of messages remaining in the gateway buffer or 0xFFFF (meaning undetermined number of messages greater than 0 remaining).</span></p><p class="c2"><span class="c37 c3 c78"></span></p><p class="c36"><span class="c3 c81 c64">During the AWAKE state, for each </span><span class="c3 c64">packet</span><span class="c3 c81 c64">&nbsp;the gateway sends to the client, the </span><span class="c3 c64">application messages&rsquo;</span><span class="c3 c81 c64">&nbsp;quality of service shall be </span><span class="c3 c64">honored</span><span class="c3 c81 c64">, and a full </span><span class="c3 c64">packet</span><span class="c3 c81 c64">&nbsp;interaction shall take place including all normative phases of acknowledgement, including any associated retransmission logic.</span><span class="c3 c81">&nbsp;If, during the delivery of application messages from the gateway to the client, </span><span class="c3 c81">the gateway detects a timeout in the delivery,</span><sup><a href="#cmnt89" id="cmnt_ref89">[ck]</a></sup><span class="c37 c3 c78">&nbsp;it should transition the client state to LOST and a DISCONNECT packet with error sent to the device.</span></p><p class="c2"><span class="c37 c3 c78"></span></p><p class="c36"><span class="c3 c81">The transfer of </span><span class="c3">packet</span><span class="c3 c81">s to the client is closed by the server/gateway by means of a PINGRESP </span><span class="c3">packet</span><span class="c3 c81">, i.e. the server/gateway will consider the client as </span><span class="c3 c81 c7">asleep </span><span class="c3 c81">and restart the sleep timer again after having sent the PINGRESP </span><span class="c3">packet</span><span class="c3 c81">. If the server/gateway does not have any </span><span class="c3">packet</span><span class="c3 c81">s buffered for the client, it answers immediately with a PINGRESP </span><span class="c3">packet</span><span class="c3 c81">, returns the client back to the </span><span class="c3 c81 c7">asleep </span><span class="c37 c3 c78">state, and restarts the sleep timer for that client. </span></p><p class="c2"><span class="c37 c3 c78"></span></p><p class="c36"><span class="c3 c81">After having sent the PINGREQ to the server/gateway, the client uses the &ldquo;retransmission procedure&rdquo; of section </span><span class="c3">3.18</span><span class="c3 c81">&nbsp;to supervise the arrival of </span><span class="c3">packet</span><span class="c3 c81">s sent by the server/gateway, i.e. it restarts timer T</span><span class="c3 c81 c186">retry </span><span class="c3 c81">when it receives a </span><span class="c3">packet</span><span class="c3 c81">&nbsp;other than a PINGRESP, and stops it when it receives a PINGRESP. The PINGREQ </span><span class="c3">packet</span><span class="c3 c81">&nbsp;is retransmitted, and timer T</span><span class="c3 c81 c186">retry </span><span class="c3 c81">restarted when timer T</span><span class="c3 c81 c186">retry </span><span class="c3 c81">times out. To avoid a flattening of its battery due to excessive retransmission of the PINGREQ </span><span class="c3">packet</span><span class="c3 c81">&nbsp;(e.g. if it loses the gateway), the client should limit the retransmission of the PINGREQ </span><span class="c3">packet</span><span class="c3 c81">&nbsp;(e.g. by a retry counter) and go back to sleep when the limit is reached and it still does not receive a PINGRESP </span><span class="c3">packet</span><span class="c37 c3 c78">. </span></p><p class="c2"><span class="c37 c3 c78"></span></p><p class="c36"><span class="c3 c81">From the </span><span class="c3 c81 c7">asleep</span><span class="c3 c7">&nbsp;</span><span class="c3 c81">state, a client can return either to the </span><span class="c3 c81 c7">active </span><span class="c3 c81">state by sending a CONNECT </span><span class="c3">packet</span><span class="c3 c81">&nbsp;or to the </span><span class="c3 c81 c7">disconnected </span><span class="c3 c81">state by sending a normal DISCONNECT </span><span class="c3">packet</span><span class="c3 c81">&nbsp;(i.e. without </span><span class="c3">session expiry interval </span><span class="c3 c81">field). </span><span class="c3 c81">The client can also modify its sleep configuration by sending a DISCONNECT </span><span class="c3">packet</span><span class="c3 c81">&nbsp;with a new value of the </span><span class="c3">session expiry interval</span><span class="c3 c81">.</span><sup><a href="#cmnt90" id="cmnt_ref90">[cl]</a></sup><sup><a href="#cmnt91" id="cmnt_ref91">[cm]</a></sup><sup><a href="#cmnt92" id="cmnt_ref92">[cn]</a></sup><span class="c37 c3 c78">&nbsp;</span></p><p class="c2"><span class="c37 c3 c78"></span></p><p class="c36"><span class="c3 c81">Note that a sleeping client should go the </span><span class="c3 c81 c7">awake </span><span class="c3 c81">state only if it just wants to check whether the server/gateway has any </span><span class="c3">messages</span><span class="c3 c81">&nbsp;buffered for it and return as soon as possible to the </span><span class="c3 c81 c7">asleep </span><span class="c3 c81">state without sending any </span><span class="c3">packet</span><span class="c3 c81">s to the server/gateway. Otherwise, it should return to the </span><span class="c3 c81 c7">active </span><span class="c3 c81">state by sending a CONNECT </span><span class="c3">packet</span><span class="c37 c3 c78">&nbsp;to the server/gateway. </span></p><p class="c2"><span class="c37 c3 c78"></span></p><p class="c36"><span class="c3 c81 c64">Topic Alias mappings exist only while a client is active and last for the entire </span><span class="c3 c64">session expiry interval </span><span class="c3 c81 c64">of the active state. </span><span class="c3 c81 c64">Therefore, the gateway must re-register any topic alias&rsquo;s during the AWAKE state, which will last until the last PINGRESP is issued</span><sup><a href="#cmnt93" id="cmnt_ref93">[co]</a></sup><span class="c3 c81 c64">.</span><span class="c37 c3 c78">&nbsp;</span></p><p class="c2"><span class="c37 c3 c78"></span></p><p class="c100"><span class="c46 c24 c39">Informative comment</span></p><p class="c100"><span class="c37 c3 c172">The gateway should attempt to make the best effort to reuse the same topic alias&rsquo; mappings that existed during any initial associated ACTIVE states. </span></p><p class="c100 c72"><span class="c37 c3 c78"></span></p><p class="c40 c241 c464"><span class="c3 c218 c257 c39 c78 c186"></span></p><p class="c41 c101 c241 c505"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 443.11px; height: 715.50px;"><img alt="" src="images/image6.png" style="width: 443.11px; height: 715.50px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c290 c101 c406 c361 c480"><span class="c3">Figure 5: </span><span class="c3">Awake ping packet flush</span><sup><a href="#cmnt94" id="cmnt_ref94">[cp]</a></sup></p><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.26sx1u5" style="display:inline"><span class="c3">4.20 </span><span class="c3">Authentication</span><sup><a href="#cmnt95" id="cmnt_ref95">[cq]</a></sup></h2></li></ul><p class="c36"><span class="c60 c3 c39">Authentication involves the exchange of AUTH packets between the Client and the Server after the CONNECT and before the CONNACK packets.</span></p><p class="c36"><span class="c60 c3 c39">To begin an authentication exchange, the Client sets the AUTH flag in the CONNECT packet. It then sends an AUTH packet with an Authentication Method. This specifies the authentication method to use. If the Server does not support the Authentication Method supplied by the Client, it MAY send a CONNACK with a Reason Code of 0x8C (Bad authentication method) or 0x87 (Not Authorized) and MUST close the Connection.</span></p><p class="c36"><span class="c60 c3 c39">The Authentication Method is an agreement between the Client and Server about the meaning of the data sent in the Authentication Data and any of the other fields in CONNECT, and the exchanges and processing needed by the Client and Server to complete the authentication.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c100"><span class="c46 c24 c39">Informative comment</span></p><p class="c100"><span class="c46 c3 c39">The Authentication Method is commonly a SASL mechanism, using such a registered name aids interchange. However, the Authentication Method is not constrained to using registered SASL mechanisms.</span></p><p class="c100"><span class="c46 c3 c39">If the Authentication Method selected by the Client specifies that the Client sends data first, the Client SHOULD include an Authentication Data property in the AUTH packet. This property can be used to provide data as specified by the Authentication Method. The contents of the Authentication Data are defined by the authentication method.</span></p><p class="c100"><span class="c46 c3 c39">If the Gateway requires additional information to complete the authentication, it can send an AUTH packet to the Client. This packet MUST contain a Reason Code of 0x18 (Continue authentication). If the authentication method requires the Gateway to send authentication data to the Client, it is sent in the Authentication Data.</span></p><p class="c100"><span class="c46 c3 c39">The Client responds to an AUTH packet from the Gateway by sending a further AUTH packet. This packet MUST contain a Reason Code of 0x18 (Continue authentication). If the authentication method requires the Client to send authentication data for the Gateway, it is sent in the Authentication Data.</span></p><p class="c100"><span class="c46 c3 c39">The Client and Server exchange AUTH packets as needed until the Gateway accepts the authentication by sending a CONNACK with a Reason Code of 0. If the acceptance of the authentication requires data to be sent to the Client, it is sent in the Authentication Data.</span></p><p class="c100"><span class="c3 c172">The Client can close the </span><span class="c3">Virtual C</span><span class="c46 c3 c39">onnection at any point in this process by sending a DISCONNECT packet. The Server can reject the authentication at any point in this process by sending a CONNACK with a Reason Code of 0x80 or above as described in section 4.13.</span></p><p class="c100"><span class="c46 c3 c39">The implementation of authentication is OPTIONAL for both Clients and Gateways. If the Client does not include an Authentication Method in the CONNECT, the Gateway MUST NOT send an AUTH packet. If the Client does not set the Authentication Flag in the CONNECT, the Client MUST NOT send an AUTH packet to the Server.</span></p><p class="c100"><span class="c46 c3 c39">If the Client does not set the Authentication Flag in the CONNECT packet, the Server SHOULD authenticate using some or all of the information in the CONNECT packet in conjunction with the underlying transport layer.</span></p><p class="c100"><span class="c24 c172">Non-normative example showing a user name and password authentication</span><span class="c46 c3 c39">:</span></p><p class="c100"><span class="c46 c3 c39">&middot; Client to Gateway: CONNECT Authentication Flag=1 Authentication Data=client-first-data</span></p><p class="c100"><span class="c46 c3 c39">&middot; Client to Gateway: AUTH rc=0x01 Authentication Method=&quot;PLAIN&quot; Authentication Data=client-first-data</span></p><p class="c100"><span class="c46 c3 c39">&middot; Gateway to Gateway CONNACK rc=0</span></p><p class="c100 c72"><span class="c3 c39 c46"></span></p><p class="c36"><span class="c60 c3 c39">Where client-first-data is the content of the SASL PLAIN message as described in RFC 4616:</span></p><p class="c36"><span class="c3 c7">The mechanism consists of a single message, a string of&nbsp;[UTF-8]</span><span class="c3">&nbsp;</span><span class="c3 c7">encoded&nbsp;[Unicode]&nbsp;characters, from the client to the server. The[UTF-8]</span><span class="c3">&nbsp;</span><span class="c3 c7">client presents the authorization identity (identity to act as),</span><span class="c3">&nbsp;</span><span class="c3 c7">followed by a NUL (U+0000) character, followed by the authentication</span><span class="c3">&nbsp;</span><span class="c3 c7">identity (identity whose password will be used), followed by a NUL</span><span class="c3">&nbsp;</span><span class="c3 c7">(U+0000) character, followed by the clear-text password. As with</span><span class="c3">&nbsp;</span><span class="c3 c7">other SASL mechanisms, the client does not provide an authorization identity when it wishes the server to derive an identity from the</span><span class="c3">&nbsp;</span><span class="c3 c7">credentials and use that as the authorization identity.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.ly7c1y" style="display:inline"><span class="c111 c24 c39 c78">4.21 Retained Packets</span></h2></li></ul><p class="c36"><span class="c60 c3 c39">If the RETAIN flag is set to 1 in a PUBLISH packet sent by a Client to a Server, the Server MUST replace any existing retained packet for this topic and store the Publish Data, so that it can be delivered to future subscribers whose subscriptions match its Topic Name. If the Publish Data contains zero bytes it is processed normally by the Server but any retained packet with the same topic name MUST be removed and any future subscribers for the topic will not receive a retained packet. A retained packet with Publish Data containing zero bytes MUST NOT be stored as a retained packet on the Server.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><ul class="c12 lst-kix_list_3-1"><li class="c33"><h2 id="h.mo7ahow0t2fa" style="display:inline"><span class="c111 c24 c39 c78">4.22 Optional Features</span></h2></li></ul><p class="c36"><span class="c60 c3 c39">The ADVERTISE, SEARCHGW, GWINFO and PUBLISH WITHOUT SESSION packet type support is optional. For instance, it is not required if the MQTT-SN Gateway is an Internet node reachable via a public IP address.</span></p><p class="c36"><span class="c60 c3 c39">The Forwarder Encapsulation packet type support is optional. For instance, it is not required if the MQTT-SN Clients are able to directly reach a MQTT-SN Gateway.</span></p><p class="c36"><span class="c60 c3 c39">The PROTECTION packet type support is optional. For instance, it is not required if the MQTT-SN Gateway and the MQTT-SN Clients interact over a secure communication channel, like DTLS or any communication channel assuring the authenticity and optionally the confidentiality protection. </span></p><ul class="c12 lst-kix_list_3-0"><li class="c359 c101 c433 c241 c255 c45"><h1 id="h.2k82xt6" style="display:inline"><span class="c38 c24">5 Conformance</span></h1></li></ul><p class="c36"><span class="c3 c64">(</span><span class="c24 c64">Note</span><span class="c3 c64">: The </span><span class="c3 c254 c127 c64"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsConfClause&amp;sa=D&amp;source=editors&amp;ust=1711133546552570&amp;usg=AOvVaw2MqLhTgwVmGeISzTCSHGpA">OASIS TC Process</a></span><span class="c98 c3 c39 c64">&nbsp;requires that a specification approved by the TC at the Committee Specification Public Review Draft, Committee Specification or OASIS Standard level must include a separate section, listing a set of numbered conformance clauses, to which any implementation of the specification must adhere in order to claim conformance to the specification (or any optional portion thereof). This is done by listing the conformance clauses here.</span></p><p class="c36"><span class="c3 c64">For the definition of &quot;conformance clause,&quot; see </span><span class="c3 c254 c127 c64"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/oasis-defined-terms-2017-05-26%23dConformanceClause&amp;sa=D&amp;source=editors&amp;ust=1711133546553058&amp;usg=AOvVaw2poJds1la6B-6Y8MvdJ4VP">OASIS Defined Terms</a></span><span class="c98 c3 c39 c64">.</span></p><p class="c36"><span class="c3 c64">See &quot;Guidelines to Writing Conformance Clauses&quot;: <br></span><span class="c3 c254 c127 c64"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/TCHandbook/ConformanceGuidelines.html&amp;sa=D&amp;source=editors&amp;ust=1711133546553378&amp;usg=AOvVaw0UGx492Gd3g56DOzXRKKNi">https://docs.oasis-open.org/templates/TCHandbook/ConformanceGuidelines.html</a></span><span class="c98 c3 c39 c64">.</span></p><p class="c36"><span class="c3 c64">Remove this note before submitting for publication.)</span></p><ul class="c12 lst-kix_list_3-0"><li class="c359 c101 c241 c161 c45 c333 li-bullet-0"><h1 id="h.zdd80z" style="display:inline"><span class="c24 c318">Appendix A. References</span></h1></li></ul><p class="c36"><span class="c98 c3 c39 c64">[Required section.]</span></p><p class="c36"><span class="c98 c3 c39 c64">This appendix contains the normative and informative references that are used in this document.</span></p><p class="c36"><span class="c98 c3 c39 c64">While any hyperlinks included in this appendix were valid at the time of publication, OASIS cannot guarantee their long-term validity.</span></p><p class="c36"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">Note: Any normative work cited in the body of the text as needed to implement the work product must be listed in the Normative References section below. Each reference to a separate document or artifact in this work must be listed here and must be identified as either a Normative or an Informative Reference.</span></p><p class="c101 c66 c259"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">For all References &ndash; Normative and Informative:</span></p><p class="c259 c101 c66"><span class="c3 c64">Recommended approach: Set up </span><span class="c24 c64">[Reference]</span><span class="c3 c39 c64 c98">&nbsp;label elements as &quot;Bookmarks&quot;, then create hyperlinks to them within the document at locations from which the references are cited. Citations in the body of the text should be hyperlinked to the appropriate Reference entry, not directly to targets which are not a part of this Work Product.</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">The proper format for citation of technical work produced by an OASIS TC (whether Standards Track or Non-Standards Track) is:</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c24 c39 c64">[Citation Label]</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">Work Product title (italicized). Edited by Albert Alston, Bob Ballston, and Calvin Carlson. Approval date (DD Month YYYY). OASIS Stage Identifier and Revision Number (e.g., OASIS Committee Specification Draft 01). Principal URI (stage-specific URI, e.g., with stage component: somespec-v1.0-csd01.html). Latest stage: (static URI, without stage identifiers, used as a symbolic link to most recently published stage of this Version).</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">For example:</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c24 c39 c64">[OpenDoc-1.2]</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">Open Document Format for Office Applications (OpenDocument) Version 1.2. Edited by Patrick Durusau and Michael Brauer. 19 January 2011. OASIS Committee Specification Draft 07. https://docs.oasis-open.org/office/v1.2/csd07/OpenDocument-v1.2-csd07.html. Latest stage: https://docs.oasis-open.org/office/v1.2/OpenDocument-v1.2.html.</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">Reference sources:</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">For references to IETF RFCs, use the approved citation formats at:</span></p><p class="c259 c101 c66"><span class="c3 c64 c118"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/ietf-rfc-list/ietf-rfc-list.html&amp;sa=D&amp;source=editors&amp;ust=1711133546555450&amp;usg=AOvVaw1RyCVdsysDVq0op8VOhGYW">https://docs.oasis-open.org/templates/ietf-rfc-list/ietf-rfc-list.html</a></span><span class="c98 c3 c39 c64">.</span></p><p class="c259 c101 c66"><span class="c3 c64">The most recent IETF RFC references are listed by the IETF at </span><span class="c118 c3 c64"><a class="c29" href="https://www.google.com/url?q=https://www.rfc-editor.org/in-notes/rfc-ref.txt&amp;sa=D&amp;source=editors&amp;ust=1711133546555744&amp;usg=AOvVaw1-PRseMDvEhr3Ln5WzAXKo">https://www.rfc-editor.org/in-notes/rfc-ref.txt</a></span><span class="c98 c3 c39 c64">.</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">For references to W3C Recommendations, use the approved citation formats at:</span></p><p class="c259 c101 c66"><span class="c118 c3 c64"><a class="c29" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/w3c-recommendations-list/w3c-recommendations-list.html&amp;sa=D&amp;source=editors&amp;ust=1711133546556110&amp;usg=AOvVaw3iXlwFgNsNrgtDkfrnr6gl">https://docs.oasis-open.org/templates/w3c-recommendations-list/w3c-recommendations-list.html</a></span><span class="c98 c3 c39 c64">.</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">Remove this note before submitting for publication.</span></p><p class="c36"><span class="c98 c3 c39 c64">&nbsp;</span></p><ul class="c12 lst-kix_list_3-1"><li class="c189 c101 c144 c45 li-bullet-0"><h2 id="h.2pjpzxrro3v8" style="display:inline"><span class="c111 c244 c39 c78">A.1 Normative References</span></h2></li></ul><p class="c36"><span class="c98 c3 c39 c64">The following documents are referenced in such a way that some or all of their content constitutes requirements of this document.</span></p><p class="c36"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">[RFC2119]</span></p><p class="c55"><span class="c3 c64">Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, &lt;</span><span class="c118 c3 c64"><a class="c29" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc2119&amp;sa=D&amp;source=editors&amp;ust=1711133546556858&amp;usg=AOvVaw3QXUiZLLQ7djL0dwsgrDZT">https://www.rfc-editor.org/info/rfc2119</a></span><span class="c98 c3 c39 c64">&gt;.</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">[RFC8174]</span></p><p class="c55"><span class="c3 c64">Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;, BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017, &lt;</span><span class="c118 c3 c64"><a class="c29" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc8174&amp;sa=D&amp;source=editors&amp;ust=1711133546557141&amp;usg=AOvVaw0hh7n74KlA8bLaA56-rLDZ">https://www.rfc-editor.org/info/rfc8174</a></span><span class="c98 c3 c39 c64">&gt;.</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">[Reference]</span></p><p class="c55"><span class="c98 c3 c39 c64">[Full reference citation]</span></p><p class="c36"><span class="c60 c24 c39">[RFC2119]</span></p><p class="c36"><span class="c60 c3 c39">Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, </span></p><p class="c36"><span class="c3 c127"><a class="c29" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc2119&amp;sa=D&amp;source=editors&amp;ust=1711133546557733&amp;usg=AOvVaw3bfHVLTFcHLD0wr8MKImOL">http://www.rfc-editor.org/info/rfc2119</a></span></p><p class="c2"><span class="c60 c3 c39"></span></p><a id="kix.32y02sm2iqny"></a><p class="c36"><span class="c60 c24 c39">[RFC3629]</span></p><p class="c36"><span class="c60 c3 c39">Yergeau, F., &quot;UTF-8, a transformation format of ISO 10646&quot;, STD 63, RFC 3629, DOI 10.17487/RFC3629, November 2003,</span></p><p class="c36"><span class="c3 c127"><a class="c29" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc3629&amp;sa=D&amp;source=editors&amp;ust=1711133546558323&amp;usg=AOvVaw0vq0Fx2v4oFO3DyFaeerUs">http://www.rfc-editor.org/info/rfc3629</a></span></p><p class="c2"><span class="c60 c3 c39"></span></p><a id="kix.51xi25h5vzte"></a><p class="c36"><span class="c60 c24 c39">[RFC6455]</span></p><p class="c36"><span class="c60 c3 c39">Fette, I. and A. Melnikov, &quot;The WebSocket Protocol&quot;, RFC 6455, DOI 10.17487/RFC6455, December 2011,</span></p><p class="c36"><span class="c3 c127"><a class="c29" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc6455&amp;sa=D&amp;source=editors&amp;ust=1711133546558858&amp;usg=AOvVaw2PbJhFH4cZeE9CXbvs6LET">http://www.rfc-editor.org/info/rfc6455</a></span></p><p class="c2"><span class="c60 c3 c39"></span></p><a id="kix.sm86r7ecajs3"></a><p class="c36"><span class="c60 c24 c39">[Unicode]</span></p><p class="c36"><span class="c60 c3 c39">The Unicode Consortium. The Unicode Standard, </span></p><p class="c36"><span class="c3 c127"><a class="c29" href="https://www.google.com/url?q=http://www.unicode.org/versions/latest/&amp;sa=D&amp;source=editors&amp;ust=1711133546559268&amp;usg=AOvVaw0--409v7neKrnibGtjdKei">http://www.unicode.org/versions/latest/</a></span></p><p class="c55 c72"><span class="c98 c3 c39 c64"></span></p><p class="c36"><span class="c98 c3 c39 c64">&nbsp;</span></p><ul class="c12 lst-kix_list_3-1"><li class="c189 c101 c144 c45 li-bullet-0"><h2 id="h.wmz8ensz9jqs" style="display:inline"><span class="c111 c244 c39 c78">A.2 Informative References</span></h2></li></ul><p class="c36"><span class="c98 c3 c39 c64">The following referenced documents are not required for the application of this document but may assist the reader with regard to a particular subject area.</span></p><p class="c36"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">[RFC3552]</span></p><p class="c55"><span class="c3 c64">Rescorla, E. and B. Korver, &quot;Guidelines for Writing RFC Text on Security Considerations&quot;, BCP 72, RFC 3552, DOI 10.17487/RFC3552, July 2003, &lt;</span><span class="c118 c3 c64"><a class="c29" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc3552&amp;sa=D&amp;source=editors&amp;ust=1711133546559929&amp;usg=AOvVaw0ARY3_YmTqrQcNPZDj-IpR">https://www.rfc-editor.org/info/rfc3552</a></span><span class="c98 c3 c39 c64">&gt;.</span></p><p class="c259 c101 c66"><span class="c98 c3 c39 c64">[Reference]</span></p><p class="c55"><span class="c98 c3 c39 c64">[Full reference citation]</span></p><hr style="page-break-before:always;display:none;"><p class="c2"><span class="c98 c3 c39 c64"></span></p><ul class="c12 lst-kix_list_3-0"><li class="c359 c101 c241 c161 c45 c333 li-bullet-0"><h1 id="h.twhu880t27o" style="display:inline"><span class="c38 c244">Appendix B. Backwards Compatibility</span></h1></li></ul><p class="c2"><span class="c60 c96 c39"></span></p><ul class="c12 lst-kix_list_3-2"><li class="c101 c241 c161 c255 c45 c498 li-bullet-0"><h3 id="h.1qoc8b1" style="display:inline"><span class="c244 c247 c39 c78 c186 c363">B.1 PUBLISH QoS -1 (Packet from MQTT-SN 1.2)</span></h3></li></ul><p class="c2"><span class="c60 c3 c39"></span></p><a id="t.2d8395c48fa28a872f1c9ae285bca3e1fbd126d9"></a><a id="t.41"></a><table class="c235"><tr class="c25"><td class="c351 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">Bit</span></p></td><td class="c171 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">7</span></p></td><td class="c422 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">6</span></p></td><td class="c28 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">5</span></p></td><td class="c75 c185" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">4</span></p></td><td class="c420 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">3</span></p></td><td class="c412 c75" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">2</span></p></td><td class="c199 c75" colspan="1" rowspan="1"><p class="c9"><span class="c11 c39">1</span></p></td><td class="c75 c424" colspan="2" rowspan="1"><p class="c9"><span class="c11 c39">0</span></p></td></tr><tr class="c25"><td class="c351" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 1</span></p></td><td class="c86" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Length</span></p></td></tr><tr class="c25"><td class="c351" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 2</span></p></td><td class="c86" colspan="13" rowspan="1"><p class="c9"><span class="c17 c3">Packet Type (0x0C)</span></p></td></tr><tr class="c184"><td class="c351" colspan="1" rowspan="2"><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c86 c159" colspan="13" rowspan="1"><p class="c9"><span class="c11 c7">PUBLISH-M1 FLAGS</span></p></td></tr><tr class="c184"><td class="c76" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">DUP</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c417" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">QoS</span></p><p class="c9 c72"><span class="c71 c3 c78 c7"></span></p></td><td class="c210" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Retain</span></p></td><td class="c194" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c174" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Reserved</span></p></td><td class="c301" colspan="4" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">Topic Id Type</span></p><p class="c2"><span class="c71 c3 c78 c7"></span></p></td></tr><tr class="c25"><td class="c351" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 3</span></p></td><td class="c76" colspan="2" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c287" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c274" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c210" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c194" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c174" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">0</span></p></td><td class="c308" colspan="3" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td><td class="c82" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c78 c7">X</span></p></td></tr><tr class="c25"><td class="c351" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 4</span></p></td><td class="c86" colspan="13" rowspan="1"><p class="c9 c45"><span class="c17 c3">Topic Id MSB</span></p></td></tr><tr class="c25"><td class="c351" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 5</span></p></td><td class="c86" colspan="13" rowspan="1"><p class="c9 c45"><span class="c17 c3">Topic Id LSB</span></p></td></tr><tr class="c25"><td class="c351" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 6</span></p></td><td class="c86" colspan="13" rowspan="1"><p class="c9 c45"><span class="c17 c3">0x00 &ndash; Fixed Field Value</span></p></td></tr><tr class="c25"><td class="c351" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 7</span></p></td><td class="c86" colspan="13" rowspan="1"><p class="c9 c45"><span class="c17 c3">0x00 &ndash; Fixed Field Value</span></p></td></tr><tr class="c25"><td class="c351" colspan="1" rowspan="1"><p class="c36"><span class="c17 c3">Byte 8 .. N</span></p></td><td class="c86" colspan="13" rowspan="1"><p class="c9 c45"><span class="c17 c3">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c116 c101 c66"><span class="c321 c96 c39 c78 c186 c452">Table 27: PUBLISH packet</span></p><p class="c36"><span class="c60 c3 c39">This packet is used by both clients and gateways to publish data to a topic.</span></p><p class="c100"><span class="c24 c172">Informative comment</span></p><p class="c100"><span class="c3 c172">If the Transport Layer supports broadcast, like UDP/IP, the PUBLISH MINUS -1 packet is generally sent using the broadcast address as destination.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.4anzqyu" style="display:inline"><span class="c35 c24">B.1.1 Length &amp; Packet Type</span></h4></li></ul><p class="c137 c101 c66"><span class="c60 c3 c39">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Please refer to section 1.8.2 for a detailed description.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.14ykbeg" style="display:inline"><span class="c35 c24">B.1.2 PUBLISH Flags</span></h4></li></ul><p class="c36"><span class="c60 c3 c39">The PUBLISH Flags field is 1-byte located in Byte 3 position of the PUBLISH control packet. </span></p><p class="c36"><span class="c60 c3 c39">The PUBLISH Flags includes the following flags:</span></p><ul class="c12 lst-kix_list_7-0"><li class="c220 c101 li-bullet-12"><span class="c24">Topic Id Type</span><span class="c60 c3 c39">. This is a 2-bit field in Bit 0 and 1 which determines the format of the topic Id value. </span></li><li class="c220 c101 li-bullet-10"><span class="c24">QoS</span><span class="c60 c3 c39">: This is a 2-bit field stored in Bit 5 and 6. QoS has the same meaning as with MQTT indicating the Quality of Service. Set to &ldquo;0b00&rdquo; for QoS 0, &ldquo;0b01&rdquo; for QoS 1, &ldquo;0b10&rdquo; for QoS 2, and &ldquo;0b11&rdquo; for QoS -1. For a detailed description of the various Quality Of Service levels please refer to the operational behavior section.</span></li><li class="c220 c101 li-bullet-12"><span class="c24">DUP</span><span class="c60 c3 c39">: 1 bit field stored in Bit 7 and has the same meaning as with MQTT. It notes the duplicate delivery of packets. If the DUP flag is set to &ldquo;0&rdquo;, it signifies that the packet is sent for the first time. If the DUP flag is set to &ldquo;1&rdquo;, it signifies that the packet was retransmitted. </span></li><li class="c221 c101 li-bullet-9"><span class="c24">Retain</span><span class="c60 c3 c39">: 1 bit field stored in Bit 4 and has the same meaning as with MQTT. The field signifies whether the existing retained message for this topic is replaced or kept.</span></li></ul><ul class="c12 lst-kix_list_3-3 start"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.3oy7u29" style="display:inline"><span class="c35 c24">B.1.3 Topic Id</span></h4></li></ul><p class="c246 c101 c241"><span class="c60 c3 c39">Contains the topic id value or the short topic name for which the data is published.</span></p><ul class="c12 lst-kix_list_3-3"><li class="c189 c101 c161 c255 c45 li-bullet-0"><h4 id="h.243i4a2" style="display:inline"><span class="c35 c24">B.1.4 Data</span></h4></li></ul><p class="c231 c101 c158"><span>The published data</span><span class="c3">.</span><sup><a href="#cmnt96" id="cmnt_ref96">[cr]</a></sup></p><ul class="c12 lst-kix_list_3-0"><li class="c101 c144 c241 c45 c475 li-bullet-0"><h1 id="h.55r6c0xsdoov" style="display:inline"><span class="c38 c244">Appendix C. Security and Privacy Considerations</span></h1></li></ul><p class="c36"><span class="c3">[</span><span class="c3 c64">Optional section.</span><span class="c60 c3 c39">]</span></p><p class="c36"><span class="c98 c3 c39 c64">Note: OASIS strongly recommends that Technical Committees consider issues that might affect safety, security, privacy, and/or data protection in implementations of their work products and document these for implementers and adopters. For some purposes, you may find it required, e.g. if you apply for IANA registration.</span></p><p class="c36"><span class="c98 c3 c39 c64">While it may not be immediately obvious how your work product might make systems vulnerable to attack, most work products, because they involve communications between systems, message formats, or system settings, open potential channels for exploit. For example, IETF [RFC3552] lists &ldquo;eavesdropping, replay, message insertion, deletion, modification, and man-in-the-middle&rdquo; as well as potential denial of service attacks as threats that must be considered and, if appropriate, addressed in IETF RFCs.</span></p><p class="c36"><span class="c98 c3 c39 c64">In addition to considering and describing foreseeable risks, this section should include guidance on how implementers and adopters can protect against these risks.</span></p><p class="c36"><span class="c98 c3 c39 c64">We encourage editors and TC members concerned with this subject to read Guidelines for Writing RFC Text on Security Considerations, IETF [RFC3552], for more information.</span></p><p class="c36"><span class="c60 c3 c39">The MQTT SN protocol is optimized for implementation on low-cost, battery-powered devices with limited processing and storage resources. The capabilities are kept simple and the specification allows for partial implementations. Device identities are typically created at manufacturing, eliminating the need for special configuration at deployment. MQTT-SN can work in isolation from other networks or in conjunction with MQTT.</span></p><p class="c2"><span class="c3 c39 c60"></span></p><p class="c36"><span class="c60 c96 c39">MQTT-SN Client and Gateway/Server implementations SHOULD offer Authentication and Authorization options. Furthermore, the confidentiality and authenticity of the MQTT-SN messages can be provided by the underlying transport or can be obtained by encapsulating the MQTT-SN messages into the PROTECTION packet.</span></p><p class="c36"><span>Applications concerned with critical infrastructure, personally identifiable information, or other personal or sensitive information are strongly advised to use these security capabilities.</span></p><p class="c101 c241 c45 c346" id="h.452snld"><span class="c87 c24 c39 c78">Industry specific security profiles</span></p><p class="c36"><span class="c60 c3 c39">It is anticipated that the MQTT protocol will be designed into industry specific application profiles, each defining a threat model and the specific security mechanisms to be used to address these threats. Recommendations for specific security mechanisms will often be taken from existing works including:</span></p><p class="c2"><span class="c60 c3 c39"></span></p><p class="c36"><span class="c3 c127"><a class="c29" href="#id.2pcmsun">[NISTCSF]</a></span><span class="c24">&nbsp;</span><span class="c60 c3 c39">NIST Cyber Security Framework</span></p><p class="c36"><span class="c3 c127"><a class="c29" href="#id.14hx32g">[NIST7628]</a></span><span class="c24">&nbsp;</span><span class="c60 c3 c39">NISTIR 7628 Guidelines for Smart Grid Cyber Security</span></p><p class="c36"><span class="c3 c127"><a class="c29" href="#id.3ohklq9">[FIPS1402]</a></span><span class="c24">&nbsp;</span><span class="c60 c3 c39">Security Requirements for Cryptographic Modules (FIPS PUB 140-2)</span></p><p class="c36"><span class="c3 c127"><a class="c29" href="#id.23muvy2">[PCIDSS]</a></span><span class="c24">&nbsp;</span><span class="c60 c3 c39">PCI-DSS Payment Card Industry Data Security Standard</span></p><p class="c36"><span class="c3 c127"><a class="c29" href="#id.is565v">[NSAB]</a></span><span class="c24">&nbsp;</span><span class="c60 c3 c39">NSA Suite B Cryptography</span></p><p class="c2"><span class="c98 c3 c39 c64"></span></p><p class="c36"><span class="c60 c3 c39">&nbsp;</span></p><ul class="c12 lst-kix_list_3-0"><li class="c475 c101 c144 c241 c45 li-bullet-0"><h1 id="h.bc8w7ov5oli4" style="display:inline"><span class="c38 c244">Appendix D. Acknowledgments</span></h1></li></ul><p class="c36"><span class="c3">[</span><span class="c3 c64">Required section.</span><span class="c60 c3 c39">]</span></p><p class="c36"><span class="c98 c3 c39 c64">Note: A Work Product approved by the TC must include a list of people who participated in the development of the Work Product. This is generally done by collecting the list of names in this appendix. This list shall be initially compiled by the Chair, and any Member of the TC may add or remove their names from the list by request.</span></p><p class="c36"><span class="c98 c3 c39 c64">Remove these yellow notes before submitting for publication.</span></p><p class="c36"><span class="c98 c3 c39 c64">&nbsp;</span></p><ul class="c12 lst-kix_list_3-1"><li class="c101 c144 c45 c189 li-bullet-0"><h2 id="h.glow6i83isd5" style="display:inline"><span class="c111 c244 c39 c78">D.1 Special Thanks</span></h2></li></ul><p class="c36"><span class="c98 c3 c39 c64">Note: This is an optional subsection to call out contributions from TC members. If a TC wants to thank non-TC members then they should avoid using the term &quot;contribution&quot; and instead thank them for their &quot;expertise&quot; or &quot;assistance&quot;. </span></p><p class="c36"><span class="c60 c3 c39">Substantial contributions to this document from the following individuals are gratefully acknowledged:</span></p><p class="c36"><span class="c98 c3 c39 c64">&nbsp;</span></p><p class="c36"><span class="c60 c3 c39">[Participant Name, Affiliation | Individual Member]</span></p><p class="c36"><span class="c60 c3 c39">&nbsp;</span></p><ul class="c12 lst-kix_list_3-1"><li class="c189 c101 c144 c45 li-bullet-0"><h2 id="h.tdeowwajj1wf" style="display:inline"><span class="c111 c244 c39 c78">D.2 Participants</span></h2></li></ul><p class="c36"><span class="c98 c3 c39 c64">Note: A TC can determine who they list here, however, Observers must not be listed. It is common practice for TCs to list everyone that was part of the TC during the creation of the document, but this is ultimately a TC decision on who they want to list and not list. </span></p><p class="c36"><span class="c60 c3 c39">The following individuals were members of this Technical Committee during the creation of this document and their contributions are gratefully acknowledged:</span></p><p class="c36"><span class="c60 c3 c39">&nbsp;</span></p><p class="c36"><span class="c60 c3 c39">[Participant Name, Affiliation | Individual Member]</span></p><p class="c40"><span class="c98 c3 c39 c64"></span></p><ul class="c12 lst-kix_list_3-0"><li class="c272 c101 c241 c45 c392"><h1 id="h.ewpzaw2f211a" style="display:inline"><span class="c3 c64">Appendix </span><span class="c64">E</span><span class="c24 c247 c336 c39 c186 c64">. Revision History</span></h1></li></ul><p class="c36"><span class="c98 c3 c39 c64">[Optional section.]</span></p><p class="c36"><span class="c98 c3 c39 c64">Revisions made since the initial stage of this numbered Version of this document may be tracked here.</span></p><p class="c36"><span class="c98 c3 c39 c64">Note: If revision tracking is handled in another system like github, provide a link to it instead of using this table, if desired. &nbsp;Remove this note before submitting for publication.</span></p><a id="t.84ab8829d0f3646db7cb56fd3bfd071be93de8e8"></a><a id="t.42"></a><table class="c235"><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c39 c64">Revision</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c39 c64">Date</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c9"><span class="c71 c3 c39 c64">Editor</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Changes Made</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-01</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[27th February 2020]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Andrew Banks]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Merge Initial Document and Input Specification]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-02</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[4th April 2020]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Andrew Banks]</span></p><p class="c36"><span class="c71 c3 c39 c64">[Rahul Gupta]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Terminology, DataTypes, CONNECT packet]</span></p><p class="c36"><span class="c71 c3 c39 c64">[Specification Diagrams]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-05</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[21st February 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Packet Diagrams, Bit Tables, Field Definitions]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-06</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[10th March 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Sleeping client operational behavior, Terminology changes, 13 JIRA resolutions added to specification, Section numbering changes]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-07</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[15th March 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Added 4 byte (32 bit) integer description]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-08</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[26th March 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Added max packet size to CONNECT, Added Session Expiry Interval to CONNACK, Removed ZigBee references, Removed capabilities flag from CONNECT, AUTH packet added along with Authentication operational behavior. Standardized page margins]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-09</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[05th May 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Added long topic type to topicIdTypes, updated PUBLISH to accommodate new topic type, added topic type matrix]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-10</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[October 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Document format aligned with core specification, removal of introduction, addition of packet ID table, adding error code]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-11</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[October 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[MQTT-SN Architecture moved into operational behavior, removal of variable integer definition, addition of session state section, normative comments added to sleeping client operational behaviour]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-12</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[November 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Andrew Banks]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Rework 1.5 Background</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-13</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[November 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Move Authentication and Retained messages into operational behavior, rationalized tables and figures, separated packet definitions of similar structures into distinct sections.]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-14</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Decmeber 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c3 c39 c64 c71">[First implementation attempt, Fixed table references, Fixed PingResp packet]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-15</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[December 2021]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Tara added as editor, return code additions]</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-15</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[February 2022]</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Tara Walker]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Changed Return Code nomenclature to be more consistent w/5.0. Added Reason Codes to each control packet type</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-16</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">March 2022</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Tara Walker]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Updated WILL*Types to correct Packet Type. Added Global Flags Table to Section 2. Updated each Control Packet Flags in Section 3 adding missing Flag Sections. Formatting: Auto update of Table numbering, Auto update of WD Revision numbering for footer.</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-17</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">April 2022</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Updated use of topic name and topic filter to be aligned with MQTT 5. Topic alias becomes topic alias type. Added quality of service protocol flow as it differed to MQTT 5 (inflight). Conformance references removed as these will need to be wholly owned OR externally referenced.</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-18 </span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">June 2022</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Tara E. Walker]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Updated items based upon the feedback from Alex Kritikos.</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-19</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">August 2022</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Remove change tracking as document was becoming unworkable.</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-20</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">September 2022</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Integrate feedback from committee meeting relating to the work by Miroslav Prymek. Added resolution of CONNACK session present per MQTT 585</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-21</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">October 2022</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Client States section added to describe the 5 states.</span></p><p class="c36"><span class="c71 c3 c39 c64">Updated the state transition diagram to accommodate new disconnect field and new transitions between Awake -&gt; Lost and Asleep -&gt; Disconnected.</span></p><p class="c36"><span class="c71 c3 c39 c64">Security section added.</span></p><p class="c36"><span class="c71 c3 c39 c64">Figure 2 &ndash; MQTT-SN Architecture diagram updated.</span></p><p class="c36"><span class="c71 c3 c39 c64">Font updated to Arial from bespoke font.</span></p><p class="c36"><span class="c71 c3 c39 c64">QoS -1 &ndash; Section added to the QoS chapter (NOTE: updated text to allow for bi-directional -1 PUBLISHING).</span></p><p class="c36"><span class="c71 c3 c39 c64">Introduction of Exponential backoff algorithm.</span></p><p class="c36"><span class="c71 c3 c39 c64">Applied issue issue 587 (max messages set in CONNECT flags).</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-22</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">November 2022</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Integrate MQTT 591 (sleep behavior)</span></p><p class="c36"><span class="c71 c3 c39 c64">Replace instances of &ldquo;return code&rdquo; to &ldquo;reason code&rdquo;</span></p><p class="c36"><span class="c71 c3 c39 c64">PINGREQ timeout aligned with Tretry (15 seconds) from the ill defined &ldquo;reasonable amount of time&rdquo;</span></p><p class="c36"><span class="c71 c3 c39 c64">Exponential Algo fix (using the factor n assuming it was the product!)</span></p><p class="c36"><span class="c71 c3 c39 c64">Client Identifier size clarification.</span></p><p class="c36"><span class="c71 c3 c39 c64">Publish variants added; distinguish variant based on QoS field to save 2 bytes for single flight PUBLISH packets.</span></p><p class="c36"><span class="c71 c3 c39 c64">Incorporated B4. Into retry timer.</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-23</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">December 2022</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">CONNECT Client Identifier Informative and Normative d&eacute;finition update.</span></p><p class="c36"><span class="c71 c3 c39 c64">CONNACK Client Identifier Informative and Normative d&eacute;finition update.</span></p><p class="c36"><span class="c71 c3 c39 c64">CONNACK reason codes updated.</span></p><p class="c36"><span class="c71 c3 c39 c64">KeepAlive boundary specified removing 0 as an option per the committee call.</span></p><p class="c36"><span class="c71 c3 c39 c64">Added Session Expiry &ldquo;reasonable&rdquo; setting statement.</span></p><p class="c36"><span class="c71 c3 c39 c64">Added sequence diagrams for CONNECT, CONNECT with WILL, CONNECT with AUTH.</span></p><p class="c36"><span class="c71 c3 c39 c64">Network Connection Section (IANA Omitted but we need to add this to agenda)</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-24</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">December 2022</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson, Davide Lenzarini, Ian Craggs]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Removal of Network Connection references.</span></p><p class="c41 c101 c66"><span class="c71 c3 c39 c64">Modified PUBLISH -1 &amp; 0 tables to remove topic length field</span></p><p class="c41 c101 c66"><span class="c71 c3 c39 c64">Modified PUBLISH 1 &amp; 2 tables to remove topic length field</span></p><p class="c36"><span class="c71 c3 c39 c64">Changed Data field description on the above</span></p><p class="c36"><span class="c71 c3 c39 c64">Updated sleeping device section</span></p><p class="c36"><span class="c71 c3 c39 c64">Ensured the references to the Packet Length and type section was consistent in all packet types.</span></p><p class="c2"><span class="c71 c3 c39 c64"></span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-25</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">January 2023</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Broken out PUBLISH -1 into its own packet type</span></p><p class="c36"><span class="c71 c3 c39 c64">Disconnect flags field moved and added existence flags for optional fields</span></p><p class="c36"><span class="c71 c3 c39 c64">Introduction titles changed to better sign post where the information resides in the document</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-26</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">May 2023</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson, Davide Lenzarini]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Backwards compatible PUBLISH -1, new OOS Publish message to repace it. Removal of security section to allow to rewrite.</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-27</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">November 2023</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">[Simon Johnson, Davide Lenzarini]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">Network Transport Layer chapter updated to define the impact of lower layers features on the MQTT-SN protocol.</span></p><p class="c36"><span class="c71 c3 c39 c64">Replaced the term MQTT-SN &ldquo;connection&rdquo; with the term &ldquo;Virtual Connection&rdquo;.</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">WD-28</span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">December 2023</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c64 c297">[Davide Lenzarini, Stefan Hagen]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c297 c64">Ensured document structure is intact and replaced table footnotes with simple text tags and a subsequent notes listing.</span></p></td></tr><tr class="c25"><td class="c18" colspan="1" rowspan="1"><p class="c2"><span class="c71 c3 c39 c64"></span></p></td><td class="c150" colspan="1" rowspan="1"><p class="c36"><span class="c71 c3 c39 c64">February 2024</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c36"><span class="c212 c39 c186 c64">[Ian Craggs, Simon Johnson]</span></p></td><td class="c278" colspan="1" rowspan="1"><p class="c36"><span class="c212 c39 c186 c64">Issue 560 resolution - full reason code table and add reason code fields to PUBREC, PUBREL and PUBCOMP. Duplicate reason code tables removed from packet descriptions.</span></p><p class="c36"><span class="c212 c39 c186 c64">Will Data Sent in CONNECT</span></p><p class="c36"><span class="c212 c39 c186 c64">Auth Data Sent in CONNECT &amp; CONNACK</span></p><p class="c36"><span class="c212 c39 c186 c64">Suback granted QoS 0,1,2 now reason codes not flags.</span></p><p class="c36"><span class="c39 c186 c64 c212">Moved PUBLISH -1 to new Backward compatibility appendix</span></p></td></tr></table><p class="c2"><span class="c98 c3 c39 c64"></span></p><p class="c359 c101 c42 c406" id="h.dkraaadk8r1i"><span class="c38 c24"></span></p><ul class="c12 lst-kix_list_3-0"><li class="c359 c101 c241 c161 c45 c333 li-bullet-0"><h1 id="h.3jd0qos" style="display:inline"><span class="c24 c318">Appendix </span><span>F</span><span class="c24 c318">. </span><span class="c38 c244">Implementation Notes</span></h1></li></ul><ul class="c12 lst-kix_list_3-1 start"><li class="c189 c200 c101 c45"><h2 id="h.1yib0wl" style="display:inline"><span>&nbsp;F.1 </span><span class="c186">Support of </span><span>PUBLISH WITHOUT SESSION</span></h2></li></ul><p class="c89 c158"><span class="c60 c3 c39">Because PUBLISH WITHOUT SESSION could be sent at any time by clients (even with no Virtual Connection setup) a transparent GW needs to maintain for those packets a dedicated MQTT connection with the server. An aggregating or hybrid GW may use any aggregating MQTT connection to forward those packets to the server. </span></p><ul class="c12 lst-kix_list_3-1"><li class="c189 c101 c45 c200"><h2 id="h.4ihyjke" style="display:inline"><span>F.2 </span><span class="c111 c244 c39 c78">&ldquo;Best practice&rdquo; values for timers and counters</span></h2></li></ul><p class="c152 c101"><span class="c60 c3 c39">Table 30 shows the &ldquo;best practice&rdquo; values for the timers and counters defined in this specification.</span></p><p class="c152 c101 c72"><span class="c60 c3 c39"></span></p><a id="t.f98d25c5040263e7dbe2946adb5b0f035bf45e84"></a><a id="t.43"></a><table class="c484 c493"><tr class="c237"><td class="c302 c495" colspan="1" rowspan="1"><p class="c379 c101 c66"><span class="c11 c39">Timer/Counter</span></p></td><td class="c27 c495" colspan="1" rowspan="1"><p class="c101 c66 c379"><span class="c11 c39">Recommended value</span></p></td></tr><tr class="c502"><td class="c302" colspan="1" rowspan="1"><sup><a href="#cmnt97" id="cmnt_ref97">[cs]</a></sup><p class="c141 c101 c66"><span class="c3 c68 c7">T</span><span class="c3 c103 c68 c7">ADV</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c101 c66 c141"><span class="c3 c218 c68 c39 c78 c186">Greater than 15 minutes</span></p></td></tr><tr class="c237"><td class="c302" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c68 c7">N</span><span class="c3 c103 c68 c7">ADV</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c218 c68 c39 c78 c186">2 -3</span></p></td></tr><tr class="c237"><td class="c302" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c68 c7">T</span><span class="c3 c68 c7 c103">SEARCHGW</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c218 c68 c39 c78 c186">5 seconds</span></p></td></tr><tr class="c485"><td class="c302" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c68 c7">T</span><span class="c3 c103 c68 c7">GWINFO</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c218 c68 c39 c78 c186">5 seconds</span></p></td></tr><tr class="c237"><td class="c302" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c68 c7">T</span><span class="c3 c103 c68 c7">WAIT</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c141 c101 c241"><span class="c3 c218 c68 c39 c78 c186">Greater than 5 minutes</span></p></td></tr><tr class="c237"><td class="c302" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c68 c7">T</span><span class="c3 c103 c68 c7">RETRY</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c218 c68 c39 c78 c186">Implement E4 with a starting value of 1 second after an initial wait period of 5 seconds. So the first retry will be ~6 seconds.</span></p></td></tr><tr class="c237"><td class="c302" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c68 c7">N</span><span class="c3 c103 c68 c7">RETRY</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c218 c68 c39 c78 c186">3 &ndash; 5 seconds</span></p></td></tr><tr class="c237"><td class="c302" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c68 c7">M</span><span class="c3 c218 c103 c68 c78 c7">BACKOFF</span></p></td><td class="c27" colspan="1" rowspan="1"><p class="c141 c101 c66"><span class="c3 c218 c68 c39 c78 c186">60 seconds</span></p></td></tr></table><p class="c101 c66 c353"><span class="c60 c3 c39">Table 30: &ldquo;Best practice&rdquo; values for timers and counters</span></p><p class="c101 c66 c361 c382"><span class="c60 c3 c39">The &ldquo;tolerance&rdquo; of the sleep and keep-alive timers at the server/gateway depends on the values indicated by the clients. For example, the timer values should be 10% higher than the indicated values for periods larger than 1 minute, and 50% higher if less.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c189 c200 c101 c45"><h2 id="h.2xn8ts7" style="display:inline"><span>F.3 </span><span class="c111 c244 c39 c78">Mapping of Topic Alias to Topic Names and Topic Filters</span></h2></li></ul><p class="c89 c158"><span class="c60 c3 c39">It is strongly recommended that in the gateway the mapping table between topic alias and topic names is implemented per client (and not by a single shared pool between all clients), to reduce the risk of an incorrect topic alias from a client matching another client&rsquo;s valid topic, and thus causing a publication to the wrong topic, which could potentially have disastrous consequences.</span></p><ul class="c12 lst-kix_list_3-1"><li class="c189 c200 c101 c45"><h2 id="h.1csj400" style="display:inline"><span class="c118"><a class="c29" href="#h.1csj400">F.4 </a></span><span class="c118 c186"><a class="c29" href="#h.1csj400">Exponential Backoff</a></span></h2></li></ul><p class="c374 c101 c66"><span class="c145 c3 c262 c39 c78">The following error handling strategy should be used for networked devices to avoid overwhelming recipient network entities whilst providing for efficient reestablishment handling. The client shall periodically retry a failed packet with increasing delays between attempts, constrained by a max retry time and interleaved with a suitable seed of randomness.</span></p><p class="c374 c101 c66"><span class="c145 c24 c39 c78 c262">Algorithm:</span></p><p class="c101 c66 c374"><span class="c145 c3 c262 c39 c78">An exponential backoff algorithm retries requests exponentially, increasing the waiting time between retries up to a maximum backoff time. For example:</span></p><ol class="c12 lst-kix_list_18-0 start" start="1"><li class="c101 c144 c241 c356 li-bullet-0"><span class="c145 c3 c262 c39 c78">Initial packet sent.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c145 c3 c262 c39 c78">If the operation fails, wait 1000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c145 c3 c262 c39 c78">If the operation fails, wait 2000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c145 c3 c262 c39 c78">If the operation fails, wait 4000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c41 c101 c144 c241 li-bullet-0"><span class="c3 c262">Continued, up to a maximum backoff </span><span class="c3 c313 c7">M</span><span class="c3 c103 c313 c7">BACKOFF</span><span class="c145 c3 c262 c39 c78">.</span></li><li class="c101 c144 c236 li-bullet-0"><span class="c145 c3 c262 c39 c78">Continue waiting and retrying up to some maximum number of retries, but do not increase the wait period between retries.</span></li></ol><p class="c374 c101 c66"><span class="c3 c262">The wait time </span><span class="c3 c81">is </span><span class="c78 c286">min(((2^n * sf) + ran), max)</span><span class="c3 c81">&nbsp;</span><span class="c145 c3 c262 c39 c78">with n incremented by 1 for each iteration (or operation) and the scaling factor (sf) being set to some reasonable value (suggested 1000 as in the example above). </span></p><p class="c374 c101 c66"><span class="c145 c3 c262 c39 c78">The random number helps to avoid cases where many clients are synchronized by some situation, and all retry at once. The value of the random number ran is recalculated after each retry. The random number (ran) should be no larger than the scaling factor (sf).</span></p><ul class="c12 lst-kix_list_3-0"><li class="c101 c241 c255 c45 c272"><h1 id="h.sg1xgdru14ui" style="display:inline"><span class="c38 c244">Appendix G. Notices</span></h1></li></ul><p class="c36"><span class="c3">[</span><span class="c3 c64">Required section. Do not change.</span><span class="c60 c3 c39">]</span></p><p class="c36"><span class="c60 c3 c39">Copyright &copy; OASIS Open 2023. All Rights Reserved.</span></p><p class="c36"><span class="c3">All capitalized terms in the following text have the meanings assigned to them in the OASIS Intellectual Property Rights Policy (the &quot;OASIS IPR Policy&quot;). The full </span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1711133546654589&amp;usg=AOvVaw2NED_CFtOqCByBtAFA4JrR">Policy</a></span><span class="c3">&nbsp;may be found at the OASIS website: [</span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1711133546654876&amp;usg=AOvVaw04OOynlwKvpq2f8KCjCq88">https://www.oasis-open.org/policies-guidelines/ipr/</a></span><span class="c60 c3 c39">].</span></p><p class="c36"><span class="c60 c3 c39">This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this section are included on all such copies and derivative works. However, this document itself may not be modified in any way, including by removing the copyright notice or references to OASIS, except as needed for the purpose of developing any document or deliverable produced by an OASIS Technical Committee (in which case the rules applicable to copyrights, as set forth in the OASIS IPR Policy, must be followed) or as required to translate it into languages other than English.</span></p><p class="c36"><span class="c60 c3 c39">The limited permissions granted above are perpetual and will not be revoked by OASIS or its successors or assigns.</span></p><p class="c36"><span class="c60 c3 c39">This document and the information contained herein is provided on an &quot;AS IS&quot; basis and OASIS DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. OASIS AND ITS MEMBERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THIS DOCUMENT OR ANY PART THEREOF.</span></p><p class="c36"><span class="c60 c3 c39">As stated in the OASIS IPR Policy, the following three paragraphs in brackets apply to OASIS Standards Final Deliverable documents (Committee Specifications, OASIS Standards, or Approved Errata).</span></p><p class="c36"><span class="c60 c3 c39">[OASIS requests that any OASIS Party or any other party that believes it has patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable, to notify OASIS TC Administrator and provide an indication of its willingness to grant patent licenses to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this deliverable.]</span></p><p class="c36"><span class="c60 c3 c39">[OASIS invites any party to contact the OASIS TC Administrator if it is aware of a claim of ownership of any patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable by a patent holder that is not willing to provide a license to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this OASIS Standards Final Deliverable. OASIS may include such claims on its website, but disclaims any obligation to do so.]</span></p><p class="c36"><span class="c60 c3 c39">[OASIS takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this OASIS Standards Final Deliverable or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on OASIS&#39; procedures with respect to rights in any document or deliverable produced by an OASIS Technical Committee can be found on the OASIS website. Copies of claims of rights made available for publication and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this OASIS Standards Final Deliverable, can be obtained from the OASIS TC Administrator. OASIS makes no representation that any information or list of intellectual property rights will at any time be complete, or that any claims in such list are, in fact, Essential Claims.]</span></p><p class="c36"><span class="c3">The name &quot;OASIS&quot; is a trademark of </span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/&amp;sa=D&amp;source=editors&amp;ust=1711133546655878&amp;usg=AOvVaw3WTyq7HODLMnugqogWC_WL">OASIS</a></span><span class="c3">, the owner and developer of this document, and should be used only to refer to the organization and its official outputs. OASIS welcomes reference to, and implementation and use of, documents, while reserving the right to enforce its marks against misleading uses. Please see </span><span class="c118 c3"><a class="c29" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/trademark/&amp;sa=D&amp;source=editors&amp;ust=1711133546656099&amp;usg=AOvVaw3sF-VAYFX0oON3RAiLB52I">https://www.oasis-open.org/policies-guidelines/trademark/</a></span><span class="c60 c3 c39">&nbsp;for above guidance.</span></p><p class="c2"><span class="c60 c3 c39"></span></p><div><p class="c224 c101"><span class="c67 c96 c125 c39">mqtt-sn-v2.0-wd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c125">Committee Specification </span><span class="c67 c96 c125 c39">Draft </span><span class="c125">01</span><span class="c67 c96 c125 c39">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c125">08</span><span class="c67 c96 c39 c125">&nbsp;</span><span class="c125">December</span><span class="c67 c96 c125 c39">&nbsp;2023</span></p><p class="c41 c101"><span class="c67 c96 c125 c39">Standards Track Draft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright &copy; OASIS Open 202</span><span class="c125">3</span><span class="c67 c96 c125 c39">. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page </span><span class="c67 c96 c125 c39">&nbsp;of </span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref1" id="cmnt1">[a]</a><span class="c1">Paul or Stefan can fill it</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref2" id="cmnt2">[b]</a><span class="c1">Links not yet working. They will be created once the files will be uploaded for final comments</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref3" id="cmnt3">[c]</a><span class="c1">It has to be filled with the differences between 2.0 and 1.2</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref4" id="cmnt4">[d]</a><span class="c1">It has to be fixed</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref5" id="cmnt5">[e]</a><span class="c1">The character encoding of the document does not seem to support the CJK chars.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref6" id="cmnt6">[f]</a><span class="c1">Suggest to sort by name if only a binary relation of name vs packet identifier field &quot;need&quot; is displayed.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref7" id="cmnt7">[g]</a><span class="c1">Byte 4 &quot;Protocol Version&quot; is only a close by anchor for my question: I am trying out packet/bytefield diagrams to provide clear and verifiable package descriptions and struggle with the rationale of the way we number bytes in the left column when it comes to optional bytes.</span></p><p class="c41"><span class="c1">What if in this case there is a byte 3+1 shoulnd&#39;t that scenario force this marked line to be Byte 5?</span></p><p class="c41"><span class="c1">We are not the first people describing a protocol with optional parts in the &quot;middle&quot; where the receiver uses prior field values to detect the meaning of the subsequent bytes and I wonder if there are more readable representations (if not separate diagrams depicting consistent scenarios)?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref8" id="cmnt8">[h]</a><span class="c1">The MQTT 5 spec as far as I can tell avoids this problem by separating the packets into pieces which are described if they are included.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref9" id="cmnt9">[i]</a><span class="c1">This should be highlighted as a conformance clause.</span></p><p class="c41 c72"><span class="c1"></span></p><p class="c41"><span class="c1">This specification only concerns Version 2.0, so the conformance clause is too restrictive, the Gateway can send 0x84 for any reason.</span></p><p class="c41 c72"><span class="c1"></span></p><p class="c41"><span class="c1">MQTT closes the network connection at this point, however MQTT-SN cannot do this. It can mandate that the next packet sent by the Client must be a CONNECT Packet.&nbsp;</span></p><p class="c41 c72"><span class="c1"></span></p><p class="c41"><span class="c1">We should not define a session state of &quot;closed&quot; nor should the session state be deleted. The Client could be probing the Gateway to determine what level of protocol it can use.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref10" id="cmnt10">[j]</a><span class="c1">_Marked as resolved_</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref11" id="cmnt11">[k]</a><span class="c1">_Re-opened_</span></p><p class="c41"><span class="c1">Why it has been considered resolved?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref12" id="cmnt12">[l]</a><span class="c1">This has been resolved - the highlighted texts are to be considered conformance &nbsp;clauses / normative comments</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref13" id="cmnt13">[m]</a><span class="c1">_Marked as resolved_</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref14" id="cmnt14">[n]</a><span class="c1">_Re-opened_</span></p><p class="c41"><span class="c1">I still don&#39;t think this is testable.</span></p><p class="c41"><span class="c1">1) We should give some guidance&nbsp; in a non normative comment on how the implementor can decide if he wants to send the CONNACK.</span></p><p class="c41"><span class="c1">2) I cant find a state diagram for the Gateway that defines what closed means. It should mean that after sending CONNACK with Reason Code 0x84&nbsp; the gateway will only process a CONNECT packet inbound, all other inbound&nbsp;packets are ignored. I think this should really say that the Virtual Connection is closed.</span></p><p class="c41 c72"><span class="c1"></span></p><p class="c41"><span class="c1">This can be covered in a separate conformance clause eg.</span></p><p class="c41 c72"><span class="c1"></span></p><p class="c41"><span class="c1">The Gateway MUST close the Virtual Connection and discard any further Packets received on it.</span></p><p class="c41 c72"><span class="c1"></span></p><p class="c41"><span class="c1">3) The Session State , any subscriptions, in flight Qos=1 or Qos=2 messages, will still exist and will be associated with a new Virtual Connection after a new CONNECT packet has been received.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref15" id="cmnt15">[o]</a><span class="c1">We need to consider this again after we have fixed some terminology for a Conversation / Logical Connection. We should not destroy any session state in this case. We may not be able to determine whether any subsequent packets relate to this logical connection or a new one. We can mandate that the Gateway must&nbsp; receive a new CONNECT Packet before before it does any more forward processing. The Gateway can still send PINGRESP and DISCONNECT Packets as stated.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref16" id="cmnt16">[p]</a><span class="c1">define &#39;LOST&#39; ? considering we have &#39;Session Expiry Interval&#39;</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref17" id="cmnt17">[q]</a><span class="c1">The lost is defined in the state transition table and diagram. LOST represents status between the client and GW and maintains selective state about the SN side session.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref18" id="cmnt18">[r]</a><span class="c1">_Marked as resolved_</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref19" id="cmnt19">[s]</a><span class="c1">_Re-opened_</span></p><p class="c41"><span class="c1">The state diagram seems to represent the gateways view of the connectivity to the client. This clause should not refer to the session as being&nbsp;lost. It could however still say that the client connectivity is LOST. The client could detect the LOST state itself and send a new CONNECT packet to continue the SESSION.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref20" id="cmnt20">[t]</a><span class="c1">This is now a broken reference</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref21" id="cmnt21">[u]</a><span class="c1">link here to the auth section</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref22" id="cmnt22">[v]</a><span class="c1">we should just copy and adapt the MQTT 5 section 4.12, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref23" id="cmnt23">[w]</a><span class="c1">Yes, I believe so, but wanted Ian to confirm this as AUTH was Ian&#39;s packet.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref24" id="cmnt24">[x]</a><span class="c1">link here to the auth section</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref25" id="cmnt25">[y]</a><span class="c1">we should just copy and adapt the MQTT 5 section 4.12, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref26" id="cmnt26">[z]</a><span class="c1">Yes, I believe so, but wanted Ian to confirm this as AUTH was Ian&#39;s packet.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref27" id="cmnt27">[aa]</a><span class="c1">link here to the auth section</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref28" id="cmnt28">[ab]</a><span class="c1">we should just copy and adapt the MQTT 5 section 4.12, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref29" id="cmnt29">[ac]</a><span class="c1">Yes, I believe so, but wanted Ian to confirm this as AUTH was Ian&#39;s packet.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref30" id="cmnt30">[ad]</a><span class="c1">link here to the auth section</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref31" id="cmnt31">[ae]</a><span class="c1">we should just copy and adapt the MQTT 5 section 4.12, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref32" id="cmnt32">[af]</a><span class="c1">Yes, I believe so, but wanted Ian to confirm this as AUTH was Ian&#39;s packet.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref33" id="cmnt33">[ag]</a><span class="c1">Why 128 and not something smaller?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref34" id="cmnt34">[ah]</a><span class="c1">link here to the auth section</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref35" id="cmnt35">[ai]</a><span class="c1">we should just copy and adapt the MQTT 5 section 4.12, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref36" id="cmnt36">[aj]</a><span class="c1">Yes, I believe so, but wanted Ian to confirm this as AUTH was Ian&#39;s packet.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref37" id="cmnt37">[ak]</a><span class="c1">link here to the auth section</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref38" id="cmnt38">[al]</a><span class="c1">we should just copy and adapt the MQTT 5 section 4.12, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref39" id="cmnt39">[am]</a><span class="c1">Yes, I believe so, but wanted Ian to confirm this as AUTH was Ian&#39;s packet.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref40" id="cmnt40">[an]</a><span class="c1">link here to the auth section</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref41" id="cmnt41">[ao]</a><span class="c1">we should just copy and adapt the MQTT 5 section 4.12, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref42" id="cmnt42">[ap]</a><span class="c1">Yes, I believe so, but wanted Ian to confirm this as AUTH was Ian&#39;s packet.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref43" id="cmnt43">[aq]</a><span class="c1">link here to the auth section</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref44" id="cmnt44">[ar]</a><span class="c1">we should just copy and adapt the MQTT 5 section 4.12, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref45" id="cmnt45">[as]</a><span class="c1">Yes, I believe so, but wanted Ian to confirm this as AUTH was Ian&#39;s packet.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref46" id="cmnt46">[at]</a><span class="c1">Like for MQTT v5.0, in order to allow interoperability I would recommend to add at least some Auth Method options and some example</span></p><p class="c41"><span class="c1">1 total reaction</span></p><p class="c41"><span class="c1">Stefan Hagen reacted with &#128077; at 2023-10-12 11:50 AM</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref47" id="cmnt47">[au]</a><span class="c1">I think we just need to adapt the content of the chapter 4.12 of the MQTT v5 specs, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref48" id="cmnt48">[av]</a><span class="c1">As below, waiting&nbsp;for Ian to confirm</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref49" id="cmnt49">[aw]</a><span class="c1">A&nbsp;normative comment is irritating at best, let us make that a normal paragraph with an uperacsed MUST as all comments should be informative only. Also I suggest to remove the colloquial ampersand and use the english word &quot;and&quot; to ease some readers.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref50" id="cmnt50">[ax]</a><span class="c1">In above section title the packet &quot;Identifier&quot; is named and not as usual the abbreviated form &quot;Id&quot;.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref51" id="cmnt51">[ay]</a><span class="c1">Does it mean those fields are optional or to be ignored? Can we clarify it?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref52" id="cmnt52">[az]</a><span class="c1">Need to sort column spacing here</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref53" id="cmnt53">[ba]</a><span class="c1">Maybe we should review and take note of all such normal english &quot;role/actor&quot; words and decide when we specialize them as &quot;Gateway&quot; (in this case versus &quot;gateway&quot;).</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref54" id="cmnt54">[bb]</a><span class="c1">What is the max size of the &ldquo;wireless node id&rdquo;? Can we use the client id instead?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref55" id="cmnt55">[bc]</a><span class="c1">The wireless node id, whilst analogous&nbsp;to, is not directly linked to the client id. Its ont he external network, and thus addressed in an unknown manner (perhaps we could look to bound this to a reasonable number of bytes).</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref56" id="cmnt56">[bd]</a><span class="c1">I think we should define the length of the &quot;wireless node id&quot; via the CTRL for instance otherwise it is unclear how to decode this message. When the &quot;Wireless Node Id&quot; ends and the &quot;MQTT SN packet&quot; begins?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref57" id="cmnt57">[be]</a><span class="c1">Break the conformance clauses out, and move&nbsp;the non-normative sections to the secutiry chapter (maybe)</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref58" id="cmnt58">[bf]</a><span class="c1">Let us also ensure we use the title case with reason and benefit for the reader (maybe Client -&gt; client?).&nbsp;</span></p><p class="c41"><span class="c1">Or, did we define an actor/role &quot;Client&quot; (as a short form for &quot;MQTT-SN Client&quot; so that we can later collect conformance clauses with such a role participating to enable compliance tests?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref59" id="cmnt59">[bg]</a><span class="c1">All references in these table notes should correspond to informal reference entries</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref60" id="cmnt60">[bh]</a><span class="c1">Question: Scope of informative also includes these two behavior descriptions?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref61" id="cmnt61">[bi]</a><span class="c1">Actually.. Ive just noticed we&#39;ve lost&nbsp;the notion of a forwarding client here - I think this maybe important enough to include. @stefan@hagen.link</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref62" id="cmnt62">[bj]</a><span class="c1">Dito: We should provide the source file</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref63" id="cmnt63">[bk]</a><span class="c1">We will redo them, easily. Then the sources are there.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref64" id="cmnt64">[bl]</a><span class="c1">terminating gateway needs to be added to this diagram (although is this a contradiction in terms...)</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref65" id="cmnt65">[bm]</a><span class="c1">Should we find a term for PROTECTION Packet, because it is now part of the Packet it is protecting and must not be separated from it. May be Protection Header?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref66" id="cmnt66">[bn]</a><span class="c1">or PROTECTION Envelope</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref67" id="cmnt67">[bo]</a><span class="c1">From https://issues.oasis-open.org/browse/MQTT-604: MQTT reserved both the UDP and TCP ports but prohibits the use of UDP,</span></p><p class="c41"><span class="c1">We should approach the MQTT TC to get this redesignated as MQTT/MQTT-SN.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref68" id="cmnt68">[bp]</a><span class="c1">IANA 8883 and 1883 for both TCP and UDP are already registered to &ldquo;Secure MQTT&rdquo; and &ldquo;MQTT&rdquo; since 2015, so I suppose the UDP ports we can be reused for MQTT-SN</span></p><p class="c41"><span class="c1">Furthermore in MQTT 5 specs on chapter 4.2: &ldquo;Connectionless network transports such as User Datagram Protocol (UDP) are not suitable on their own because they might lose or reorder data.&rdquo;. So there is no risk of impacting any MQTT service over UDP.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref69" id="cmnt69">[bq]</a><span class="c1">Do these yellow&nbsp;highlights indicate content/rules and form equally to need work? I guess so.</span></p><p class="c41 c72"><span class="c1"></span></p><p class="c41"><span class="c1">Depending on the underlying &quot;rules&quot; from enforcement per either hoping, convention, or enforcement I am sure we can write this statement shorter and to the point.</span></p><p class="c41 c72"><span class="c1"></span></p><p class="c41"><span class="c1">Eg. assuming the gateways may not sync their client lists between each other, enforcement seems to be out. But is it a MUST, SHOULD or even a painful The client MAY connect to multiple same network gateways at the same time ... and then what? When we know, we can phrase.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref70" id="cmnt70">[br]</a><span class="c1">The highlight indicates it should be considered a conformance clause</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref71" id="cmnt71">[bs]</a><span class="c1">Lets discuss the wording</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref72" id="cmnt72">[bt]</a><span class="c1">Need to add a section for Publish without Session</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref73" id="cmnt73">[bu]</a><span class="c1">This is true for CONNECT, SUBSCRIBE, REGISTER, PUBREL, PINGREQ, UNSUBSCRIBE...</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref74" id="cmnt74">[bv]</a><span class="c1">This is true for CONNECT, SUBSCRIBE, REGISTER, PUBREL, PINGREQ, UNSUBSCRIBE...</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref75" id="cmnt75">[bw]</a><span class="c1">Can we maybe split the tabular presentation into&nbsp;</span></p><p class="c41"><span class="c1">1) a table that maps state names to their (*) descriptions</span></p><p class="c41"><span class="c1">2) a subsequent state diagram (Figure on next page already present)</span></p><p class="c41"><span class="c1">?</span></p><p class="c41"><span class="c1">*)&nbsp;long-winding / mini-page-like</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref76" id="cmnt76">[bx]</a><span class="c1">Dont understand this comment. Lets discuss on call</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref77" id="cmnt77">[by]</a><span class="c1">This is the &quot;keep alive&quot; timer, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref78" id="cmnt78">[bz]</a><span class="c1">This is the &quot;keep alive&quot; timer, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref79" id="cmnt79">[ca]</a><span class="c1">Which &ldquo;supervised gateway timer&rdquo; may move the client to LOST?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref80" id="cmnt80">[cb]</a><span class="c1">_Marked as resolved_</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref81" id="cmnt81">[cc]</a><span class="c1">_Re-opened_</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref82" id="cmnt82">[cd]</a><span class="c1">Why has it been moved to resolved? I think we should define the supervised gateway timers</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref83" id="cmnt83">[ce]</a><span class="c1">Is it relevant here?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref84" id="cmnt84">[cf]</a><span class="c1">the conformance statement labels will need to be updated when we create them for MQTT-SN. I thought it would be useful to leave these in as a reminder for when we conduct that process</span></p><p class="c41"><span class="c1">1 total reaction</span></p><p class="c41"><span class="c1">davide.lenzarini@u-blox.com reacted with &#128077; at 2024-03-05 22:46 PM</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref85" id="cmnt85">[cg]</a><span class="c1">When the &ldquo;Topic Alias mappings&rdquo; can be removed by a gateway? We need to be able to support PUBLISH OUT OF BAND</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref86" id="cmnt86">[ch]</a><span class="c1">The session based mappings can only be used in Session. That means, only Short Topic, Predefined Topic or Full Topic Types can be used in PUBLISH WITHOUT SESSION packets</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref87" id="cmnt87">[ci]</a><span class="c1">OK So can you please update the PUBLISH WITHOUT SESSION chapter accordingly? Now the Topic Alias Type is allowed</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref88" id="cmnt88">[cj]</a><span class="c1">Should we have something similar also for the CONNECT?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref89" id="cmnt89">[ck]</a><span class="c1">It is unclear to me. Which timer is used to detect this timeout?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref90" id="cmnt90">[cl]</a><span class="c1">It seems we need a loop on the ASLEEP state with Disconnect (session expiry interval &gt;0), right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref91" id="cmnt91">[cm]</a><span class="c1">Yes, we should update the state transition diagram with this loop</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref92" id="cmnt92">[cn]</a><span class="c1">I changed the state diagram. Please check</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref93" id="cmnt93">[co]</a><span class="c1">This is unclear to me. The topic alias mapping should be kept for the clients in Active, Asleep and Awake states, right?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref94" id="cmnt94">[cp]</a><span class="c1">Would it make sense to provide separate sequence diagrams per QOS side by side?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref95" id="cmnt95">[cq]</a><span class="c1">Can we just add here an adaptation of the chapter 4.12 of the MQTT v5 specs?</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref96" id="cmnt96">[cr]</a><span class="c1">Please let us not insert any appendix before D (those are fixed OASIS appendices to aid readers where to find that fluff stuff).&nbsp;</span></p><p class="c41"><span class="c1">In my markdown trial at https://github.com/oasis-tcs/mqtt/pull/5 I moved this appendix to E and implementation notes stay at F.</span></p></div><div class="c58"><p class="c41"><a href="#cmnt_ref97" id="cmnt97">[cs]</a><span class="c1">It should be be consistent with the Connect &quot;Keep Alive Timer&quot; chapter where we have &ldquo;If the Gateway does not receive an MQTT-SN Control Packet from the Client within one and a half times the Keep Alive time period, it MUST close the Network Connection and consider the Connection &lsquo;LOST&rsquo;.&rdquo;</span></p></div></body></html>