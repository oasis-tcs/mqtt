<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=OPeqXG-QxW3ZD8BtmPikfA);ul.lst-kix_p16zu2nyfx8k-7{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-8{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-0{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-1{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-2{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-3{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-4{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-5{list-style-type:none}ul.lst-kix_p16zu2nyfx8k-6{list-style-type:none}.lst-kix_thr9qqed2qck-0>li:before{content:"\0025cf   "}ol.lst-kix_list_2-3.start{counter-reset:lst-ctn-kix_list_2-3 0}ol.lst-kix_jnzb1kcqssni-6.start{counter-reset:lst-ctn-kix_jnzb1kcqssni-6 0}ol.lst-kix_lqfz53xxujmr-3.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-3 0}ol.lst-kix_i16ejyulpnyj-5.start{counter-reset:lst-ctn-kix_i16ejyulpnyj-5 0}.lst-kix_thr9qqed2qck-6>li:before{content:"\0025cf   "}ol.lst-kix_list_17-1.start{counter-reset:lst-ctn-kix_list_17-1 0}.lst-kix_thr9qqed2qck-8>li:before{content:"\0025a0   "}ul.lst-kix_ktnmrk6fggmz-6{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-5{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-4{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-3{list-style-type:none}.lst-kix_en1lryfxcqe9-4>li:before{content:"\0025cb   "}.lst-kix_en1lryfxcqe9-6>li:before{content:"\0025cf   "}ul.lst-kix_ktnmrk6fggmz-8{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-7{list-style-type:none}.lst-kix_thr9qqed2qck-2>li:before{content:"\0025a0   "}.lst-kix_en1lryfxcqe9-8>li:before{content:"\0025a0   "}.lst-kix_thr9qqed2qck-4>li:before{content:"\0025cb   "}ol.lst-kix_list_16-5{list-style-type:none}ol.lst-kix_list_16-6{list-style-type:none}ul.lst-kix_list_27-0{list-style-type:none}.lst-kix_list_24-8>li:before{content:"\0025aa   "}ol.lst-kix_list_16-7{list-style-type:none}ul.lst-kix_list_27-1{list-style-type:none}ol.lst-kix_list_16-8{list-style-type:none}ul.lst-kix_list_27-2{list-style-type:none}ol.lst-kix_list_16-1{list-style-type:none}ol.lst-kix_list_16-2{list-style-type:none}ol.lst-kix_list_16-3{list-style-type:none}ol.lst-kix_list_16-4{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-2{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-1{list-style-type:none}ul.lst-kix_ktnmrk6fggmz-0{list-style-type:none}.lst-kix_list_24-2>li:before{content:"\0025aa   "}ol.lst-kix_list_16-0{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-6{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-5{list-style-type:none}ul.lst-kix_tysnzt61ui6p-8{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-8{list-style-type:none}.lst-kix_a9v8vu6eq4jw-0>li:before{content:"\0025cf   "}ul.lst-kix_tysnzt61ui6p-7{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-7{list-style-type:none}ul.lst-kix_tysnzt61ui6p-6{list-style-type:none}.lst-kix_list_24-4>li:before{content:"o  "}ul.lst-kix_tysnzt61ui6p-1{list-style-type:none}ul.lst-kix_list_27-3{list-style-type:none}ul.lst-kix_tysnzt61ui6p-0{list-style-type:none}ul.lst-kix_list_27-4{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-0{list-style-type:none}ul.lst-kix_list_27-5{list-style-type:none}ul.lst-kix_list_27-6{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-2{list-style-type:none}ul.lst-kix_tysnzt61ui6p-5{list-style-type:none}ul.lst-kix_list_27-7{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-1{list-style-type:none}ul.lst-kix_tysnzt61ui6p-4{list-style-type:none}ul.lst-kix_list_27-8{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-4{list-style-type:none}.lst-kix_list_24-6>li:before{content:"\0025cf   "}ul.lst-kix_tysnzt61ui6p-3{list-style-type:none}ul.lst-kix_xfrwmyc5vjsr-3{list-style-type:none}ul.lst-kix_tysnzt61ui6p-2{list-style-type:none}.lst-kix_list_23-6>li:before{content:"\0025cf   "}.lst-kix_a9v8vu6eq4jw-6>li:before{content:"\0025cf   "}.lst-kix_a9v8vu6eq4jw-8>li:before{content:"\0025a0   "}.lst-kix_list_23-2>li:before{content:"\0025a0   "}.lst-kix_a9v8vu6eq4jw-2>li:before{content:"\0025a0   "}.lst-kix_a9v8vu6eq4jw-4>li:before{content:"\0025cb   "}.lst-kix_list_23-0>li:before{content:"\0025cf   "}.lst-kix_list_23-8>li:before{content:"\0025a0   "}.lst-kix_list_24-0>li:before{content:"\0025cf   "}.lst-kix_9y7u4ra6nu2f-6>li{counter-increment:lst-ctn-kix_9y7u4ra6nu2f-6}.lst-kix_list_23-4>li:before{content:"\0025a0   "}.lst-kix_7g5ij6v74lx-5>li:before{content:"\0025a0   "}.lst-kix_bupw68uclqhs-5>li:before{content:"\0025a0   "}.lst-kix_bupw68uclqhs-7>li:before{content:"\0025cb   "}.lst-kix_7g5ij6v74lx-3>li:before{content:"\0025cf   "}.lst-kix_7g5ij6v74lx-7>li:before{content:"\0025cb   "}.lst-kix_wn531e46f4wx-8>li{counter-increment:lst-ctn-kix_wn531e46f4wx-8}ol.lst-kix_ev3c1abzhvq-3.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-3 0}.lst-kix_list_22-2>li:before{content:"\0025aa   "}.lst-kix_list_22-6>li:before{content:"\0025cf   "}.lst-kix_7g5ij6v74lx-1>li:before{content:"\0025cb   "}.lst-kix_bupw68uclqhs-1>li:before{content:"\0025cb   "}.lst-kix_bupw68uclqhs-3>li:before{content:"\0025cf   "}.lst-kix_462e54846fbo-2>li{counter-increment:lst-ctn-kix_462e54846fbo-2}.lst-kix_list_22-0>li:before{content:"\0025cf   "}.lst-kix_list_22-8>li:before{content:"\0025aa   "}.lst-kix_i16ejyulpnyj-6>li{counter-increment:lst-ctn-kix_i16ejyulpnyj-6}ol.lst-kix_om3956un8kc0-7.start{counter-reset:lst-ctn-kix_om3956un8kc0-7 0}.lst-kix_abwpot8mtzc7-2>li:before{content:"\0025a0   "}.lst-kix_list_22-4>li:before{content:"o  "}.lst-kix_abwpot8mtzc7-4>li:before{content:"\0025cb   "}.lst-kix_xx0koyk92fk7-7>li:before{content:"\0025cb   "}ol.lst-kix_tqyt4049oqum-5.start{counter-reset:lst-ctn-kix_tqyt4049oqum-5 0}.lst-kix_abwpot8mtzc7-6>li:before{content:"\0025cf   "}.lst-kix_abwpot8mtzc7-8>li:before{content:"\0025a0   "}.lst-kix_63oqrsr2ial6-5>li:before{content:"\0025a0   "}.lst-kix_63oqrsr2ial6-7>li:before{content:"\0025cb   "}.lst-kix_en1lryfxcqe9-2>li:before{content:"\0025a0   "}ul.lst-kix_l66sndqqeh5i-2{list-style-type:none}ul.lst-kix_l66sndqqeh5i-1{list-style-type:none}ul.lst-kix_l66sndqqeh5i-4{list-style-type:none}ol.lst-kix_list_2-8.start{counter-reset:lst-ctn-kix_list_2-8 0}ul.lst-kix_l66sndqqeh5i-3{list-style-type:none}ul.lst-kix_l66sndqqeh5i-0{list-style-type:none}ol.lst-kix_j6untozc7rpm-5.start{counter-reset:lst-ctn-kix_j6untozc7rpm-5 0}.lst-kix_63oqrsr2ial6-1>li:before{content:"\0025cb   "}.lst-kix_63oqrsr2ial6-3>li:before{content:"\0025cf   "}.lst-kix_en1lryfxcqe9-0>li:before{content:"\0025cf   "}ul.lst-kix_l66sndqqeh5i-6{list-style-type:none}ol.lst-kix_lqfz53xxujmr-8.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-8 0}ul.lst-kix_l66sndqqeh5i-5{list-style-type:none}ul.lst-kix_l66sndqqeh5i-8{list-style-type:none}ul.lst-kix_l66sndqqeh5i-7{list-style-type:none}ol.lst-kix_wn531e46f4wx-2.start{counter-reset:lst-ctn-kix_wn531e46f4wx-2 0}.lst-kix_abwpot8mtzc7-0>li:before{content:"\0025cf   "}.lst-kix_dh16vo1krifc-0>li:before{content:"\0025cf   "}ol.lst-kix_i16ejyulpnyj-0.start{counter-reset:lst-ctn-kix_i16ejyulpnyj-0 0}.lst-kix_dh16vo1krifc-2>li:before{content:"\0025a0   "}.lst-kix_dh16vo1krifc-4>li:before{content:"\0025cb   "}.lst-kix_dh16vo1krifc-8>li:before{content:"\0025a0   "}ul.lst-kix_umfqnlwbso66-0{list-style-type:none}ul.lst-kix_umfqnlwbso66-1{list-style-type:none}ul.lst-kix_umfqnlwbso66-2{list-style-type:none}ul.lst-kix_umfqnlwbso66-3{list-style-type:none}ul.lst-kix_umfqnlwbso66-4{list-style-type:none}ul.lst-kix_umfqnlwbso66-5{list-style-type:none}ul.lst-kix_umfqnlwbso66-6{list-style-type:none}.lst-kix_dh16vo1krifc-6>li:before{content:"\0025cf   "}ul.lst-kix_umfqnlwbso66-7{list-style-type:none}ul.lst-kix_umfqnlwbso66-8{list-style-type:none}.lst-kix_wn531e46f4wx-1>li{counter-increment:lst-ctn-kix_wn531e46f4wx-1}.lst-kix_j6untozc7rpm-0>li:before{content:"" counter(lst-ctn-kix_j6untozc7rpm-0,decimal) ". "}.lst-kix_q0297iomcqw0-2>li:before{content:"\0025a0   "}.lst-kix_list_21-8>li:before{content:"\0025aa   "}.lst-kix_3lachvmklkpr-7>li:before{content:"\0025cb   "}ol.lst-kix_list_18-2.start{counter-reset:lst-ctn-kix_list_18-2 0}.lst-kix_list_26-8>li:before{content:"" counter(lst-ctn-kix_list_26-8,lower-roman) ". "}.lst-kix_16cnflin03zc-8>li:before{content:"\0025a0   "}.lst-kix_mu44woos9jdi-8>li:before{content:"\0025a0   "}.lst-kix_list_21-0>li:before{content:"\0025cf   "}.lst-kix_vwlh1djah97h-6>li:before{content:"\0025cf   "}.lst-kix_16cnflin03zc-4>li:before{content:"\0025cb   "}.lst-kix_j6untozc7rpm-8>li:before{content:"" counter(lst-ctn-kix_j6untozc7rpm-8,lower-roman) ". "}.lst-kix_mu44woos9jdi-4>li:before{content:"\0025cb   "}.lst-kix_list_26-4>li:before{content:"" counter(lst-ctn-kix_list_26-4,lower-latin) ". "}.lst-kix_16cnflin03zc-0>li:before{content:"\0025cf   "}.lst-kix_j6untozc7rpm-4>li:before{content:"" counter(lst-ctn-kix_j6untozc7rpm-4,lower-latin) ". "}.lst-kix_vwlh1djah97h-2>li:before{content:"\0025a0   "}.lst-kix_q0297iomcqw0-6>li:before{content:"\0025cf   "}.lst-kix_list_21-4>li:before{content:"o  "}.lst-kix_list_26-0>li:before{content:"" counter(lst-ctn-kix_list_26-0,decimal) ". "}.lst-kix_wcx7cglfpdrv-6>li:before{content:"\0025cf   "}ul.lst-kix_list_23-0{list-style-type:none}ul.lst-kix_list_23-1{list-style-type:none}ul.lst-kix_list_23-2{list-style-type:none}ul.lst-kix_list_23-3{list-style-type:none}ul.lst-kix_list_23-4{list-style-type:none}ul.lst-kix_list_23-5{list-style-type:none}ul.lst-kix_list_23-6{list-style-type:none}.lst-kix_xx0koyk92fk7-1>li:before{content:"\0025cb   "}ol.lst-kix_list_26-3.start{counter-reset:lst-ctn-kix_list_26-3 0}.lst-kix_xx0koyk92fk7-5>li:before{content:"\0025a0   "}.lst-kix_mu44woos9jdi-0>li:before{content:"\0025cf   "}ul.lst-kix_list_23-7{list-style-type:none}.lst-kix_list_25-0>li:before{content:"\0025cf   "}.lst-kix_wcx7cglfpdrv-2>li:before{content:"\0025a0   "}ul.lst-kix_list_23-8{list-style-type:none}.lst-kix_9y7u4ra6nu2f-3>li:before{content:"" counter(lst-ctn-kix_9y7u4ra6nu2f-3,decimal) ". "}.lst-kix_ul707ohtzd24-0>li{counter-increment:lst-ctn-kix_ul707ohtzd24-0}.lst-kix_j6untozc7rpm-4>li{counter-increment:lst-ctn-kix_j6untozc7rpm-4}.lst-kix_732lanbzzsxs-3>li:before{content:"\0025cf   "}ol.lst-kix_9y7u4ra6nu2f-2{list-style-type:none}ol.lst-kix_9y7u4ra6nu2f-1{list-style-type:none}ol.lst-kix_9y7u4ra6nu2f-0{list-style-type:none}.lst-kix_3lachvmklkpr-3>li:before{content:"\0025cf   "}ol.lst-kix_9y7u4ra6nu2f-6{list-style-type:none}.lst-kix_732lanbzzsxs-7>li:before{content:"\0025cb   "}ol.lst-kix_9y7u4ra6nu2f-5{list-style-type:none}ol.lst-kix_9y7u4ra6nu2f-4{list-style-type:none}ol.lst-kix_9y7u4ra6nu2f-3{list-style-type:none}ol.lst-kix_9y7u4ra6nu2f-8{list-style-type:none}ol.lst-kix_9y7u4ra6nu2f-7{list-style-type:none}.lst-kix_qhy0wju04c4n-7>li:before{content:"\0025cb   "}.lst-kix_9y7u4ra6nu2f-7>li:before{content:"" counter(lst-ctn-kix_9y7u4ra6nu2f-7,lower-latin) ". "}.lst-kix_qhy0wju04c4n-3>li:before{content:"\0025cf   "}.lst-kix_list_2-2>li{counter-increment:lst-ctn-kix_list_2-2}.lst-kix_jnhkrhbaqe11-0>li:before{content:"\0025cf   "}.lst-kix_ev3c1abzhvq-1>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-1,lower-latin) ". "}.lst-kix_list_26-2>li{counter-increment:lst-ctn-kix_list_26-2}ol.lst-kix_j6untozc7rpm-0.start{counter-reset:lst-ctn-kix_j6untozc7rpm-0 0}.lst-kix_jnhkrhbaqe11-4>li:before{content:"\0025cb   "}.lst-kix_list_27-4>li:before{content:"\0025a0   "}ul.lst-kix_list_7-5{list-style-type:none}.lst-kix_jnhkrhbaqe11-8>li:before{content:"\0025a0   "}ul.lst-kix_list_7-6{list-style-type:none}ul.lst-kix_list_7-3{list-style-type:none}ul.lst-kix_list_7-4{list-style-type:none}.lst-kix_jnzb1kcqssni-3>li:before{content:"" counter(lst-ctn-kix_jnzb1kcqssni-3,decimal) ". "}ul.lst-kix_list_7-7{list-style-type:none}ul.lst-kix_list_7-8{list-style-type:none}.lst-kix_ev3c1abzhvq-5>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-5,lower-roman) ". "}ol.lst-kix_list_26-8.start{counter-reset:lst-ctn-kix_list_26-8 0}.lst-kix_9yim5cm2a43p-7>li:before{content:"\0025cb   "}ul.lst-kix_list_7-1{list-style-type:none}ul.lst-kix_list_7-2{list-style-type:none}.lst-kix_list_27-0>li:before{content:"\0025cf   "}ul.lst-kix_list_7-0{list-style-type:none}.lst-kix_9yim5cm2a43p-3>li:before{content:"\0025cf   "}.lst-kix_tqyt4049oqum-5>li{counter-increment:lst-ctn-kix_tqyt4049oqum-5}.lst-kix_jnzb1kcqssni-7>li:before{content:"" counter(lst-ctn-kix_jnzb1kcqssni-7,lower-latin) ". "}.lst-kix_f7m1wa373t12-8>li:before{content:"\0025a0   "}.lst-kix_1fioxjrj066s-6>li:before{content:"\0025cf   "}.lst-kix_list_25-4>li:before{content:"\0025cb   "}.lst-kix_1fioxjrj066s-2>li:before{content:"\0025a0   "}.lst-kix_f7m1wa373t12-0>li:before{content:"\0025cf   "}.lst-kix_f7m1wa373t12-4>li:before{content:"\0025cb   "}.lst-kix_2nzowzum4fkx-8>li:before{content:"\0025a0   "}.lst-kix_list_25-8>li:before{content:"\0025a0   "}.lst-kix_b6e1441h2g8b-0>li:before{content:"\0025cf   "}ol.lst-kix_om3956un8kc0-2.start{counter-reset:lst-ctn-kix_om3956un8kc0-2 0}ol.lst-kix_list_26-6.start{counter-reset:lst-ctn-kix_list_26-6 0}.lst-kix_2nzowzum4fkx-4>li:before{content:"\0025cb   "}.lst-kix_b6e1441h2g8b-8>li:before{content:"\0025a0   "}.lst-kix_2nzowzum4fkx-0>li:before{content:"\0025cf   "}.lst-kix_b6e1441h2g8b-4>li:before{content:"\0025cb   "}.lst-kix_list_28-8>li:before{content:"\0025aa   "}.lst-kix_list_17-3>li{counter-increment:lst-ctn-kix_list_17-3}.lst-kix_list_28-4>li:before{content:"o  "}ol.lst-kix_jnzb1kcqssni-1.start{counter-reset:lst-ctn-kix_jnzb1kcqssni-1 0}.lst-kix_oy8s3o2zwdoj-7>li:before{content:"\0025cb   "}.lst-kix_ul707ohtzd24-7>li{counter-increment:lst-ctn-kix_ul707ohtzd24-7}ul.lst-kix_list_14-4{list-style-type:none}ul.lst-kix_list_14-3{list-style-type:none}ul.lst-kix_list_14-2{list-style-type:none}ul.lst-kix_list_14-1{list-style-type:none}ul.lst-kix_list_14-0{list-style-type:none}.lst-kix_cxi9sli2kvlp-6>li:before{content:"\0025cf   "}ul.lst-kix_list_14-8{list-style-type:none}ul.lst-kix_list_14-7{list-style-type:none}ul.lst-kix_list_14-6{list-style-type:none}ul.lst-kix_list_14-5{list-style-type:none}.lst-kix_list_28-0>li:before{content:"\0025cf   "}.lst-kix_cxi9sli2kvlp-2>li:before{content:"\0025a0   "}.lst-kix_list_27-8>li:before{content:"\0025a0   "}.lst-kix_list_19-1>li:before{content:"\0025cb   "}.lst-kix_jn6r0vozovk9-0>li:before{content:"" counter(lst-ctn-kix_jn6r0vozovk9-0,decimal) ". "}.lst-kix_xfrwmyc5vjsr-7>li:before{content:"\0025cb   "}ol.lst-kix_ul707ohtzd24-1.start{counter-reset:lst-ctn-kix_ul707ohtzd24-1 0}.lst-kix_list_19-3>li:before{content:"\0025cf   "}.lst-kix_xfrwmyc5vjsr-1>li:before{content:"\0025cb   "}.lst-kix_laomlx24l8ol-2>li:before{content:"\0025a0   "}.lst-kix_oy8s3o2zwdoj-1>li:before{content:"\0025cb   "}.lst-kix_oy8s3o2zwdoj-3>li:before{content:"\0025cf   "}.lst-kix_fna9vqak6p7f-0>li:before{content:"\0025cf   "}ol.lst-kix_list_16-3.start{counter-reset:lst-ctn-kix_list_16-3 0}.lst-kix_laomlx24l8ol-0>li:before{content:"\0025cf   "}.lst-kix_wn531e46f4wx-2>li:before{content:"" counter(lst-ctn-kix_wn531e46f4wx-2,lower-roman) ". "}.lst-kix_umfqnlwbso66-3>li:before{content:"\0025cf   "}.lst-kix_fna9vqak6p7f-2>li:before{content:"\0025a0   "}.lst-kix_wn531e46f4wx-0>li:before{content:"" counter(lst-ctn-kix_wn531e46f4wx-0,decimal) ". "}.lst-kix_wn531e46f4wx-8>li:before{content:"" counter(lst-ctn-kix_wn531e46f4wx-8,lower-roman) ". "}.lst-kix_ktnmrk6fggmz-2>li:before{content:"\0025a0   "}.lst-kix_umfqnlwbso66-1>li:before{content:"\0025cb   "}.lst-kix_list_26-7>li{counter-increment:lst-ctn-kix_list_26-7}.lst-kix_ktnmrk6fggmz-0>li:before{content:"\0025cf   "}.lst-kix_lqfz53xxujmr-8>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-8}.lst-kix_tqyt4049oqum-1>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-1,lower-latin) ". "}.lst-kix_fna9vqak6p7f-8>li:before{content:"\0025a0   "}ol.lst-kix_lqfz53xxujmr-1{list-style-type:none}ol.lst-kix_lqfz53xxujmr-0{list-style-type:none}ol.lst-kix_lqfz53xxujmr-3{list-style-type:none}.lst-kix_tqyt4049oqum-3>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-3,decimal) ". "}ol.lst-kix_lqfz53xxujmr-2{list-style-type:none}ol.lst-kix_wn531e46f4wx-5.start{counter-reset:lst-ctn-kix_wn531e46f4wx-5 0}ol.lst-kix_lqfz53xxujmr-5{list-style-type:none}ol.lst-kix_lqfz53xxujmr-4{list-style-type:none}ol.lst-kix_lqfz53xxujmr-7{list-style-type:none}ol.lst-kix_lqfz53xxujmr-6{list-style-type:none}ol.lst-kix_lqfz53xxujmr-8{list-style-type:none}.lst-kix_list_26-0>li{counter-increment:lst-ctn-kix_list_26-0}li.li-bullet-2:before{margin-left:-21.6pt;white-space:nowrap;display:inline-block;min-width:21.6pt}.lst-kix_jn6r0vozovk9-8>li:before{content:"" counter(lst-ctn-kix_jn6r0vozovk9-8,lower-roman) ". "}.lst-kix_jn6r0vozovk9-6>li:before{content:"" counter(lst-ctn-kix_jn6r0vozovk9-6,decimal) ". "}.lst-kix_list_16-1>li{counter-increment:lst-ctn-kix_list_16-1}.lst-kix_lqfz53xxujmr-1>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-1}.lst-kix_list_17-5>li{counter-increment:lst-ctn-kix_list_17-5}ol.lst-kix_ul707ohtzd24-8.start{counter-reset:lst-ctn-kix_ul707ohtzd24-8 0}.lst-kix_om3956un8kc0-3>li{counter-increment:lst-ctn-kix_om3956un8kc0-3}ol.lst-kix_wn531e46f4wx-0.start{counter-reset:lst-ctn-kix_wn531e46f4wx-0 0}ul.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_3-8{list-style-type:none}ul.lst-kix_list_3-1{list-style-type:none}ul.lst-kix_list_3-2{list-style-type:none}.lst-kix_tqyt4049oqum-3>li{counter-increment:lst-ctn-kix_tqyt4049oqum-3}ul.lst-kix_list_3-0{list-style-type:none}ul.lst-kix_list_3-5{list-style-type:none}ul.lst-kix_list_3-6{list-style-type:none}ul.lst-kix_list_3-3{list-style-type:none}ul.lst-kix_list_3-4{list-style-type:none}ul.lst-kix_g0hqdl2at9s-2{list-style-type:none}ul.lst-kix_g0hqdl2at9s-3{list-style-type:none}ul.lst-kix_g0hqdl2at9s-0{list-style-type:none}.lst-kix_lqfz53xxujmr-4>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-4,lower-latin) ". "}ul.lst-kix_g0hqdl2at9s-1{list-style-type:none}ol.lst-kix_tqyt4049oqum-8.start{counter-reset:lst-ctn-kix_tqyt4049oqum-8 0}ul.lst-kix_g0hqdl2at9s-6{list-style-type:none}ul.lst-kix_g0hqdl2at9s-7{list-style-type:none}ul.lst-kix_g0hqdl2at9s-4{list-style-type:none}ul.lst-kix_g0hqdl2at9s-5{list-style-type:none}ul.lst-kix_g0hqdl2at9s-8{list-style-type:none}ul.lst-kix_gsmtg2n7sdcx-0{list-style-type:none}ul.lst-kix_gsmtg2n7sdcx-1{list-style-type:none}ul.lst-kix_gsmtg2n7sdcx-2{list-style-type:none}.lst-kix_list_16-8>li{counter-increment:lst-ctn-kix_list_16-8}ul.lst-kix_gsmtg2n7sdcx-3{list-style-type:none}.lst-kix_ktnmrk6fggmz-8>li:before{content:"\0025a0   "}.lst-kix_gsmtg2n7sdcx-3>li:before{content:"\0025cf   "}.lst-kix_ovy3fm37rmlj-4>li:before{content:"\0025cb   "}.lst-kix_gsmtg2n7sdcx-5>li:before{content:"\0025a0   "}ol.lst-kix_list_18-4.start{counter-reset:lst-ctn-kix_list_18-4 0}.lst-kix_list_20-4>li:before{content:"o  "}.lst-kix_v7t8mqxfo0xq-5>li:before{content:"\0025cf   "}.lst-kix_ovy3fm37rmlj-2>li:before{content:"\0025a0   "}ul.lst-kix_gsmtg2n7sdcx-8{list-style-type:none}.lst-kix_list_20-2>li:before{content:"\0025aa   "}ul.lst-kix_gsmtg2n7sdcx-4{list-style-type:none}ul.lst-kix_gsmtg2n7sdcx-5{list-style-type:none}ul.lst-kix_gsmtg2n7sdcx-6{list-style-type:none}.lst-kix_v7t8mqxfo0xq-7>li:before{content:"\0025cf   "}ul.lst-kix_gsmtg2n7sdcx-7{list-style-type:none}ol.lst-kix_ul707ohtzd24-6.start{counter-reset:lst-ctn-kix_ul707ohtzd24-6 0}.lst-kix_lqfz53xxujmr-2>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-2,lower-roman) ". "}ul.lst-kix_list_10-0{list-style-type:none}ol.lst-kix_list_16-8.start{counter-reset:lst-ctn-kix_list_16-8 0}ul.lst-kix_list_10-8{list-style-type:none}ul.lst-kix_list_10-7{list-style-type:none}ul.lst-kix_list_10-6{list-style-type:none}ul.lst-kix_list_10-5{list-style-type:none}ul.lst-kix_list_10-4{list-style-type:none}ul.lst-kix_list_10-3{list-style-type:none}ul.lst-kix_list_10-2{list-style-type:none}ul.lst-kix_list_10-1{list-style-type:none}.lst-kix_laomlx24l8ol-8>li:before{content:"\0025a0   "}.lst-kix_swkzokqpq63-0>li:before{content:"\0025cf   "}.lst-kix_ev3c1abzhvq-7>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-7}.lst-kix_j6untozc7rpm-2>li:before{content:"" counter(lst-ctn-kix_j6untozc7rpm-2,lower-roman) ". "}.lst-kix_25zuex9fsrpn-1>li:before{content:"\0025cb   "}.lst-kix_list_3-2>li:before{content:"\0025a0   "}.lst-kix_q0297iomcqw0-0>li:before{content:"\0025cf   "}.lst-kix_list_8-1>li:before{content:"o  "}.lst-kix_462e54846fbo-2>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-2,lower-roman) ". "}.lst-kix_list_18-0>li{counter-increment:lst-ctn-kix_list_18-0}.lst-kix_l66sndqqeh5i-3>li:before{content:"\0025cf   "}.lst-kix_9xfwu95yhj84-0>li:before{content:"\0025cf   "}.lst-kix_list_30-7>li:before{content:"o  "}ol.lst-kix_wn531e46f4wx-7.start{counter-reset:lst-ctn-kix_wn531e46f4wx-7 0}.lst-kix_cpfx7gaecdgo-0>li:before{content:"\0025cf   "}.lst-kix_9y7u4ra6nu2f-1>li:before{content:"" counter(lst-ctn-kix_9y7u4ra6nu2f-1,lower-latin) ". "}.lst-kix_q0297iomcqw0-8>li:before{content:"\0025a0   "}.lst-kix_16cnflin03zc-6>li:before{content:"\0025cf   "}.lst-kix_list_26-2>li:before{content:"" counter(lst-ctn-kix_list_26-2,lower-roman) ". "}.lst-kix_list_21-6>li:before{content:"\0025cf   "}.lst-kix_vwlh1djah97h-4>li:before{content:"\0025cb   "}.lst-kix_swkzokqpq63-8>li:before{content:"\0025a0   "}.lst-kix_lqfz53xxujmr-5>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-5}.lst-kix_jnzb1kcqssni-1>li{counter-increment:lst-ctn-kix_jnzb1kcqssni-1}ol.lst-kix_list_16-0.start{counter-reset:lst-ctn-kix_list_16-0 0}.lst-kix_mu44woos9jdi-6>li:before{content:"\0025cf   "}ol.lst-kix_list_18-7.start{counter-reset:lst-ctn-kix_list_18-7 0}.lst-kix_om3956un8kc0-6>li{counter-increment:lst-ctn-kix_om3956un8kc0-6}.lst-kix_abt812ykyt01-7>li:before{content:"\0025cb   "}.lst-kix_wcx7cglfpdrv-8>li:before{content:"\0025a0   "}ol.lst-kix_ul707ohtzd24-3.start{counter-reset:lst-ctn-kix_ul707ohtzd24-3 0}.lst-kix_list_17-1>li:before{content:"" counter(lst-ctn-kix_list_17-1,lower-latin) ". "}.lst-kix_xx0koyk92fk7-3>li:before{content:"\0025cf   "}.lst-kix_i16ejyulpnyj-2>li:before{content:"" counter(lst-ctn-kix_i16ejyulpnyj-2,lower-roman) ". "}.lst-kix_fcknsouuy2mw-6>li:before{content:"\0025cf   "}.lst-kix_wcx7cglfpdrv-0>li:before{content:"\0025cf   "}.lst-kix_list_16-5>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) " "}.lst-kix_732lanbzzsxs-1>li:before{content:"\0025cb   "}ol.lst-kix_tqyt4049oqum-3.start{counter-reset:lst-ctn-kix_tqyt4049oqum-3 0}.lst-kix_jnzb1kcqssni-5>li{counter-increment:lst-ctn-kix_jnzb1kcqssni-5}.lst-kix_jnzb1kcqssni-8>li{counter-increment:lst-ctn-kix_jnzb1kcqssni-8}.lst-kix_list_16-4>li{counter-increment:lst-ctn-kix_list_16-4}.lst-kix_ev3c1abzhvq-0>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-0}.lst-kix_3lachvmklkpr-1>li:before{content:"\0025cb   "}ul.lst-kix_q0297iomcqw0-8{list-style-type:none}ul.lst-kix_q0297iomcqw0-7{list-style-type:none}ul.lst-kix_q0297iomcqw0-6{list-style-type:none}ul.lst-kix_q0297iomcqw0-5{list-style-type:none}ul.lst-kix_q0297iomcqw0-4{list-style-type:none}ol.lst-kix_list_16-5.start{counter-reset:lst-ctn-kix_list_16-5 0}.lst-kix_9xfwu95yhj84-8>li:before{content:"\0025a0   "}.lst-kix_qhy0wju04c4n-5>li:before{content:"\0025a0   "}.lst-kix_cpfx7gaecdgo-8>li:before{content:"\0025a0   "}.lst-kix_list_2-6>li:before{content:"" counter(lst-ctn-kix_list_2-6,decimal) ". "}.lst-kix_list_7-5>li:before{content:"\0025aa   "}.lst-kix_list_27-6>li:before{content:"\0025cf   "}.lst-kix_jn6r0vozovk9-4>li{counter-increment:lst-ctn-kix_jn6r0vozovk9-4}.lst-kix_44n6p7c33ui3-8>li:before{content:"\0025a0   "}.lst-kix_list_18-5>li:before{content:"" counter(lst-ctn-kix_list_18-5,decimal) ". "}.lst-kix_list_13-6>li:before{content:"\0025cf   "}.lst-kix_jnhkrhbaqe11-6>li:before{content:"\0025cf   "}.lst-kix_ev3c1abzhvq-7>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-7,lower-latin) ". "}.lst-kix_jnzb1kcqssni-5>li:before{content:"" counter(lst-ctn-kix_jnzb1kcqssni-5,lower-roman) ". "}.lst-kix_ehrpw4rq2afz-2>li:before{content:"\0025a0   "}.lst-kix_list_31-3>li:before{content:"\0025cf   "}.lst-kix_list_10-2>li:before{content:"\0025a0   "}.lst-kix_9yim5cm2a43p-1>li:before{content:"\0025cb   "}.lst-kix_f7m1wa373t12-6>li:before{content:"\0025cf   "}ul.lst-kix_5zlhnqlmzy4t-0{list-style-type:none}.lst-kix_1fioxjrj066s-4>li:before{content:"\0025cb   "}.lst-kix_list_4-6>li:before{content:"\0025cf   "}ul.lst-kix_5zlhnqlmzy4t-3{list-style-type:none}.lst-kix_13un2f53uj0u-4>li:before{content:"\0025cf   "}ul.lst-kix_5zlhnqlmzy4t-4{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-1{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-2{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-7{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-8{list-style-type:none}ul.lst-kix_5zlhnqlmzy4t-5{list-style-type:none}.lst-kix_ul707ohtzd24-4>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-4,lower-latin) ". "}ul.lst-kix_5zlhnqlmzy4t-6{list-style-type:none}.lst-kix_list_25-6>li:before{content:"\0025cf   "}ol.lst-kix_tqyt4049oqum-2.start{counter-reset:lst-ctn-kix_tqyt4049oqum-2 0}.lst-kix_b6e1441h2g8b-2>li:before{content:"\0025a0   "}.lst-kix_list_9-5>li:before{content:"\0025a0   "}.lst-kix_list_29-6>li:before{content:"\0025cf   "}li.li-bullet-5:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_2nzowzum4fkx-2>li:before{content:"\0025a0   "}.lst-kix_list_12-2>li:before{content:"\0025aa   "}.lst-kix_list_11-6>li:before{content:"\0025cf   "}.lst-kix_tysnzt61ui6p-5>li:before{content:"\0025a0   "}.lst-kix_vnhktty4hd60-4>li:before{content:"\0025cb   "}.lst-kix_list_1-2>li:before{content:"\0025aa   "}ul.lst-kix_laomlx24l8ol-0{list-style-type:none}ul.lst-kix_laomlx24l8ol-1{list-style-type:none}ul.lst-kix_laomlx24l8ol-2{list-style-type:none}ul.lst-kix_laomlx24l8ol-3{list-style-type:none}.lst-kix_j6untozc7rpm-8>li{counter-increment:lst-ctn-kix_j6untozc7rpm-8}ul.lst-kix_laomlx24l8ol-4{list-style-type:none}ul.lst-kix_laomlx24l8ol-5{list-style-type:none}ul.lst-kix_laomlx24l8ol-6{list-style-type:none}.lst-kix_list_18-7>li{counter-increment:lst-ctn-kix_list_18-7}ul.lst-kix_laomlx24l8ol-7{list-style-type:none}ol.lst-kix_tqyt4049oqum-0.start{counter-reset:lst-ctn-kix_tqyt4049oqum-0 2}ul.lst-kix_laomlx24l8ol-8{list-style-type:none}.lst-kix_cxi9sli2kvlp-4>li:before{content:"\0025cb   "}.lst-kix_list_28-2>li:before{content:"\0025aa   "}ul.lst-kix_jnhkrhbaqe11-0{list-style-type:none}.lst-kix_list_14-1>li:before{content:"\0025cb   "}.lst-kix_g0hqdl2at9s-2>li:before{content:"\0025a0   "}.lst-kix_list_14-4>li:before{content:"\0025cb   "}.lst-kix_g0hqdl2at9s-3>li:before{content:"\0025cf   "}.lst-kix_list_14-5>li:before{content:"\0025a0   "}.lst-kix_list_14-7>li:before{content:"\0025cb   "}.lst-kix_p16zu2nyfx8k-0>li:before{content:"\0025cf   "}.lst-kix_jnzb1kcqssni-0>li{counter-increment:lst-ctn-kix_jnzb1kcqssni-0}.lst-kix_ul707ohtzd24-3>li{counter-increment:lst-ctn-kix_ul707ohtzd24-3}.lst-kix_p16zu2nyfx8k-2>li:before{content:"\0025a0   "}ul.lst-kix_jnhkrhbaqe11-8{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-7{list-style-type:none}.lst-kix_p16zu2nyfx8k-3>li:before{content:"\0025cf   "}ul.lst-kix_jnhkrhbaqe11-6{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-5{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-4{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-3{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-2{list-style-type:none}ul.lst-kix_jnhkrhbaqe11-1{list-style-type:none}.lst-kix_3bne7i3s1y6e-0>li:before{content:"\0025cf   "}ol.lst-kix_462e54846fbo-7.start{counter-reset:lst-ctn-kix_462e54846fbo-7 0}.lst-kix_list_14-8>li:before{content:"\0025a0   "}.lst-kix_jn6r0vozovk9-1>li{counter-increment:lst-ctn-kix_jn6r0vozovk9-1}ul.lst-kix_lqv7ssenj7fn-1{list-style-type:none}ol.lst-kix_wn531e46f4wx-6{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-2{list-style-type:none}ol.lst-kix_wn531e46f4wx-5{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-3{list-style-type:none}ol.lst-kix_wn531e46f4wx-8{list-style-type:none}.lst-kix_3yg2urdru3ev-5>li:before{content:"\0025a0   "}ul.lst-kix_lqv7ssenj7fn-4{list-style-type:none}ol.lst-kix_wn531e46f4wx-7{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-0{list-style-type:none}ol.lst-kix_wn531e46f4wx-0{list-style-type:none}.lst-kix_3yg2urdru3ev-7>li:before{content:"\0025cb   "}ul.lst-kix_lqv7ssenj7fn-5{list-style-type:none}.lst-kix_list_5-1>li:before{content:"o  "}ol.lst-kix_wn531e46f4wx-2{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-6{list-style-type:none}ol.lst-kix_wn531e46f4wx-1{list-style-type:none}ul.lst-kix_lqv7ssenj7fn-7{list-style-type:none}ol.lst-kix_wn531e46f4wx-4{list-style-type:none}.lst-kix_3yg2urdru3ev-8>li:before{content:"\0025a0   "}ul.lst-kix_lqv7ssenj7fn-8{list-style-type:none}ol.lst-kix_wn531e46f4wx-3{list-style-type:none}.lst-kix_list_5-7>li:before{content:"o  "}ul.lst-kix_list_8-4{list-style-type:none}ul.lst-kix_list_8-5{list-style-type:none}.lst-kix_om3956un8kc0-3>li:before{content:"" counter(lst-ctn-kix_om3956un8kc0-3,decimal) ". "}.lst-kix_list_5-8>li:before{content:"\0025aa   "}ul.lst-kix_list_8-2{list-style-type:none}.lst-kix_a7barqp50qmp-6>li:before{content:"\0025cf   "}ul.lst-kix_list_8-3{list-style-type:none}.lst-kix_om3956un8kc0-4>li:before{content:"" counter(lst-ctn-kix_om3956un8kc0-4,lower-latin) ". "}ul.lst-kix_list_8-8{list-style-type:none}.lst-kix_3bne7i3s1y6e-3>li:before{content:"\0025cf   "}.lst-kix_iv9tlmqkwvr-6>li:before{content:"\0025cf   "}ul.lst-kix_list_8-6{list-style-type:none}ul.lst-kix_list_8-7{list-style-type:none}.lst-kix_om3956un8kc0-6>li:before{content:"" counter(lst-ctn-kix_om3956un8kc0-6,decimal) ". "}.lst-kix_iv9tlmqkwvr-8>li:before{content:"\0025a0   "}.lst-kix_om3956un8kc0-7>li:before{content:"" counter(lst-ctn-kix_om3956un8kc0-7,lower-latin) ". "}.lst-kix_list_5-4>li:before{content:"o  "}.lst-kix_list_5-5>li:before{content:"\0025aa   "}ul.lst-kix_list_8-0{list-style-type:none}ul.lst-kix_list_8-1{list-style-type:none}.lst-kix_list_6-1>li:before{content:"\0025cb   "}.lst-kix_list_6-3>li:before{content:"\0025cf   "}.lst-kix_2q63dbptak0x-3>li:before{content:"\0025cf   "}.lst-kix_3bne7i3s1y6e-6>li:before{content:"\0025cf   "}.lst-kix_list_6-0>li:before{content:"\0025cf   "}.lst-kix_list_6-4>li:before{content:"\0025cb   "}.lst-kix_iv9tlmqkwvr-5>li:before{content:"\0025a0   "}.lst-kix_iv9tlmqkwvr-3>li:before{content:"\0025cf   "}.lst-kix_2q63dbptak0x-7>li:before{content:"\0025cb   "}.lst-kix_g0hqdl2at9s-5>li:before{content:"\0025a0   "}.lst-kix_list_2-5>li{counter-increment:lst-ctn-kix_list_2-5}.lst-kix_iv9tlmqkwvr-2>li:before{content:"\0025a0   "}.lst-kix_2q63dbptak0x-6>li:before{content:"\0025cf   "}.lst-kix_g0hqdl2at9s-6>li:before{content:"\0025cf   "}.lst-kix_list_6-7>li:before{content:"\0025cb   "}.lst-kix_g0hqdl2at9s-8>li:before{content:"\0025a0   "}.lst-kix_list_6-6>li:before{content:"\0025cf   "}ul.lst-kix_a7barqp50qmp-8{list-style-type:none}.lst-kix_44n6p7c33ui3-2>li:before{content:"\0025a0   "}.lst-kix_list_7-6>li:before{content:"\002022   "}.lst-kix_list_18-5>li{counter-increment:lst-ctn-kix_list_18-5}ul.lst-kix_a7barqp50qmp-4{list-style-type:none}.lst-kix_44n6p7c33ui3-5>li:before{content:"\0025a0   "}ul.lst-kix_a7barqp50qmp-5{list-style-type:none}ul.lst-kix_a7barqp50qmp-6{list-style-type:none}ul.lst-kix_a7barqp50qmp-7{list-style-type:none}ul.lst-kix_q0297iomcqw0-3{list-style-type:none}ul.lst-kix_q0297iomcqw0-2{list-style-type:none}ul.lst-kix_q0297iomcqw0-1{list-style-type:none}ul.lst-kix_q0297iomcqw0-0{list-style-type:none}.lst-kix_list_7-2>li:before{content:"\0025aa   "}.lst-kix_5zlhnqlmzy4t-8>li:before{content:"\0025a0   "}.lst-kix_44n6p7c33ui3-0>li:before{content:"\0025cf   "}.lst-kix_w4fcba4ygfgj-2>li:before{content:"\0025a0   "}.lst-kix_lqv7ssenj7fn-6>li:before{content:"\0025cf   "}.lst-kix_5zlhnqlmzy4t-6>li:before{content:"\0025cf   "}.lst-kix_list_31-0>li:before{content:"\0025cf   "}.lst-kix_lqv7ssenj7fn-0>li:before{content:"\0025cf   "}.lst-kix_lqv7ssenj7fn-4>li:before{content:"\0025cb   "}.lst-kix_a7barqp50qmp-0>li:before{content:"\0025cf   "}.lst-kix_ul707ohtzd24-5>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-5,lower-roman) ". "}.lst-kix_ehrpw4rq2afz-3>li:before{content:"\0025cf   "}.lst-kix_w4fcba4ygfgj-8>li:before{content:"\0025a0   "}.lst-kix_list_31-4>li:before{content:"\0025cb   "}.lst-kix_list_15-7>li:before{content:"\0025cb   "}.lst-kix_list_17-7>li{counter-increment:lst-ctn-kix_list_17-7}.lst-kix_list_4-5>li:before{content:"\0025aa   "}.lst-kix_om3956un8kc0-0>li:before{content:"" counter(lst-ctn-kix_om3956un8kc0-0,decimal) ". "}.lst-kix_ul707ohtzd24-1>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-1,lower-latin) ". "}.lst-kix_list_15-1>li:before{content:"\0025cb   "}.lst-kix_a7barqp50qmp-2>li:before{content:"\0025a0   "}.lst-kix_list_15-3>li:before{content:"\0025cf   "}.lst-kix_w4fcba4ygfgj-6>li:before{content:"\0025cf   "}.lst-kix_3yg2urdru3ev-4>li:before{content:"\0025cb   "}ul.lst-kix_44n6p7c33ui3-3{list-style-type:none}ul.lst-kix_44n6p7c33ui3-2{list-style-type:none}ul.lst-kix_44n6p7c33ui3-5{list-style-type:none}ul.lst-kix_44n6p7c33ui3-4{list-style-type:none}.lst-kix_3yg2urdru3ev-2>li:before{content:"\0025a0   "}ul.lst-kix_44n6p7c33ui3-1{list-style-type:none}ul.lst-kix_44n6p7c33ui3-0{list-style-type:none}ol.lst-kix_462e54846fbo-2.start{counter-reset:lst-ctn-kix_462e54846fbo-2 0}.lst-kix_list_12-3>li:before{content:"\002022   "}.lst-kix_list_16-3>li{counter-increment:lst-ctn-kix_list_16-3}ul.lst-kix_44n6p7c33ui3-7{list-style-type:none}ul.lst-kix_44n6p7c33ui3-6{list-style-type:none}ul.lst-kix_44n6p7c33ui3-8{list-style-type:none}.lst-kix_p16zu2nyfx8k-6>li:before{content:"\0025cf   "}.lst-kix_5zlhnqlmzy4t-2>li:before{content:"\0025a0   "}.lst-kix_list_13-5>li:before{content:"\0025aa   "}ul.lst-kix_a7barqp50qmp-0{list-style-type:none}ul.lst-kix_a7barqp50qmp-1{list-style-type:none}ul.lst-kix_a7barqp50qmp-2{list-style-type:none}ul.lst-kix_a7barqp50qmp-3{list-style-type:none}ol.lst-kix_tqyt4049oqum-7.start{counter-reset:lst-ctn-kix_tqyt4049oqum-7 0}ul.lst-kix_3yg2urdru3ev-3{list-style-type:none}.lst-kix_lqfz53xxujmr-7>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-7}ul.lst-kix_3yg2urdru3ev-2{list-style-type:none}ul.lst-kix_3yg2urdru3ev-5{list-style-type:none}ul.lst-kix_3yg2urdru3ev-4{list-style-type:none}.lst-kix_swkzokqpq63-2>li:before{content:"\0025a0   "}.lst-kix_list_30-5>li:before{content:"\0025aa   "}ul.lst-kix_3yg2urdru3ev-0{list-style-type:none}.lst-kix_swkzokqpq63-6>li:before{content:"\0025cf   "}.lst-kix_list_30-1>li:before{content:"o  "}.lst-kix_25zuex9fsrpn-2>li:before{content:"\0025a0   "}.lst-kix_list_3-0>li:before{content:"\0025cf   "}.lst-kix_j6untozc7rpm-0>li{counter-increment:lst-ctn-kix_j6untozc7rpm-0}.lst-kix_list_30-2>li:before{content:"\0025aa   "}.lst-kix_462e54846fbo-1>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-1,lower-latin) ". "}ul.lst-kix_3yg2urdru3ev-7{list-style-type:none}.lst-kix_list_3-3>li:before{content:"\0025cf   "}ul.lst-kix_3yg2urdru3ev-6{list-style-type:none}.lst-kix_l66sndqqeh5i-2>li:before{content:"\0025a0   "}ul.lst-kix_3yg2urdru3ev-8{list-style-type:none}.lst-kix_swkzokqpq63-3>li:before{content:"\0025cf   "}.lst-kix_tysnzt61ui6p-0>li:before{content:"\0025cf   "}ul.lst-kix_list_13-5{list-style-type:none}ul.lst-kix_list_13-4{list-style-type:none}ul.lst-kix_list_13-3{list-style-type:none}ul.lst-kix_list_13-2{list-style-type:none}.lst-kix_tysnzt61ui6p-3>li:before{content:"\0025cf   "}ul.lst-kix_list_13-1{list-style-type:none}ul.lst-kix_list_13-0{list-style-type:none}.lst-kix_l66sndqqeh5i-5>li:before{content:"\0025a0   "}.lst-kix_l66sndqqeh5i-6>li:before{content:"\0025cf   "}.lst-kix_i16ejyulpnyj-2>li{counter-increment:lst-ctn-kix_i16ejyulpnyj-2}ul.lst-kix_list_13-8{list-style-type:none}.lst-kix_list_17-1>li{counter-increment:lst-ctn-kix_list_17-1}.lst-kix_list_11-1>li:before{content:"o  "}ul.lst-kix_list_13-7{list-style-type:none}ul.lst-kix_list_13-6{list-style-type:none}.lst-kix_ul707ohtzd24-2>li{counter-increment:lst-ctn-kix_ul707ohtzd24-2}.lst-kix_list_11-0>li:before{content:"\0025cf   "}.lst-kix_list_8-8>li:before{content:"\0025aa   "}.lst-kix_list_4-8>li:before{content:"\0025aa   "}.lst-kix_abt812ykyt01-6>li:before{content:"\0025cf   "}.lst-kix_list_16-0>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) " "}ul.lst-kix_list_4-8{list-style-type:none}.lst-kix_fcknsouuy2mw-8>li:before{content:"\0025a0   "}ul.lst-kix_list_4-6{list-style-type:none}ul.lst-kix_list_4-7{list-style-type:none}.lst-kix_i16ejyulpnyj-0>li:before{content:"" counter(lst-ctn-kix_i16ejyulpnyj-0,decimal) ". "}ul.lst-kix_list_4-0{list-style-type:none}ul.lst-kix_mu44woos9jdi-1{list-style-type:none}ul.lst-kix_list_4-1{list-style-type:none}ul.lst-kix_mu44woos9jdi-2{list-style-type:none}.lst-kix_list_16-3>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) " "}ul.lst-kix_mu44woos9jdi-0{list-style-type:none}ul.lst-kix_list_4-4{list-style-type:none}ul.lst-kix_mu44woos9jdi-5{list-style-type:none}ul.lst-kix_list_4-5{list-style-type:none}ul.lst-kix_mu44woos9jdi-6{list-style-type:none}ul.lst-kix_list_4-2{list-style-type:none}ul.lst-kix_mu44woos9jdi-3{list-style-type:none}ul.lst-kix_list_4-3{list-style-type:none}ul.lst-kix_mu44woos9jdi-4{list-style-type:none}.lst-kix_9xfwu95yhj84-5>li:before{content:"\0025a0   "}.lst-kix_9xfwu95yhj84-6>li:before{content:"\0025cf   "}ul.lst-kix_mu44woos9jdi-7{list-style-type:none}.lst-kix_jn6r0vozovk9-0>li{counter-increment:lst-ctn-kix_jn6r0vozovk9-0}ul.lst-kix_mu44woos9jdi-8{list-style-type:none}ul.lst-kix_vnhktty4hd60-5{list-style-type:none}ul.lst-kix_vnhktty4hd60-6{list-style-type:none}.lst-kix_9xfwu95yhj84-2>li:before{content:"\0025a0   "}ul.lst-kix_vnhktty4hd60-7{list-style-type:none}ul.lst-kix_vnhktty4hd60-8{list-style-type:none}.lst-kix_list_17-8>li:before{content:"" counter(lst-ctn-kix_list_17-8,lower-roman) ". "}.lst-kix_462e54846fbo-4>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-4,lower-latin) ". "}.lst-kix_462e54846fbo-5>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-5,lower-roman) ". "}ul.lst-kix_vnhktty4hd60-0{list-style-type:none}.lst-kix_cpfx7gaecdgo-7>li:before{content:"\0025cb   "}ul.lst-kix_vnhktty4hd60-1{list-style-type:none}ul.lst-kix_vnhktty4hd60-2{list-style-type:none}ul.lst-kix_vnhktty4hd60-3{list-style-type:none}ul.lst-kix_vnhktty4hd60-4{list-style-type:none}.lst-kix_462e54846fbo-8>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-8,lower-roman) ". "}.lst-kix_list_7-0>li:before{content:"\002022   "}.lst-kix_44n6p7c33ui3-3>li:before{content:"\0025cf   "}.lst-kix_lqv7ssenj7fn-7>li:before{content:"\0025cb   "}.lst-kix_list_2-4>li:before{content:"" counter(lst-ctn-kix_list_2-4,lower-latin) ". "}.lst-kix_44n6p7c33ui3-6>li:before{content:"\0025cf   "}.lst-kix_list_7-3>li:before{content:"\002022   "}.lst-kix_list_13-8>li:before{content:"\0025aa   "}.lst-kix_list_31-1>li:before{content:"\0025cb   "}.lst-kix_list_18-7>li:before{content:"" counter(lst-ctn-kix_list_18-7,decimal) ". "}.lst-kix_lqv7ssenj7fn-3>li:before{content:"\0025cf   "}.lst-kix_5zlhnqlmzy4t-5>li:before{content:"\0025a0   "}.lst-kix_list_15-4>li:before{content:"\0025cb   "}.lst-kix_list_10-4>li:before{content:"\0025cb   "}.lst-kix_list_10-8>li:before{content:"\0025a0   "}.lst-kix_a7barqp50qmp-3>li:before{content:"\0025cf   "}.lst-kix_vnhktty4hd60-2>li:before{content:"\0025a0   "}.lst-kix_13un2f53uj0u-6>li:before{content:"\0025cf   "}.lst-kix_list_15-0>li:before{content:"\0025cf   "}.lst-kix_ul707ohtzd24-2>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-2,lower-roman) ". "}.lst-kix_ehrpw4rq2afz-0>li:before{content:"\0025cf   "}.lst-kix_w4fcba4ygfgj-5>li:before{content:"\0025a0   "}.lst-kix_list_9-7>li:before{content:"\0025cb   "}.lst-kix_list_2-4>li{counter-increment:lst-ctn-kix_list_2-4}.lst-kix_list_29-4>li:before{content:"o  "}.lst-kix_v7t8mqxfo0xq-4>li:before{content:"\0025cf   "}.lst-kix_3yg2urdru3ev-1>li:before{content:"" counter(lst-ctn-kix_3yg2urdru3ev-1,lower-latin) ". "}.lst-kix_list_11-4>li:before{content:"o  "}.lst-kix_v7t8mqxfo0xq-8>li:before{content:"\0025cf   "}.lst-kix_list_29-0>li:before{content:"\0025cf   "}.lst-kix_ktnmrk6fggmz-7>li:before{content:"\0025cb   "}.lst-kix_list_12-0>li:before{content:"\002022   "}.lst-kix_9y7u4ra6nu2f-1>li{counter-increment:lst-ctn-kix_9y7u4ra6nu2f-1}ul.lst-kix_thr9qqed2qck-0{list-style-type:none}.lst-kix_list_1-4>li:before{content:"o  "}ul.lst-kix_thr9qqed2qck-1{list-style-type:none}ul.lst-kix_thr9qqed2qck-2{list-style-type:none}ul.lst-kix_thr9qqed2qck-3{list-style-type:none}ul.lst-kix_thr9qqed2qck-4{list-style-type:none}.lst-kix_wn531e46f4wx-4>li{counter-increment:lst-ctn-kix_wn531e46f4wx-4}ul.lst-kix_thr9qqed2qck-5{list-style-type:none}ul.lst-kix_thr9qqed2qck-6{list-style-type:none}ul.lst-kix_thr9qqed2qck-7{list-style-type:none}ul.lst-kix_thr9qqed2qck-8{list-style-type:none}.lst-kix_om3956un8kc0-5>li{counter-increment:lst-ctn-kix_om3956un8kc0-5}.lst-kix_list_2-0>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) ". "}.lst-kix_list_1-8>li:before{content:"\0025aa   "}.lst-kix_list_19-0>li:before{content:"\0025cf   "}ul.lst-kix_25zuex9fsrpn-7{list-style-type:none}ul.lst-kix_25zuex9fsrpn-6{list-style-type:none}.lst-kix_jn6r0vozovk9-2>li:before{content:"" counter(lst-ctn-kix_jn6r0vozovk9-2,lower-roman) ". "}ul.lst-kix_25zuex9fsrpn-8{list-style-type:none}ul.lst-kix_fcknsouuy2mw-3{list-style-type:none}ul.lst-kix_fcknsouuy2mw-2{list-style-type:none}ul.lst-kix_fcknsouuy2mw-5{list-style-type:none}ul.lst-kix_fcknsouuy2mw-4{list-style-type:none}ul.lst-kix_fcknsouuy2mw-7{list-style-type:none}ul.lst-kix_fcknsouuy2mw-6{list-style-type:none}ul.lst-kix_fcknsouuy2mw-8{list-style-type:none}.lst-kix_xfrwmyc5vjsr-0>li:before{content:"\0025cf   "}.lst-kix_9y7u4ra6nu2f-4>li{counter-increment:lst-ctn-kix_9y7u4ra6nu2f-4}.lst-kix_oy8s3o2zwdoj-2>li:before{content:"\0025a0   "}.lst-kix_fna9vqak6p7f-1>li:before{content:"\0025cb   "}.lst-kix_laomlx24l8ol-3>li:before{content:"\0025cf   "}.lst-kix_xfrwmyc5vjsr-3>li:before{content:"\0025cf   "}.lst-kix_umfqnlwbso66-5>li:before{content:"\0025a0   "}ol.lst-kix_i16ejyulpnyj-8{list-style-type:none}ol.lst-kix_i16ejyulpnyj-7{list-style-type:none}.lst-kix_umfqnlwbso66-2>li:before{content:"\0025a0   "}ol.lst-kix_i16ejyulpnyj-6{list-style-type:none}ol.lst-kix_i16ejyulpnyj-5{list-style-type:none}.lst-kix_wn531e46f4wx-6>li:before{content:"" counter(lst-ctn-kix_wn531e46f4wx-6,decimal) ". "}ol.lst-kix_i16ejyulpnyj-4{list-style-type:none}ol.lst-kix_i16ejyulpnyj-3{list-style-type:none}ol.lst-kix_i16ejyulpnyj-2{list-style-type:none}ol.lst-kix_i16ejyulpnyj-1{list-style-type:none}ol.lst-kix_i16ejyulpnyj-0{list-style-type:none}.lst-kix_fna9vqak6p7f-4>li:before{content:"\0025cb   "}.lst-kix_ktnmrk6fggmz-1>li:before{content:"\0025cb   "}ol.lst-kix_462e54846fbo-1.start{counter-reset:lst-ctn-kix_462e54846fbo-1 0}.lst-kix_ul707ohtzd24-5>li{counter-increment:lst-ctn-kix_ul707ohtzd24-5}.lst-kix_list_19-7>li:before{content:"\0025cb   "}.lst-kix_j6untozc7rpm-3>li{counter-increment:lst-ctn-kix_j6untozc7rpm-3}.lst-kix_gsmtg2n7sdcx-1>li:before{content:"\0025cb   "}.lst-kix_tqyt4049oqum-4>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-4,lower-latin) ". "}.lst-kix_tqyt4049oqum-7>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-7,lower-latin) ". "}.lst-kix_om3956un8kc0-0>li{counter-increment:lst-ctn-kix_om3956un8kc0-0}ol.lst-kix_462e54846fbo-6.start{counter-reset:lst-ctn-kix_462e54846fbo-6 0}.lst-kix_tqyt4049oqum-7>li{counter-increment:lst-ctn-kix_tqyt4049oqum-7}.lst-kix_462e54846fbo-4>li{counter-increment:lst-ctn-kix_462e54846fbo-4}.lst-kix_jn6r0vozovk9-3>li{counter-increment:lst-ctn-kix_jn6r0vozovk9-3}ul.lst-kix_list_31-2{list-style-type:none}ul.lst-kix_list_31-3{list-style-type:none}ul.lst-kix_list_31-4{list-style-type:none}ul.lst-kix_list_31-5{list-style-type:none}ul.lst-kix_list_31-6{list-style-type:none}ul.lst-kix_list_31-7{list-style-type:none}ul.lst-kix_list_31-8{list-style-type:none}.lst-kix_list_18-1>li:before{content:"" counter(lst-ctn-kix_list_18-1,decimal) ". "}ul.lst-kix_list_31-0{list-style-type:none}ul.lst-kix_list_31-1{list-style-type:none}ul.lst-kix_fcknsouuy2mw-1{list-style-type:none}ul.lst-kix_fcknsouuy2mw-0{list-style-type:none}ul.lst-kix_25zuex9fsrpn-3{list-style-type:none}ul.lst-kix_25zuex9fsrpn-2{list-style-type:none}ul.lst-kix_25zuex9fsrpn-5{list-style-type:none}ul.lst-kix_25zuex9fsrpn-4{list-style-type:none}ul.lst-kix_25zuex9fsrpn-1{list-style-type:none}ul.lst-kix_25zuex9fsrpn-0{list-style-type:none}ul.lst-kix_list_22-0{list-style-type:none}ul.lst-kix_list_22-1{list-style-type:none}.lst-kix_list_2-7>li:before{content:"" counter(lst-ctn-kix_list_2-7,lower-latin) ". "}.lst-kix_list_2-7>li{counter-increment:lst-ctn-kix_list_2-7}.lst-kix_j6untozc7rpm-6>li{counter-increment:lst-ctn-kix_j6untozc7rpm-6}ul.lst-kix_list_22-2{list-style-type:none}ul.lst-kix_list_22-3{list-style-type:none}ul.lst-kix_list_22-4{list-style-type:none}ul.lst-kix_list_22-5{list-style-type:none}ul.lst-kix_list_22-6{list-style-type:none}ul.lst-kix_list_22-7{list-style-type:none}.lst-kix_list_27-5>li:before{content:"\0025a0   "}.lst-kix_tqyt4049oqum-4>li{counter-increment:lst-ctn-kix_tqyt4049oqum-4}ul.lst-kix_abt812ykyt01-0{list-style-type:none}.lst-kix_jnzb1kcqssni-4>li:before{content:"" counter(lst-ctn-kix_jnzb1kcqssni-4,lower-latin) ". "}ul.lst-kix_abt812ykyt01-2{list-style-type:none}.lst-kix_list_10-1>li:before{content:"\0025cb   "}.lst-kix_list_18-4>li:before{content:"" counter(lst-ctn-kix_list_18-4,decimal) ". "}ul.lst-kix_abt812ykyt01-1{list-style-type:none}ul.lst-kix_abt812ykyt01-4{list-style-type:none}ul.lst-kix_abt812ykyt01-3{list-style-type:none}ul.lst-kix_list_22-8{list-style-type:none}ul.lst-kix_abt812ykyt01-6{list-style-type:none}ul.lst-kix_abt812ykyt01-5{list-style-type:none}ul.lst-kix_abt812ykyt01-8{list-style-type:none}ul.lst-kix_abt812ykyt01-7{list-style-type:none}.lst-kix_jnzb1kcqssni-6>li{counter-increment:lst-ctn-kix_jnzb1kcqssni-6}ul.lst-kix_9yim5cm2a43p-5{list-style-type:none}ul.lst-kix_9yim5cm2a43p-4{list-style-type:none}ul.lst-kix_9yim5cm2a43p-3{list-style-type:none}ul.lst-kix_9yim5cm2a43p-2{list-style-type:none}.lst-kix_9yim5cm2a43p-0>li:before{content:"\0025cf   "}ul.lst-kix_9yim5cm2a43p-8{list-style-type:none}ul.lst-kix_9yim5cm2a43p-7{list-style-type:none}ul.lst-kix_9yim5cm2a43p-6{list-style-type:none}.lst-kix_fcknsouuy2mw-5>li:before{content:"\0025a0   "}.lst-kix_1fioxjrj066s-5>li:before{content:"\0025a0   "}ul.lst-kix_9yim5cm2a43p-1{list-style-type:none}ul.lst-kix_9yim5cm2a43p-0{list-style-type:none}.lst-kix_lqfz53xxujmr-6>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-6,decimal) ". "}.lst-kix_ev3c1abzhvq-2>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-2}.lst-kix_13un2f53uj0u-3>li:before{content:"\0025cf   "}.lst-kix_list_26-4>li{counter-increment:lst-ctn-kix_list_26-4}.lst-kix_i16ejyulpnyj-5>li{counter-increment:lst-ctn-kix_i16ejyulpnyj-5}.lst-kix_list_20-8>li:before{content:"\0025aa   "}.lst-kix_list_29-7>li:before{content:"o  "}.lst-kix_v7t8mqxfo0xq-1>li:before{content:"\0025cf   "}.lst-kix_list_9-4>li:before{content:"\0025cb   "}.lst-kix_b6e1441h2g8b-1>li:before{content:"\0025cb   "}.lst-kix_ktnmrk6fggmz-4>li:before{content:"\0025cb   "}.lst-kix_gsmtg2n7sdcx-7>li:before{content:"\0025cb   "}.lst-kix_lqfz53xxujmr-0>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-0,decimal) ". "}.lst-kix_2nzowzum4fkx-1>li:before{content:"\0025cb   "}.lst-kix_list_1-1>li:before{content:"o  "}.lst-kix_list_11-7>li:before{content:"o  "}.lst-kix_tysnzt61ui6p-6>li:before{content:"\0025cf   "}.lst-kix_vnhktty4hd60-5>li:before{content:"\0025a0   "}.lst-kix_oy8s3o2zwdoj-8>li:before{content:"\0025a0   "}ol.lst-kix_462e54846fbo-3.start{counter-reset:lst-ctn-kix_462e54846fbo-3 0}.lst-kix_om3956un8kc0-8>li{counter-increment:lst-ctn-kix_om3956un8kc0-8}.lst-kix_laomlx24l8ol-6>li:before{content:"\0025cf   "}.lst-kix_ovy3fm37rmlj-8>li:before{content:"\0025a0   "}.lst-kix_list_28-1>li:before{content:"o  "}.lst-kix_list_30-8>li:before{content:"\0025aa   "}ul.lst-kix_ehrpw4rq2afz-8{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-7{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-6{list-style-type:none}.lst-kix_25zuex9fsrpn-8>li:before{content:"\0025a0   "}ul.lst-kix_ehrpw4rq2afz-5{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-4{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-3{list-style-type:none}.lst-kix_cpfx7gaecdgo-4>li:before{content:"\0025cb   "}ul.lst-kix_ehrpw4rq2afz-2{list-style-type:none}ul.lst-kix_ehrpw4rq2afz-1{list-style-type:none}.lst-kix_list_26-6>li:before{content:"" counter(lst-ctn-kix_list_26-6,decimal) ". "}.lst-kix_list_8-2>li:before{content:"\0025aa   "}.lst-kix_cpfx7gaecdgo-1>li:before{content:"\0025cb   "}.lst-kix_vwlh1djah97h-8>li:before{content:"\0025a0   "}.lst-kix_25zuex9fsrpn-5>li:before{content:"\0025a0   "}.lst-kix_list_8-5>li:before{content:"\0025aa   "}.lst-kix_mu44woos9jdi-5>li:before{content:"\0025a0   "}.lst-kix_list_26-3>li:before{content:"" counter(lst-ctn-kix_list_26-3,decimal) ". "}.lst-kix_list_3-6>li:before{content:"\0025cf   "}.lst-kix_list_21-7>li:before{content:"o  "}ul.lst-kix_ehrpw4rq2afz-0{list-style-type:none}.lst-kix_ev3c1abzhvq-5>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-5}.lst-kix_q0297iomcqw0-4>li:before{content:"\0025cb   "}.lst-kix_16cnflin03zc-2>li:before{content:"\0025a0   "}.lst-kix_q0297iomcqw0-7>li:before{content:"\0025cb   "}ol.lst-kix_462e54846fbo-4.start{counter-reset:lst-ctn-kix_462e54846fbo-4 0}.lst-kix_wcx7cglfpdrv-7>li:before{content:"\0025cb   "}.lst-kix_list_16-6>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) "." counter(lst-ctn-kix_list_16-6,decimal) " "}.lst-kix_wcx7cglfpdrv-4>li:before{content:"\0025cb   "}.lst-kix_list_18-2>li{counter-increment:lst-ctn-kix_list_18-2}.lst-kix_i16ejyulpnyj-3>li:before{content:"" counter(lst-ctn-kix_i16ejyulpnyj-3,decimal) ". "}.lst-kix_mu44woos9jdi-2>li:before{content:"\0025a0   "}ol.lst-kix_462e54846fbo-5.start{counter-reset:lst-ctn-kix_462e54846fbo-5 0}.lst-kix_732lanbzzsxs-2>li:before{content:"\0025a0   "}.lst-kix_9y7u4ra6nu2f-2>li:before{content:"" counter(lst-ctn-kix_9y7u4ra6nu2f-2,lower-roman) ". "}ol.lst-kix_ev3c1abzhvq-1{list-style-type:none}ol.lst-kix_ev3c1abzhvq-2{list-style-type:none}ol.lst-kix_ev3c1abzhvq-3{list-style-type:none}ol.lst-kix_ev3c1abzhvq-4{list-style-type:none}ol.lst-kix_ev3c1abzhvq-5{list-style-type:none}ol.lst-kix_ev3c1abzhvq-6{list-style-type:none}ol.lst-kix_ev3c1abzhvq-7{list-style-type:none}ol.lst-kix_ev3c1abzhvq-8{list-style-type:none}.lst-kix_9y7u4ra6nu2f-5>li:before{content:"" counter(lst-ctn-kix_9y7u4ra6nu2f-5,lower-roman) ". "}.lst-kix_462e54846fbo-7>li{counter-increment:lst-ctn-kix_462e54846fbo-7}.lst-kix_732lanbzzsxs-5>li:before{content:"\0025a0   "}.lst-kix_3lachvmklkpr-0>li:before{content:"\0025cf   "}ol.lst-kix_ev3c1abzhvq-0{list-style-type:none}.lst-kix_abt812ykyt01-0>li:before{content:"\0025cf   "}.lst-kix_list_17-2>li:before{content:"" counter(lst-ctn-kix_list_17-2,lower-roman) ". "}.lst-kix_tqyt4049oqum-1>li{counter-increment:lst-ctn-kix_tqyt4049oqum-1}.lst-kix_abt812ykyt01-3>li:before{content:"\0025cf   "}.lst-kix_list_17-5>li:before{content:"" counter(lst-ctn-kix_list_17-5,lower-roman) ". "}ul.lst-kix_2nzowzum4fkx-3{list-style-type:none}ul.lst-kix_2nzowzum4fkx-2{list-style-type:none}.lst-kix_list_27-2>li:before{content:"\0025a0   "}ul.lst-kix_2nzowzum4fkx-5{list-style-type:none}ul.lst-kix_2nzowzum4fkx-4{list-style-type:none}.lst-kix_list_22-3>li:before{content:"\0025cf   "}.lst-kix_jnhkrhbaqe11-2>li:before{content:"\0025a0   "}ul.lst-kix_2nzowzum4fkx-1{list-style-type:none}ul.lst-kix_2nzowzum4fkx-0{list-style-type:none}.lst-kix_bupw68uclqhs-2>li:before{content:"\0025a0   "}.lst-kix_cxi9sli2kvlp-8>li:before{content:"\0025a0   "}.lst-kix_ev3c1abzhvq-3>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-3,decimal) ". "}.lst-kix_jnzb1kcqssni-1>li:before{content:"" counter(lst-ctn-kix_jnzb1kcqssni-1,lower-latin) ". "}ol.lst-kix_462e54846fbo-8.start{counter-reset:lst-ctn-kix_462e54846fbo-8 0}.lst-kix_1fioxjrj066s-8>li:before{content:"\0025a0   "}.lst-kix_list_16-6>li{counter-increment:lst-ctn-kix_list_16-6}ul.lst-kix_2nzowzum4fkx-7{list-style-type:none}ul.lst-kix_2nzowzum4fkx-6{list-style-type:none}.lst-kix_2q63dbptak0x-0>li:before{content:"\0025cf   "}ul.lst-kix_2nzowzum4fkx-8{list-style-type:none}.lst-kix_list_31-7>li:before{content:"\0025cb   "}.lst-kix_jn6r0vozovk9-6>li{counter-increment:lst-ctn-kix_jn6r0vozovk9-6}.lst-kix_abwpot8mtzc7-5>li:before{content:"\0025a0   "}.lst-kix_ul707ohtzd24-8>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-8,lower-roman) ". "}.lst-kix_fcknsouuy2mw-2>li:before{content:"\0025a0   "}.lst-kix_ehrpw4rq2afz-6>li:before{content:"\0025cf   "}.lst-kix_i16ejyulpnyj-6>li:before{content:"" counter(lst-ctn-kix_i16ejyulpnyj-6,decimal) ". "}.lst-kix_list_17-4>li{counter-increment:lst-ctn-kix_list_17-4}.lst-kix_list_4-2>li:before{content:"\0025aa   "}.lst-kix_13un2f53uj0u-0>li:before{content:"\0025cf   "}.lst-kix_i16ejyulpnyj-8>li{counter-increment:lst-ctn-kix_i16ejyulpnyj-8}.lst-kix_ul707ohtzd24-8>li{counter-increment:lst-ctn-kix_ul707ohtzd24-8}.lst-kix_list_26-1>li{counter-increment:lst-ctn-kix_list_26-1}.lst-kix_list_9-1>li:before{content:"\0025cb   "}.lst-kix_gsmtg2n7sdcx-4>li:before{content:"\0025cb   "}.lst-kix_9y7u4ra6nu2f-7>li{counter-increment:lst-ctn-kix_9y7u4ra6nu2f-7}.lst-kix_jnzb1kcqssni-3>li{counter-increment:lst-ctn-kix_jnzb1kcqssni-3}.lst-kix_lqfz53xxujmr-3>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-3,decimal) ". "}.lst-kix_oy8s3o2zwdoj-5>li:before{content:"\0025a0   "}ul.lst-kix_b6e1441h2g8b-2{list-style-type:none}ul.lst-kix_b6e1441h2g8b-1{list-style-type:none}ul.lst-kix_b6e1441h2g8b-0{list-style-type:none}ul.lst-kix_b6e1441h2g8b-6{list-style-type:none}ul.lst-kix_b6e1441h2g8b-5{list-style-type:none}ul.lst-kix_b6e1441h2g8b-4{list-style-type:none}ul.lst-kix_b6e1441h2g8b-3{list-style-type:none}.lst-kix_vnhktty4hd60-8>li:before{content:"\0025a0   "}ul.lst-kix_b6e1441h2g8b-8{list-style-type:none}ul.lst-kix_b6e1441h2g8b-7{list-style-type:none}.lst-kix_list_12-6>li:before{content:"\002022   "}.lst-kix_list_13-2>li:before{content:"\0025aa   "}.lst-kix_list_2-1>li{counter-increment:lst-ctn-kix_list_2-1}ul.lst-kix_list_9-3{list-style-type:none}ul.lst-kix_list_9-4{list-style-type:none}ul.lst-kix_list_9-1{list-style-type:none}ul.lst-kix_list_9-2{list-style-type:none}ul.lst-kix_list_9-7{list-style-type:none}ul.lst-kix_list_9-8{list-style-type:none}ul.lst-kix_list_9-5{list-style-type:none}ul.lst-kix_list_9-6{list-style-type:none}ul.lst-kix_list_9-0{list-style-type:none}.lst-kix_thr9qqed2qck-7>li:before{content:"\0025cb   "}.lst-kix_ev3c1abzhvq-8>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-8}.lst-kix_thr9qqed2qck-1>li:before{content:"\0025cb   "}.lst-kix_thr9qqed2qck-3>li:before{content:"\0025cf   "}.lst-kix_en1lryfxcqe9-5>li:before{content:"\0025a0   "}.lst-kix_list_18-8>li{counter-increment:lst-ctn-kix_list_18-8}.lst-kix_thr9qqed2qck-5>li:before{content:"\0025a0   "}ol.lst-kix_list_26-7.start{counter-reset:lst-ctn-kix_list_26-7 0}.lst-kix_en1lryfxcqe9-7>li:before{content:"\0025cb   "}.lst-kix_list_24-7>li:before{content:"o  "}.lst-kix_wn531e46f4wx-0>li{counter-increment:lst-ctn-kix_wn531e46f4wx-0}.lst-kix_a9v8vu6eq4jw-1>li:before{content:"\0025cb   "}.lst-kix_list_24-3>li:before{content:"\0025cf   "}.lst-kix_list_24-5>li:before{content:"\0025aa   "}ol.lst-kix_list_16-4.start{counter-reset:lst-ctn-kix_list_16-4 0}.lst-kix_a9v8vu6eq4jw-7>li:before{content:"\0025cb   "}ul.lst-kix_abwpot8mtzc7-1{list-style-type:none}ul.lst-kix_abwpot8mtzc7-2{list-style-type:none}ul.lst-kix_abwpot8mtzc7-0{list-style-type:none}.lst-kix_a9v8vu6eq4jw-5>li:before{content:"\0025a0   "}.lst-kix_list_23-3>li:before{content:"\0025a0   "}.lst-kix_list_23-7>li:before{content:"\0025cb   "}.lst-kix_a9v8vu6eq4jw-3>li:before{content:"\0025cf   "}.lst-kix_list_23-1>li:before{content:"\0025cb   "}.lst-kix_list_24-1>li:before{content:"o  "}.lst-kix_list_2-8>li{counter-increment:lst-ctn-kix_list_2-8}ol.lst-kix_list_26-2.start{counter-reset:lst-ctn-kix_list_26-2 0}ul.lst-kix_abwpot8mtzc7-7{list-style-type:none}ul.lst-kix_abwpot8mtzc7-8{list-style-type:none}ul.lst-kix_abwpot8mtzc7-5{list-style-type:none}ul.lst-kix_abwpot8mtzc7-6{list-style-type:none}ul.lst-kix_abwpot8mtzc7-3{list-style-type:none}.lst-kix_list_23-5>li:before{content:"\0025a0   "}ul.lst-kix_abwpot8mtzc7-4{list-style-type:none}.lst-kix_ev3c1abzhvq-2>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-2,lower-roman) ". "}.lst-kix_jnhkrhbaqe11-1>li:before{content:"\0025cb   "}.lst-kix_ev3c1abzhvq-0>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-0,decimal) ". "}.lst-kix_ev3c1abzhvq-4>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-4,lower-latin) ". "}ol.lst-kix_jn6r0vozovk9-0{list-style-type:none}.lst-kix_jnhkrhbaqe11-3>li:before{content:"\0025cf   "}.lst-kix_jnhkrhbaqe11-5>li:before{content:"\0025a0   "}ul.lst-kix_cpfx7gaecdgo-5{list-style-type:none}.lst-kix_cxi9sli2kvlp-7>li:before{content:"\0025cb   "}ul.lst-kix_cpfx7gaecdgo-6{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-7{list-style-type:none}.lst-kix_i16ejyulpnyj-7>li{counter-increment:lst-ctn-kix_i16ejyulpnyj-7}ul.lst-kix_cpfx7gaecdgo-8{list-style-type:none}ol.lst-kix_462e54846fbo-0.start{counter-reset:lst-ctn-kix_462e54846fbo-0 0}.lst-kix_jnhkrhbaqe11-7>li:before{content:"\0025cb   "}.lst-kix_ev3c1abzhvq-8>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-8,lower-roman) ". "}.lst-kix_ev3c1abzhvq-6>li:before{content:"" counter(lst-ctn-kix_ev3c1abzhvq-6,decimal) ". "}.lst-kix_ev3c1abzhvq-1>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-1}ol.lst-kix_462e54846fbo-7{list-style-type:none}ol.lst-kix_462e54846fbo-6{list-style-type:none}ol.lst-kix_462e54846fbo-8{list-style-type:none}.lst-kix_f7m1wa373t12-7>li:before{content:"\0025cb   "}ol.lst-kix_462e54846fbo-3{list-style-type:none}ol.lst-kix_462e54846fbo-2{list-style-type:none}ol.lst-kix_462e54846fbo-5{list-style-type:none}ol.lst-kix_462e54846fbo-4{list-style-type:none}.lst-kix_f7m1wa373t12-5>li:before{content:"\0025a0   "}ol.lst-kix_462e54846fbo-1{list-style-type:none}ol.lst-kix_462e54846fbo-0{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-1{list-style-type:none}.lst-kix_f7m1wa373t12-1>li:before{content:"\0025cb   "}ol.lst-kix_jn6r0vozovk9-7{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-2{list-style-type:none}ol.lst-kix_jn6r0vozovk9-8{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-3{list-style-type:none}.lst-kix_462e54846fbo-3>li{counter-increment:lst-ctn-kix_462e54846fbo-3}ol.lst-kix_jn6r0vozovk9-5{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-4{list-style-type:none}ol.lst-kix_jn6r0vozovk9-6{list-style-type:none}.lst-kix_f7m1wa373t12-3>li:before{content:"\0025cf   "}ol.lst-kix_jn6r0vozovk9-3{list-style-type:none}.lst-kix_list_25-5>li:before{content:"\0025a0   "}ol.lst-kix_jn6r0vozovk9-4{list-style-type:none}ol.lst-kix_jn6r0vozovk9-1{list-style-type:none}ul.lst-kix_cpfx7gaecdgo-0{list-style-type:none}ol.lst-kix_jn6r0vozovk9-2{list-style-type:none}.lst-kix_list_25-7>li:before{content:"\0025cb   "}ol.lst-kix_list_18-3.start{counter-reset:lst-ctn-kix_list_18-3 0}ol.lst-kix_9y7u4ra6nu2f-7.start{counter-reset:lst-ctn-kix_9y7u4ra6nu2f-7 0}ol.lst-kix_list_18-7{list-style-type:none}ol.lst-kix_list_18-8{list-style-type:none}ol.lst-kix_list_18-3{list-style-type:none}ol.lst-kix_list_18-4{list-style-type:none}ol.lst-kix_list_18-5{list-style-type:none}ol.lst-kix_list_18-6{list-style-type:none}ul.lst-kix_list_29-0{list-style-type:none}ol.lst-kix_list_18-0{list-style-type:none}ol.lst-kix_list_18-1{list-style-type:none}ol.lst-kix_list_18-2{list-style-type:none}ol.lst-kix_jn6r0vozovk9-7.start{counter-reset:lst-ctn-kix_jn6r0vozovk9-7 0}ul.lst-kix_list_29-1{list-style-type:none}ul.lst-kix_list_29-2{list-style-type:none}ul.lst-kix_list_29-3{list-style-type:none}ul.lst-kix_list_29-4{list-style-type:none}ul.lst-kix_list_29-5{list-style-type:none}ul.lst-kix_list_29-6{list-style-type:none}ul.lst-kix_list_29-7{list-style-type:none}ul.lst-kix_list_29-8{list-style-type:none}ol.lst-kix_ul707ohtzd24-7.start{counter-reset:lst-ctn-kix_ul707ohtzd24-7 0}.lst-kix_wn531e46f4wx-7>li{counter-increment:lst-ctn-kix_wn531e46f4wx-7}.lst-kix_cxi9sli2kvlp-1>li:before{content:"\0025cb   "}.lst-kix_j6untozc7rpm-5>li{counter-increment:lst-ctn-kix_j6untozc7rpm-5}.lst-kix_cxi9sli2kvlp-5>li:before{content:"\0025a0   "}ol.lst-kix_j6untozc7rpm-4.start{counter-reset:lst-ctn-kix_j6untozc7rpm-4 0}.lst-kix_om3956un8kc0-2>li{counter-increment:lst-ctn-kix_om3956un8kc0-2}.lst-kix_cxi9sli2kvlp-3>li:before{content:"\0025cf   "}ol.lst-kix_om3956un8kc0-7{list-style-type:none}ol.lst-kix_om3956un8kc0-8{list-style-type:none}ol.lst-kix_om3956un8kc0-5{list-style-type:none}ol.lst-kix_om3956un8kc0-6{list-style-type:none}ol.lst-kix_om3956un8kc0-3{list-style-type:none}ol.lst-kix_om3956un8kc0-4{list-style-type:none}ol.lst-kix_om3956un8kc0-1{list-style-type:none}ol.lst-kix_om3956un8kc0-2{list-style-type:none}ol.lst-kix_om3956un8kc0-0{list-style-type:none}.lst-kix_j6untozc7rpm-1>li:before{content:"" counter(lst-ctn-kix_j6untozc7rpm-1,lower-latin) ". "}ul.lst-kix_list_5-7{list-style-type:none}ul.lst-kix_list_5-8{list-style-type:none}.lst-kix_q0297iomcqw0-1>li:before{content:"\0025cb   "}ul.lst-kix_list_5-5{list-style-type:none}ul.lst-kix_list_5-6{list-style-type:none}.lst-kix_list_16-0>li{counter-increment:lst-ctn-kix_list_16-0}.lst-kix_list_26-5>li:before{content:"" counter(lst-ctn-kix_list_26-5,lower-roman) ". "}.lst-kix_3lachvmklkpr-6>li:before{content:"\0025cf   "}ul.lst-kix_list_5-0{list-style-type:none}.lst-kix_i16ejyulpnyj-0>li{counter-increment:lst-ctn-kix_i16ejyulpnyj-0}ul.lst-kix_list_5-3{list-style-type:none}ul.lst-kix_list_5-4{list-style-type:none}ul.lst-kix_list_5-1{list-style-type:none}ul.lst-kix_list_5-2{list-style-type:none}.lst-kix_list_26-1>li:before{content:"" counter(lst-ctn-kix_list_26-1,lower-latin) ". "}.lst-kix_732lanbzzsxs-0>li:before{content:"\0025cf   "}.lst-kix_9y7u4ra6nu2f-0>li:before{content:"" counter(lst-ctn-kix_9y7u4ra6nu2f-0,decimal) ". "}.lst-kix_list_21-1>li:before{content:"o  "}.lst-kix_16cnflin03zc-5>li:before{content:"\0025a0   "}.lst-kix_vwlh1djah97h-5>li:before{content:"\0025a0   "}.lst-kix_mu44woos9jdi-3>li:before{content:"\0025cf   "}ol.lst-kix_om3956un8kc0-6.start{counter-reset:lst-ctn-kix_om3956un8kc0-6 0}.lst-kix_16cnflin03zc-1>li:before{content:"\0025cb   "}.lst-kix_vwlh1djah97h-1>li:before{content:"\0025cb   "}.lst-kix_list_21-5>li:before{content:"\0025aa   "}ol.lst-kix_wn531e46f4wx-1.start{counter-reset:lst-ctn-kix_wn531e46f4wx-1 0}.lst-kix_q0297iomcqw0-5>li:before{content:"\0025a0   "}.lst-kix_j6untozc7rpm-5>li:before{content:"" counter(lst-ctn-kix_j6untozc7rpm-5,lower-roman) ". "}.lst-kix_mu44woos9jdi-7>li:before{content:"\0025cb   "}.lst-kix_wcx7cglfpdrv-5>li:before{content:"\0025a0   "}.lst-kix_xx0koyk92fk7-0>li:before{content:"\0025cf   "}ul.lst-kix_bupw68uclqhs-7{list-style-type:none}ul.lst-kix_bupw68uclqhs-8{list-style-type:none}.lst-kix_xx0koyk92fk7-4>li:before{content:"\0025cb   "}.lst-kix_wcx7cglfpdrv-1>li:before{content:"\0025cb   "}.lst-kix_list_25-1>li:before{content:"\0025cb   "}ul.lst-kix_63oqrsr2ial6-1{list-style-type:none}.lst-kix_3lachvmklkpr-2>li:before{content:"\0025a0   "}ul.lst-kix_63oqrsr2ial6-2{list-style-type:none}ul.lst-kix_63oqrsr2ial6-0{list-style-type:none}ul.lst-kix_63oqrsr2ial6-5{list-style-type:none}ul.lst-kix_63oqrsr2ial6-6{list-style-type:none}ul.lst-kix_63oqrsr2ial6-3{list-style-type:none}.lst-kix_732lanbzzsxs-4>li:before{content:"\0025cb   "}.lst-kix_9y7u4ra6nu2f-4>li:before{content:"" counter(lst-ctn-kix_9y7u4ra6nu2f-4,lower-latin) ". "}ul.lst-kix_63oqrsr2ial6-4{list-style-type:none}ul.lst-kix_list_12-6{list-style-type:none}ul.lst-kix_list_12-5{list-style-type:none}ul.lst-kix_list_12-4{list-style-type:none}ul.lst-kix_63oqrsr2ial6-7{list-style-type:none}ul.lst-kix_list_12-3{list-style-type:none}ul.lst-kix_63oqrsr2ial6-8{list-style-type:none}ul.lst-kix_list_12-2{list-style-type:none}.lst-kix_list_16-7>li{counter-increment:lst-ctn-kix_list_16-7}ol.lst-kix_j6untozc7rpm-8{list-style-type:none}ul.lst-kix_list_12-1{list-style-type:none}ul.lst-kix_list_12-0{list-style-type:none}ol.lst-kix_j6untozc7rpm-6{list-style-type:none}ol.lst-kix_j6untozc7rpm-7{list-style-type:none}ul.lst-kix_bupw68uclqhs-5{list-style-type:none}ul.lst-kix_bupw68uclqhs-6{list-style-type:none}.lst-kix_qhy0wju04c4n-6>li:before{content:"\0025cf   "}ul.lst-kix_bupw68uclqhs-3{list-style-type:none}ul.lst-kix_bupw68uclqhs-4{list-style-type:none}ul.lst-kix_bupw68uclqhs-1{list-style-type:none}ul.lst-kix_bupw68uclqhs-2{list-style-type:none}ul.lst-kix_list_12-8{list-style-type:none}.lst-kix_732lanbzzsxs-8>li:before{content:"\0025a0   "}ul.lst-kix_list_12-7{list-style-type:none}ul.lst-kix_bupw68uclqhs-0{list-style-type:none}.lst-kix_9y7u4ra6nu2f-8>li:before{content:"" counter(lst-ctn-kix_9y7u4ra6nu2f-8,lower-roman) ". "}.lst-kix_list_16-5>li{counter-increment:lst-ctn-kix_list_16-5}.lst-kix_list_22-5>li:before{content:"\0025aa   "}.lst-kix_bupw68uclqhs-4>li:before{content:"\0025cb   "}.lst-kix_bupw68uclqhs-8>li:before{content:"\0025a0   "}.lst-kix_7g5ij6v74lx-4>li:before{content:"\0025cb   "}.lst-kix_7g5ij6v74lx-8>li:before{content:"\0025a0   "}ol.lst-kix_i16ejyulpnyj-4.start{counter-reset:lst-ctn-kix_i16ejyulpnyj-4 0}.lst-kix_list_22-1>li:before{content:"o  "}ul.lst-kix_9xfwu95yhj84-4{list-style-type:none}ol.lst-kix_j6untozc7rpm-4{list-style-type:none}ul.lst-kix_9xfwu95yhj84-3{list-style-type:none}ol.lst-kix_j6untozc7rpm-5{list-style-type:none}ul.lst-kix_9xfwu95yhj84-6{list-style-type:none}ol.lst-kix_j6untozc7rpm-2{list-style-type:none}ul.lst-kix_9xfwu95yhj84-5{list-style-type:none}ol.lst-kix_j6untozc7rpm-3{list-style-type:none}ul.lst-kix_9xfwu95yhj84-8{list-style-type:none}ol.lst-kix_j6untozc7rpm-0{list-style-type:none}ul.lst-kix_9xfwu95yhj84-7{list-style-type:none}ol.lst-kix_j6untozc7rpm-1{list-style-type:none}.lst-kix_7g5ij6v74lx-0>li:before{content:"\0025cf   "}ul.lst-kix_9xfwu95yhj84-0{list-style-type:none}ul.lst-kix_9xfwu95yhj84-2{list-style-type:none}ul.lst-kix_9xfwu95yhj84-1{list-style-type:none}.lst-kix_abwpot8mtzc7-3>li:before{content:"\0025cf   "}.lst-kix_abwpot8mtzc7-7>li:before{content:"\0025cb   "}.lst-kix_xx0koyk92fk7-8>li:before{content:"\0025a0   "}li.li-bullet-3:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}ol.lst-kix_list_2-2.start{counter-reset:lst-ctn-kix_list_2-2 0}.lst-kix_bupw68uclqhs-0>li:before{content:"\0025cf   "}.lst-kix_jnzb1kcqssni-4>li{counter-increment:lst-ctn-kix_jnzb1kcqssni-4}ol.lst-kix_jnzb1kcqssni-2.start{counter-reset:lst-ctn-kix_jnzb1kcqssni-2 0}.lst-kix_lqfz53xxujmr-2>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-2}ul.lst-kix_1fioxjrj066s-1{list-style-type:none}ul.lst-kix_1fioxjrj066s-2{list-style-type:none}.lst-kix_63oqrsr2ial6-6>li:before{content:"\0025cf   "}.lst-kix_ovy3fm37rmlj-5>li:before{content:"\0025a0   "}ul.lst-kix_1fioxjrj066s-3{list-style-type:none}ul.lst-kix_1fioxjrj066s-4{list-style-type:none}ul.lst-kix_list_25-0{list-style-type:none}ul.lst-kix_1fioxjrj066s-5{list-style-type:none}ol.lst-kix_jnzb1kcqssni-0.start{counter-reset:lst-ctn-kix_jnzb1kcqssni-0 0}ul.lst-kix_list_25-1{list-style-type:none}ul.lst-kix_1fioxjrj066s-6{list-style-type:none}ul.lst-kix_list_25-2{list-style-type:none}ul.lst-kix_1fioxjrj066s-7{list-style-type:none}ul.lst-kix_list_25-3{list-style-type:none}ul.lst-kix_1fioxjrj066s-8{list-style-type:none}ul.lst-kix_list_25-4{list-style-type:none}.lst-kix_en1lryfxcqe9-3>li:before{content:"\0025cf   "}ul.lst-kix_1fioxjrj066s-0{list-style-type:none}ul.lst-kix_3lachvmklkpr-0{list-style-type:none}.lst-kix_list_20-5>li:before{content:"\0025aa   "}ul.lst-kix_list_25-5{list-style-type:none}.lst-kix_63oqrsr2ial6-2>li:before{content:"\0025a0   "}ul.lst-kix_3lachvmklkpr-7{list-style-type:none}ul.lst-kix_list_25-6{list-style-type:none}ul.lst-kix_3lachvmklkpr-8{list-style-type:none}.lst-kix_ovy3fm37rmlj-1>li:before{content:"\0025cb   "}.lst-kix_list_20-1>li:before{content:"o  "}ul.lst-kix_list_25-7{list-style-type:none}ul.lst-kix_3lachvmklkpr-5{list-style-type:none}ul.lst-kix_list_25-8{list-style-type:none}ul.lst-kix_3lachvmklkpr-6{list-style-type:none}ul.lst-kix_3lachvmklkpr-3{list-style-type:none}ul.lst-kix_3lachvmklkpr-4{list-style-type:none}ul.lst-kix_3lachvmklkpr-1{list-style-type:none}ul.lst-kix_3lachvmklkpr-2{list-style-type:none}ul.lst-kix_xx0koyk92fk7-8{list-style-type:none}ul.lst-kix_xx0koyk92fk7-6{list-style-type:none}ul.lst-kix_xx0koyk92fk7-7{list-style-type:none}.lst-kix_dh16vo1krifc-1>li:before{content:"\0025cb   "}ul.lst-kix_xx0koyk92fk7-0{list-style-type:none}ul.lst-kix_xx0koyk92fk7-1{list-style-type:none}ul.lst-kix_xx0koyk92fk7-4{list-style-type:none}.lst-kix_umfqnlwbso66-8>li:before{content:"\0025a0   "}ol.lst-kix_om3956un8kc0-1.start{counter-reset:lst-ctn-kix_om3956un8kc0-1 0}ul.lst-kix_xx0koyk92fk7-5{list-style-type:none}ul.lst-kix_xx0koyk92fk7-2{list-style-type:none}ul.lst-kix_xx0koyk92fk7-3{list-style-type:none}.lst-kix_dh16vo1krifc-5>li:before{content:"\0025a0   "}.lst-kix_list_18-1>li{counter-increment:lst-ctn-kix_list_18-1}.lst-kix_jn6r0vozovk9-5>li{counter-increment:lst-ctn-kix_jn6r0vozovk9-5}ol.lst-kix_i16ejyulpnyj-6.start{counter-reset:lst-ctn-kix_i16ejyulpnyj-6 0}ul.lst-kix_list_1-0{list-style-type:none}.lst-kix_462e54846fbo-8>li{counter-increment:lst-ctn-kix_462e54846fbo-8}.lst-kix_list_19-4>li:before{content:"\0025cb   "}.lst-kix_wn531e46f4wx-2>li{counter-increment:lst-ctn-kix_wn531e46f4wx-2}.lst-kix_xfrwmyc5vjsr-6>li:before{content:"\0025cf   "}ol.lst-kix_tqyt4049oqum-6.start{counter-reset:lst-ctn-kix_tqyt4049oqum-6 0}.lst-kix_laomlx24l8ol-5>li:before{content:"\0025a0   "}.lst-kix_xfrwmyc5vjsr-4>li:before{content:"\0025cb   "}ul.lst-kix_list_1-3{list-style-type:none}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}ul.lst-kix_list_1-2{list-style-type:none}.lst-kix_umfqnlwbso66-6>li:before{content:"\0025cf   "}ul.lst-kix_list_1-7{list-style-type:none}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}ol.lst-kix_om3956un8kc0-3.start{counter-reset:lst-ctn-kix_om3956un8kc0-3 0}ul.lst-kix_oy8s3o2zwdoj-7{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-6{list-style-type:none}.lst-kix_wn531e46f4wx-3>li:before{content:"" counter(lst-ctn-kix_wn531e46f4wx-3,decimal) ". "}ul.lst-kix_oy8s3o2zwdoj-5{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-4{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-3{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-2{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-1{list-style-type:none}ul.lst-kix_oy8s3o2zwdoj-0{list-style-type:none}.lst-kix_umfqnlwbso66-0>li:before{content:"\0025cf   "}ul.lst-kix_oy8s3o2zwdoj-8{list-style-type:none}.lst-kix_fna9vqak6p7f-5>li:before{content:"\0025a0   "}ul.lst-kix_13un2f53uj0u-0{list-style-type:none}ul.lst-kix_13un2f53uj0u-1{list-style-type:none}ul.lst-kix_13un2f53uj0u-2{list-style-type:none}ul.lst-kix_13un2f53uj0u-3{list-style-type:none}ul.lst-kix_13un2f53uj0u-4{list-style-type:none}.lst-kix_tqyt4049oqum-0>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-0,decimal) ". "}ul.lst-kix_13un2f53uj0u-5{list-style-type:none}ul.lst-kix_13un2f53uj0u-6{list-style-type:none}.lst-kix_fna9vqak6p7f-7>li:before{content:"\0025cb   "}ul.lst-kix_13un2f53uj0u-7{list-style-type:none}.lst-kix_list_19-6>li:before{content:"\0025cf   "}.lst-kix_wn531e46f4wx-5>li:before{content:"" counter(lst-ctn-kix_wn531e46f4wx-5,lower-roman) ". "}ul.lst-kix_13un2f53uj0u-8{list-style-type:none}.lst-kix_gsmtg2n7sdcx-0>li:before{content:"\0025cf   "}.lst-kix_list_17-2>li{counter-increment:lst-ctn-kix_list_17-2}.lst-kix_tqyt4049oqum-6>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-6,decimal) ". "}ul.lst-kix_cxi9sli2kvlp-0{list-style-type:none}.lst-kix_lqfz53xxujmr-4>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-4}ul.lst-kix_cxi9sli2kvlp-1{list-style-type:none}ul.lst-kix_cxi9sli2kvlp-2{list-style-type:none}ul.lst-kix_cxi9sli2kvlp-3{list-style-type:none}ul.lst-kix_cxi9sli2kvlp-4{list-style-type:none}ul.lst-kix_cxi9sli2kvlp-5{list-style-type:none}ul.lst-kix_cxi9sli2kvlp-6{list-style-type:none}ul.lst-kix_cxi9sli2kvlp-7{list-style-type:none}ul.lst-kix_cxi9sli2kvlp-8{list-style-type:none}.lst-kix_list_18-3>li{counter-increment:lst-ctn-kix_list_18-3}.lst-kix_tqyt4049oqum-8>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-8,lower-roman) ". "}.lst-kix_jnzb1kcqssni-2>li{counter-increment:lst-ctn-kix_jnzb1kcqssni-2}ul.lst-kix_732lanbzzsxs-3{list-style-type:none}ul.lst-kix_732lanbzzsxs-2{list-style-type:none}ul.lst-kix_732lanbzzsxs-5{list-style-type:none}ul.lst-kix_732lanbzzsxs-4{list-style-type:none}ul.lst-kix_732lanbzzsxs-7{list-style-type:none}ul.lst-kix_732lanbzzsxs-6{list-style-type:none}.lst-kix_list_18-0>li:before{content:"" counter(lst-ctn-kix_list_18-0,decimal) ". "}ul.lst-kix_732lanbzzsxs-8{list-style-type:none}.lst-kix_list_18-2>li:before{content:"" counter(lst-ctn-kix_list_18-2,decimal) ". "}.lst-kix_jnzb1kcqssni-0>li:before{content:"" counter(lst-ctn-kix_jnzb1kcqssni-0,decimal) ". "}.lst-kix_jn6r0vozovk9-3>li:before{content:"" counter(lst-ctn-kix_jn6r0vozovk9-3,decimal) ". "}.lst-kix_ev3c1abzhvq-6>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-6}.lst-kix_jn6r0vozovk9-5>li:before{content:"" counter(lst-ctn-kix_jn6r0vozovk9-5,lower-roman) ". "}ul.lst-kix_732lanbzzsxs-1{list-style-type:none}ul.lst-kix_732lanbzzsxs-0{list-style-type:none}.lst-kix_list_27-1>li:before{content:"\0025cb   "}.lst-kix_list_27-3>li:before{content:"\0025a0   "}.lst-kix_qhy0wju04c4n-2>li:before{content:"\0025a0   "}.lst-kix_qhy0wju04c4n-0>li:before{content:"\0025cf   "}.lst-kix_jnzb1kcqssni-2>li:before{content:"" counter(lst-ctn-kix_jnzb1kcqssni-2,lower-roman) ". "}.lst-kix_list_18-8>li:before{content:"" counter(lst-ctn-kix_list_18-8,decimal) ". "}.lst-kix_list_17-6>li{counter-increment:lst-ctn-kix_list_17-6}.lst-kix_9yim5cm2a43p-6>li:before{content:"\0025cf   "}.lst-kix_462e54846fbo-1>li{counter-increment:lst-ctn-kix_462e54846fbo-1}.lst-kix_list_10-7>li:before{content:"\0025cb   "}.lst-kix_fcknsouuy2mw-1>li:before{content:"\0025cb   "}.lst-kix_list_10-5>li:before{content:"\0025a0   "}.lst-kix_jnzb1kcqssni-8>li:before{content:"" counter(lst-ctn-kix_jnzb1kcqssni-8,lower-roman) ". "}ol.lst-kix_list_18-6.start{counter-reset:lst-ctn-kix_list_18-6 0}.lst-kix_9yim5cm2a43p-4>li:before{content:"\0025cb   "}.lst-kix_1fioxjrj066s-7>li:before{content:"\0025cb   "}.lst-kix_vnhktty4hd60-1>li:before{content:"\0025cb   "}.lst-kix_13un2f53uj0u-7>li:before{content:"\0025cf   "}.lst-kix_fcknsouuy2mw-3>li:before{content:"\0025cf   "}.lst-kix_list_9-2>li:before{content:"\0025a0   "}.lst-kix_2nzowzum4fkx-5>li:before{content:"\0025a0   "}.lst-kix_i16ejyulpnyj-5>li:before{content:"" counter(lst-ctn-kix_i16ejyulpnyj-5,lower-roman) ". "}ol.lst-kix_jnzb1kcqssni-5.start{counter-reset:lst-ctn-kix_jnzb1kcqssni-5 0}.lst-kix_2nzowzum4fkx-7>li:before{content:"\0025cb   "}.lst-kix_i16ejyulpnyj-7>li:before{content:"" counter(lst-ctn-kix_i16ejyulpnyj-7,lower-latin) ". "}.lst-kix_1fioxjrj066s-1>li:before{content:"\0025cb   "}.lst-kix_list_9-0>li:before{content:"\0025cf   "}.lst-kix_13un2f53uj0u-1>li:before{content:"\0025cf   "}ol.lst-kix_i16ejyulpnyj-1.start{counter-reset:lst-ctn-kix_i16ejyulpnyj-1 0}ul.lst-kix_list_21-1{list-style-type:none}ul.lst-kix_list_21-2{list-style-type:none}ul.lst-kix_list_21-3{list-style-type:none}ul.lst-kix_list_21-4{list-style-type:none}ul.lst-kix_list_21-5{list-style-type:none}ul.lst-kix_list_21-6{list-style-type:none}ul.lst-kix_list_21-7{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-1{list-style-type:none}ol.lst-kix_jnzb1kcqssni-7.start{counter-reset:lst-ctn-kix_jnzb1kcqssni-7 0}ul.lst-kix_list_21-8{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-0{list-style-type:none}.lst-kix_list_11-3>li:before{content:"\0025cf   "}ul.lst-kix_list_21-0{list-style-type:none}.lst-kix_list_29-1>li:before{content:"o  "}.lst-kix_b6e1441h2g8b-7>li:before{content:"\0025cb   "}.lst-kix_tysnzt61ui6p-8>li:before{content:"\0025a0   "}ul.lst-kix_3bne7i3s1y6e-3{list-style-type:none}.lst-kix_list_29-3>li:before{content:"\0025cf   "}ul.lst-kix_3bne7i3s1y6e-2{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-5{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-4{list-style-type:none}.lst-kix_list_9-8>li:before{content:"\0025a0   "}ul.lst-kix_3bne7i3s1y6e-7{list-style-type:none}ul.lst-kix_3bne7i3s1y6e-6{list-style-type:none}.lst-kix_b6e1441h2g8b-5>li:before{content:"\0025a0   "}ul.lst-kix_3bne7i3s1y6e-8{list-style-type:none}.lst-kix_oy8s3o2zwdoj-6>li:before{content:"\0025cf   "}.lst-kix_oy8s3o2zwdoj-4>li:before{content:"\0025cb   "}.lst-kix_vnhktty4hd60-7>li:before{content:"\0025cb   "}.lst-kix_list_28-7>li:before{content:"o  "}.lst-kix_list_1-7>li:before{content:"o  "}.lst-kix_list_1-5>li:before{content:"\0025aa   "}.lst-kix_list_28-5>li:before{content:"\0025aa   "}.lst-kix_list_2-1>li:before{content:"" counter(lst-ctn-kix_list_2-1,lower-latin) ". "}ol.lst-kix_wn531e46f4wx-3.start{counter-reset:lst-ctn-kix_wn531e46f4wx-3 0}.lst-kix_list_2-3>li:before{content:"" counter(lst-ctn-kix_list_2-3,decimal) ". "}ol.lst-kix_om3956un8kc0-8.start{counter-reset:lst-ctn-kix_om3956un8kc0-8 0}.lst-kix_25zuex9fsrpn-4>li:before{content:"\0025cb   "}.lst-kix_list_30-4>li:before{content:"o  "}ol.lst-kix_tqyt4049oqum-1{list-style-type:none}ol.lst-kix_tqyt4049oqum-0{list-style-type:none}ol.lst-kix_tqyt4049oqum-3{list-style-type:none}ol.lst-kix_tqyt4049oqum-2{list-style-type:none}.lst-kix_9y7u4ra6nu2f-5>li{counter-increment:lst-ctn-kix_9y7u4ra6nu2f-5}ol.lst-kix_ul707ohtzd24-4.start{counter-reset:lst-ctn-kix_ul707ohtzd24-4 0}.lst-kix_list_26-7>li:before{content:"" counter(lst-ctn-kix_list_26-7,lower-latin) ". "}.lst-kix_l66sndqqeh5i-0>li:before{content:"\0025cf   "}ol.lst-kix_tqyt4049oqum-8{list-style-type:none}ol.lst-kix_tqyt4049oqum-5{list-style-type:none}ol.lst-kix_tqyt4049oqum-4{list-style-type:none}ol.lst-kix_tqyt4049oqum-7{list-style-type:none}.lst-kix_swkzokqpq63-5>li:before{content:"\0025a0   "}ol.lst-kix_tqyt4049oqum-6{list-style-type:none}.lst-kix_list_3-5>li:before{content:"\0025a0   "}.lst-kix_vwlh1djah97h-7>li:before{content:"\0025cb   "}.lst-kix_3lachvmklkpr-4>li:before{content:"\0025cb   "}ul.lst-kix_16cnflin03zc-4{list-style-type:none}ul.lst-kix_16cnflin03zc-5{list-style-type:none}.lst-kix_l66sndqqeh5i-8>li:before{content:"\0025a0   "}ul.lst-kix_16cnflin03zc-2{list-style-type:none}ul.lst-kix_16cnflin03zc-3{list-style-type:none}ul.lst-kix_16cnflin03zc-8{list-style-type:none}.lst-kix_list_8-6>li:before{content:"\0025cf   "}ul.lst-kix_16cnflin03zc-6{list-style-type:none}ul.lst-kix_16cnflin03zc-7{list-style-type:none}.lst-kix_16cnflin03zc-3>li:before{content:"\0025cf   "}ol.lst-kix_list_16-6.start{counter-reset:lst-ctn-kix_list_16-6 0}ul.lst-kix_16cnflin03zc-0{list-style-type:none}ul.lst-kix_16cnflin03zc-1{list-style-type:none}.lst-kix_tysnzt61ui6p-2>li:before{content:"\0025a0   "}.lst-kix_q0297iomcqw0-3>li:before{content:"\0025cf   "}.lst-kix_j6untozc7rpm-7>li:before{content:"" counter(lst-ctn-kix_j6untozc7rpm-7,lower-latin) ". "}.lst-kix_list_21-3>li:before{content:"\0025cf   "}.lst-kix_abt812ykyt01-4>li:before{content:"\0025cb   "}ol.lst-kix_tqyt4049oqum-4.start{counter-reset:lst-ctn-kix_tqyt4049oqum-4 0}.lst-kix_list_25-3>li:before{content:"\0025cf   "}.lst-kix_wn531e46f4wx-5>li{counter-increment:lst-ctn-kix_wn531e46f4wx-5}.lst-kix_ul707ohtzd24-6>li{counter-increment:lst-ctn-kix_ul707ohtzd24-6}.lst-kix_list_16-2>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) " "}.lst-kix_xx0koyk92fk7-6>li:before{content:"\0025cf   "}.lst-kix_mu44woos9jdi-1>li:before{content:"\0025cb   "}.lst-kix_wcx7cglfpdrv-3>li:before{content:"\0025cf   "}.lst-kix_list_26-6>li{counter-increment:lst-ctn-kix_list_26-6}ol.lst-kix_wn531e46f4wx-6.start{counter-reset:lst-ctn-kix_wn531e46f4wx-6 0}ol.lst-kix_list_18-8.start{counter-reset:lst-ctn-kix_list_18-8 0}.lst-kix_ev3c1abzhvq-3>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-3}.lst-kix_9xfwu95yhj84-3>li:before{content:"\0025cf   "}.lst-kix_qhy0wju04c4n-8>li:before{content:"\0025a0   "}.lst-kix_732lanbzzsxs-6>li:before{content:"\0025cf   "}.lst-kix_9y7u4ra6nu2f-6>li:before{content:"" counter(lst-ctn-kix_9y7u4ra6nu2f-6,decimal) ". "}.lst-kix_cpfx7gaecdgo-5>li:before{content:"\0025a0   "}.lst-kix_list_17-6>li:before{content:"" counter(lst-ctn-kix_list_17-6,decimal) ". "}.lst-kix_462e54846fbo-7>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-7,lower-latin) ". "}.lst-kix_bupw68uclqhs-6>li:before{content:"\0025cf   "}ol.lst-kix_list_16-2.start{counter-reset:lst-ctn-kix_list_16-2 0}ol.lst-kix_ul707ohtzd24-5{list-style-type:none}ol.lst-kix_ul707ohtzd24-6{list-style-type:none}ol.lst-kix_ul707ohtzd24-3{list-style-type:none}ol.lst-kix_ul707ohtzd24-4{list-style-type:none}.lst-kix_list_22-7>li:before{content:"o  "}ol.lst-kix_ul707ohtzd24-1{list-style-type:none}ol.lst-kix_ul707ohtzd24-2{list-style-type:none}ol.lst-kix_ul707ohtzd24-0{list-style-type:none}.lst-kix_lqv7ssenj7fn-1>li:before{content:"\0025cb   "}.lst-kix_5zlhnqlmzy4t-3>li:before{content:"\0025cf   "}.lst-kix_list_26-3>li{counter-increment:lst-ctn-kix_list_26-3}ul.lst-kix_list_30-3{list-style-type:none}ul.lst-kix_list_30-4{list-style-type:none}.lst-kix_list_15-6>li:before{content:"\0025cf   "}ul.lst-kix_list_30-5{list-style-type:none}ul.lst-kix_list_30-6{list-style-type:none}.lst-kix_lqfz53xxujmr-7>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-7,lower-latin) ". "}ul.lst-kix_list_30-7{list-style-type:none}ul.lst-kix_2q63dbptak0x-0{list-style-type:none}ul.lst-kix_list_30-8{list-style-type:none}.lst-kix_a7barqp50qmp-5>li:before{content:"\0025a0   "}ul.lst-kix_list_30-0{list-style-type:none}ul.lst-kix_list_30-1{list-style-type:none}ul.lst-kix_list_30-2{list-style-type:none}.lst-kix_w4fcba4ygfgj-3>li:before{content:"\0025cf   "}.lst-kix_om3956un8kc0-1>li:before{content:"" counter(lst-ctn-kix_om3956un8kc0-1,lower-latin) ". "}.lst-kix_list_20-7>li:before{content:"o  "}ol.lst-kix_wn531e46f4wx-8.start{counter-reset:lst-ctn-kix_wn531e46f4wx-8 0}ul.lst-kix_qhy0wju04c4n-0{list-style-type:none}ul.lst-kix_qhy0wju04c4n-1{list-style-type:none}ol.lst-kix_ul707ohtzd24-7{list-style-type:none}ul.lst-kix_qhy0wju04c4n-2{list-style-type:none}ol.lst-kix_ul707ohtzd24-8{list-style-type:none}ul.lst-kix_qhy0wju04c4n-3{list-style-type:none}ul.lst-kix_2q63dbptak0x-3{list-style-type:none}ul.lst-kix_qhy0wju04c4n-4{list-style-type:none}ul.lst-kix_2q63dbptak0x-4{list-style-type:none}ul.lst-kix_qhy0wju04c4n-5{list-style-type:none}ul.lst-kix_2q63dbptak0x-1{list-style-type:none}ul.lst-kix_qhy0wju04c4n-6{list-style-type:none}ul.lst-kix_2q63dbptak0x-2{list-style-type:none}ul.lst-kix_qhy0wju04c4n-7{list-style-type:none}ul.lst-kix_2q63dbptak0x-7{list-style-type:none}ol.lst-kix_ul707ohtzd24-2.start{counter-reset:lst-ctn-kix_ul707ohtzd24-2 0}ul.lst-kix_qhy0wju04c4n-8{list-style-type:none}ul.lst-kix_2q63dbptak0x-8{list-style-type:none}ul.lst-kix_2q63dbptak0x-5{list-style-type:none}.lst-kix_7g5ij6v74lx-6>li:before{content:"\0025cf   "}ul.lst-kix_2q63dbptak0x-6{list-style-type:none}.lst-kix_ovy3fm37rmlj-7>li:before{content:"\0025cb   "}.lst-kix_462e54846fbo-5>li{counter-increment:lst-ctn-kix_462e54846fbo-5}.lst-kix_v7t8mqxfo0xq-2>li:before{content:"\0025cf   "}.lst-kix_63oqrsr2ial6-8>li:before{content:"\0025a0   "}.lst-kix_en1lryfxcqe9-1>li:before{content:"\0025cb   "}.lst-kix_9y7u4ra6nu2f-2>li{counter-increment:lst-ctn-kix_9y7u4ra6nu2f-2}.lst-kix_gsmtg2n7sdcx-8>li:before{content:"\0025a0   "}.lst-kix_ktnmrk6fggmz-5>li:before{content:"\0025a0   "}.lst-kix_63oqrsr2ial6-0>li:before{content:"\0025cf   "}ol.lst-kix_tqyt4049oqum-1.start{counter-reset:lst-ctn-kix_tqyt4049oqum-1 0}.lst-kix_tqyt4049oqum-6>li{counter-increment:lst-ctn-kix_tqyt4049oqum-6}.lst-kix_i16ejyulpnyj-3>li{counter-increment:lst-ctn-kix_i16ejyulpnyj-3}.lst-kix_p16zu2nyfx8k-5>li:before{content:"\0025a0   "}.lst-kix_abwpot8mtzc7-1>li:before{content:"\0025cb   "}ol.lst-kix_ul707ohtzd24-0.start{counter-reset:lst-ctn-kix_ul707ohtzd24-0 0}ol.lst-kix_list_16-1.start{counter-reset:lst-ctn-kix_list_16-1 0}.lst-kix_dh16vo1krifc-3>li:before{content:"\0025cf   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ol.lst-kix_3yg2urdru3ev-1.start{counter-reset:lst-ctn-kix_3yg2urdru3ev-1 0}.lst-kix_list_14-3>li:before{content:"\0025cf   "}ol.lst-kix_j6untozc7rpm-7.start{counter-reset:lst-ctn-kix_j6untozc7rpm-7 0}.lst-kix_g0hqdl2at9s-1>li:before{content:"\0025cb   "}ul.lst-kix_list_28-0{list-style-type:none}.lst-kix_list_14-0>li:before{content:"  "}ul.lst-kix_list_28-1{list-style-type:none}ol.lst-kix_list_18-5.start{counter-reset:lst-ctn-kix_list_18-5 0}.lst-kix_g0hqdl2at9s-4>li:before{content:"\0025cb   "}.lst-kix_list_14-6>li:before{content:"\0025cf   "}.lst-kix_list_17-0>li{counter-increment:lst-ctn-kix_list_17-0}ul.lst-kix_list_28-2{list-style-type:none}ul.lst-kix_list_28-3{list-style-type:none}.lst-kix_p16zu2nyfx8k-1>li:before{content:"\0025cb   "}ul.lst-kix_list_28-4{list-style-type:none}ul.lst-kix_list_28-5{list-style-type:none}ul.lst-kix_list_28-6{list-style-type:none}.lst-kix_j6untozc7rpm-1>li{counter-increment:lst-ctn-kix_j6untozc7rpm-1}ul.lst-kix_list_28-7{list-style-type:none}.lst-kix_g0hqdl2at9s-0>li:before{content:"\0025cf   "}ul.lst-kix_list_28-8{list-style-type:none}.lst-kix_list_14-2>li:before{content:"\0025a0   "}ol.lst-kix_list_26-7{list-style-type:none}ol.lst-kix_list_26-6{list-style-type:none}ol.lst-kix_list_26-8{list-style-type:none}ol.lst-kix_list_26-3{list-style-type:none}ol.lst-kix_wn531e46f4wx-4.start{counter-reset:lst-ctn-kix_wn531e46f4wx-4 0}ol.lst-kix_jnzb1kcqssni-8{list-style-type:none}ol.lst-kix_list_26-2{list-style-type:none}ol.lst-kix_list_26-5{list-style-type:none}ol.lst-kix_list_26-4{list-style-type:none}ol.lst-kix_list_26-1{list-style-type:none}ol.lst-kix_list_26-0{list-style-type:none}ol.lst-kix_jnzb1kcqssni-1{list-style-type:none}ol.lst-kix_jnzb1kcqssni-0{list-style-type:none}ol.lst-kix_jnzb1kcqssni-3{list-style-type:none}ol.lst-kix_jnzb1kcqssni-2{list-style-type:none}ol.lst-kix_jnzb1kcqssni-5{list-style-type:none}ol.lst-kix_jnzb1kcqssni-4{list-style-type:none}ol.lst-kix_jnzb1kcqssni-7{list-style-type:none}ol.lst-kix_jnzb1kcqssni-6{list-style-type:none}.lst-kix_462e54846fbo-6>li{counter-increment:lst-ctn-kix_462e54846fbo-6}.lst-kix_list_5-0>li:before{content:"\002022   "}.lst-kix_om3956un8kc0-8>li:before{content:"" counter(lst-ctn-kix_om3956un8kc0-8,lower-roman) ". "}.lst-kix_3yg2urdru3ev-6>li:before{content:"\0025cf   "}ol.lst-kix_j6untozc7rpm-2.start{counter-reset:lst-ctn-kix_j6untozc7rpm-2 0}.lst-kix_list_5-3>li:before{content:"\002022   "}ol.lst-kix_9y7u4ra6nu2f-0.start{counter-reset:lst-ctn-kix_9y7u4ra6nu2f-0 0}.lst-kix_list_5-2>li:before{content:"\0025aa   "}ol.lst-kix_list_18-0.start{counter-reset:lst-ctn-kix_list_18-0 0}.lst-kix_om3956un8kc0-2>li:before{content:"" counter(lst-ctn-kix_om3956un8kc0-2,lower-roman) ". "}.lst-kix_a7barqp50qmp-7>li:before{content:"\0025cb   "}.lst-kix_3bne7i3s1y6e-1>li:before{content:"\0025cb   "}.lst-kix_list_5-6>li:before{content:"\002022   "}.lst-kix_a7barqp50qmp-8>li:before{content:"\0025a0   "}.lst-kix_3bne7i3s1y6e-2>li:before{content:"\0025a0   "}.lst-kix_3bne7i3s1y6e-4>li:before{content:"\0025cb   "}.lst-kix_3bne7i3s1y6e-5>li:before{content:"\0025a0   "}.lst-kix_iv9tlmqkwvr-7>li:before{content:"\0025cb   "}.lst-kix_om3956un8kc0-5>li:before{content:"" counter(lst-ctn-kix_om3956un8kc0-5,lower-roman) ". "}.lst-kix_2q63dbptak0x-1>li:before{content:"\0025cb   "}.lst-kix_3bne7i3s1y6e-8>li:before{content:"\0025a0   "}.lst-kix_3bne7i3s1y6e-7>li:before{content:"\0025cb   "}.lst-kix_2q63dbptak0x-2>li:before{content:"\0025a0   "}ul.lst-kix_vwlh1djah97h-8{list-style-type:none}.lst-kix_2q63dbptak0x-5>li:before{content:"\0025a0   "}.lst-kix_2q63dbptak0x-4>li:before{content:"\0025cb   "}.lst-kix_list_6-2>li:before{content:"\0025a0   "}.lst-kix_g0hqdl2at9s-7>li:before{content:"\0025cb   "}.lst-kix_iv9tlmqkwvr-4>li:before{content:"\0025cb   "}.lst-kix_list_6-8>li:before{content:"\0025a0   "}ul.lst-kix_vwlh1djah97h-6{list-style-type:none}ul.lst-kix_vwlh1djah97h-7{list-style-type:none}.lst-kix_iv9tlmqkwvr-0>li:before{content:"\0025cf   "}ul.lst-kix_vwlh1djah97h-4{list-style-type:none}ul.lst-kix_vwlh1djah97h-5{list-style-type:none}.lst-kix_list_6-5>li:before{content:"\0025a0   "}ul.lst-kix_vwlh1djah97h-2{list-style-type:none}ul.lst-kix_vwlh1djah97h-3{list-style-type:none}.lst-kix_iv9tlmqkwvr-1>li:before{content:"\0025cb   "}.lst-kix_2q63dbptak0x-8>li:before{content:"\0025a0   "}ul.lst-kix_vwlh1djah97h-0{list-style-type:none}ul.lst-kix_vwlh1djah97h-1{list-style-type:none}ol.lst-kix_list_17-8{list-style-type:none}.lst-kix_list_7-4>li:before{content:"o  "}ol.lst-kix_list_17-4{list-style-type:none}ol.lst-kix_list_17-5{list-style-type:none}ol.lst-kix_list_17-6{list-style-type:none}.lst-kix_lqv7ssenj7fn-8>li:before{content:"\0025a0   "}ol.lst-kix_list_17-7{list-style-type:none}ol.lst-kix_list_17-0{list-style-type:none}.lst-kix_w4fcba4ygfgj-0>li:before{content:"\0025cf   "}ol.lst-kix_list_17-1{list-style-type:none}.lst-kix_44n6p7c33ui3-7>li:before{content:"\0025cb   "}ol.lst-kix_list_17-2{list-style-type:none}ol.lst-kix_list_17-3{list-style-type:none}ol.lst-kix_jn6r0vozovk9-5.start{counter-reset:lst-ctn-kix_jn6r0vozovk9-5 0}.lst-kix_ehrpw4rq2afz-7>li:before{content:"\0025cb   "}.lst-kix_list_13-7>li:before{content:"o  "}.lst-kix_list_7-8>li:before{content:"\0025aa   "}.lst-kix_5zlhnqlmzy4t-4>li:before{content:"\0025cb   "}.lst-kix_lqv7ssenj7fn-2>li:before{content:"\0025a0   "}.lst-kix_list_15-5>li:before{content:"\0025a0   "}ol.lst-kix_list_2-5.start{counter-reset:lst-ctn-kix_list_2-5 0}.lst-kix_tqyt4049oqum-2>li{counter-increment:lst-ctn-kix_tqyt4049oqum-2}.lst-kix_list_31-6>li:before{content:"\0025cf   "}.lst-kix_list_31-8>li:before{content:"\0025a0   "}ol.lst-kix_list_26-0.start{counter-reset:lst-ctn-kix_list_26-0 0}.lst-kix_list_4-1>li:before{content:"o  "}.lst-kix_list_31-2>li:before{content:"\0025a0   "}.lst-kix_a7barqp50qmp-4>li:before{content:"\0025cb   "}ol.lst-kix_jnzb1kcqssni-8.start{counter-reset:lst-ctn-kix_jnzb1kcqssni-8 0}.lst-kix_ehrpw4rq2afz-5>li:before{content:"\0025a0   "}.lst-kix_ul707ohtzd24-7>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-7,lower-latin) ". "}ul.lst-kix_list_19-7{list-style-type:none}ul.lst-kix_list_19-6{list-style-type:none}.lst-kix_w4fcba4ygfgj-4>li:before{content:"\0025cb   "}ul.lst-kix_list_19-5{list-style-type:none}.lst-kix_list_4-3>li:before{content:"\0025cf   "}.lst-kix_jnzb1kcqssni-7>li{counter-increment:lst-ctn-kix_jnzb1kcqssni-7}ul.lst-kix_list_19-4{list-style-type:none}ol.lst-kix_ul707ohtzd24-5.start{counter-reset:lst-ctn-kix_ul707ohtzd24-5 0}ul.lst-kix_list_19-3{list-style-type:none}ul.lst-kix_list_19-2{list-style-type:none}ul.lst-kix_list_19-1{list-style-type:none}ul.lst-kix_list_19-0{list-style-type:none}.lst-kix_ul707ohtzd24-3>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-3,decimal) ". "}ul.lst-kix_list_19-8{list-style-type:none}.lst-kix_ehrpw4rq2afz-1>li:before{content:"\0025cb   "}.lst-kix_list_16-2>li{counter-increment:lst-ctn-kix_list_16-2}.lst-kix_3yg2urdru3ev-0>li:before{content:"\0025cf   "}ol.lst-kix_list_16-7.start{counter-reset:lst-ctn-kix_list_16-7 0}.lst-kix_list_26-5>li{counter-increment:lst-ctn-kix_list_26-5}ol.lst-kix_ev3c1abzhvq-1.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-1 0}ul.lst-kix_f7m1wa373t12-3{list-style-type:none}ul.lst-kix_f7m1wa373t12-2{list-style-type:none}ul.lst-kix_f7m1wa373t12-1{list-style-type:none}ul.lst-kix_f7m1wa373t12-0{list-style-type:none}.lst-kix_list_12-1>li:before{content:"o  "}ul.lst-kix_f7m1wa373t12-7{list-style-type:none}ul.lst-kix_f7m1wa373t12-6{list-style-type:none}ul.lst-kix_f7m1wa373t12-5{list-style-type:none}ul.lst-kix_f7m1wa373t12-4{list-style-type:none}ul.lst-kix_f7m1wa373t12-8{list-style-type:none}.lst-kix_p16zu2nyfx8k-4>li:before{content:"\0025cb   "}.lst-kix_p16zu2nyfx8k-8>li:before{content:"\0025a0   "}.lst-kix_list_13-3>li:before{content:"\0025cf   "}.lst-kix_5zlhnqlmzy4t-0>li:before{content:"\0025cf   "}li.li-bullet-4:before{margin-left:-9.9pt;white-space:nowrap;display:inline-block;min-width:9.9pt}.lst-kix_lqfz53xxujmr-6>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-6}.lst-kix_list_12-5>li:before{content:"\0025aa   "}.lst-kix_list_18-4>li{counter-increment:lst-ctn-kix_list_18-4}.lst-kix_list_12-7>li:before{content:"o  "}.lst-kix_jn6r0vozovk9-8>li{counter-increment:lst-ctn-kix_jn6r0vozovk9-8}.lst-kix_list_13-1>li:before{content:"o  "}ul.lst-kix_list_24-0{list-style-type:none}ul.lst-kix_list_24-1{list-style-type:none}.lst-kix_25zuex9fsrpn-6>li:before{content:"\0025cf   "}ul.lst-kix_list_24-2{list-style-type:none}ul.lst-kix_list_24-3{list-style-type:none}ul.lst-kix_list_24-4{list-style-type:none}ul.lst-kix_list_24-5{list-style-type:none}.lst-kix_25zuex9fsrpn-3>li:before{content:"\0025cf   "}.lst-kix_25zuex9fsrpn-7>li:before{content:"\0025cb   "}ol.lst-kix_list_2-6.start{counter-reset:lst-ctn-kix_list_2-6 0}.lst-kix_swkzokqpq63-7>li:before{content:"\0025cb   "}ol.lst-kix_i16ejyulpnyj-8.start{counter-reset:lst-ctn-kix_i16ejyulpnyj-8 0}.lst-kix_cpfx7gaecdgo-3>li:before{content:"\0025cf   "}.lst-kix_cpfx7gaecdgo-2>li:before{content:"\0025a0   "}.lst-kix_9xfwu95yhj84-1>li:before{content:"\0025cb   "}ul.lst-kix_list_24-6{list-style-type:none}ul.lst-kix_list_24-7{list-style-type:none}.lst-kix_462e54846fbo-0>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-0,decimal) ". "}ul.lst-kix_list_24-8{list-style-type:none}.lst-kix_list_3-4>li:before{content:"\0025cb   "}.lst-kix_l66sndqqeh5i-1>li:before{content:"\0025cb   "}.lst-kix_list_8-0>li:before{content:"\0025cf   "}.lst-kix_list_30-6>li:before{content:"\0025cf   "}.lst-kix_list_8-7>li:before{content:"o  "}.lst-kix_list_3-8>li:before{content:"\0025a0   "}.lst-kix_list_8-3>li:before{content:"\0025cf   "}.lst-kix_list_3-7>li:before{content:"\0025cb   "}.lst-kix_list_8-4>li:before{content:"o  "}ol.lst-kix_om3956un8kc0-0.start{counter-reset:lst-ctn-kix_om3956un8kc0-0 0}ol.lst-kix_list_26-4.start{counter-reset:lst-ctn-kix_list_26-4 0}ul.lst-kix_a9v8vu6eq4jw-0{list-style-type:none}.lst-kix_i16ejyulpnyj-4>li{counter-increment:lst-ctn-kix_i16ejyulpnyj-4}.lst-kix_list_16-8>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) "." counter(lst-ctn-kix_list_16-6,decimal) "." counter(lst-ctn-kix_list_16-7,decimal) "." counter(lst-ctn-kix_list_16-8,decimal) " "}ol.lst-kix_list_2-2{list-style-type:none}ol.lst-kix_list_2-3{list-style-type:none}.lst-kix_list_16-7>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) "." counter(lst-ctn-kix_list_16-5,decimal) "." counter(lst-ctn-kix_list_16-6,decimal) "." counter(lst-ctn-kix_list_16-7,decimal) " "}ol.lst-kix_list_2-4{list-style-type:none}ol.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_17-8>li{counter-increment:lst-ctn-kix_list_17-8}ol.lst-kix_list_2-0{list-style-type:none}ol.lst-kix_list_2-1{list-style-type:none}ul.lst-kix_a9v8vu6eq4jw-8{list-style-type:none}ul.lst-kix_a9v8vu6eq4jw-7{list-style-type:none}ul.lst-kix_a9v8vu6eq4jw-6{list-style-type:none}.lst-kix_list_17-0>li:before{content:"" counter(lst-ctn-kix_list_17-0,decimal) ". "}.lst-kix_list_4-7>li:before{content:"o  "}ul.lst-kix_a9v8vu6eq4jw-5{list-style-type:none}ul.lst-kix_a9v8vu6eq4jw-4{list-style-type:none}ul.lst-kix_a9v8vu6eq4jw-3{list-style-type:none}.lst-kix_abt812ykyt01-5>li:before{content:"\0025a0   "}ul.lst-kix_a9v8vu6eq4jw-2{list-style-type:none}.lst-kix_jn6r0vozovk9-7>li{counter-increment:lst-ctn-kix_jn6r0vozovk9-7}ul.lst-kix_a9v8vu6eq4jw-1{list-style-type:none}ul.lst-kix_swkzokqpq63-3{list-style-type:none}ol.lst-kix_jnzb1kcqssni-4.start{counter-reset:lst-ctn-kix_jnzb1kcqssni-4 0}ol.lst-kix_i16ejyulpnyj-2.start{counter-reset:lst-ctn-kix_i16ejyulpnyj-2 0}ul.lst-kix_swkzokqpq63-4{list-style-type:none}ul.lst-kix_swkzokqpq63-1{list-style-type:none}.lst-kix_fcknsouuy2mw-7>li:before{content:"\0025cb   "}ul.lst-kix_swkzokqpq63-2{list-style-type:none}ol.lst-kix_jnzb1kcqssni-3.start{counter-reset:lst-ctn-kix_jnzb1kcqssni-3 0}ul.lst-kix_swkzokqpq63-7{list-style-type:none}ul.lst-kix_swkzokqpq63-8{list-style-type:none}ul.lst-kix_swkzokqpq63-5{list-style-type:none}ul.lst-kix_swkzokqpq63-6{list-style-type:none}.lst-kix_list_16-4>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) "." counter(lst-ctn-kix_list_16-2,decimal) "." counter(lst-ctn-kix_list_16-3,decimal) "." counter(lst-ctn-kix_list_16-4,decimal) " "}.lst-kix_i16ejyulpnyj-1>li:before{content:"" counter(lst-ctn-kix_i16ejyulpnyj-1,lower-latin) ". "}ol.lst-kix_list_2-6{list-style-type:none}ul.lst-kix_swkzokqpq63-0{list-style-type:none}ol.lst-kix_list_2-7{list-style-type:none}ol.lst-kix_list_2-8{list-style-type:none}ol.lst-kix_list_18-1.start{counter-reset:lst-ctn-kix_list_18-1 0}.lst-kix_list_17-7>li:before{content:"" counter(lst-ctn-kix_list_17-7,lower-latin) ". "}ol.lst-kix_om3956un8kc0-5.start{counter-reset:lst-ctn-kix_om3956un8kc0-5 0}ol.lst-kix_i16ejyulpnyj-3.start{counter-reset:lst-ctn-kix_i16ejyulpnyj-3 0}.lst-kix_list_17-3>li:before{content:"" counter(lst-ctn-kix_list_17-3,decimal) ". "}.lst-kix_list_17-4>li:before{content:"" counter(lst-ctn-kix_list_17-4,lower-latin) ". "}.lst-kix_cpfx7gaecdgo-6>li:before{content:"\0025cf   "}.lst-kix_9y7u4ra6nu2f-3>li{counter-increment:lst-ctn-kix_9y7u4ra6nu2f-3}.lst-kix_abt812ykyt01-1>li:before{content:"\0025cb   "}.lst-kix_abt812ykyt01-2>li:before{content:"\0025a0   "}ul.lst-kix_ovy3fm37rmlj-6{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-7{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-4{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-5{list-style-type:none}.lst-kix_list_2-8>li:before{content:"" counter(lst-ctn-kix_list_2-8,lower-roman) ". "}ul.lst-kix_ovy3fm37rmlj-8{list-style-type:none}.lst-kix_w4fcba4ygfgj-1>li:before{content:"\0025cb   "}ul.lst-kix_ovy3fm37rmlj-2{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-3{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-0{list-style-type:none}ul.lst-kix_ovy3fm37rmlj-1{list-style-type:none}.lst-kix_list_10-0>li:before{content:"\0025cf   "}ul.lst-kix_iv9tlmqkwvr-0{list-style-type:none}.lst-kix_list_18-3>li:before{content:"" counter(lst-ctn-kix_list_18-3,decimal) ". "}ul.lst-kix_iv9tlmqkwvr-7{list-style-type:none}ul.lst-kix_iv9tlmqkwvr-8{list-style-type:none}.lst-kix_j6untozc7rpm-7>li{counter-increment:lst-ctn-kix_j6untozc7rpm-7}.lst-kix_list_18-6>li{counter-increment:lst-ctn-kix_list_18-6}ul.lst-kix_iv9tlmqkwvr-5{list-style-type:none}ol.lst-kix_om3956un8kc0-4.start{counter-reset:lst-ctn-kix_om3956un8kc0-4 0}ul.lst-kix_iv9tlmqkwvr-6{list-style-type:none}ul.lst-kix_iv9tlmqkwvr-3{list-style-type:none}.lst-kix_ehrpw4rq2afz-8>li:before{content:"\0025a0   "}ul.lst-kix_iv9tlmqkwvr-4{list-style-type:none}ul.lst-kix_iv9tlmqkwvr-1{list-style-type:none}.lst-kix_list_7-7>li:before{content:"o  "}ul.lst-kix_iv9tlmqkwvr-2{list-style-type:none}.lst-kix_fcknsouuy2mw-0>li:before{content:"\0025cf   "}.lst-kix_ul707ohtzd24-6>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-6,decimal) ". "}.lst-kix_lqfz53xxujmr-5>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-5,lower-roman) ". "}.lst-kix_ehrpw4rq2afz-4>li:before{content:"\0025cb   "}.lst-kix_list_31-5>li:before{content:"\0025a0   "}ul.lst-kix_list_15-3{list-style-type:none}.lst-kix_list_4-0>li:before{content:"\0025cf   "}.lst-kix_fcknsouuy2mw-4>li:before{content:"\0025cb   "}ul.lst-kix_list_15-2{list-style-type:none}ol.lst-kix_i16ejyulpnyj-7.start{counter-reset:lst-ctn-kix_i16ejyulpnyj-7 0}ul.lst-kix_list_15-1{list-style-type:none}.lst-kix_list_15-8>li:before{content:"\0025a0   "}ul.lst-kix_list_15-0{list-style-type:none}.lst-kix_i16ejyulpnyj-4>li:before{content:"" counter(lst-ctn-kix_i16ejyulpnyj-4,lower-latin) ". "}.lst-kix_list_4-4>li:before{content:"o  "}.lst-kix_13un2f53uj0u-2>li:before{content:"\0025cf   "}ul.lst-kix_list_15-8{list-style-type:none}ul.lst-kix_list_15-7{list-style-type:none}ul.lst-kix_list_15-6{list-style-type:none}ul.lst-kix_list_15-5{list-style-type:none}.lst-kix_list_9-3>li:before{content:"\0025cf   "}ul.lst-kix_list_15-4{list-style-type:none}.lst-kix_i16ejyulpnyj-8>li:before{content:"" counter(lst-ctn-kix_i16ejyulpnyj-8,lower-roman) ". "}.lst-kix_gsmtg2n7sdcx-2>li:before{content:"\0025a0   "}.lst-kix_v7t8mqxfo0xq-0>li:before{content:"\0025cf   "}.lst-kix_9y7u4ra6nu2f-8>li{counter-increment:lst-ctn-kix_9y7u4ra6nu2f-8}.lst-kix_list_29-8>li:before{content:"\0025aa   "}.lst-kix_gsmtg2n7sdcx-6>li:before{content:"\0025cf   "}.lst-kix_list_12-4>li:before{content:"o  "}.lst-kix_ktnmrk6fggmz-3>li:before{content:"\0025cf   "}ul.lst-kix_list_6-6{list-style-type:none}ul.lst-kix_list_6-7{list-style-type:none}ul.lst-kix_list_6-4{list-style-type:none}ul.lst-kix_list_6-5{list-style-type:none}.lst-kix_tysnzt61ui6p-7>li:before{content:"\0025cb   "}ul.lst-kix_list_6-8{list-style-type:none}.lst-kix_list_1-0>li:before{content:"\0025cf   "}.lst-kix_tqyt4049oqum-0>li{counter-increment:lst-ctn-kix_tqyt4049oqum-0}.lst-kix_lqfz53xxujmr-1>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-1,lower-latin) ". "}.lst-kix_ev3c1abzhvq-4>li{counter-increment:lst-ctn-kix_ev3c1abzhvq-4}.lst-kix_list_11-8>li:before{content:"\0025aa   "}ul.lst-kix_list_6-2{list-style-type:none}ul.lst-kix_list_6-3{list-style-type:none}ol.lst-kix_list_2-0.start{counter-reset:lst-ctn-kix_list_2-0 0}ul.lst-kix_list_6-0{list-style-type:none}ul.lst-kix_list_6-1{list-style-type:none}.lst-kix_vnhktty4hd60-6>li:before{content:"\0025cf   "}.lst-kix_p16zu2nyfx8k-7>li:before{content:"\0025cb   "}.lst-kix_list_13-0>li:before{content:"\0025cf   "}.lst-kix_list_13-4>li:before{content:"o  "}.lst-kix_5zlhnqlmzy4t-1>li:before{content:"\0025cb   "}ol.lst-kix_list_26-5.start{counter-reset:lst-ctn-kix_list_26-5 0}.lst-kix_laomlx24l8ol-7>li:before{content:"\0025cb   "}ol.lst-kix_list_2-1.start{counter-reset:lst-ctn-kix_list_2-1 0}.lst-kix_j6untozc7rpm-2>li{counter-increment:lst-ctn-kix_j6untozc7rpm-2}.lst-kix_list_12-8>li:before{content:"\0025aa   "}.lst-kix_xfrwmyc5vjsr-8>li:before{content:"\0025a0   "}ul.lst-kix_list_20-2{list-style-type:none}ul.lst-kix_list_20-3{list-style-type:none}ul.lst-kix_list_20-4{list-style-type:none}ul.lst-kix_list_20-5{list-style-type:none}ol.lst-kix_list_17-7.start{counter-reset:lst-ctn-kix_list_17-7 0}ul.lst-kix_list_20-6{list-style-type:none}ul.lst-kix_list_20-7{list-style-type:none}ul.lst-kix_list_20-8{list-style-type:none}.lst-kix_i16ejyulpnyj-1>li{counter-increment:lst-ctn-kix_i16ejyulpnyj-1}.lst-kix_xfrwmyc5vjsr-5>li:before{content:"\0025a0   "}ol.lst-kix_list_26-1.start{counter-reset:lst-ctn-kix_list_26-1 0}.lst-kix_list_19-2>li:before{content:"\0025a0   "}.lst-kix_jn6r0vozovk9-1>li:before{content:"" counter(lst-ctn-kix_jn6r0vozovk9-1,lower-latin) ". "}ul.lst-kix_list_20-0{list-style-type:none}ul.lst-kix_list_20-1{list-style-type:none}ol.lst-kix_ev3c1abzhvq-7.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-7 0}.lst-kix_oy8s3o2zwdoj-0>li:before{content:"\0025cf   "}.lst-kix_laomlx24l8ol-4>li:before{content:"\0025cb   "}.lst-kix_umfqnlwbso66-7>li:before{content:"\0025cb   "}.lst-kix_laomlx24l8ol-1>li:before{content:"\0025cb   "}.lst-kix_xfrwmyc5vjsr-2>li:before{content:"\0025a0   "}ul.lst-kix_fna9vqak6p7f-0{list-style-type:none}.lst-kix_wn531e46f4wx-4>li:before{content:"" counter(lst-ctn-kix_wn531e46f4wx-4,lower-latin) ". "}ul.lst-kix_fna9vqak6p7f-2{list-style-type:none}ul.lst-kix_fna9vqak6p7f-1{list-style-type:none}ol.lst-kix_9y7u4ra6nu2f-1.start{counter-reset:lst-ctn-kix_9y7u4ra6nu2f-1 0}.lst-kix_umfqnlwbso66-4>li:before{content:"\0025cb   "}.lst-kix_list_2-3>li{counter-increment:lst-ctn-kix_list_2-3}.lst-kix_wn531e46f4wx-7>li:before{content:"" counter(lst-ctn-kix_wn531e46f4wx-7,lower-latin) ". "}.lst-kix_fna9vqak6p7f-3>li:before{content:"\0025cf   "}.lst-kix_wn531e46f4wx-1>li:before{content:"" counter(lst-ctn-kix_wn531e46f4wx-1,lower-latin) ". "}ol.lst-kix_3yg2urdru3ev-1{list-style-type:none}ol.lst-kix_ev3c1abzhvq-2.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-2 0}.lst-kix_fna9vqak6p7f-6>li:before{content:"\0025cf   "}.lst-kix_list_19-8>li:before{content:"\0025a0   "}ol.lst-kix_jn6r0vozovk9-6.start{counter-reset:lst-ctn-kix_jn6r0vozovk9-6 0}ul.lst-kix_fna9vqak6p7f-8{list-style-type:none}ul.lst-kix_fna9vqak6p7f-7{list-style-type:none}.lst-kix_list_19-5>li:before{content:"\0025a0   "}.lst-kix_tqyt4049oqum-2>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-2,lower-roman) ". "}ul.lst-kix_fna9vqak6p7f-4{list-style-type:none}ul.lst-kix_fna9vqak6p7f-3{list-style-type:none}ul.lst-kix_fna9vqak6p7f-6{list-style-type:none}ul.lst-kix_fna9vqak6p7f-5{list-style-type:none}ol.lst-kix_lqfz53xxujmr-4.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-4 0}.lst-kix_tqyt4049oqum-5>li:before{content:"" counter(lst-ctn-kix_tqyt4049oqum-5,lower-roman) ". "}ol.lst-kix_list_17-2.start{counter-reset:lst-ctn-kix_list_17-2 0}.lst-kix_wn531e46f4wx-6>li{counter-increment:lst-ctn-kix_wn531e46f4wx-6}.lst-kix_om3956un8kc0-7>li{counter-increment:lst-ctn-kix_om3956un8kc0-7}ul.lst-kix_wcx7cglfpdrv-8{list-style-type:none}ul.lst-kix_7g5ij6v74lx-1{list-style-type:none}ol.lst-kix_9y7u4ra6nu2f-6.start{counter-reset:lst-ctn-kix_9y7u4ra6nu2f-6 0}ul.lst-kix_7g5ij6v74lx-0{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-3{list-style-type:none}ul.lst-kix_7g5ij6v74lx-3{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-2{list-style-type:none}ul.lst-kix_7g5ij6v74lx-2{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-1{list-style-type:none}ul.lst-kix_7g5ij6v74lx-5{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-0{list-style-type:none}ol.lst-kix_j6untozc7rpm-8.start{counter-reset:lst-ctn-kix_j6untozc7rpm-8 0}ul.lst-kix_7g5ij6v74lx-4{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-7{list-style-type:none}ul.lst-kix_7g5ij6v74lx-7{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-6{list-style-type:none}ul.lst-kix_7g5ij6v74lx-6{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-5{list-style-type:none}ul.lst-kix_wcx7cglfpdrv-4{list-style-type:none}ul.lst-kix_7g5ij6v74lx-8{list-style-type:none}.lst-kix_jn6r0vozovk9-7>li:before{content:"" counter(lst-ctn-kix_jn6r0vozovk9-7,lower-latin) ". "}.lst-kix_9y7u4ra6nu2f-0>li{counter-increment:lst-ctn-kix_9y7u4ra6nu2f-0}ol.lst-kix_list_2-4.start{counter-reset:lst-ctn-kix_list_2-4 0}ol.lst-kix_j6untozc7rpm-1.start{counter-reset:lst-ctn-kix_j6untozc7rpm-1 0}.lst-kix_jn6r0vozovk9-4>li:before{content:"" counter(lst-ctn-kix_jn6r0vozovk9-4,lower-latin) ". "}.lst-kix_list_2-5>li:before{content:"" counter(lst-ctn-kix_list_2-5,lower-roman) ". "}ol.lst-kix_list_17-0.start{counter-reset:lst-ctn-kix_list_17-0 0}.lst-kix_list_18-6>li:before{content:"" counter(lst-ctn-kix_list_18-6,decimal) ". "}.lst-kix_9yim5cm2a43p-8>li:before{content:"\0025a0   "}.lst-kix_jnzb1kcqssni-6>li:before{content:"" counter(lst-ctn-kix_jnzb1kcqssni-6,decimal) ". "}.lst-kix_9yim5cm2a43p-2>li:before{content:"\0025a0   "}ol.lst-kix_j6untozc7rpm-6.start{counter-reset:lst-ctn-kix_j6untozc7rpm-6 0}.lst-kix_vnhktty4hd60-3>li:before{content:"\0025cf   "}ul.lst-kix_w4fcba4ygfgj-0{list-style-type:none}.lst-kix_lqfz53xxujmr-8>li:before{content:"" counter(lst-ctn-kix_lqfz53xxujmr-8,lower-roman) ". "}li.li-bullet-1:before{margin-left:-21.6pt;white-space:nowrap;display:inline-block;min-width:21.6pt}.lst-kix_list_10-3>li:before{content:"\0025cf   "}ul.lst-kix_list_11-7{list-style-type:none}ul.lst-kix_list_11-6{list-style-type:none}.lst-kix_list_2-6>li{counter-increment:lst-ctn-kix_list_2-6}ul.lst-kix_list_11-5{list-style-type:none}ul.lst-kix_list_11-4{list-style-type:none}ul.lst-kix_list_11-3{list-style-type:none}ol.lst-kix_j6untozc7rpm-3.start{counter-reset:lst-ctn-kix_j6untozc7rpm-3 0}ul.lst-kix_list_11-2{list-style-type:none}.lst-kix_13un2f53uj0u-5>li:before{content:"\0025cf   "}ul.lst-kix_list_11-1{list-style-type:none}ul.lst-kix_list_11-0{list-style-type:none}.lst-kix_1fioxjrj066s-3>li:before{content:"\0025cf   "}ol.lst-kix_lqfz53xxujmr-7.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-7 0}ul.lst-kix_list_11-8{list-style-type:none}.lst-kix_ovy3fm37rmlj-6>li:before{content:"\0025cf   "}.lst-kix_list_20-0>li:before{content:"\0025cf   "}.lst-kix_list_29-5>li:before{content:"\0025aa   "}.lst-kix_b6e1441h2g8b-3>li:before{content:"\0025cf   "}.lst-kix_list_9-6>li:before{content:"\0025cf   "}.lst-kix_jn6r0vozovk9-2>li{counter-increment:lst-ctn-kix_jn6r0vozovk9-2}ul.lst-kix_en1lryfxcqe9-1{list-style-type:none}.lst-kix_v7t8mqxfo0xq-3>li:before{content:"\0025cf   "}ul.lst-kix_en1lryfxcqe9-0{list-style-type:none}.lst-kix_list_20-6>li:before{content:"\0025cf   "}.lst-kix_2nzowzum4fkx-3>li:before{content:"\0025cf   "}.lst-kix_list_11-5>li:before{content:"\0025aa   "}.lst-kix_tysnzt61ui6p-4>li:before{content:"\0025cb   "}ul.lst-kix_w4fcba4ygfgj-3{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-4{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-1{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-2{list-style-type:none}.lst-kix_ovy3fm37rmlj-0>li:before{content:"\0025cf   "}ul.lst-kix_w4fcba4ygfgj-7{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-8{list-style-type:none}.lst-kix_ktnmrk6fggmz-6>li:before{content:"\0025cf   "}ul.lst-kix_w4fcba4ygfgj-5{list-style-type:none}ul.lst-kix_w4fcba4ygfgj-6{list-style-type:none}ol.lst-kix_jn6r0vozovk9-8.start{counter-reset:lst-ctn-kix_jn6r0vozovk9-8 0}.lst-kix_list_1-3>li:before{content:"\0025cf   "}ol.lst-kix_9y7u4ra6nu2f-8.start{counter-reset:lst-ctn-kix_9y7u4ra6nu2f-8 0}.lst-kix_list_28-3>li:before{content:"\0025cf   "}.lst-kix_lqfz53xxujmr-0>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-0}ol.lst-kix_list_2-7.start{counter-reset:lst-ctn-kix_list_2-7 0}.lst-kix_ul707ohtzd24-4>li{counter-increment:lst-ctn-kix_ul707ohtzd24-4}ul.lst-kix_en1lryfxcqe9-3{list-style-type:none}ul.lst-kix_en1lryfxcqe9-2{list-style-type:none}ul.lst-kix_en1lryfxcqe9-5{list-style-type:none}ul.lst-kix_en1lryfxcqe9-4{list-style-type:none}ul.lst-kix_en1lryfxcqe9-7{list-style-type:none}ul.lst-kix_en1lryfxcqe9-6{list-style-type:none}.lst-kix_list_27-7>li:before{content:"\0025cb   "}ul.lst-kix_en1lryfxcqe9-8{list-style-type:none}ol.lst-kix_ev3c1abzhvq-0.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-0 0}.lst-kix_list_30-3>li:before{content:"\0025cf   "}.lst-kix_list_26-8>li{counter-increment:lst-ctn-kix_list_26-8}.lst-kix_swkzokqpq63-1>li:before{content:"\0025cb   "}ol.lst-kix_lqfz53xxujmr-6.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-6 0}.lst-kix_25zuex9fsrpn-0>li:before{content:"\0025cf   "}.lst-kix_list_3-1>li:before{content:"\0025cb   "}ol.lst-kix_list_17-4.start{counter-reset:lst-ctn-kix_list_17-4 0}.lst-kix_wn531e46f4wx-3>li{counter-increment:lst-ctn-kix_wn531e46f4wx-3}.lst-kix_swkzokqpq63-4>li:before{content:"\0025cb   "}.lst-kix_3lachvmklkpr-5>li:before{content:"\0025a0   "}.lst-kix_l66sndqqeh5i-7>li:before{content:"\0025cb   "}.lst-kix_16cnflin03zc-7>li:before{content:"\0025cb   "}.lst-kix_list_21-2>li:before{content:"\0025aa   "}.lst-kix_tysnzt61ui6p-1>li:before{content:"\0025cb   "}.lst-kix_list_2-0>li{counter-increment:lst-ctn-kix_list_2-0}.lst-kix_l66sndqqeh5i-4>li:before{content:"\0025cb   "}ol.lst-kix_jn6r0vozovk9-3.start{counter-reset:lst-ctn-kix_jn6r0vozovk9-3 0}.lst-kix_3lachvmklkpr-8>li:before{content:"\0025a0   "}.lst-kix_list_11-2>li:before{content:"\0025aa   "}ol.lst-kix_lqfz53xxujmr-1.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-1 0}ol.lst-kix_9y7u4ra6nu2f-4.start{counter-reset:lst-ctn-kix_9y7u4ra6nu2f-4 0}.lst-kix_vwlh1djah97h-3>li:before{content:"\0025cf   "}.lst-kix_j6untozc7rpm-3>li:before{content:"" counter(lst-ctn-kix_j6untozc7rpm-3,decimal) ". "}.lst-kix_j6untozc7rpm-6>li:before{content:"" counter(lst-ctn-kix_j6untozc7rpm-6,decimal) ". "}.lst-kix_tqyt4049oqum-8>li{counter-increment:lst-ctn-kix_tqyt4049oqum-8}.lst-kix_vwlh1djah97h-0>li:before{content:"\0025cf   "}.lst-kix_abt812ykyt01-8>li:before{content:"\0025a0   "}.lst-kix_3yg2urdru3ev-1>li{counter-increment:lst-ctn-kix_3yg2urdru3ev-1}.lst-kix_list_25-2>li:before{content:"\0025a0   "}.lst-kix_list_16-1>li:before{content:"" counter(lst-ctn-kix_list_16-0,decimal) "." counter(lst-ctn-kix_list_16-1,decimal) " "}.lst-kix_xx0koyk92fk7-2>li:before{content:"\0025a0   "}.lst-kix_om3956un8kc0-1>li{counter-increment:lst-ctn-kix_om3956un8kc0-1}ol.lst-kix_lqfz53xxujmr-0.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-0 0}ol.lst-kix_ev3c1abzhvq-4.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-4 0}ul.lst-kix_v7t8mqxfo0xq-1{list-style-type:none}ul.lst-kix_v7t8mqxfo0xq-0{list-style-type:none}.lst-kix_9xfwu95yhj84-4>li:before{content:"\0025cb   "}ul.lst-kix_v7t8mqxfo0xq-3{list-style-type:none}ul.lst-kix_v7t8mqxfo0xq-2{list-style-type:none}ul.lst-kix_v7t8mqxfo0xq-5{list-style-type:none}ul.lst-kix_v7t8mqxfo0xq-4{list-style-type:none}ul.lst-kix_v7t8mqxfo0xq-7{list-style-type:none}ul.lst-kix_v7t8mqxfo0xq-6{list-style-type:none}ul.lst-kix_v7t8mqxfo0xq-8{list-style-type:none}ol.lst-kix_lqfz53xxujmr-5.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-5 0}.lst-kix_462e54846fbo-3>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-3,decimal) ". "}.lst-kix_462e54846fbo-6>li:before{content:"" counter(lst-ctn-kix_462e54846fbo-6,decimal) ". "}ol.lst-kix_jn6r0vozovk9-4.start{counter-reset:lst-ctn-kix_jn6r0vozovk9-4 0}.lst-kix_list_30-0>li:before{content:"\0025cf   "}ol.lst-kix_list_17-3.start{counter-reset:lst-ctn-kix_list_17-3 0}.lst-kix_9xfwu95yhj84-7>li:before{content:"\0025cb   "}.lst-kix_qhy0wju04c4n-4>li:before{content:"\0025cb   "}.lst-kix_44n6p7c33ui3-4>li:before{content:"\0025cb   "}ol.lst-kix_jn6r0vozovk9-2.start{counter-reset:lst-ctn-kix_jn6r0vozovk9-2 0}ol.lst-kix_9y7u4ra6nu2f-2.start{counter-reset:lst-ctn-kix_9y7u4ra6nu2f-2 0}.lst-kix_44n6p7c33ui3-1>li:before{content:"\0025cb   "}.lst-kix_list_7-1>li:before{content:"o  "}.lst-kix_lqv7ssenj7fn-5>li:before{content:"\0025a0   "}ol.lst-kix_9y7u4ra6nu2f-5.start{counter-reset:lst-ctn-kix_9y7u4ra6nu2f-5 0}.lst-kix_qhy0wju04c4n-1>li:before{content:"\0025cb   "}.lst-kix_7g5ij6v74lx-2>li:before{content:"\0025a0   "}.lst-kix_5zlhnqlmzy4t-7>li:before{content:"\0025cb   "}.lst-kix_om3956un8kc0-4>li{counter-increment:lst-ctn-kix_om3956un8kc0-4}.lst-kix_9yim5cm2a43p-5>li:before{content:"\0025a0   "}ol.lst-kix_list_17-8.start{counter-reset:lst-ctn-kix_list_17-8 0}.lst-kix_13un2f53uj0u-8>li:before{content:"\0025cf   "}.lst-kix_vnhktty4hd60-0>li:before{content:"\0025cf   "}.lst-kix_462e54846fbo-0>li{counter-increment:lst-ctn-kix_462e54846fbo-0}ol.lst-kix_list_17-5.start{counter-reset:lst-ctn-kix_list_17-5 0}.lst-kix_ul707ohtzd24-0>li:before{content:"" counter(lst-ctn-kix_ul707ohtzd24-0,decimal) ". "}.lst-kix_2nzowzum4fkx-6>li:before{content:"\0025cf   "}.lst-kix_w4fcba4ygfgj-7>li:before{content:"\0025cb   "}.lst-kix_1fioxjrj066s-0>li:before{content:"\0025cf   "}.lst-kix_list_15-2>li:before{content:"\0025a0   "}ol.lst-kix_ev3c1abzhvq-8.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-8 0}.lst-kix_a7barqp50qmp-1>li:before{content:"\0025cb   "}.lst-kix_list_10-6>li:before{content:"\0025cf   "}.lst-kix_f7m1wa373t12-2>li:before{content:"\0025a0   "}.lst-kix_3yg2urdru3ev-3>li:before{content:"\0025cf   "}.lst-kix_63oqrsr2ial6-4>li:before{content:"\0025cb   "}ol.lst-kix_ev3c1abzhvq-5.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-5 0}.lst-kix_ovy3fm37rmlj-3>li:before{content:"\0025cf   "}.lst-kix_b6e1441h2g8b-6>li:before{content:"\0025cf   "}.lst-kix_v7t8mqxfo0xq-6>li:before{content:"\0025cf   "}ol.lst-kix_9y7u4ra6nu2f-3.start{counter-reset:lst-ctn-kix_9y7u4ra6nu2f-3 0}.lst-kix_list_20-3>li:before{content:"\0025cf   "}ol.lst-kix_jn6r0vozovk9-0.start{counter-reset:lst-ctn-kix_jn6r0vozovk9-0 0}.lst-kix_list_29-2>li:before{content:"\0025aa   "}ul.lst-kix_dh16vo1krifc-7{list-style-type:none}ul.lst-kix_dh16vo1krifc-8{list-style-type:none}.lst-kix_ul707ohtzd24-1>li{counter-increment:lst-ctn-kix_ul707ohtzd24-1}ul.lst-kix_dh16vo1krifc-5{list-style-type:none}ul.lst-kix_dh16vo1krifc-6{list-style-type:none}ul.lst-kix_dh16vo1krifc-3{list-style-type:none}ul.lst-kix_dh16vo1krifc-4{list-style-type:none}ul.lst-kix_dh16vo1krifc-1{list-style-type:none}ul.lst-kix_dh16vo1krifc-2{list-style-type:none}.lst-kix_lqfz53xxujmr-3>li{counter-increment:lst-ctn-kix_lqfz53xxujmr-3}ol.lst-kix_list_17-6.start{counter-reset:lst-ctn-kix_list_17-6 0}.lst-kix_list_28-6>li:before{content:"\0025cf   "}ol.lst-kix_ev3c1abzhvq-6.start{counter-reset:lst-ctn-kix_ev3c1abzhvq-6 0}.lst-kix_list_1-6>li:before{content:"\0025cf   "}.lst-kix_cxi9sli2kvlp-0>li:before{content:"\0025cf   "}ol.lst-kix_lqfz53xxujmr-2.start{counter-reset:lst-ctn-kix_lqfz53xxujmr-2 0}ul.lst-kix_dh16vo1krifc-0{list-style-type:none}.lst-kix_list_2-2>li:before{content:"" counter(lst-ctn-kix_list_2-2,lower-roman) ". "}ol.lst-kix_jn6r0vozovk9-1.start{counter-reset:lst-ctn-kix_jn6r0vozovk9-1 0}.lst-kix_dh16vo1krifc-7>li:before{content:"\0025cb   "}ol{margin:0;padding:0}table td,table th{padding:0}.c68{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:129.8pt;border-top-color:#000000;border-bottom-style:solid}.c64{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:153pt;border-top-color:#000000;border-bottom-style:solid}.c262{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:91.5pt;border-top-color:#000000;border-bottom-style:solid}.c71{border-right-style:solid;padding:1.8pt 0pt 0pt 0pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:168.8pt;border-top-color:#000000;border-bottom-style:solid}.c261{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:28.4pt;border-top-color:#000000;border-bottom-style:solid}.c214{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:69pt;border-top-color:#000000;border-bottom-style:solid}.c85{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:233.8pt;border-top-color:#000000;border-bottom-style:solid}.c165{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:121.5pt;border-top-color:#000000;border-bottom-style:solid}.c153{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63pt;border-top-color:#000000;border-bottom-style:solid}.c235{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:164.3pt;border-top-color:#000000;border-bottom-style:solid}.c250{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:117.8pt;border-top-color:#000000;border-bottom-style:solid}.c164{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:433.5pt;border-top-color:#000000;border-bottom-style:solid}.c23{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:135pt;border-top-color:#000000;border-bottom-style:solid}.c228{border-right-style:solid;padding:1.8pt 0pt 0pt 0pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:60.8pt;border-top-color:#000000;border-bottom-style:solid}.c131{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:173.1pt;border-top-color:#000000;border-bottom-style:solid}.c105{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:214.8pt;border-top-color:#000000;border-bottom-style:solid}.c83{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:377.2pt;border-top-color:#000000;border-bottom-style:solid}.c118{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:93.6pt;border-top-color:#000000;border-bottom-style:solid}.c296{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:195.8pt;border-top-color:#000000;border-bottom-style:solid}.c33{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:371.2pt;border-top-color:#000000;border-bottom-style:solid}.c113{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:146.2pt;border-top-color:#000000;border-bottom-style:solid}.c221{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:56.2pt;border-top-color:#000000;border-bottom-style:solid}.c130{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:105.8pt;border-top-color:#000000;border-bottom-style:solid}.c290{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:64.5pt;border-top-color:#000000;border-bottom-style:solid}.c7{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:115.5pt;border-top-color:#000000;border-bottom-style:solid}.c344{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:73.5pt;border-top-color:#000000;border-bottom-style:solid}.c232{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:278.2pt;border-top-color:#000000;border-bottom-style:solid}.c157{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:159pt;border-top-color:#000000;border-bottom-style:solid}.c200{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99pt;border-top-color:#000000;border-bottom-style:solid}.c120{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:40.5pt;border-top-color:#000000;border-bottom-style:solid}.c264{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47.2pt;border-top-color:#000000;border-bottom-style:solid}.c222{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:164.3pt;border-top-color:#000000;border-bottom-style:solid}.c251{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:102pt;border-top-color:#000000;border-bottom-style:solid}.c243{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:90.8pt;border-top-color:#000000;border-bottom-style:solid}.c30{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:68.2pt;border-top-color:#000000;border-bottom-style:solid}.c124{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:108pt;border-top-color:#000000;border-bottom-style:solid}.c26{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:37.5pt;border-top-color:#000000;border-bottom-style:solid}.c99{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:108pt;border-top-color:#000000;border-bottom-style:solid}.c259{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:120pt;border-top-color:#000000;border-bottom-style:solid}.c337{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:173.1pt;border-top-color:#000000;border-bottom-style:solid}.c65{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:49.5pt;border-top-color:#000000;border-bottom-style:solid}.c258{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:42pt;border-top-color:#000000;border-bottom-style:solid}.c301{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:92.2pt;border-top-color:#000000;border-bottom-style:solid}.c190{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:99.8pt;border-top-color:#000000;border-bottom-style:solid}.c82{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:36pt;border-top-color:#000000;border-bottom-style:solid}.c162{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:81.8pt;border-top-color:#000000;border-bottom-style:solid}.c34{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:5.2pt;border-top-color:#000000;border-bottom-style:solid}.c41{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:58.2pt;border-top-color:#000000;border-bottom-style:solid}.c339{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:57pt;border-top-color:#000000;border-bottom-style:solid}.c98{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:131.2pt;border-top-color:#000000;border-bottom-style:solid}.c199{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:41.2pt;border-top-color:#000000;border-bottom-style:solid}.c127{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c338{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:482.4pt;border-top-color:#000000;border-bottom-style:solid}.c212{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:28.4pt;border-top-color:#000000;border-bottom-style:solid}.c94{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:59.2pt;border-top-color:#000000;border-bottom-style:solid}.c268{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:140.2pt;border-top-color:#000000;border-bottom-style:solid}.c141{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:102pt;border-top-color:#000000;border-bottom-style:solid}.c108{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:63.8pt;border-top-color:#000000;border-bottom-style:solid}.c191{border-right-style:solid;padding:0pt 5pt 0pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:47.2pt;border-top-color:#000000;border-bottom-style:solid}.c324{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:74.2pt;border-top-color:#000000;border-bottom-style:solid}.c47{border-right-style:solid;padding:1.8pt 0pt 0pt 0pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83pt;border-top-color:#000000;border-bottom-style:solid}.c59{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:149.4pt;border-top-color:#000000;border-bottom-style:solid}.c78{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:87.8pt;border-top-color:#000000;border-bottom-style:solid}.c271{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:311.9pt;border-top-color:#000000;border-bottom-style:solid}.c236{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:89.2pt;border-top-color:#000000;border-bottom-style:solid}.c234{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:45.8pt;border-top-color:#000000;border-bottom-style:solid}.c206{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:46.5pt;border-top-color:#000000;border-bottom-style:solid}.c72{border-right-style:solid;padding:1.8pt 5.8pt 0pt 6pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:149.2pt;border-top-color:#000000;border-bottom-style:solid}.c84{border-right-style:solid;padding:0pt 5.8pt 0pt 5.8pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:86.5pt;border-top-color:#000000;border-bottom-style:solid}.c43{padding-top:0pt;border-top-width:0pt;border-top-color:#000000;padding-bottom:3.2pt;line-height:1.0791666666666666;page-break-after:avoid;orphans:2;border-top-style:solid;widows:2;text-align:left;margin-right:0.2pt}.c158{border-right-style:solid;border-bottom-color:#000000;border-right-width:0pt;padding-left:0pt;border-left-color:#000000;border-right-color:#000000;border-left-width:0pt;border-left-style:solid;border-bottom-width:0pt;border-bottom-style:solid;padding-right:0pt}.c21{padding-top:0pt;border-top-width:0pt;border-top-color:#000000;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;orphans:2;border-top-style:solid;widows:2;text-align:left;margin-right:0.2pt}.c60{padding-top:0pt;border-top-width:0pt;border-top-color:#000000;padding-bottom:0pt;line-height:1.0333333333333334;orphans:2;border-top-style:solid;widows:2;text-align:left;margin-right:0.2pt}.c97{padding-top:0pt;border-top-width:0pt;border-top-color:#000000;padding-bottom:0pt;line-height:1.0333333333333334;orphans:2;border-top-style:solid;widows:2;text-align:left;margin-right:0.3pt}.c2{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c115{margin-left:72pt;padding-top:4pt;padding-left:0pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c61{margin-left:33pt;padding-top:0pt;padding-left:-8.1pt;padding-bottom:6.2pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:left;margin-right:49.5pt}.c48{margin-left:-0.8pt;padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c27{margin-left:-0.8pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:center;margin-right:0.2pt}.c110{margin-left:35.2pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c123{margin-left:-0.2pt;padding-top:4pt;padding-bottom:6pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:49.5pt}.c44{margin-left:-0.8pt;padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c143{margin-left:-0.2pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c3{margin-left:-0.8pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c45{margin-left:-0.8pt;padding-top:0pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c9{background-color:#ffffff;color:#446caa;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Liberation Sans";font-style:normal}.c134{margin-left:-0.2pt;padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c140{margin-left:-0.8pt;padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:center;margin-right:49.5pt}.c28{margin-left:-0.8pt;padding-top:0pt;padding-bottom:15.3pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c95{margin-left:36pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:0.2pt}.c77{padding-top:0pt;padding-bottom:10pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:left;margin-right:0.3pt}.c207{margin-left:-0.8pt;padding-top:4pt;text-indent:0.2pt;padding-bottom:0.5pt;line-height:1.0;text-align:left;margin-right:49.5pt}.c38{color:#446caa;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Liberation Sans";font-style:normal}.c18{padding-top:12pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c6{background-color:#ffffff;color:#222222;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-style:normal}.c25{padding-top:12pt;padding-bottom:12pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c80{padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:justify}.c66{border-top-width:0pt;border-top-color:#000000;orphans:2;border-top-style:solid;widows:2;margin-right:0.2pt}.c114{padding-top:6pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c182{margin-left:-0.8pt;padding-top:0pt;padding-bottom:8.7pt;line-height:1.0333333333333334;text-align:left;margin-right:49.5pt}.c13{background-color:#ffff00;color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c126{padding-top:12pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c1{background-color:#ffffff;color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:italic}.c202{margin-left:-0.8pt;padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:center;margin-right:-6.8pt}.c195{margin-left:-0.8pt;padding-top:4pt;padding-bottom:0pt;line-height:1.0;text-align:left;margin-right:-5pt}.c11{background-color:#ffffff;color:#222222;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c8{background-color:#ffffff;color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-style:normal}.c58{padding-top:6pt;padding-bottom:6pt;line-height:1.5;orphans:2;widows:2;text-align:center}.c135{padding-top:12pt;padding-bottom:12pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:left}.c53{padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;orphans:2;widows:2;text-align:center}.c103{padding-top:0pt;padding-bottom:12pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c203{margin-left:35.2pt;padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:left}.c111{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c233{margin-left:-0.8pt;padding-top:0pt;padding-bottom:15.3pt;line-height:1.0333333333333334;text-align:justify}.c208{margin-left:-0.2pt;padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;text-align:left}.c39{color:#172b4d;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c89{margin-left:72pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c22{margin-left:36pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c55{color:#446caa;text-decoration:none;vertical-align:baseline;font-size:14pt;font-style:normal}.c335{padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;text-align:center;margin-right:-6.8pt}.c81{color:#446caa;text-decoration:none;vertical-align:baseline;font-size:13pt;font-style:normal}.c209{margin-left:35.2pt;padding-top:4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c20{background-color:#ffffff;text-decoration:none;vertical-align:baseline;font-size:10pt;font-style:normal}.c17{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left;height:10.5pt}.c280{padding-top:6pt;padding-bottom:6pt;line-height:1.0;text-align:left;height:18pt}.c14{background-color:#ffff00;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c67{margin-left:54pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c295{padding-top:10pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c242{padding-top:4pt;padding-bottom:15.3pt;line-height:1.0;text-align:left}.c300{padding-top:0pt;padding-bottom:5.5pt;line-height:1.0791666666666666;text-align:left}.c265{padding-top:0pt;padding-bottom:15.3pt;line-height:1.0333333333333334;text-align:left}.c322{padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:left}.c156{padding-top:0pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c160{padding-top:0pt;padding-bottom:10pt;line-height:1.0;text-align:left}.c308{padding-top:4pt;padding-bottom:0.3pt;line-height:1.0;text-align:left}.c340{padding-top:4pt;padding-bottom:0.7pt;line-height:1.0;text-align:left}.c132{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0333333333333334;text-align:justify}.c326{padding-top:4pt;padding-bottom:0pt;line-height:1.0250000000000001;text-align:center}.c168{padding-top:0pt;padding-bottom:14.8pt;line-height:1.0333333333333334;text-align:justify}.c104{padding-top:4pt;padding-bottom:17.6pt;line-height:1.0;text-align:left}.c69{margin-left:-0.8pt;orphans:2;widows:2;margin-right:0.2pt}.c320{padding-top:4pt;padding-bottom:6.3pt;line-height:1.0;text-align:left}.c181{padding-top:4pt;padding-bottom:7.2pt;line-height:1.0;text-align:left}.c87{padding-top:2pt;padding-bottom:2pt;line-height:1.0;text-align:left}.c292{padding-top:0pt;padding-bottom:0pt;line-height:1.7583333333333335;text-align:justify}.c229{padding-top:0pt;padding-bottom:14pt;line-height:1.0291666666666666;text-align:left}.c186{padding-top:0pt;padding-bottom:10pt;line-height:1.0333333333333334;text-align:left}.c189{padding-top:4pt;padding-bottom:10pt;line-height:1.0;text-align:left}.c179{padding-top:4pt;padding-bottom:0pt;line-height:1.0791666666666666;text-align:center}.c329{padding-top:4pt;padding-bottom:1.4pt;line-height:1.0;text-align:left}.c311{padding-top:0pt;padding-bottom:7.2pt;line-height:1.0333333333333334;text-align:justify}.c281{padding-top:6pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c270{padding-top:10pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c196{padding-top:0pt;padding-bottom:7.2pt;line-height:1.0791666666666666;text-align:left}.c288{padding-top:4pt;padding-bottom:1.5pt;line-height:1.0;text-align:left}.c241{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0;text-align:left}.c211{padding-top:0pt;padding-bottom:8.7pt;line-height:1.0333333333333334;text-align:left}.c248{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;text-align:left}.c40{text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c297{padding-top:12pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c24{background-color:#fff2cc;vertical-align:super;font-style:italic;color:#222222}.c334{padding-top:4pt;padding-bottom:17.4pt;line-height:1.1041666666666667;text-align:center}.c341{padding-top:4pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c79{padding-top:4pt;padding-bottom:0.5pt;line-height:1.0;text-align:center}.c305{padding-top:10pt;padding-bottom:15.3pt;line-height:1.0333333333333334;text-align:justify}.c284{padding-top:0pt;padding-bottom:4.7pt;line-height:1.0791666666666666;text-align:left}.c171{padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c166{padding-top:0pt;padding-bottom:10.8pt;line-height:1.0;text-align:left}.c197{padding-top:4pt;padding-bottom:0pt;line-height:1.0791666666666666;text-align:left}.c155{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c176{padding-top:0pt;padding-bottom:12pt;line-height:1.15;text-align:left}.c306{padding-top:4pt;padding-bottom:17.1pt;line-height:1.0;text-align:left}.c31{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c276{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c144{padding-top:0pt;padding-bottom:7.5pt;line-height:1.0333333333333334;text-align:justify}.c252{padding-top:0pt;padding-bottom:14pt;line-height:1.0;text-align:left}.c220{padding-top:4pt;padding-bottom:0.2pt;line-height:1.0;text-align:left}.c294{padding-top:0pt;padding-bottom:5pt;line-height:1.0333333333333334;text-align:left}.c289{padding-top:4pt;padding-bottom:0pt;line-height:1.0250000000000001;text-align:left}.c304{padding-top:4pt;padding-bottom:0.9pt;line-height:1.0;text-align:left}.c313{padding-top:0pt;padding-bottom:4pt;line-height:1.0333333333333334;text-align:justify}.c342{padding-top:4pt;padding-bottom:7.6pt;line-height:1.0;text-align:left}.c299{padding-top:4pt;padding-bottom:1.3pt;line-height:1.0;text-align:left}.c159{padding-top:0pt;padding-bottom:6pt;line-height:1.0;text-align:left}.c244{padding-top:0pt;padding-bottom:7.3pt;line-height:1.0333333333333334;text-align:left}.c10{text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-style:normal}.c216{padding-top:4pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c291{padding-top:4pt;padding-bottom:1.1pt;line-height:1.0;text-align:left}.c272{padding-top:0pt;padding-bottom:15.3pt;line-height:1.0;text-align:left}.c323{padding-top:4pt;padding-bottom:23pt;line-height:1.0;text-align:center}.c331{padding-top:4pt;padding-bottom:15.2pt;line-height:1.0791666666666666;text-align:center}.c219{padding-top:4pt;padding-bottom:28.6pt;line-height:1.1041666666666667;text-align:center}.c231{padding-top:4pt;padding-bottom:17.3pt;line-height:1.0;text-align:left}.c192{padding-top:0pt;padding-bottom:12pt;line-height:1.0333333333333334;text-align:left}.c218{padding-top:0pt;padding-bottom:8pt;line-height:1.15;text-align:left}.c193{-webkit-text-decoration-skip:none;text-decoration:underline;text-decoration-skip-ink:none;font-size:10.5pt}.c112{padding-top:0pt;padding-bottom:3.9pt;line-height:1.0791666666666666;text-align:left}.c343{padding-top:14pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c151{padding-top:0pt;padding-bottom:4.9pt;line-height:1.0333333333333334;text-align:left}.c282{padding-top:1pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c253{padding-top:0pt;padding-bottom:5.9pt;line-height:1.0791666666666666;text-align:left}.c169{padding-top:4pt;padding-bottom:4pt;line-height:1.0;text-align:justify}.c249{padding-top:6pt;padding-bottom:18pt;line-height:1.0;text-align:left}.c237{padding-top:0pt;padding-bottom:15.4pt;line-height:1.0250000000000001;text-align:left}.c145{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c278{padding-top:4pt;padding-bottom:17.7pt;line-height:1.0;text-align:left}.c224{padding-top:4pt;padding-bottom:17.6pt;line-height:1.0;text-align:center}.c277{padding-top:4pt;padding-bottom:1.2pt;line-height:1.0;text-align:left}.c327{padding-top:0pt;padding-bottom:0.5pt;line-height:1.0;text-align:left}.c73{color:#0000ee;text-decoration:none;vertical-align:baseline;font-style:normal}.c332{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c177{padding-top:0pt;padding-bottom:10pt;line-height:1.0333333333333334;text-align:justify}.c328{padding-top:0pt;padding-bottom:14.8pt;line-height:1.0333333333333334;text-align:left}.c246{padding-top:0pt;padding-bottom:0pt;line-height:1.0291666666666666;text-align:left}.c316{padding-top:0pt;padding-bottom:2.4pt;line-height:1.0791666666666666;text-align:left}.c188{padding-top:0pt;padding-bottom:0pt;line-height:1.0333333333333334;text-align:left}.c215{padding-top:4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c146{margin-left:-0.8pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c102{padding-top:0pt;padding-bottom:2.6pt;line-height:1.0791666666666666;text-align:left}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c106{margin-left:36pt;orphans:2;widows:2}.c125{font-weight:400;font-size:9pt;font-family:"Verdana"}.c247{border-top-width:0.5pt;border-top-color:#808080;border-top-style:solid}.c100{border-top-width:0pt;border-top-style:solid}.c15{background-color:#ffffff;font-weight:700;font-family:"Arial"}.c75{margin-left:1pt;orphans:2;widows:2}.c149{border-top-width:0pt;border-top-color:#000000;border-top-style:solid}.c152{border-spacing:0;border-collapse:collapse;margin-right:auto}.c260{-webkit-text-decoration-skip:none;text-decoration:underline;text-decoration-skip-ink:none}.c51{background-color:#cfe2f3;font-weight:700;font-family:"Arial"}.c122{vertical-align:baseline;font-size:10.5pt;font-style:normal}.c150{font-size:7pt;font-weight:400;font-family:"Times New Roman"}.c93{text-decoration:none;vertical-align:baseline;font-style:normal}.c5{vertical-align:sub;font-size:10pt;font-style:italic}.c133{text-indent:36pt;orphans:2;widows:2}.c283{color:#1f1f1f;font-weight:400;font-family:"Roboto"}.c0{font-weight:400;font-family:"Arial"}.c154{orphans:2;widows:2}.c137{padding:0;margin:0}.c86{background-color:#d9d9d9;font-family:"Arial"}.c129{margin-left:72pt;padding-left:0pt}.c312{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c314{font-weight:400;font-family:"MingLiu"}.c46{font-weight:700;font-family:"Liberation Sans"}.c298{font-family:"Roboto";font-weight:400}.c185{margin-left:-0.2pt;margin-right:49.5pt}.c107{margin-left:-0.8pt;margin-right:0.2pt}.c19{border:1px solid black;margin:5px}.c32{font-weight:400;font-family:"Liberation Sans"}.c42{font-size:10pt;color:#ff0000}.c16{vertical-align:sub;font-style:italic}.c96{margin-left:36pt;padding-left:0pt}.c117{color:#446caa;font-size:12pt}.c257{margin-left:18pt;padding-left:3.6pt}.c36{color:inherit;text-decoration:inherit}.c225{margin-left:33pt;padding-left:-8.1pt}.c285{background-color:#a4c2f4}.c70{color:#ff0000}.c187{padding-left:0pt}.c213{margin-left:27pt}.c205{height:12.3pt}.c161{vertical-align:sub}.c330{text-indent:36pt}.c279{height:16.4pt}.c317{font-size:14pt}.c183{color:#1155cc}.c136{margin-left:36pt}.c286{color:#0000ee}.c293{height:29.2pt}.c163{margin-left:32pt}.c184{color:#666666}.c62{height:10.5pt}.c267{height:30pt}.c318{background-color:#c9daf8}.c50{font-size:11pt}.c128{color:#446caa}.c63{font-weight:700}.c29{background-color:#ffff00}.c336{height:60pt}.c175{font-size:9pt}.c148{margin-right:0.2pt}.c245{margin-left:45pt}.c57{color:#172b4d}.c178{font-size:18pt}.c204{vertical-align:super}.c227{margin-left:72pt}.c121{font-size:9.5pt}.c315{margin-left:42.5pt}.c255{margin-right:-36.4pt}.c230{margin-left:35.8pt}.c223{font-size:7pt}.c256{margin-left:35.2pt}.c198{margin-left:15.9pt}.c238{color:#800080}.c345{height:30.8pt}.c273{margin-left:18pt}.c49{font-size:10pt}.c325{margin-left:29.1pt}.c310{height:43.5pt}.c239{margin-left:-0.8pt}.c180{font-style:normal}.c37{background-color:#ffffff}.c274{height:50.4pt}.c101{color:#212529}.c263{height:39.8pt}.c119{font-style:italic}.c226{text-indent:0.2pt}.c240{margin-left:-0.2pt}.c35{height:0pt}.c116{text-decoration:none}.c201{margin-right:0.3pt}.c347{font-size:24pt}.c138{height:15pt}.c52{background-color:#cfe2f3}.c74{color:#222222}.c194{margin-left:108pt}.c92{height:15.8pt}.c269{font-size:13pt}.c170{}.c142{background-color:#d9d9d9}.c287{background-color:#9fc5e8}.c167{text-indent:0.8pt}.c56{page-break-after:avoid}.c302{height:19.4pt}.c76{font-size:8pt}.c54{color:#333333}.c91{background-color:#efefef}.c4{color:#000000}.c217{margin-left:39pt}.c309{font-size:20pt}.c333{height:57.8pt}.c266{height:14pt}.c319{text-indent:29.9pt}.c172{color:#202124}.c303{height:17.1pt}.c147{background-color:#fff2cc}.c90{font-family:"Arial"}.c109{background-color:#cccccc}.c88{height:38.9pt}.c173{height:10pt}.c254{margin-right:7.3pt}.c139{vertical-align:baseline}.c307{margin-right:-3pt}.c210{margin-right:49.5pt}.c346{margin-left:21.6pt}.c275{font-size:10.5pt}.c321{height:43.6pt}.c174{font-size:12pt}.title{padding-top:1pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:24pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;background-color:#ffffff;border-top-color:#808080;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}.subtitle{padding-top:1pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:18pt;padding-bottom:12pt;line-height:1.0;border-top-style:solid;background-color:#ffffff;border-top-color:#808080;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}li{background-color:#ffffff;color:#172b4d;font-size:10.5pt;font-family:"Liberation Sans"}p{background-color:#ffffff;margin:0;color:#172b4d;font-size:10.5pt;font-family:"Liberation Sans"}h1{padding-top:6pt;color:#446caa;border-top-width:0.5pt;font-weight:700;font-size:18pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#808080;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h2{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:14pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h3{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:13pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h4{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:12pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h5{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:12pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}h6{padding-top:0pt;color:#446caa;border-top-width:0pt;font-weight:700;font-size:11pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;border-top-style:solid;background-color:#ffffff;border-top-color:#000000;font-family:"Liberation Sans";orphans:2;widows:2;text-align:left}</style></head><body class="c37 c312 doc-content"><div><p class="c3 c62"><span class="c8 c32"></span></p></div><p class="c69 c282 c247 title"><span class="c15 c93 c128 c347">MQTT for Sensor Networks (MQTT-SN) Version 2.0</span></p><p class="c69 c282 c247 subtitle"><span class="c15 c93 c128 c178">Committee Specification Draft 01</span></p><p class="c12 c154" id="h.30j0zll"><span class="c128 c63 c90">01 August 2024</span><span class="c93 c0 c178 c4">&nbsp;</span></p><p class="c114 c107 c56"><span class="c10 c15 c128">This stage:</span></p><p class="c114 c56"><span class="c128 c63 c90">&hellip;</span><sup><a href="#cmnt1" id="cmnt_ref1">[a]</a></sup></p><p class="c114 c107 c56"><span class="c10 c15 c128">Previous stage:</span></p><p class="c114 c56"><span class="c10 c15 c128">N/A</span></p><p class="c114 c107 c56"><span class="c10 c15 c128">Latest stage:</span></p><p class="c114 c107 c56"><span class="c10 c15 c128">&hellip;</span></p><p class="c114 c56"><span class="c93 c128 c63 c49 c90">Technical Committee:</span></p><p class="c12 c133" id="h.1fob9te"><span class="c73 c0 c49"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/&amp;sa=D&amp;source=editors&amp;ust=1743262498199375&amp;usg=AOvVaw3kZRN4Lm3eWgxejdwQNxTA">OASIS Message Queuing Telemetry Transport (MQTT) TC</a></span></p><p class="c114 c56"><span class="c93 c128 c63 c49 c90">Chairs:</span></p><p class="c12 c106"><span class="c20 c0 c4">Ian Craggs (</span><span class="c20 c0 c4"><a class="c36" href="mailto:icraggs@gmail.com">icraggs@gmail.com</a></span><span class="c20 c0 c4">), Individual</span></p><p class="c12 c106"><span class="c93 c0 c49 c4">Simon Johnson (</span><span class="c0 c49 c116 c4">simon.johnson@hivemq.com</span><span class="c93 c0 c49 c4">), </span><span class="c0 c49 c4">HiveMQ GmbH</span></p><p class="c114 c56"><span class="c93 c128 c63 c49 c90">Editors:</span></p><p class="c12 c106"><span class="c0 c49 c4 c93">Andrew B</span><span class="c0 c49 c4">anks </span><span class="c0 c49 c4">(andrewdjbanks@gmail.com</span><span class="c93 c0 c49 c4">), Individual</span></p><p class="c12 c106"><span class="c93 c0 c49 c4">Andy Stanford-Clark (andysc@uk.ibm.com), IBM</span></p><p class="c12 c106"><span class="c0 c49 c4">Davide Lenzarini (</span><span class="c0 c49 c4"><a class="c36" href="mailto:davide.lenzarini@u-blox.com">davide.lenzarini@u-blox.com</a></span><span class="c93 c0 c49 c4">), u-blox AG</span></p><p class="c12 c106"><span class="c0 c49 c4">Ian Craggs (</span><span class="c0 c49 c4"><a class="c36" href="mailto:icraggs@gmail.com">icraggs@gmail.com</a></span><span class="c93 c0 c49 c4">), Individual</span></p><p class="c12 c106"><span class="c0 c49 c4">Rahul Gupta (</span><span class="c0 c49 c4"><a class="c36" href="mailto:rahul.gupta@us.ibm.com">rahul.gupta@us.ibm.com</a></span><span class="c0 c49 c4">), </span><span class="c0 c4 c49"><a class="c36" href="https://www.google.com/url?q=http://www.ibm.com&amp;sa=D&amp;source=editors&amp;ust=1743262498201205&amp;usg=AOvVaw2YnccoOYawczNoeHWcUe4s">IBM</a></span></p><p class="c12 c106"><span class="c0 c49 c4">Simon Johnson (</span><span class="c0 c49 c4"><a class="c36" href="mailto:simon622@gmail.com">simon</a></span><span class="c93 c0 c49 c4">.johnson@hivemq.com), HiveMQ GmbH</span></p><p class="c12 c106"><span class="c0 c49 c4">Stefan Hagen (</span><span class="c0 c49 c4"><a class="c36" href="mailto:stefan@hagen.link">stefan@hagen.link</a></span><span class="c93 c0 c49 c4">), Individual</span></p><p class="c12 c106"><span class="c0 c49 c4">Tara E. Walker (</span><span class="c0 c49 c4"><a class="c36" href="mailto:tara.walker@microsoft.com">tara.walker@microsoft.com</a></span><span class="c0 c49 c4">), </span><span class="c0 c49 c4"><a class="c36" href="https://www.google.com/url?q=http://www.microsoft.com/&amp;sa=D&amp;source=editors&amp;ust=1743262498202024&amp;usg=AOvVaw1CuykdLoWGsrrLIUvwPZF7">Microsoft Corporation</a></span></p><a id="id.2et92p0"></a><p class="c114 c56"><span class="c93 c128 c63 c49 c90">Related work:</span></p><p class="c12 c106"><span class="c93 c0 c49 c4">This specification is related to:</span></p><ul class="c137 lst-kix_list_1-0 start"><li class="c12 c154 c129 li-bullet-0"><span class="c0 c49 c119 c116 c4 c139">MQTT Version 5.0</span><span class="c93 c0 c49 c4">. Edited by Andrew Banks, Ed Briggs, Ken Borgendale, and Rahul Gupta. OASIS Standard. Latest version: </span><span class="c73 c0 c49"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html&amp;sa=D&amp;source=editors&amp;ust=1743262498202606&amp;usg=AOvVaw2-rs7dxlCrdb5GErr3AXa_">https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html</a></span><span class="c73 c0 c49">.</span></li><li class="c12 c154 c129 li-bullet-0"><span class="c0 c49 c119 c116 c4 c139">MQTT Version 3.1.1</span><span class="c93 c0 c49 c4">. Edited by Andrew Banks and Rahul Gupta. OASIS Standard. Latest version: </span><span class="c73 c0 c49"><a class="c36" href="https://www.google.com/url?q=http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html&amp;sa=D&amp;source=editors&amp;ust=1743262498202930&amp;usg=AOvVaw3F2tYxmInbriaITtk6pGIk">http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/mqtt-v3.1.1.html</a></span><span class="c93 c0 c49 c4">.</span></li><li class="c12 c154 c129 li-bullet-0"><span class="c0 c49 c119 c116 c4 c139">MQTT-SN Version 1.2</span><span class="c93 c0 c49 c4">&nbsp;by Andy Stanford-Clark and Hong Linh Truong. Link: </span><span class="c73 c0 c49"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/download.php/66091/MQTT-SN_spec_v1.2.pdf&amp;sa=D&amp;source=editors&amp;ust=1743262498203237&amp;usg=AOvVaw1hyw_qvIrUeAFhmyW3Bb09">https://www.oasis-open.org/committees/download.php/66091/MQTT-SN_spec_v1.2.pdf</a></span><span class="c93 c0 c49 c4">.</span></li></ul><p class="c114 c56"><span class="c93 c128 c63 c49 c90">Abstract:</span></p><p class="c156 c106"><span class="c93 c0 c49 c4">This specification defines the MQTT for Sensor Networks protocol (MQTT-SN). It is closely related to the MQTT v3.1.1 and MQTT v5.0 standards. MQTT-SN is optimized for implementation on low-cost, battery-operated devices with limited processing and storage resources. It is designed so that it will work over a variety of networking technologies and bridge to an MQTT network.</span></p><p class="c56 c114"><span class="c93 c128 c63 c49 c90">Status:</span></p><p class="c156 c106"><span class="c93 c0 c49 c4">This </span><span class="c0">document was last revised or approved by the OASIS Message Queuing Telemetry Transport (MQTT) TC on the above date.</span><span class="c93 c0 c49 c4">&nbsp;</span><span class="c0">The level of approval is also listed above. Check the &quot;Latest stage&quot; location noted above for possible later revisions of this document. Any other numbered Versions and other technical work produced by the Technical Committee (TC) are listed at </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/tc_home.php?wg_abbrev%3Dmqtt%23technical&amp;sa=D&amp;source=editors&amp;ust=1743262498203920&amp;usg=AOvVaw21wfKnWCpLrf09ToVHunVX">https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=mqtt#technical</a></span><span class="c93 c0 c49 c4">&nbsp;.</span></p><p class="c106 c156"><span class="c0">TC members should send comments on this document to the TC&#39;s email list. Others should send comments to the TC&#39;s public comment list, after subscribing to it by following the instructions at the &quot;</span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/comments/index.php?wg_abbrev%3Dmqtt&amp;sa=D&amp;source=editors&amp;ust=1743262498204216&amp;usg=AOvVaw2OvVMWcedACxqxxcyUweWI">Send A Comment</a></span><span class="c0">&quot; button on the TC&#39;s web page at </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/&amp;sa=D&amp;source=editors&amp;ust=1743262498204366&amp;usg=AOvVaw2YZ2PfojXfAywEGPNTkSYi">https://www.oasis-open.org/committees/mqtt/</a></span><span class="c8 c0">.</span></p><p class="c156 c106"><span class="c93 c0 c49 c4">This specification is provided under the </span><span class="c73 c0 c49"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr%23Non-Assertion-Mode&amp;sa=D&amp;source=editors&amp;ust=1743262498204674&amp;usg=AOvVaw1Vcz5bjzExuQGidKbhHGuE">Non-Assertion</a></span><span class="c93 c0 c49 c4">&nbsp;Mode of the </span><span class="c73 c0 c49"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr&amp;sa=D&amp;source=editors&amp;ust=1743262498204847&amp;usg=AOvVaw2OLymJMFP6VngcMqfJowI4">OASIS IPR Policy</a></span><span class="c93 c0 c49 c4">, the mode chosen when the Technical Committee was established. For information on whether any patents have been disclosed that may be essential to implementing this specification, and any offers of patent licensing terms, refer to the Intellectual Property Rights section of the TC&rsquo;s web page (</span><span class="c73 c0 c49"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/ipr.php&amp;sa=D&amp;source=editors&amp;ust=1743262498205166&amp;usg=AOvVaw123XyoESYSMYitR9odjiIR">https://www.oasis-open.org/committees/mqtt/ipr.php</a></span><span class="c0 c49 c73">).</span></p><p class="c156 c106"><span class="c93 c0 c49 c4">Note that any machine-readable content (</span><span class="c73 c0 c49"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsCompLang&amp;sa=D&amp;source=editors&amp;ust=1743262498205455&amp;usg=AOvVaw2ZDkW-sbEwQ01YhL9-DG_z">Computer Language Definitions</a></span><span class="c93 c0 c49 c4">) declared Normative for this Work Product is provided in separate plain text files. In the event of a discrepancy between any such plain text file and display content in the Work Product&#39;s prose narrative document(s), the content in the separate plain text file prevails.</span></p><p class="c114 c56"><span class="c128 c63 c90">Citation format</span><span class="c93 c128 c63 c49 c90">:</span></p><p class="c159 c154 c148 c256"><span class="c8 c0">When referencing this document, the following citation format should be used:</span></p><p class="c159 c154 c148 c256"><span class="c8 c63 c90">[MQTT-SN-v2.0]</span></p><p class="c12 c106"><span class="c0 c49 c119 c4">MQTT for Sensor Networks Version 2.0</span><span class="c0 c49 c4">. Edited by Andrew Banks, Davide Lenzarini, Ian Craggs, Rahul Gupta, Simon Johnson, Stefan Hagen, and Tara E. Walker. 01 August 2024. OASIS Committee Specification Draft 01. </span><span class="c0 c49 c4 c260"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt-sn/v12.30/csd01/mqtt-sn-v12.30-csd01.docx&amp;sa=D&amp;source=editors&amp;ust=1743262498206172&amp;usg=AOvVaw01sHb2iSCZZXG0XfESQE2O">https://docs.oasis-open.org/mqtt/mqtt-sn/v2.0/csd01/mqtt-sn-v2.0-csd01.docx</a></span><span class="c0 c49 c4">. Latest stage: </span><span class="c260 c0 c49 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt-sn/v12.30/mqtt-sn-v12.30.docx&amp;sa=D&amp;source=editors&amp;ust=1743262498206367&amp;usg=AOvVaw05F4GP7iE-oXEEovtspl7L">https://docs.oasis-open.org/mqtt/mqtt-sn/v2.0/mqtt-sn-v2.0.docx</a></span><sup><a href="#cmnt2" id="cmnt_ref2">[b]</a></sup></p><p class="c156 c106"><span class="c93 c0 c29 c49 c4">(</span><span class="c93 c63 c29 c49 c4 c90">Note:</span><span class="c93 c0 c29 c49 c4">&nbsp;Publication URIs are managed by OASIS TC Administration; please don&#39;t modify. The </span><span class="c93 c0 c29 c49 c4"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsGeneral&amp;sa=D&amp;source=editors&amp;ust=1743262498206741&amp;usg=AOvVaw1A8Zum-enPAlJh4tnlbdGL">OASIS TC Process</a></span><span class="c93 c0 c29 c49 c4">&nbsp;requires that Work Products at any level of approval must use the </span><span class="c93 c0 c29 c49 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/specGuidelines/ndr/namingDirectives.html&amp;sa=D&amp;source=editors&amp;ust=1743262498206922&amp;usg=AOvVaw0jVsIMxGdjftDfc4r-rMDD">OASIS file naming scheme</a></span><span class="c93 c0 c29 c49 c4">, and must include the OASIS copyright notice. The URIs above have been constructed according to the file naming scheme. Remove this note before submitting for publication.)</span></p><p class="c247 c154 c282"><span class="c93 c128 c63 c178 c90">Notices</span></p><p class="c3"><span class="c8 c0">Copyright &copy; OASIS Open 2024. All Rights Reserved.</span></p><p class="c3"><span class="c0">All capitalized terms in the following text have the meanings assigned to them in the OASIS Intellectual Property Rights Policy (the &quot;OASIS IPR Policy&quot;). The full </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1743262498207408&amp;usg=AOvVaw09dXntnlG0udCQeeFf3QsC">Policy</a></span><span class="c0">&nbsp;may be found at the OASIS website: [</span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr/&amp;sa=D&amp;source=editors&amp;ust=1743262498207554&amp;usg=AOvVaw0LQLCrHWF3yBy7Y_uZElyA">https://www.oasis-open.org/policies-guidelines/ipr/</a></span><span class="c8 c0">].</span></p><p class="c3"><span class="c8 c0">This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this section are included on all such copies and derivative works. However, this document itself may not be modified in any way, including by removing the copyright notice or references to OASIS, except as needed for the purpose of developing any document or deliverable produced by an OASIS Technical Committee (in which case the rules applicable to copyrights, as set forth in the OASIS IPR Policy, must be followed) or as required to translate it into languages other than English.</span></p><p class="c3"><span class="c8 c0">The limited permissions granted above are perpetual and will not be revoked by OASIS or its successors or assigns.</span></p><p class="c3"><span class="c8 c0">This document and the information contained herein is provided on an &quot;AS IS&quot; basis and OASIS DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. OASIS AND ITS MEMBERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THIS DOCUMENT OR ANY PART THEREOF.</span></p><p class="c3"><span class="c8 c0">As stated in the OASIS IPR Policy, the following three paragraphs in brackets apply to OASIS Standards Final Deliverable documents (Committee Specifications, OASIS Standards, or Approved Errata).</span></p><p class="c3"><span class="c8 c0">[OASIS requests that any OASIS Party or any other party that believes it has patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable, to notify OASIS TC Administrator and provide an indication of its willingness to grant patent licenses to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this deliverable.]</span></p><p class="c3"><span class="c8 c0">[OASIS invites any party to contact the OASIS TC Administrator if it is aware of a claim of ownership of any patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable by a patent holder that is not willing to provide a license to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this OASIS Standards Final Deliverable. OASIS may include such claims on its website, but disclaims any obligation to do so.]</span></p><p class="c3"><span class="c8 c0">[OASIS takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this OASIS Standards Final Deliverable or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on OASIS&#39; procedures with respect to rights in any document or deliverable produced by an OASIS Technical Committee can be found on the OASIS website. Copies of claims of rights made available for publication and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this OASIS Standards Final Deliverable, can be obtained from the OASIS TC Administrator. OASIS makes no representation that any information or list of intellectual property rights will at any time be complete, or that any claims in such list are, in fact, Essential Claims.]</span></p><p class="c3"><span class="c0">The name &quot;OASIS&quot; is a trademark of </span><span class="c0 c31"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/&amp;sa=D&amp;source=editors&amp;ust=1743262498208720&amp;usg=AOvVaw38itfLsnZUFQJ6MPcTe6vu">OASIS</a></span><span class="c0">, the owner and developer of this document, and should be used only to refer to the organization and its official outputs. OASIS welcomes reference to, and implementation and use of, documents, while reserving the right to enforce its marks against misleading uses. See </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/trademark/&amp;sa=D&amp;source=editors&amp;ust=1743262498208897&amp;usg=AOvVaw11a-yYjTpHDfnARLMoUrE-">https://www.oasis-open.org/policies-guidelines/trademark/</a></span><span class="c0">&nbsp;for above guidance.</span></p><p class="c282 c247 c154"><span class="c93 c128 c63 c178 c90">Table of Contents</span></p><p class="c171"><span class="c10 c0 c4"><a class="c36" href="#h.3dy6vkm">1 Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.uokut45h8sy1">1.0 Intellectual property rights policy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.v5qicb1pcnem">1.1 Changes from earlier Versions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.5u7dbejbytfw">1.1.1 MQTT-SN 1.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.4d34og8">1.2 Organization of the MQTT-SN specification&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.17dp8vu">1.3 Terminology&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.k1nv0xr6w25">1.4 Normative references&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.wi8cs5zgi8fo">1.5 Informative References&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.4olrp2glo5nb">1.6 MQTT For Sensor Networks (MQTT-SN)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.ox4v8n854qgm">1.6.1 MQTT-SN and MQTT Differences&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.2bn6wsx">1.7 Data representation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.qsh70q">1.7.1 Bits (Byte)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3as4poj">1.7.2 Two Byte Integer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1pxezwc">1.7.3 Four Byte Integer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.49x2ik5">1.7.4 UTF-8 Encoded String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</a></span></p><p class="c171"><span class="c10 c0 c4"><a class="c36" href="#h.3o7alnk">2 MQTT-SN Control Packet format&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.23ckvvd">2.1 Structure of an MQTT-SN Control Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1hmsyys">2.1.1 Packet Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.vx1227">2.1.2 Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1v1yuxt">2.1.3 MQTT-SN Control Packet Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.19c6y18">2.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.46r0co2">2.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.2zbgiuw">2.4 Topic Types&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33</a></span></p><p class="c171"><span class="c10 c0 c4"><a class="c36" href="#h.1egqt2p">3 MQTT-SN Control Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.2dlolyb">3.1 ADVERTISE - Gateway Advertisement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.sqyw64">3.1.1 ADVERTISE Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3cqmetx">3.1.2 Gateway Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1rvwp1q">3.1.3 Duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.4bvk7pj">3.2 SEARCHGW - Search for A Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2r0uhxc">3.2.1 SEARCHGW Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1664s55">3.2.2 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.3q5sasy">3.3 GWINFO - Gateway Information&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.25b2l0r">3.3.1 GWINFO Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.kgcv8k">3.3.2 Gateway Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.34g0dwd">3.3.3 Gateway Address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.1jlao46">3.4 CONNECT - Connection Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.43ky6rz">3.4.1 CONNECT Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2iq8gzs">3.4.2 Connect Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.etqaie4ha8c7">3.4.2.1 Clean Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.92dpq2f7xb81">3.4.2.2 Will Flag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.26ppt98ru9i8">3.4.2.3 Authentication Flag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.ntz1htjambvt">3.4.2.4 Session Expiry Flag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.ynjlp937bzvf">3.4.2.5 Default Number of Awake Messages&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.u38i2mpp332q">3.4.3 Will Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.mbj87qvk8qy6">3.4.3.1 Will Topic Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.36sxt0949mi2">3.4.3.2 Will QoS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.bnoytfwh08eh">3.4.3.3 Will Retain&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.kxsqte300p6i">3.4.4 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.xvir7l">3.4.5 Protocol Version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.4h042r0">3.4.6 Keep Alive&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3vac5uf">3.4.7 Maximum Packet Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1baon6m">3.4.8 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.6mntinqaom6n">3.4.9 Will Topic Alias or Will Topic Name Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.m1ydln779jbl">3.4.10 Will Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.g5w1zpmaiace">3.4.11 Will Payload Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.o88zms19c5d1">3.4.12 Will Payload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.mw1gvx9qi5t0">3.4.13 Authentication Method Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.4ydjyi9y5y20">3.4.14 Authentication Method&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.5hocu94eubqg">3.4.15 Authentication Data Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.g9mib2nvvlzy">3.4.16 Authentication Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;43</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.pkwqa1">3.4.17 Client Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.9wk6osa2rqp1">3.4.18 CONNECT Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.39kk8xu">3.5 CONNACK - Connect Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2nusc19">3.5.1 CONNACK Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3mzq4wv">3.5.2 CONNACK Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.w3elb16r2ceb">3.5.2.1 Session Present&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.xzl3tg24tlhl">3.5.2.2 Session Expiry Interval Flag (Sess Exp)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.cjfdh2p7nklr">3.5.2.3 Authentication Flag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.lnmexuhpjkl8">3.5.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1302m92">3.5.4 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2250f4o">3.5.5 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3wmneavoet74">3.5.6 Authentication Method Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.ydayklwjstjk">3.5.7 Authentication Method&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.kvppk7yh36lv">3.5.8 Authentication Data Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.600ktmi3vm5o">3.5.9 Authentication Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.haapch">3.5.10 Assigned Client Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.184mhaj">3.6 AUTH - Authentication Exchange&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3s49zyc">3.6.1 AUTH Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.6cbjggtsyz0j">3.6.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;49</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.279ka65">3.6.2 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.meukdy">3.6.3 Authentication Method Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.36ei31r">3.6.4 Authentication Method&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1ljsd9k">3.6.5 Authentication Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.psc1lxe4uzxw">3.6.6 AUTH Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.45jfvxd">3.7 REGISTER - Register Topic Alias Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2koq656">3.7.1 REGISTER Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3jtnz0s">3.7.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.zu0gcz">3.7.3 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1yyy98l">3.7.4 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.2jnkuws4c71i">3.7.5 REGISTER Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.4iylrwe">3.8 REGACK - Register Topic Alias Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2y3w247">3.8.1 REGACK Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1d96cc0">3.8.2 REGACK Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.9sc8qmlasy98">3.8.2.1 Topic Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2ce457m">3.8.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3x8tuzt">3.8.4 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.rjefff">3.8.5 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c111"><span class="c10 c32 c4"><a class="c36" href="#h.3bj1y38">3.9 Publish Variants&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.j8sehv">3.9.1 PUBWOS - Publish Without Session&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.338fx5o">3.9.1.1 PUBWOS Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.1idq7dh">3.9.1.2 PUBWOS Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.qfef1dqk26d9">3.9.1.2.1 Topic Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.kky57id4222a">3.9.1.2.2 Retain&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.42ddq1a">3.9.1.3 Topic Alias or Topic Name Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.vgc8jwcnscew">3.9.1.4 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.2hio093">3.9.1.5 Payload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.whhpchgpz502">3.9.1.6 PUBWOS Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.qdbg4wo1b88k">3.9.2 PUBLISH with QoS -1 (Informative)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;55</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.d1955xpjj9qi">3.9.2.1 PUBLISH Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.z6s5szoqybu9">3.9.2.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.k49fswnusgzd">3.9.2.2.1 Topic Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.f8v6o4gdlqm1">3.9.2.2.2 QoS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.k1um9syapc89">3.9.2.2.3 DUP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.fdqzktr96rsl">3.9.2.2.4 Retain&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.vdd4u1anmq9">3.9.3.3 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.qpk20o16bg3e">3.9.3.4 Topic Short Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.n3kci6se3415">3.9.3.5 Topic Name Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.fuo62t3iil3s">3.9.3.6 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.krzmgvozyfdn">3.9.2.7 Payload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.q6351elzwqpo">3.9.2.8 PUBLISH QoS -1 Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.wnyagw">3.9.3 PUBLISH with QoS 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.3gnlt4p">3.9.3.1 PUBLISH Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.1vsw3ci">3.9.3.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.fmrm4etlxug5">3.9.3.2.1 Topic Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.hmaja4ei5dew">3.9.3.2.2 QoS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.ehxpc4g73qd3">3.9.3.2.3 Retain&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.prwby0o5psp7">3.9.3.3 Topic Alias or Topic Name Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.szyp1smih5mo">3.9.3.4 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.gqkpss1ajssy">3.9.3.5 Payload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.inu1col38lh0">3.9.3.6 PUBLISH - QoS 0 Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1a346fx">3.9.4 PUBLISH with QoS 1 and 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.3u2rp3q">3.9.4.1 PUBLISH Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.2981zbj">3.9.4.2 PUBLISH Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.kw46rfulitvm">3.9.4.2.1 Topic Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.vji0n7lr4z5x">3.9.4.2.2 QoS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.rxf6r8qtkk4u">3.9.4.2.3 DUP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.qucfg7kks10e">3.9.4.2.4 Retain&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.1nia2ey">3.9.4.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;61</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.x2t78tr9icfe">3.9.4.4 Topic Alias or Topic Name Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.2mn7vak">3.9.4.5 Topic Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.imenmt69e82j">3.9.4.6 Payload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.3hu8nopr74va">3.9.4.7 PUBLISH Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.11si5id">3.9.5 PUBACK &ndash; Publish Acknowledgement (QoS 1 delivery)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.3ls5o66">3.9.5.1 PUBACK Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.20xfydz">3.9.5.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.6vzc3pa0vvfr">3.9.5.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.xgybvs5ktz8v">3.9.5.4 PUBACK Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.302dr9l">3.9.6 PUBREC - Publish Received (QoS 2 delivery part 1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.1f7o1he">3.9.6.1 PUBREC Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.3z7bk57">3.9.6.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.r1l18glza5z5">3.9.6.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.kktb96s9v8sj">3.9.6.4 PUBREC Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2eclud0">3.9.7 PUBREL - Publish Release (QoS 2 delivery part 2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.thw4kt">3.9.7.1 PUBREL Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.3dhjn8m">3.9.7.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.93he5qdacswt">3.9.7.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.nj4sqaal9xm4">3.9.7.4 PUBREL Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1smtxgf">3.9.8 PUBCOMP - Publish Complete (QoS 2 delivery part 3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.4cmhg48">3.9.8.1 PUBCOMP Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;65</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.2rrrqc1">3.9.8.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;65</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.j9ce9nedlrkd">3.9.8.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;65</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.wwlbpe629g7j">3.9.8.4 PUBCOMP Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;65</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.16x20ju">3.10 SUBSCRIBE - Subscribe Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3qwpj7n">3.10.1 SUBSCRIBE Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.261ztfg">3.10.2 SUBSCRIBE Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.o4chcds3950x">3.10.2.1 Topic Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.cqknfyf6vt7z">3.10.2.2 Retain handling&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.pzgz6pkwxml8">3.10.2.3 Retain as Published&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.pcycfor1m7ik">3.10.2.4 QoS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.6uifx1r15uxd">3.10.2.5 No Local&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.l7a3n9">3.10.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.356xmb2">3.10.4 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.8j7xjui1oq1k">3.10.5 Topic Filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.8f4jncpi264u">3.10.6 SUBSCRIBE Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.1kc7wiv">3.11 SUBACK - Subscribe Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;69</a></span></p><p class="c22"><span class="c0 c4 c10"><a class="c36" href="#h.44bvf6o">3.11.1 SUBACK Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;70</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2jh5peh">3.11.2 SUBACK Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;70</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.sjf79nlu0oyc">3.11.2.1 Topic Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;70</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3im3ia3">3.11.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.ymfzma">3.11.4 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1xrdshw">3.11.5 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.4hr1b5p">3.12 UNSUBSCRIBE - Unsubscribe Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1c1lvlb">3.12.1 UNSUBSCRIBE Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3w19e94">3.12.2 UNSUBSCRIBE Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.35jl7go284h2">3.12.2.1 Topic Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2b6jogx">3.12.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.qbtyoq">3.12.4 Topic Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.ftxkv4ci99pj">3.12.5 Topic Filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.yu0e4zurjnhj">3.12.6 UNSUBSCRIBE Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.3abhhcj">3.13 UNSUBACK - Unsubscribe Acknowledgement&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1pgrrkc">3.13.1 UNSUBACK Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.49gfa85">3.13.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2olpkfy">3.13.3 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.13qzunr">3.14 PINGREQ - Ping Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3nqndbk">3.14.1 PINGREQ Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.sqbpplpqb01e">3.14.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.22vxnjd">3.14.3 Session Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.1bpzu4dgtzqz">3.14.4 PINGREQ Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.i17xr6">3.15 PINGRESP - Ping Response&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.320vgez">3.15.1 PINGRESP Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.fodwg3l5deju">3.15.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1h65qms">3.15.3 Application Messages Remaining&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;76</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.415t9al">3.16 DISCONNECT - Disconnect Notification&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;76</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2gb3jie">3.16.1 DISCONNECT Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.vgdtq7">3.16.2 DISCONNECT Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.2he2fw8unuaw">3.16.2.1 Retain Registrations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.xf6mk8ar6hod">3.16.2.2 Packet Identifier Flag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.vf25roqqpxsl">3.16.2.3 Session Expiry Interval Flag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.qy3p3qqdmadq">3.16.2.4 Reason Code Flag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.rjljjibf9dws">3.16.3 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;78</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3fg1ce0">3.16.4 Reason Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;78</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1ulbmlt">3.16.5 Session Expiry Interval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;78</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.4ekz59m">3.16.6 Reason String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;78</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.wsl51zt8cr34">3.16.7 DISCONNECT Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;78</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.elrc49qsiunp">3.17 WAKEUP - Wake up request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.lrkcmnrrlwx6">3.17.1 WAKEUP Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.2sa95hk6sfa3">3.17.2 WAKEUP Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.y0yzf1b41yjh">3.18 SLEEPREQ - Sleep request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.ae58qknvrf2w">3.18.1 SLEEPREQ Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.r9l470czcfcd">3.18.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;79</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.lmowugbak9ff">3.18.3 Sleep Duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.1za85wfbb30f">3.18.4 SLEEPREQ Actions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.jym8s7ogwu9n">3.19 SLEEPRESP - Sleep response&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.lhdh9flvorts">3.19.1 SLEEPRESP Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.ts4rruwfri54">3.19.2 Packet Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.1e03kqp">3.20 Forwarder Encapsulation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3xzr3ei">3.20.1 Forwarder Encapsulation Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.sabnu4">3.20.2 Control Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.3c9z6hx">3.20.2.1 Radius&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;82</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1rf9gpq">3.20.3 Wireless Node Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;82</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.4bewzdj">3.20.4 MQTT-SN Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;82</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.15cqrsoyxc87">3.21 Protection Encapsulation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.j9tutdzg8gdj">3.21.1 Protection Encapsulation Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.g1mmf1c4lvqh">3.21.2 Protection Flags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.dgr37fcn70h7">3.21.2.1 Monotonic Counter Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.ur276rc44plv">3.21.2.2 Cryptographic Material Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.dvegbdq024g">3.21.2.3 Authentication Tag Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.m1zk7agco355">3.21.3 Protection Scheme&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;87</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.jo2d2fngx6hj">3.21.4 Sender Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;88</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.vjl219ghlhvi">3.21.5 Random&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;89</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.q30yx1mc4rc1">3.21.6 Cryptographic Material&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;89</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3y6o9vhqakro">3.21.7 Monotonic Counter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;89</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.dovnwl46a7is">3.21.8 Protected MQTT-SN Packet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;89</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.j75p96o6vesm">3.21.9 Authentication Tag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;90</a></span></p><p class="c171"><span class="c10 c0 c4"><a class="c36" href="#h.2qk79lc">4 Operational behavior&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.21od6so">4.1 Session state&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.nasxg3iedd75">4.1.1 Storing Session State&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.434ayfz">4.1.2 Session Establishment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;92</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.fc1j1f7dq6oy">4.2 Networks and Virtual Connections&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.2i9l8ns">4.3 Quality of Service levels and protocol flows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;94</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.be76rdrlcegt">4.3.1 Publish without session&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;94</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.xevivl">4.3.2 QoS 0: At most once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;95</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1au1eum">4.3.3 QoS 1: At least once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;95</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1o97atn">4.3.4 QoS 2: Exactly once delivery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;96</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.6udnv5yl5cv5">4.4 Packet delivery retry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;97</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.kc8msbstg9e">4.4.1 Virtual Connection End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;98</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.17nz8yj">4.4.2 Unacknowledged Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;98</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1csj400">4.4.3 Exponential Backoff (informative)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;99</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.xoc2pfhnyfst">4.5 Application Message receipt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;99</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.rrfw7sclv8s">4.6 Application Message ordering&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;99</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.sznt7pux1885">4.7 Topics&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.g7vjj8m1vj3z">4.7.1 Topic Names and Topic Filters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.q0s32id4lv9p">4.7.1.1 Topic wildcards&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.3kbulner4ob4">4.7.1.1.1 Topic level separator&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.ychcrpqsu69r">4.7.1.1.2 Multi-level wildcard&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100</a></span></p><p class="c89"><span class="c40 c0 c4"><a class="c36" href="#h.x4yye38w41vd">4.7.1.1.3 Single-level wildcard&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;101</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.p61p07rh2x26">4.7.1.2 &nbsp;Topics beginning with $&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;101</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.rvcur5x0am">4.7.1.3 Topic semantic and usage&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;102</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1fyl9w3">4.7.2 Topic Aliases&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;102</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.9in506fc1wsl">4.7.2.1 Topic Registration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;103</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.3zy8sjw">4.7.2.2 Topic Mapping and Aliasing&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;103</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.2f3j2rp">4.7.2.3 Predefined topic aliases and short topic names&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;103</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.u8tczi">4.7.2.4 Client Topic Subscribe/Unsubscribe Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;104</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3e8gvnb">4.7.2.5 Client Publish Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;104</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.1tdr5v4">4.7.2.6 Gateway Publish Procedure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;105</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.zh9mgr3i86c2">4.8 Subscriptions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;105</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.bfojn6tjnvgm">4.9 Flow Control&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;105</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.k5nujtaz6h05">4.10 Server redirection&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;106</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.n3l7hni8c3ae">4.11 Authentication&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;106</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.wz7zobqrpqj8">4.11.1 CONNECT and AUTH packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;106</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.ut22r1f7l7us">4.11.1.1 Re-authentication&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;108</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.nhp24wh46om4">4.11.1.2 MQTT User Name and Password Support&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;109</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.v8vlgf6xm72a">4.12 Handling errors&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;111</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.kbby30dtgah8">4.12.1 Malformed Packet and Protocol Errors&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;111</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.j0ufrffgt029">4.12.2 Other errors&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;111</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.1vpy4wyrild2">4.13 Example MQTT-SN Architectures&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;112</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.3pp52gy">4.13.1 Transparent Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;112</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.24ufcor">4.13.2 Aggregating Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;113</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.jzpmwk">4.11.3 Forwarder encapsulator&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;114</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.1ypnvbsijucn">4.13.4 MQTT-SN broker&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;114</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.1j4nfs6">4.14 Gateway Advertisement and Discovery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;115</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.3mj2wkv">4.15 Client states&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;117</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.qfa0p4gzzbmu">4.15.1 Gateway timers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;119</a></span></p><p class="c67"><span class="c10 c0 c4"><a class="c36" href="#h.4ihyjke">4.15.1.1 Timer and Counter Values (Informative)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.gtnh0h">4.15.2 Clean start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.pj8yyjomhafn">4.15.3 Sleeping clients&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;121</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.4ddeoix">4.15.4 Keep Alive&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;123</a></span></p><p class="c22"><span class="c10 c0 c4"><a class="c36" href="#h.2sioyqq">4.15.5 Client Disconnect&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;124</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.ly7c1y">4.16 Retained Messages&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;124</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.mo7ahow0t2fa">4.17 Optional Features&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;125</a></span></p><p class="c171"><span class="c40 c63 c4 c90"><a class="c36" href="#h.ao41zqqg0txn">5 Security (Informative)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;126</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.2w9qaq2wvr46">5.1 Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;126</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.igt8todq2le2">5.2 MQTT-SN solutions: security and certification&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;126</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.t81ayj7ar2ac">5.3 Lightweight cryptography and constrained devices&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;126</a></span></p><p class="c111"><span class="c40 c0 c4"><a class="c36" href="#h.g0bezd2bi3zn">5.4 Implementation notes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;127</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.h5vxo4k0bdpo">5.4.1 Authentication of Clients by the Server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;127</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.lexe5j11rq4v">5.4.2 Authorization of Clients by the Server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;128</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.jysh3cxpsb6d">5.4.3 Authentication of the Server by the Client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;128</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.ot7sd3b9qzjh">5.4.4 Integrity of Application Messages and MQTT-SN Control Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;129</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.zdgt1oam65sj">5.4.5 Privacy of Application Messages and MQTT-SN Control Packets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;129</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.xh57vyfcv2nk">5.4.6 Non-repudiation of message transmission&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;129</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.e8wrqxkc3xaj">5.4.7 Detecting compromise of Clients and Servers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;129</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.z4zuc51rmam1">5.4.8 Detecting abnormal behaviors&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;130</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.wh4qb21u9cfo">5.4.9 Handling of Disallowed Unicode code points&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;130</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.nz5eemy59ri">5.4.9.1 Considerations for the use of Disallowed Unicode code points&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;130</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.bynx7fjpvxum">5.4.9.2 Interactions between Publishers and Subscribers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;131</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.d4dvwf8lgj0z">5.4.9.3 Remedies&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;131</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.tdlqgir6zrnb">5.4.10 Other security considerations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;131</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.ndkmfsfe6rvr">5.4.11 Use of SOCKS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;132</a></span></p><p class="c22"><span class="c40 c0 c4"><a class="c36" href="#h.3e16slc3oya2">5.4.12 Security profiles&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;132</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.mkfs4hgl2fw9">5.4.12.1 Clear communication profile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;132</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.z2enj073z0k8">5.4.12.2 Secured network communication profile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;132</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.uimbujrr2hqo">5.4.12.3 Secured transport profile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;132</a></span></p><p class="c67"><span class="c40 c0 c4"><a class="c36" href="#h.5h0rls4zwxer">5.4.12.4 Industry specific security profiles&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;133</a></span></p><p class="c171"><span class="c10 c0 c4"><a class="c36" href="#h.2k82xt6">6 Conformance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;134</a></span></p><p class="c171"><span class="c10 c63 c4 c90"><a class="c36" href="#h.bc8w7ov5oli4">Appendix A. Acknowledgments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;135</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.glow6i83isd5">A.1 Special Thanks&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;135</a></span></p><p class="c111"><span class="c10 c0 c4"><a class="c36" href="#h.tdeowwajj1wf">A.2 Participants&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;135</a></span></p><p class="c171"><span class="c40 c63 c4 c90"><a class="c36" href="#h.v94r25kxc2gv">Appendix B. Mandatory normative statements (informative)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;136</a></span></p><p class="c171"><span class="c10 c63 c4 c90"><a class="c36" href="#h.ewpzaw2f211a">Appendix C. Revision History (informative)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;137</a></span></p><p class="c3 c62" id="h.tyjcwt"><span class="c8 c0"></span></p><h1 class="c281 c247 c154 c148 c56" id="h.3dy6vkm"><span class="c93 c46 c128 c178 c37">1 Introduction</span></h1><p class="c3"><span class="c0">[</span><span class="c0 c29">All text is normative unless otherwise labeled</span><span class="c8 c0">]</span></p><h2 class="c45 c100" id="h.uokut45h8sy1"><span class="c55 c46 c37">1.0 Intellectual property rights policy</span></h2><p class="c25"><span class="c0">This specification is provided under the</span><span class="c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr%23Non-Assertion-Mode&amp;sa=D&amp;source=editors&amp;ust=1743262498246417&amp;usg=AOvVaw0E1FalnRPFwfOJPtBCOpwa">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr%23Non-Assertion-Mode&amp;sa=D&amp;source=editors&amp;ust=1743262498246531&amp;usg=AOvVaw0B3eDJhu2uhpzPk87ZCND8">Non-Assertion</a></span><span class="c0">&nbsp;Mode of the</span><span class="c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr&amp;sa=D&amp;source=editors&amp;ust=1743262498246644&amp;usg=AOvVaw25AEl9cqbiynf1rW71LZ0A">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/ipr&amp;sa=D&amp;source=editors&amp;ust=1743262498246750&amp;usg=AOvVaw02aCY4bmRiHAuSadsilCf0">OASIS IPR Policy</a></span><span class="c0">, the mode chosen when the Technical Committee was established. For information on whether any patents have been disclosed that may be essential to implementing this specification, and any offers of patent licensing terms, refer to the Intellectual Property Rights section of the TC&rsquo;s web page (</span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/committees/mqtt/ipr.php&amp;sa=D&amp;source=editors&amp;ust=1743262498246886&amp;usg=AOvVaw2uq6cXm-lFbEOEIln71wS7">https://www.oasis-open.org/committees/mqtt/ipr.php</a></span><span class="c8 c0">).</span></p><h2 class="c21" id="h.v5qicb1pcnem"><span class="c55 c46 c37">1.1 Changes from earlier Versions</span></h2><p class="c3"><span class="c0 c286">[</span><span class="c0 c29 c286">Optional section.</span><span class="c10 c0 c286 c37">]</span></p><p class="c69 c159"><span class="c0 c286">This section provides a description of significant differences from previously published, differently numbered Versions of this specification, if any. (Detailed revision history of this numbered Version should be tracked in an Appendix.)</span></p><h3 class="c21" id="h.5u7dbejbytfw"><span class="c81 c15">1.1.1 MQTT-SN 1.2</span></h3><p class="c3"><span class="c0">Text describing the changes/differences</span><sup><a href="#cmnt3" id="cmnt_ref3">[c]</a></sup></p><h2 class="c21" id="h.4d34og8"><span>1.2 </span><span class="c55 c15">Organization of the MQTT-SN specification</span></h2><p class="c3"><span class="c8 c0">The specification is split into six chapters:</span></p><ul class="c137 lst-kix_list_13-0 start"><li class="c215 c154 c187 c245 li-bullet-0" id="h.2s8eyo1"><span class="c93 c0 c49 c4"><a class="c36" href="#h.2bxgwvm">Chapter</a></span><span class="c93 c0 c49 c4">&nbsp;1 &ndash; Introduction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></li><li class="c12 c154 c187 c245 li-bullet-0"><span class="c93 c0 c49 c4">Chapter 2 &ndash; MQTT-SN Control Packet format</span></li><li class="c12 c154 c187 c245 li-bullet-0"><span class="c93 c0 c49 c4">Chapter 3 &ndash; MQTT-SN Control Packet</span><span class="c0 c49 c4">s</span></li><li class="c12 c154 c187 c245 li-bullet-0"><span class="c93 c0 c49 c4">Chapter 4 &ndash; Operational Behavior</span></li><li class="c12 c154 c187 c245 li-bullet-0"><span class="c93 c0 c49 c4">Chapter 5 - Security</span></li><li class="c156 c154 c187 c245 li-bullet-0"><span class="c93 c0 c49 c4">Chapter 6 &ndash; Conformance</span></li></ul><h2 class="c21" id="h.17dp8vu"><span class="c0">1.3 </span><span>Terminology</span></h2><p class="c25 c107" id="h.3rdcrjn"><span class="c0">The keywords &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this specification are to be interpreted as described in IETF RFC 2119 </span><span class="c0 c286">[RFC2119]</span><span class="c0">, except where they appear in text that is marked as non-normative.</span></p><p class="c154 c176"><span class="c40 c63 c4 c90">Datagram:</span></p><p class="c176 c154"><span class="c40 c0 c4">An independent, self-contained sequence of bytes. If received, the contents of a datagram must be correct.</span></p><p class="c176 c154"><span class="c40 c63 c4 c90">Underlying Network:</span></p><p class="c176 c154"><span class="c40 c0 c4">The underlying network which provides the means to send datagrams from one Network Address to another.</span></p><p class="c176 c154"><span class="c40 c63 c4 c90">Network Address:</span></p><p class="c18"><span class="c0 c50 c4">A</span><span class="c0 c50 c4">&nbsp;unique label </span><span class="c40 c0 c4">provided by the Underlying Network to identify a network endpoint.</span></p><p class="c18"><span class="c40 c0 c4">To receive datagrams, an MQTT-SN Client or Server listens to the network for packets addressed to a specific Network Address.</span></p><p class="c18"><span class="c40 c63 c4 c90">Unicast Address:</span></p><p class="c18"><span class="c40 c0 c4">A Network Address which represents one device on a network. For packets intended to reach one network endpoint.</span></p><p class="c18"><span class="c40 c63 c4 c90">Multicast Address:</span></p><p class="c18"><span class="c40 c0 c4">A Network Address which represents all or groups of devices on a network. For packets intended for more than one network endpoint.</span></p><p class="c18 c136"><span class="c40 c63 c4 c90">Informative:</span></p><p class="c18 c136"><span class="c0 c50 c4">Multicast Address as used in this specification also includes the concept of broadcast addresses, </span><span class="c40 c0 c4">for brevity.</span></p><p class="c18"><span class="c40 c63 c4 c90">Network Identity:</span></p><p class="c18"><span class="c40 c0 c4">The identity used to establish that a sequence of datagrams originates from the same network source. This could be, for example:</span></p><ul class="c137 lst-kix_3bne7i3s1y6e-0 start"><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">A Network Address</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">A DTLS connection ID</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">An MQTT-SN Protection Packet sender ID</span></li></ul><p class="c18"><span class="c50 c63 c4 c90">Virtual Connection:</span></p><p class="c18"><span class="c40 c0 c4">An MQTT-SN construct corresponding to the network connection in MQTT. It associates a Network Identity with a Session, by means of the Client Identifier.</span></p><p class="c18"><span class="c40 c63 c4 c90">Application Message:</span></p><p class="c18"><span class="c40 c0 c4">The data carried by the MQTT-SN protocol across the network for the application. When an Application Message is transported by MQTT-SN it contains payload data, a Quality of Service (QoS), and a Topic Name.</span></p><p class="c18"><span class="c40 c63 c4 c90">Client:</span></p><p class="c18"><span class="c40 c0 c4">A program or device that uses MQTT-SN. A Client:</span></p><ul class="c137 lst-kix_p16zu2nyfx8k-0 start"><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">creates a Virtual Connection to a Server.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">publishes Application Messages that other Clients might be interested in.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">subscribes to request Application Messages that it is interested in receiving.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">unsubscribes to remove a request for Application Messages.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">deletes the Virtual Connection to the Server.</span></li></ul><p class="c18"><span class="c40 c0 c4">and/or:</span></p><ul class="c137 lst-kix_jnhkrhbaqe11-0 start"><li class="c18 c96 li-bullet-0"><span class="c0 c50 c4">publishes Application Messages to a Multicast Address.</span></li></ul><p class="c18"><span class="c40 c0 c4">and/or:</span></p><ul class="c137 lst-kix_9yim5cm2a43p-0 start"><li class="c18 c96 li-bullet-0"><span class="c0 c50 c4">accepts Application Messages from a Multicast Address.</span></li></ul><p class="c18"><span class="c40 c63 c4 c90">Server:</span></p><p class="c18"><span class="c40 c0 c4">A program or device that acts as an intermediary between Clients which publish Application Messages and Clients which have made Subscriptions. </span></p><p class="c18"><span class="c0 c50 c4">Also known as a </span><span class="c50 c63 c4 c90">Gateway</span><span class="c0 c50 c4">&nbsp;- sometimes abbreviated to</span><span class="c50 c63 c4 c90">&nbsp;GW</span><span class="c40 c0 c4">.</span></p><p class="c18"><span class="c40 c0 c4">A Server:</span></p><ul class="c137 lst-kix_bupw68uclqhs-0 start"><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">accepts CONNECT requests from Clients.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">accepts Application Messages published by Clients.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">processes Subscribe and Unsubscribe requests from Clients.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">forwards Application Messages that match Client Subscriptions.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">accepts DISCONNECT requests from connected Clients.</span></li></ul><p class="c18"><span class="c40 c0 c4">and/or</span></p><ul class="c137 lst-kix_7g5ij6v74lx-0 start"><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">accepts packets from a Multicast Address.</span></li></ul><p class="c18"><span class="c40 c0 c4">and/or</span></p><ul class="c137 lst-kix_lqv7ssenj7fn-0 start"><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">opens an MQTT Network Connection to an MQTT Server.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">accepts Application Messages from the MQTT Server and forwards some or all to MQTT-SN Clients.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">accepts Application Messages from MQTT-SN Clients and forwards some or all to the MQTT Server.</span></li></ul><p class="c18"><span class="c40 c0 c4">and/or</span></p><ul class="c137 lst-kix_fcknsouuy2mw-0 start"><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">opens an MQTT Network Connection to an MQTT Server for every MQTT-SN CONNECT request</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">forwards equivalent MQTT packets to the MQTT Server for each MQTT-SN packet received</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">forwards equivalent MQTT-SN packets to the MQTT-SN Client for each MQTT packet received</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">closes the MQTT Network Connection when the Virtual Connection is deleted</span></li></ul><p class="c18"><span class="c40 c63 c4 c90">MQTT Client:</span></p><p class="c18"><span class="c40 c0 c4">A program or device that uses MQTT. An MQTT Client:</span></p><ul class="c137 lst-kix_a7barqp50qmp-0 start"><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">opens the Network Connection to the MQTT Server.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">publishes Application Messages that other MQTT (or MQTT-SN) Clients might be interested in.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">subscribes to request Application Messages that it is interested in receiving.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">unsubscribes to remove a request for Application Messages.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">closes the Network Connection to the Server.</span></li></ul><p class="c176 c154"><span class="c50 c63 c4 c90">MQTT Server:</span></p><p class="c18"><span class="c40 c0 c4">A program or device that acts as an intermediary between MQTT Clients which publish Application Messages and MQTT Clients which have made Subscriptions. </span></p><p class="c18"><span class="c0 c50 c4">Also known as a </span><span class="c50 c63 c4 c90">Broker</span><span class="c40 c0 c4">.</span></p><p class="c18"><span class="c40 c0 c4">An MQTT Server:</span></p><ul class="c137 lst-kix_iv9tlmqkwvr-0 start"><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">accepts Network Connections from MQTT Clients.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">accepts Application Messages published by MQTT Clients.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">processes Subscribe and Unsubscribe requests from MQTT Clients.</span></li><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">forwards Application Messages that match MQTT Client Subscriptions.</span></li><li class="c18 c96 li-bullet-0"><span class="c0 c4 c50">closes the </span><span class="c0 c50 c4">Network</span><span class="c40 c0 c4">&nbsp;Connection from the MQTT Client.</span></li></ul><p class="c18"><span class="c40 c63 c4 c90">Client Identifier:</span></p><p class="c18"><span class="c40 c0 c4">A UTF-8 encoded character string which uniquely identifies every Client connecting to a Server.</span></p><p class="c176 c154"><span class="c50 c63 c4 c90">Session</span><span class="c40 c63 c4 c90">:</span></p><p class="c18"><span class="c0 c4 c40">A stateful interaction between a Client and a Gateway which is associated with a Client Identifier. Some Sessions last only as long as the Virtual Connection, others can span multiple consecutive Virtual Connections between a Client and a Gateway. </span></p><p class="c18"><span class="c40 c63 c4 c90">Session State:</span></p><p class="c18"><span class="c0 c50 c4">The set of data that describes a Session. The Session State held by a Client is different to that held by a Server. See </span><span class="c31 c0 c50"><a class="c36" href="#h.21od6so">section 4.1</a></span><span class="c40 c0 c4">&nbsp;for details.</span></p><p class="c176 c154"><span class="c40 c63 c4 c90">Subscription:</span></p><p class="c18"><span class="c40 c0 c4">A Subscription comprises a Topic Filter and a maximum QoS. A Subscription is associated with a single Session. A Session can contain more than one Subscription. Each Subscription within a Session has a different Topic Filter.</span></p><p class="c126"><span class="c40 c63 c4 c90">Wildcard Subscription:</span></p><p class="c18"><span class="c0 c50 c4">A Wildcard Subscription is a Subscription with a Topic Filter containing one or more wildcard characters. This allows the subscription to match more than one Topic Name. Refer to </span><span class="c31 c0 c50"><a class="c36" href="#h.q0s32id4lv9p">section 4.7.1</a></span><span class="c0 c50 c4">&nbsp;</span><span class="c40 c0 c4">for a description of wildcard characters in a Topic Filter.</span></p><p class="c126"><span class="c40 c63 c4 c90">Topic Name:</span></p><p class="c18"><span class="c40 c0 c4">A label attached to an Application Message which is matched against the Subscriptions known to the Server.</span></p><p class="c18"><span class="c40 c63 c4 c90">Topic Alias:</span></p><p class="c18"><span class="c0 c50 c4">A Topic Alias is an integer value that is used to identify the Topic instead of using the Topic Name.</span><span class="c40 c0 c4">&nbsp;This reduces Packet sizes, and is useful when the Topic Names are long and the same Topic Names are used repetitively within a Virtual Connection.</span></p><p class="c126"><span class="c40 c63 c4 c90">Topic Filter:</span></p><p class="c18"><span class="c40 c0 c4">An expression contained in a Subscription to indicate an interest in one or more topics. A Topic Filter can include wildcard characters and can match more than one Topic Name.</span></p><p class="c18"><span class="c40 c63 c4 c90">MQTT-SN Control Packet:</span></p><p class="c126"><span class="c40 c0 c4">A packet of information that is sent to a Network Address. </span></p><p class="c18"><span class="c40 c63 c4 c90">Malformed Packet:</span></p><p class="c18"><span class="c0 c50 c4">A Control Packet that cannot be parsed according to this specification. Refer to</span><span class="c0 c50 c4">&nbsp;</span><span class="c31 c0 c50"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c40 c0 c4">&nbsp;for information about error handling.</span></p><p class="c18"><span class="c40 c63 c4 c90">Protocol Error:</span></p><p class="c18"><span class="c0 c50 c4">An error that is detected after the packet has been parsed and found to contain data that is not allowed by the protocol or is inconsistent with the state of the Client or Server. Refer to </span><span class="c31 c0 c50"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c40 c0 c4">&nbsp;for information about error handling.</span></p><p class="c18"><span class="c40 c63 c4 c90">Will Message:</span></p><p class="c18"><span class="c0 c50 c4">An Application Message which is published by the Server after the Virtual Connection is deleted in cases where the Virtual Connection is not deleted normally. Refer to </span><span class="c31 c0 c50"><a class="c36" href="#h.u38i2mpp332q">section 3.4.9</a></span><span class="c0 c50 c4">&nbsp;</span><span class="c40 c0 c4">for information about Will Messages.</span></p><p class="c18"><span class="c40 c63 c4 c90">Retained Message:</span></p><p class="c18"><span class="c0 c50 c4">An Application Message which is stored by the Server for a topic on the receipt of a Publish Packet with the retained flag set. When a Client subscribes to a topic with a Retained Message set, the Server sends the Retained Message to the Client, depending on the setting of the Retain Handling Subscribe Flags. Refer to </span><span class="c31 c0 c50"><a class="c36" href="#h.261ztfg">section 3.17.2</a></span><span class="c0 c50 c4">&nbsp;and </span><span class="c31 c0 c50"><a class="c36" href="#h.ly7c1y">section 4.16</a></span><span class="c40 c0 c4">&nbsp;for more information about Retained Messages.</span></p><p class="c18"><span class="c40 c63 c4 c90">Disallowed Unicode code point:</span></p><p class="c18"><span class="c0 c50 c4">The set of Unicode </span><span class="c0 c50 c4">Control Codes</span><span class="c0 c50 c4">&nbsp;and Unicode Noncharacters which should not be included in a UTF-8 Encoded String. Refer to </span><span class="c31 c0 c50"><a class="c36" href="#h.49x2ik5">section 1.7.4</a></span><span class="c0 c50 c4">&nbsp;</span><span class="c40 c0 c4">for more information about the Disallowed Unicode code points.</span></p><p class="c104 c69"><span class="c8 c63 c90">Wireless Sensor Network:</span></p><p class="c104 c69"><span class="c40 c0 c37 c172">Spatially dispersed and dedicated sensors that monitor and record the physical conditions of the environment and forward the collected data to a central location.</span></p><p class="c104 c69"><span class="c0 c172">Also known as </span><span class="c63 c172 c90">WSN</span><span class="c10 c0 c37 c172">, for short.</span></p><h2 class="c45 c100" id="h.k1nv0xr6w25"><span class="c55 c46 c37">1.4 Normative references</span></h2><p class="c3"><span class="c10 c0 c29 c57">[Required section.]</span></p><p class="c3"><span class="c10 c0 c29 c57">This appendix contains the normative and informative references that are used in this document.</span></p><p class="c3"><span class="c10 c0 c29 c57">While any hyperlinks included in this appendix were valid at the time of publication, OASIS cannot guarantee their long-term validity.</span></p><p class="c3"><span class="c10 c0 c29 c57">&nbsp;Note: Any normative work cited in the body of the text as needed to implement the work product must be listed in the Normative References section below. Each reference to a separate document or artifact in this work must be listed here and must be identified as either a Normative or an Informative Reference.</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">&nbsp;For all References &ndash; Normative and Informative:</span></p><p class="c69 c87"><span class="c0 c29">Recommended approach: Set up </span><span class="c63 c29 c90">[Reference]</span><span class="c10 c0 c29 c57">&nbsp;label elements as &quot;Bookmarks&quot;, then create hyperlinks to them within the document at locations from which the references are cited. Citations in the body of the text should be hyperlinked to the appropriate Reference entry, not directly to targets which are not a part of this Work Product.</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">&nbsp;The proper format for citation of technical work produced by an OASIS TC (whether Standards Track or Non-Standards Track) is:</span></p><p class="c69 c87 c62"><span class="c10 c0 c29 c57"></span></p><p class="c69 c87"><span class="c0 c29">&nbsp;</span><span class="c10 c63 c29 c57 c90">[Citation Label]</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">Work Product title (italicized). Edited by Albert Alston, Bob Ballston, and Calvin Carlson. Approval date (DD Month YYYY). OASIS Stage Identifier and Revision Number (e.g., OASIS Committee Specification Draft 01). Principal URI (stage-specific URI, e.g., with stage component: somespec-v1.0-csd01.html). Latest stage: (static URI, without stage identifiers, used as a symbolic link to most recently published stage of this Version).</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">&nbsp;</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">For example:</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">&nbsp;</span></p><p class="c69 c87"><span class="c10 c63 c29 c57 c90">[OpenDoc-1.2]</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">Open Document Format for Office Applications (OpenDocument) Version 1.2. Edited by Patrick Durusau and Michael Brauer. 19 January 2011. OASIS Committee Specification Draft 07. https://docs.oasis-open.org/office/v1.2/csd07/OpenDocument-v1.2-csd07.html. Latest stage: https://docs.oasis-open.org/office/v1.2/OpenDocument-v1.2.html.</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">&nbsp;</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">Reference sources:</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">For references to IETF RFCs, use the approved citation formats at:</span></p><p class="c69 c87"><span class="c14 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/ietf-rfc-list/ietf-rfc-list.html&amp;sa=D&amp;source=editors&amp;ust=1743262498257244&amp;usg=AOvVaw057vnO_w-bHxkoPDr6egeh">https://docs.oasis-open.org/templates/ietf-rfc-list/ietf-rfc-list.html</a></span><span class="c10 c0 c29 c57">.</span></p><p class="c69 c87"><span class="c0 c29">The most recent IETF RFC references are listed by the IETF at </span><span class="c0 c14"><a class="c36" href="https://www.google.com/url?q=https://www.rfc-editor.org/in-notes/rfc-ref.txt&amp;sa=D&amp;source=editors&amp;ust=1743262498257473&amp;usg=AOvVaw13rIo3UNSaVy_qNhOe-tcA">https://www.rfc-editor.org/in-notes/rfc-ref.txt</a></span><span class="c10 c0 c29 c57">.</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">For references to W3C Recommendations, use the approved citation formats at:</span></p><p class="c69 c87"><span class="c14 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/w3c-recommendations-list/w3c-recommendations-list.html&amp;sa=D&amp;source=editors&amp;ust=1743262498257694&amp;usg=AOvVaw2cd3in2HtYK4MNDkHioLEF">https://docs.oasis-open.org/templates/w3c-recommendations-list/w3c-recommendations-list.html</a></span><span class="c10 c0 c29 c57">.</span></p><p class="c69 c87"><span class="c0 c29">Remove this note before submitting for publication.</span></p><p class="c25"><span class="c10 c15 c172">[RFC2119]</span></p><p class="c25"><span class="c10 c0 c37 c172">Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997,</span></p><p class="c25"><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc2119&amp;sa=D&amp;source=editors&amp;ust=1743262498258001&amp;usg=AOvVaw2bcfbQ_W8-0Mk07349gued">http://www.rfc-editor.org/info/rfc2119</a></span></p><p class="c69 c87"><span class="c10 c0 c29 c57">[RFC8174]</span></p><p class="c69 c159"><span class="c0 c29">Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;, BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017, &lt;</span><span class="c14 c0"><a class="c36" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc8174&amp;sa=D&amp;source=editors&amp;ust=1743262498258175&amp;usg=AOvVaw31mQXurJGAqMJAXmrtFunZ">https://www.rfc-editor.org/info/rfc8174</a></span><span class="c0 c29">&gt;.</span></p><p class="c25"><span class="c10 c15 c172">[RFC3629]</span></p><p class="c25"><span class="c10 c0 c37 c172">Yergeau, F., &quot;UTF-8, a transformation format of ISO 10646&quot;, STD 63, RFC 3629, DOI 10.17487/RFC3629, November 2003,</span></p><p class="c25"><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc3629&amp;sa=D&amp;source=editors&amp;ust=1743262498258422&amp;usg=AOvVaw3CL9whpc3XFgAq1ublT4ay">http://www.rfc-editor.org/info/rfc3629</a></span></p><p class="c25"><span class="c10 c15 c172">[RFC6455]</span></p><p class="c25"><span class="c10 c0 c37 c172">Fette, I. and A. Melnikov, &quot;The WebSocket Protocol&quot;, RFC 6455, DOI 10.17487/RFC6455, December 2011,</span></p><p class="c25"><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=http://www.rfc-editor.org/info/rfc6455&amp;sa=D&amp;source=editors&amp;ust=1743262498258786&amp;usg=AOvVaw09C6KfUOnXImOA1itlERcB">http://www.rfc-editor.org/info/rfc6455</a></span></p><p class="c25"><span class="c10 c15 c172">[Unicode]</span></p><p class="c25"><span class="c10 c0 c37 c172">The Unicode Consortium. The Unicode Standard,</span></p><p class="c25"><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=http://www.unicode.org/versions/latest/&amp;sa=D&amp;source=editors&amp;ust=1743262498259056&amp;usg=AOvVaw1XhiMeMP80McMcZ92sbE0A">http://www.unicode.org/versions/latest/</a></span></p><h2 class="c103 c149 c56" id="h.wi8cs5zgi8fo"><span class="c55 c46 c37">1.5 Informative References</span></h2><p class="c69 c87"><span class="c10 c0 c29 c57">[RFC3552]</span></p><p class="c69 c159"><span class="c0 c29">Rescorla, E. and B. Korver, &quot;Guidelines for Writing RFC Text on Security Considerations&quot;, BCP 72, RFC 3552, DOI 10.17487/RFC3552, July 2003, &lt;</span><span class="c14 c0"><a class="c36" href="https://www.google.com/url?q=https://www.rfc-editor.org/info/rfc3552&amp;sa=D&amp;source=editors&amp;ust=1743262498259320&amp;usg=AOvVaw1MPUvE5UTWIMmjss70LBTt">https://www.rfc-editor.org/info/rfc3552</a></span><span class="c10 c0 c29 c57">&gt;.</span></p><p class="c69 c87"><span class="c10 c0 c29 c57">[Reference]</span></p><p class="c69 c159"><span class="c0 c29">[Full reference citation]</span></p><h2 class="c21" id="h.4olrp2glo5nb"><span class="c55 c46 c37">1.6 MQTT For Sensor Networks (MQTT-SN) </span></h2><p class="c3"><span class="c8 c0">Sensor Networks are simple, low cost and easy to deploy. They are typically used to provide event detection, monitoring, automation, process control and more. Sensor Networks often comprise many battery-powered sensors and actuators, each containing a limited amount of storage and processing capability. They usually communicate wirelessly.</span></p><p class="c3"><span class="c8 c0">Sensor Networks are typically self-forming, continually changing, and do not have any central control. The wireless network connections and processing nodes will fail, and the batteries will run out. The nodes will be replaced, added or removed in an unplanned way. The identities of the devices are usually created when they are manufactured, this avoids the need for specialist configuration when they are deployed. Applications running outside the Sensor Network do not need to know the details of the devices in it. The applications consume information from the sensors and send instructions to actuators based only on labels created by the application designers. The labels are called Topic Names in the MQTT and MQTT-SN protocols. The MQTT-SN implementation carries information between a set of applications and the correct set of devices based on its knowledge of the network and the applications designer&rsquo;s choice of Topic Names. </span></p><p class="c3"><span class="c8 c0">Consider an example of a medicine tracking application. The application needs to know the location and temperature of the medicine, but it does not want to concern itself with the network details of the devices providing the data. It may be that the number and types of the devices changes over time. There may also be other applications using the same sensor data for other purposes. The model is that the devices and applications produce and consume data addressed by the Topics rather than the other devices and applications.</span></p><p class="c48"><span class="c8 c0">This MQTT-SN specification is a variant of the MQTT version 5 specification. It is adapted to exploit low power and low bandwidth wireless networks. Low power wireless radio links typically have higher numbers of transmission errors compared to more powerful networks because they are more susceptible to interference and fading of the radio signals. They also have lower transmission rates. </span></p><p class="c48"><span class="c8 c0">For example, wireless networks based on the IEEE 802.15.4 standard used by Zigbee have a maximum bandwidth of 250 kbit/s in the 2.4 GHz band. To reduce transmission errors the packets are kept short. The maximum packet length at the physical layer is 128 bytes and half of these may be used for Media Access Control and security.</span></p><p class="c3"><span class="c8 c0">The MQTT-SN protocol is optimized for implementation on low-cost, battery-operated devices with limited processing and storage resources. The capabilities are kept simple and the specification allows partial implementations.</span></p><h3 class="c21" id="h.ox4v8n854qgm"><span class="c38 c37">1.6.1 MQTT-SN and MQTT Differences</span></h3><p class="c3"><span class="c8 c298">To facilitate interoperation the MQTT-SN specification is similar in many ways to MQTT, but the two &nbsp;are independent of each other.</span></p><p class="c3"><span class="c8 c0">MQTT-SN can work isolated from other networks or in conjunction with MQTT. The main differences between MQTT-SN and MQTT are:</span></p><ol class="c137 lst-kix_list_16-0 start" start="1"><li class="c155 c154 c257 c148 li-bullet-1"><span class="c8 c0">In addition to Topic Alias and long Topic Names MQTT-SN allows predefined and short two-byte Topic Names.</span></li><li class="c155 c154 c148 c257 li-bullet-1"><span class="c8 c0">If the network supports Multicast, Gateway discovery can be implemented, otherwise the Gateway addresses must be configured in the nodes.</span></li><li class="c155 c154 c257 c148 li-bullet-2"><span class="c8 c0">Support for sleeping clients allows battery operated devices to enter a low power mode. In this state, Application Messages for the Client are buffered by the Gateway and delivered when the client wakes.</span></li><li class="c155 c154 c257 c148 li-bullet-2"><span class="c8 c0">A new Quality of Service level (WITHOUT SESSION) is introduced in MQTT-SN, allowing devices to publish without a session having been established.</span></li><li class="c155 c154 c257 c148 li-bullet-1"><span class="c8 c0">MQTT-SN has fewer requirements on the underlying transport and it can use connectionless network transports such as User Datagram Protocol (UDP).</span></li><li class="c155 c154 c257 c148 li-bullet-2"><span class="c0">MQTT-SN introduces the PROTECTION packet for packet-based security based on symmetric-key cryptography. </span></li></ol><h2 class="c21" id="h.2bn6wsx"><span class="c55 c46 c37">1.7 Data representation</span></h2><h3 class="c21" id="h.qsh70q"><span>1.7.1 </span><span class="c81 c15">Bits (Byte)</span></h3><p class="c3"><span class="c8 c0">Bits in a byte are labeled 7 to 0. Bit number 7 is the most significant bit, the least significant bit is assigned bit number 0.</span></p><h3 class="c21" id="h.3as4poj"><span>1.7.2 </span><span class="c81 c15">Two Byte Integer</span></h3><p class="c3"><span class="c0 c8">Two Byte Integer data values are 16-bit unsigned integers in big-endian order: the high order byte precedes the lower order byte. This means that a 16-bit word is presented on the network as Most Significant Byte (MSB), followed by Least Significant Byte (LSB).</span></p><h3 class="c21" id="h.1pxezwc"><span>1.7.3 </span><span class="c81 c15">Four Byte Integer</span></h3><p class="c3"><span class="c0 c4">Four Byte Integer data values are 32-bit unsigned integers in big-endian order: the high order byte precedes the successively lower order bytes. This means that a 32-bit word is presented on the network as Most Significant Byte (MSB), followed by the next most Significant Byte (MSB), followed by the next most Significant Byte (MSB), followed by Least Significant Byte (LSB).</span></p><h3 class="c21" id="h.49x2ik5"><span>1.7.4 </span><span class="c81 c15">UTF-8 Encoded String</span></h3><p class="c3"><span class="c0 c4">Text fields within the MQTT-SN Control Packets are encoded as fixed length UTF-8 strings. UTF-8&nbsp;</span><span class="c0 c238 c116"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC3629&amp;sa=D&amp;source=editors&amp;ust=1743262498261961&amp;usg=AOvVaw2K2XfTO8iu6qQRbR7tJI6K">[RFC3629]</a></span><span class="c0 c4">&nbsp;is an efficient encoding of Unicode&nbsp;</span><span class="c0 c238 c116"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1743262498262104&amp;usg=AOvVaw0MTVXhM5lafVzUegR58jBf">[Unicode]</a></span><span class="c10 c0 c37 c4">&nbsp;characters that optimizes the encoding of ASCII characters in support of text-based communications.</span></p><p class="c3"><span class="c10 c0 c37 c4">Unless stated otherwise all variable length UTF-8 encoded strings can have any length in the range 0 to 65,535 bytes.</span></p><p class="c3"><span class="c121 c119">Figure 1-1 &ndash; Structure of UTF-8 Encoded Strings</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 98.67px;"><img alt="" src="images/image19.png" style="width: 624.00px; height: 98.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0 c29 c4">The character data in a UTF-8 Encoded String MUST be well-formed UTF-8 as defined by the Unicode specification&nbsp;</span><span class="c0 c29 c238 c116"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1743262498262632&amp;usg=AOvVaw0fcJrX9AA4TyOSc11YY9_3">[Unicode]</a></span><span class="c0 c29 c4">&nbsp;and restated in RFC 3629&nbsp;</span><span class="c0 c29 c238 c116"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC3629&amp;sa=D&amp;source=editors&amp;ust=1743262498262740&amp;usg=AOvVaw3owZDeRIuDHzeFFudv5FSQ">[RFC3629]</a></span><span class="c0 c29 c4">. In particular, the character data MUST NOT include encodings of code points between U+D800 and U+DFFF</span><span class="c0 c4">&nbsp;</span><span class="c0 c70">[MQTT-SN-1.7.4-1]</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c0 c4">If the Client or Server receives an </span><span class="c0 c4">MQTT-SN Control Packet </span><span class="c0 c4">containing ill-formed UTF-8 it is a Malformed </span><span class="c0 c4">Packet</span><span class="c0 c4">.</span><span class="c0 c4">&nbsp;Refer to</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23S4_13_Errors&amp;sa=D&amp;source=editors&amp;ust=1743262498263130&amp;usg=AOvVaw1GvCTh0gOnwdPr88C2v59h">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c10 c0 c37 c4">&nbsp;for information about handling errors.</span></p><p class="c3"><span class="c0 c29 c4">A UTF-8 Encoded String MUST NOT include an encoding of the null character U+0000</span><span class="c0 c4">&nbsp; </span><span class="c0 c70">[MQTT-SN-1.7.4-2].</span><span class="c0 c4">&nbsp;If a receiver (Server or Client)</span><span class="c0 c4">&nbsp;</span><span class="c0 c4">receives an </span><span class="c0 c4">Control Pac</span><span class="c10 c0 c37 c4">ket containing U+0000 in a UTF-8 Encoded String it is a Malformed Packet.</span></p><p class="c3"><span class="c0 c4">UTF-8 Encoded Strings SHOULD NOT include the Unicode</span><span class="c0 c4">&nbsp;[Unicode]</span><span class="c0 c4">&nbsp;code points listed below. If a receiver (Server or Client) </span><span class="c0 c4">receives an MQTT-SN </span><span class="c0 c4">Control Packet with UTF-8 Encoded Strings containing any of them it MAY treat it as a Malformed Packet. These are the Disallowed Unicode code points.</span></p><ul class="c137 lst-kix_abwpot8mtzc7-0 start"><li class="c215 c106 c187 li-bullet-0"><span class="c93 c0 c49 c4">U+0001..U+001F control characters</span></li><li class="c215 c106 c187 li-bullet-0"><span class="c93 c0 c49 c4">U+007F..U+009F control characters</span></li><li class="c215 c106 c187 li-bullet-0"><span class="c93 c0 c49 c4">Code points defined in the Unicode specification&nbsp;</span><span class="c93 c0 c49 c238"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1743262498264194&amp;usg=AOvVaw2bsIvy3-uijsC7YlX7dCVj">[Unicode]</a></span><span class="c93 c0 c49 c4">&nbsp;to be non-characters (for example U+0FFFF)</span></li></ul><p class="c3"><span class="c0 c29 c4">A UTF-8 encoded sequence 0xEF 0xBB 0xBF is always interpreted as U+FEFF (&quot;ZERO WIDTH NO-BREAK SPACE&quot;) wherever it appears in a string and MUST NOT be skipped over or stripped off by a packet receiver</span><span class="c0 c4">&nbsp;</span><span class="c10 c0 c70 c37">[MQTT-SN-1.7.4-3].</span></p><p class="c155 c154 c148 c213" id="h.2p2csry"><span class="c8 c63 c90">Informative example</span></p><p class="c169 c154 c213 c148"><span class="c0">For example, </span><span class="c0">the string A</span><span class="c314">&#173780;</span><span class="c0">&nbsp;which</span><sup><a href="#cmnt4" id="cmnt_ref4">[d]</a></sup><sup><a href="#cmnt5" id="cmnt_ref5">[e]</a></sup><span class="c0">&nbsp;is </span><span class="c0 c4">LATIN CAPITAL Letter A followed by the code point U+2A6D4 (which represents a CJK IDEOGRAPH EXTENSION B character)</span><span class="c8 c0">&nbsp;is encoded as follows: </span></p><p class="c3"><span class="c121 c119">Figure 1-2 &ndash; </span><span class="c121 c119 c4">Fixed Length UTF-8 Encoded String </span><span class="c121 c119">inf</span><span class="c121 c119 c4">ormative example</span></p><p class="c169 c154 c213 c148"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 249.33px;"><img alt="" src="images/image36.png" style="width: 624.08px; height: 249.33px; margin-left: -0.04px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c281 c247 c154 c148 c56" id="h.3o7alnk"><span class="c15 c93 c128 c178">2 MQTT-SN Control Packet format</span></h1><h2 class="c21" id="h.23ckvvd"><span class="c55 c15">2.1 Structure of an MQTT-SN Control Packet</span></h2><p class="c3"><span class="c8 c0">The MQTT-SN protocol operates by exchanging a series of MQTT-SN Control Packets in a defined way. This section describes the format of these packets. </span></p><p class="c3"><span class="c8 c0">An MQTT-SN Control Packet consists of up to two parts, always in the following order as shown below. </span></p><p class="c3"><span class="c121 c119">Figure 2-1 &#65293;Structure of an MQTT-SN Control Packet</span></p><table class="c152 c170"><tr class="c35"><td class="c338" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Control Packet Header, present in all MQTT-SN Control Packets</span></p></td></tr><tr class="c35"><td class="c338" colspan="1" rowspan="1"><p class="c27 c56"><span class="c39 c0 c37">Control Packet Variable Part, present in some MQTT-SN Control Packets</span></p></td></tr></table><h3 class="c21" id="h.1hmsyys"><span>2.1.1 </span><span class="c81 c15">Packet Header</span></h3><p class="c3"><span class="c8 c0">Each MQTT-SN Control Packet contains a Header of format 1 or format 2 as shown below.</span></p><p class="c3"><span class="c119 c121">Figure 2-2 &ndash; Packet Header Format 1</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 69.33px;"><img alt="" src="images/image17.png" style="width: 624.00px; height: 69.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c121 c119">Figure 2-3 &ndash; Packet Header Format 2</span></p><p class="c58"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 114.67px;"><img alt="" src="images/image22.png" style="width: 624.00px; height: 114.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c66 c196 c56" id="h.vx1227"><span>2.1.2 </span><span class="c81 c15">Length</span></h3><p class="c69 c304"><span class="c0">The </span><span class="c0 c119">Length </span><span class="c0">field is either 1-byte or 3-byte integer and specifies the total number of bytes contained in the packet (including the </span><span class="c0 c119">Length </span><span class="c8 c0">field itself).</span></p><p class="c69 c220"><span class="c0">If the first byte of the </span><span class="c0 c119">Length </span><span class="c0">field is coded &ldquo;0x01&rdquo; then the </span><span class="c0 c119">Length </span><span class="c0">field is 3-bytes long; in this case, the two following bytes specify the total number of bytes of the packet (most-significant byte first). Otherwise, the </span><span class="c0 c119">Length </span><span class="c8 c0">field is only 1-byte long and specifies itself the total number of bytes contained in the packet.</span></p><p class="c48"><span class="c0">The 3-byte format allows the encoding of packet lengths up to 65,535 bytes. It is more efficient to use the shorter 1-byte format for p</span><span class="c0">ackets with lengths up to and including 255 bytes.</span></p><p class="c48"><span class="c0 c29">A client or gateway receiving MQTT-SN control packets MUST be able to process both 1-byte and 3-byte length formats. &nbsp;</span><span class="c0 c70">[</span><span class="c10 c0 c70 c37">MQTT-SN-2.1.2-1]</span></p><p class="c3 c319" id="h.3fwokq0"><span class="c8 c63 c90">Informative comment</span></p><p class="c242 c154 c148 c325"><span class="c8 c0">MQTT-SN does not support packet fragmentation and reassembly, the maximum packet length that could be used in a network is governed by the maximum packet size that is supported by that network, and not by the maximum length that could be encoded by MQTT-SN.</span></p><h3 class="c66 c196 c56" id="h.1v1yuxt"><span>2.1.3 </span><span class="c81 c15">MQTT-SN Control Packet Type</span></h3><p class="c3"><span class="c0">The MQTT-SN Control Packet Type</span><span class="c0 c119">&nbsp;</span><span class="c8 c0">field is 1-byte long and specifies the MQTT-SN Control Packet type which is one of the values shown below.</span></p><p class="c3"><span class="c121 c119">Figure 2-4 &ndash; MQTT-SN Control Packet Types</span></p><table class="c152 c170"><tr class="c35"><td class="c130 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">Name</span></p></td><td class="c30 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">Value</span></p></td><td class="c78 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">Direction of flow</span></p></td><td class="c127 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">Description</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">Reserved</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x00</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Forbidden</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Reserved</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">ADVERTISE</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c0">0x0</span><span class="c39 c0 c37">1</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Gateway Multicast</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Advertise the gateway presence</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">SEARCHGW</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x02</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client Multicast</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Client GWINFO request</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">GWINFO</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x03</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c0">Response to a SEARCHGW</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">AUTH</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x04</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway or Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Authentication handshake</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">CONNECT</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x05</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Virtual Connection request</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">CONNACK</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x06</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Virtual Connection acknowledgement</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">REGISTER</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x0A</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Request topic alias</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">REGACK</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x0B</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Supply topic alias</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">PUBLISH</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x0C</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway or</span></p><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Publish message</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">PUBACK</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x0D</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway or</span></p><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Publish acknowledgment (QoS 1) or Publish error (Any QoS).</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">PUBCOMP</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x0E</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway or</span></p><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Publish complete (QoS 2 delivery part 3)</span></p></td></tr><tr class="c35"><td class="c91 c130" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">PUBREC</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x0F</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway or</span></p><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Publish received (QoS 2 delivery part 1)</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">PUBREL</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x10</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway or</span></p><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Publish release (QoS 2 delivery part 2)</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">PUBWOS</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x11</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway or</span></p><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Publish packet for out of session messages which have no session on the receiver</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">SUBSCRIBE</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x12</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Subscribe request</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">SUBACK</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x13</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Subscribe acknowledgment</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">UNSUBSCRIBE</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x14</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Unsubscribe request</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">UNSUBACK</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x15</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Unsubscribe acknowledgment</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">PINGREQ</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x16</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PING request</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">PINGRESP</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0x17</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PING response</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c90 c91">DISCONNECT</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c40 c0 c37 c4">0x18</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c40 c0 c37 c4">Client to Gateway or</span></p><p class="c27"><span class="c40 c0 c37 c4">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c37 c4">Disconnect notification</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c40 c63 c91 c4 c90">WAKEUP </span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c40 c0 c37 c4">0x19</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c37 c4">Wake up request</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c40 c63 c91 c4 c90">SLEEPREQ</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c40 c0 c37 c4">0x1A</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to</span></p><p class="c27"><span class="c39 c0 c37">Gateway</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c37 c4">Sleep request</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c40 c63 c91 c4 c90">SLEEPRESP</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c40 c0 c37 c4">0x1B</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Gateway to</span></p><p class="c27"><span class="c39 c0 c37">Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c37 c4">Sleep response</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c40 c63 c91 c4 c90">Reserved </span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c40 c0 c184 c37">0x1C-0xFD</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c0">Forbidden</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c37 c184">Reserved</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">FORWARDER ENCAPSULATION</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0xFE</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Forwarder to Client or</span></p><p class="c27"><span class="c39 c0 c37">Forwarder to Gateway</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Encapsulated MQTT-SN packet</span></p></td></tr><tr class="c35"><td class="c130 c91" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c91 c90">PROTECTION ENCAPSULATION</span></p></td><td class="c30" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">0xFF</span></p></td><td class="c78" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Client to Gateway or</span></p><p class="c27"><span class="c39 c0 c37">Gateway to Client</span></p></td><td class="c127" colspan="1" rowspan="1"><p class="c3 c56"><span class="c39 c0 c37">A protection envelope that can encapsulate any MQTT-SN packet with the exception of Forwarder-Encapsulation packet (0xFE)</span></p></td></tr></table><h2 class="c21" id="h.19c6y18"><span class="c55 c15">2.2 Packet Identifier</span></h2><p class="c3" id="h.3tbugp1"><span class="c0">The Variable Header component of many of the MQTT-SN Control Packet types includes a Two Byte Integer Packet Identifier field. </span><span class="c0">MQTT-SN Control Packets that require a Packet Identifier are shown in Figure 2-5.</span></p><p class="c3"><span class="c121 c119">Figure 2-5 &ndash; Packets with Packet Identifier</span></p><table class="c152 c273"><tr class="c35"><td class="c124 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c63 c90 c318">MQTT-SN Control Packet</span></p></td><td class="c165 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">Packet Identifier field</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">ADVERTISE</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">NO</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">AUTH</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">CONNACK</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c303"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">CONNECT</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">OPTIONAL</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">FORWARDER ENCAPSULATION</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3 c56"><span class="c39 c0 c37">NO</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">GWINFO</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">NO</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PINGREQ</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PINGRESP</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PROTECTION ENCAPSULATION</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3 c56"><span class="c39 c0 c37">NO</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PUBACK</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PUBCOMP</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PUBLISH</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES (If QoS &gt; 0)</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PUBREC</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">PUBREL</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c0">PUBWOS</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">NO</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">REGACK</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">REGISTER</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">SEARCHGW</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">NO</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">SLEEPREQ</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">SLEEPRESP</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">SUBACK</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">SUBSCRIBE</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">UNSUBACK</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">UNSUBSCRIBE</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">YES</span></p></td></tr><tr class="c35"><td class="c124" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">WAKEUP</span></p></td><td class="c165" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">NO</span></p></td></tr></table><p class="c3"><span class="c0 c29">Each time a Client sends a new MQTT-SN Control Packet which is identified in the above table as requiring a Packet Identifier, it MUST assign it a non-zero Packet Identifier that is currently unused</span><span class="c0 c70">.</span></p><p class="c3"><span class="c0 c29">A PUBLISH packet MUST NOT contain a Packet Identifier if its QoS value is set to 0</span><span class="c0 c70">.</span></p><p class="c3"><span class="c0 c29">Each time a Gateway sends a new PUBLISH (with QoS &gt; 0) MQTT-SN Control Packet it MUST assign it a non zero Packet Identifier that is currently unused</span><span class="c0 c70">.</span><span class="c8 c0">&nbsp;</span></p><p class="c3"><span class="c0">Packet Identifiers used with PUBLISH, SUBSCRIBE and UNSUBSCRIBE packets form a single, unified set of identifiers separately for the Client and the Gateway in a Session. A Packet Identifier cannot be used by more than one Packet at any time.</span></p><p class="c3"><span class="c0">The Packet Identifier becomes available for reuse after the sender has processed the corresponding acknowledgement packet, defined as follows. In the case of a QoS 1 PUBLISH, this is the corresponding PUBACK; in the case of QoS 2 PUBLISH it is PUBCOMP or a PUBREC with a Reason Code of 128 or greater. For SUBSCRIBE or UNSUBSCRIBE it is the corresponding SUBACK or UNSUBACK. </span></p><p class="c3"><span class="c0 c29">A PUBACK, PUBREC , PUBREL, or PUBCOMP packet MUST contain the same Packet Identifier as the PUBLISH packet that was originally sent</span><span class="c0 c70 c29">. </span><span class="c0 c29">A SUBACK and UNSUBACK MUST contain the Packet Identifier that was used in the corresponding SUBSCRIBE and UNSUBSCRIBE packet respectively</span><span class="c0 c70 c29">.</span></p><p class="c3"><span class="c0">The Client and Gateway assign Packet Identifiers independently of each other. As a result, Client-Server pairs can participate in concurrent Packet exchanges using the same Packet Identifiers. </span><sup><a href="#cmnt6" id="cmnt_ref6">[f]</a></sup><sup><a href="#cmnt7" id="cmnt_ref7">[g]</a></sup><sup><a href="#cmnt8" id="cmnt_ref8">[h]</a></sup></p><p class="c95"><span class="c8 c63 c90">Informative comment</span></p><p class="c95"><span class="c8 c0">It is possible for a Client to send a PUBLISH packet with Packet Identifier 0x1234 and then receive a different PUBLISH packet with Packet Identifier 0x1234 from its Server before it receives a PUBACK for the PUBLISH packet that it sent.</span></p><p class="c95"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 340.83px; height: 267.50px;"><img alt="" src="images/image47.png" style="width: 340.83px; height: 267.50px; margin-left: -0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c66 c56 c196" id="h.46r0co2"><span>2.3 </span><span class="c0">Reason Code</span></h2><p class="c248 c154 c148 c240"><span class="c0 c4">A Reason Code is a one byte unsigned value that indicates the result of an operation. Reason Codes less than 0x80 indicate successful completion of an operation. The normal Reason Code for success is 0. Reason Code values of 0x80 or greater indicate failure.</span></p><p class="c189 c154 c148 c240"><span class="c8 c0">The Reason Codes share a common set of values as shown below.</span></p><p class="c3"><span class="c121 c119">Figure 2-6 &ndash; Reason Codes</span></p><table class="c152 c240"><tr class="c35"><td class="c52 c344" colspan="2" rowspan="1"><p class="c69 c79" id="h.2lwamvv"><span class="c39 c51">Identifier</span></p></td><td class="c68 c52" colspan="1" rowspan="2"><p class="c69 c79"><span class="c39 c51">Name</span></p></td><td class="c7 c52" colspan="1" rowspan="2"><p class="c69 c79"><span class="c39 c51">Packets </span></p></td><td class="c72 c52" colspan="1" rowspan="2"><p class="c69 c79"><span class="c39 c51">Description </span></p></td></tr><tr class="c35"><td class="c82" colspan="1" rowspan="1"><p class="c69 c79"><span class="c39 c0 c37">Dec</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c69 c79"><span class="c39 c0 c37">Hex</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x00</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Success</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c226"><span class="c39 c0 c37">CONNACK, SUBACK, UNSUBACK, REGACK, PUBACK, PUBREC, PUBREL, PUBCOMP, &nbsp;AUTH (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c226"><span class="c39 c0 c37">The operation was successful.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x00</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Normal disconnection</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Delete the Virtual Connection normally. Do not send the Will Message.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x00</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Granted QoS 0</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">SUBACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The subscription is accepted and the maximum QoS sent will be QoS 0. This might be a lower QoS than was requested.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">1</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x01</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Granted QoS 1</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">SUBACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The subscription is accepted and the maximum QoS sent will be QoS 1. This might be a lower QoS than was requested.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">2</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x02</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Granted QoS 2</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">SUBACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The subscription is accepted and any received QoS will be sent to this subscription.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">4</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x04</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Disconnect with will message</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">DISCONNECT (client only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Client wishes to disconnect but requires that the Server also publishes its Will Message. </span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">16</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x10</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">No matching subscribers</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">PUBACK, PUBREC</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Application Message is accepted but there are no subscribers. If the Server knows that there are no matching subscribers, it MAY use this Reason Code instead of 0x00 (Success).</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">17</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x11</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">No subscription existed</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">UNSUBACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">No matching Topic Filter is being used by the Client.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">24</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x18</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Continue authentication</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">AUTH</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Continue the authentication with another step.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">25</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x19</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Re-authenticate</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">AUTH (client only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Initiate a re-authentication.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">128</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x80</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Unspecified error</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK, PUBACK, PUBREC, SUBACK, UNSUBACK, DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The receiver does not accept the request but either does not want to reveal the reason, or it does not match one of the other values.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">129</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x81</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Malformed packet</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK, DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The received packet does not conform to this specification.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">130</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x82</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Protocol error</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK, DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">An unexpected or out of order packet was received.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">131</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x83</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Implementation specific error</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK, PUBACK, PUBREC, REGACK, SUBACK, UNSUBACK, DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The packet received is valid but cannot be processed by this implementation.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">132</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x84</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Unsupported Protocol Version</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c0">The Server does not support the version of the </span><span class="c0">MQTT or MQTT-SN &nbsp;protocol requested by the Client.</span><sup><a href="#cmnt9" id="cmnt_ref9">[i]</a></sup><sup><a href="#cmnt10" id="cmnt_ref10">[j]</a></sup><sup><a href="#cmnt11" id="cmnt_ref11">[k]</a></sup><sup><a href="#cmnt12" id="cmnt_ref12">[l]</a></sup><sup><a href="#cmnt13" id="cmnt_ref13">[m]</a></sup><sup><a href="#cmnt14" id="cmnt_ref14">[n]</a></sup></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">133</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x85</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Client identifier not valid</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Client Identifier is a valid string but is not allowed by the Server.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">134</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x86</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Bad user name or password</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Server does not accept the User Name or Password specified by the Client </span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">135</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x87</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Not authorized</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK, PUBACK, PUBREC, REGACK, SUBACK, UNSUBACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The request is not authorized.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">136</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x88</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Server unavailable</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c0">The </span><span class="c0">MQTT-SN Server</span><span class="c39 c0 c37">&nbsp;is not available or, in the case of a Transparent gateway, the MQTT server is not available.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">137</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x89</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Server busy</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Server is busy and cannot continue processing requests from this Client.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">138</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x8A</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Banned</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">This Client has been banned by administrative action. Contact the server administrator.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">139</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x8B</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Server shutting down</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Server is shutting down. </span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">140</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x8C</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Bad authentication method</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK, DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The authentication method is not supported or does not match the authentication method currently in use.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">141</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x8D</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Keep alive timeout</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Connection is closed because no packet has been received for 1.5 times the Keepalive time.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">142</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x8E</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Session taken over</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Another Connection using the same ClientID has connected causing this Connection to be closed.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">143</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x8F</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Topic filter invalid</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">SUBACK, UNSUBACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Topic Filter is correctly formed, but is not accepted by this Server.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">144</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x90</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Topic name invalid</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK, PUBACK, PUBREC, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Topic Name is correctly formed, but is not accepted by this Client or Server.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">145</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x91</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Packet identifier in use</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c48"><span class="c0">PUBACK, PUBREC, SUBACK, UNSUBACK</span><span class="c39 c0 c37">,</span></p><p class="c69 c327"><span class="c39 c0 c37">REGACK, PINGRESP, SLEEPRESP</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The specified Packet Identifier is already in use.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">146</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x92</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Packet identifier not found</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c0">PUBREL, </span><span class="c0">PUBCOMP</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Packet Identifier is not known. This is not an error during recovery, but at other times indicates a mismatch between the Session State on the Client and Server. </span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">147</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x93</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Receive maximum exceeded</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Client or Server has received more than Receive Maximum publication for which it has not sent PUBACK or PUBCOMP. </span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">148</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x94</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Topic alias invalid</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Client or Server has received a PUBLISH packet containing a Topic Alias which is greater than the Maximum Topic Alias it sent in the CONNECT or CONNACK packet. </span></p><p class="c44"><span class="c39 c0 c37">(Transparent gateway only)</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">149</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c40 c0 c37 c4">0x95</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Packet too large</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">CONNACK,</span></p><p class="c44"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The packet size is greater than Maximum Packet Size for this Client or Server.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">150</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c0">0x96</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Packet rate too high</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The received data rate is too high.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">151</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c40 c0 c37 c4">0x97</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Quota exceeded</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">REGACK, SUBACK, DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">An implementation or administrative imposed limit has been exceeded.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">152</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c0">0x98</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Administrative action</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">The Virtual Connection is deleted due to an administrative action.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">153</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c40 c0 c37 c4">0x99</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Payload format invalid</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c0 c37 c39">PUBACK, PUBREC, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">The MQTT payload format does not match the one specified by the Payload Format Indicator.</span></p><p class="c44 c56"><span class="c39 c0 c37">(Transparent gateway only)</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">154</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c0">0x9A</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Retain not supported</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">CONNACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">The MQTT Server does not support retained messages.</span></p><p class="c44 c56"><span class="c39 c0 c37">(Transparent gateway only)</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">155</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x9B</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">QoS not supported</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">CONNACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">The Client specified a QoS greater than the QoS specified in a Maximum QoS in the MQTT CONNACK.</span></p><p class="c44 c56"><span class="c39 c0 c37">(Transparent gateway only)</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">156</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x9C</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Use another server</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">CONNACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">The Client should temporarily change its Server.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">157</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x9D</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Server moved</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">CONNACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">The Server is moved and the Client should permanently change its server location.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">158</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x9E</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Shared subscription not supported</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">SUBACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">The MQTT Server does not support Shared Subscriptions.</span></p><p class="c44 c56"><span class="c39 c0 c37">(Transparent gateway only)</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">159</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0x9F</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Connection rate exceeded</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">CONNACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">This Virtual Connection is deleted because the connection rate is too high.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">160</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xAD</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Maximum connect time</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">The maximum connection time authorized for this Virtual Connection has been exceeded.</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">161</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xA1</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Subscription identifiers not supported</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">SUBACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">The MQTT Server does not support Subscription Identifiers; the subscription is not accepted.</span></p><p class="c44 c56"><span class="c39 c0 c37">(Transparent gateway only)</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">162</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xA2</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Wildcard subscription not supported</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">SUBACK, DISCONNECT (server only)</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">The MQTT Server does not support Wildcard Subscriptions; the subscription is not accepted.</span></p><p class="c44 c56"><span class="c39 c0 c37">(Transparent gateway only)</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c0">230</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xE6</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c0">Only PROTECTION packet supported</span><span class="c0 c76">&nbsp;(Note 1)</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Any packet except PROTECTION and Forwarder Encapsulation</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Specific to MQTT-SN</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">231</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xE7</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Protection scheme invalid</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Specific to MQTT-SN</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">232</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xE8</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Unknown Sender Id</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Specific to MQTT-SN</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">240</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xF0</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Unknown Topic Alias</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c0">PUBACK, SUBACK, </span><span class="c0">UNSUBACK, REGACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Specific to MQTT-SN</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">241</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xF1</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Congestion</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">SUBACK, REGACK, CONNACK, PUBACK</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Specific to MQTT-SN</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">242</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xF2</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Protection packet not supported</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Specific to MQTT-SN</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">243</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xF3</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Forwarder Encapsulation not supported</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Specific to MQTT-SN</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">244</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xF4</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">No Virtual Connection exists</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">DISCONNECT</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Specific to MQTT-SN</span></p></td></tr><tr class="c88"><td class="c82" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">245</span></p><p class="c69 c79"><span class="c39 c0 c37">-</span></p><p class="c44"><span class="c39 c0 c37">255</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">0xF5</span></p><p class="c69 c79"><span class="c39 c0 c37">-</span></p><p class="c44"><span class="c39 c0 c37">0xFF</span></p></td><td class="c68" colspan="1" rowspan="1"><p class="c44"><span class="c39 c0 c37">Reserved for MQTT-SN</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c44 c62 c56"><span class="c39 c0 c37"></span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c44 c56"><span class="c39 c0 c37">Specific to MQTT-SN</span></p></td></tr></table><p class="c3"><span class="c8 c32">Note(s):</span></p><ol class="c137 lst-kix_list_17-0 start" start="1"><li class="c2 li-bullet-0"><span class="c0">It is used by a receiver to indicate that it expected a packet to be protected and it wasn&#39;t.</span></li><li class="c160 c106 c187 c148 li-bullet-0"><span class="c0">The MQTT-SN dedicated range of reason codes is from 0xE6 (230) to 0xFF(255).</span><sup><a href="#cmnt15" id="cmnt_ref15">[o]</a></sup><sup><a href="#cmnt16" id="cmnt_ref16">[p]</a></sup><sup><a href="#cmnt17" id="cmnt_ref17">[q]</a></sup></li></ol><h2 class="c43" id="h.2zbgiuw"><span class="c55 c15">2.4 Topic Types</span></h2><p class="c104 c154 c148 c240"><span class="c8 c0">Several packets refer to a Topic Type in their flags. This is a 2-bit field which determines the format of the topic value. The allowable values are as follows:</span></p><p class="c3"><span class="c121 c119">Figure 2-7 &ndash; Topic Types</span></p><table class="c152 c240"><tr class="c35"><td class="c52 c212" colspan="1" rowspan="1"><p class="c69 c224 c62"><span class="c39 c15"></span></p></td><td class="c52 c222" colspan="1" rowspan="1"><p class="c69 c224"><span class="c39 c51">Topic Type Value</span></p></td><td class="c52 c251" colspan="1" rowspan="1"><p class="c69 c224"><span class="c39 c51">Name</span></p></td><td class="c52 c337" colspan="1" rowspan="1"><p class="c69 c224"><span class="c39 c51">Description</span></p></td></tr><tr class="c321"><td class="c261" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">0</span></p></td><td class="c235" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">0b00</span></p></td><td class="c141" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">Session Topic Alias</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">A session Topic Alias is negotiated between the gateway and client within the scope of a session.</span></p></td></tr><tr class="c35"><td class="c261" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">1</span></p></td><td class="c235" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">0b01</span></p></td><td class="c141" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">Predefined Topic Alias</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">A predefined Topic Alias is known statically by both the Gateway and the Client outside the scope of a session. No negotiation is required since both entities have knowledge of the topic alias mapping.</span></p></td></tr><tr class="c35"><td class="c261" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">2</span></p></td><td class="c235" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">0b10</span></p></td><td class="c141" colspan="1" rowspan="1"><p class="c104 c69 c62"><span class="c39 c0 c37"></span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">Reserved</span></p></td></tr><tr class="c35"><td class="c261" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">3</span></p></td><td class="c235" colspan="1" rowspan="1"><p class="c69 c104"><span class="c39 c0 c37">0b11</span></p></td><td class="c141" colspan="1" rowspan="1"><p class="c104 c69"><span class="c39 c0 c37">Topic Name or &nbsp;Filter</span></p></td><td class="c131" colspan="1" rowspan="1"><p class="c104 c69 c56"><span class="c39 c0 c37">A Topic Name or Topic Filter, which requires no session negotiation.</span></p></td></tr></table><p class="c104 c154 c148 c240"><span class="c8 c0">Predefined and Session Topic Aliases are assigned from different pools so there is no danger of collision. </span></p><p class="c104 c154 c148 c240"><span class="c0">Refer to </span><span class="c31 c0"><a class="c36" href="#h.sznt7pux1885">Section 4.7</a></span><span class="c0">&nbsp;for detailed descriptions of</span><span class="c0">&nbsp;Topic Names and Topic Aliases.</span></p><h1 class="c281 c247 c154 c148 c56" id="h.1egqt2p"><span class="c15 c93 c128 c178">3 MQTT-SN Control Packets</span></h1><h2 class="c66 c112 c56" id="h.2dlolyb"><span>3.1 </span><span class="c55 c15">ADVERTISE - Gateway Advertisement</span></h2><p class="c3"><span class="c32 c57 c121 c37 c119 c116 c139">Figure 3-1 &ndash; ADVERTISE Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 136.00px;"><img alt="" src="images/image6.png" style="width: 624.00px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 136.00px;"><img alt="" src="images/image40.png" style="width: 624.00px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">The ADVERTISE packet is sent periodically by a Gateway to advertise its presence. The time interval until the next transmission is indicated by the </span><span class="c0 c119">Duration </span><span class="c8 c0">field.</span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span></p><p class="c95"><span class="c0 c147">If the Transport Layer supports multicast, like UDP/IP, the ADVERTISE packet is generally sent using a Multicast Address as the destination.</span></p><h3 class="c21" id="h.sqyw64"><span class="c38 c37">3.1.1 ADVERTISE Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.3cqmetx"><span class="c38 c37">3.1.2 Gateway Identifier</span></h3><p class="c69 c211"><span class="c0">The </span><span class="c0 c119">Gateway Identifier </span><span class="c8 c0">field is 1 byte and uniquely identifies a Gateway which is advertising its presence on the network.</span></p><p class="c132 c69"><span class="c0">The MQTT-SN protocol itself does not guarantee the uniqueness of the </span><span class="c0 c119">Gateway Identifier</span><span class="c8 c0">.</span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span></p><p class="c95"><span class="c0 c147">If the Gateway has a MAC address, it can be used as </span><span class="c0 c119 c147">GwId</span><span class="c0 c147">. </span></p><h3 class="c21" id="h.1rvwp1q"><span class="c38 c37">3.1.3 Duration</span></h3><p class="c69 c341"><span class="c0">The </span><span class="c0 c119">Duration </span><span class="c8 c0">field is a 2-byte integer. It specifies the time interval in seconds until the next ADVERTISE packet is transmitted by this Gateway. </span></p><p class="c208 c154 c148"><span class="c8 c0">The maximum value that can be encoded is approximately 18 hours.</span></p><h2 class="c66 c112 c56" id="h.4bvk7pj"><span>3.2 </span><span class="c55 c15">SEARCHGW - Search for A Gateway</span></h2><p class="c3"><span class="c121 c119">Figure 3-2 &ndash; SEARCHGW Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 92.00px;"><img alt="" src="images/image32.png" style="width: 624.00px; height: 92.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">The SEARCHGW packet is sent by a client when it searches for a </span><span class="c0 c4">Gateway</span><span class="c0">. The transmission radius of the SEARCHGW is limited and depends on the density of the clients&rsquo; deployment. For instance only </span><span class="c0">1-hop </span><sup><a href="#cmnt18" id="cmnt_ref18">[r]</a></sup><span class="c8 c0">transmission in case of a very dense network in which every MQTT-SN client is reachable from each other within 1-hop transmission.</span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span></p><p class="c95"><span class="c0 c147">If the Transport Layer supports multicast, like UDP/IP, the SEARCHGW packet is generally sent using the Multicast Address as destination.</span></p><h3 class="c21" id="h.2r0uhxc"><span class="c38 c37">3.2.1 SEARCHGW Header</span></h3><p class="c69 c211"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the </span><span class="c0">variable length packet header </span><span class="c0">format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.1664s55"><span class="c38 c37">3.2.2 Radius</span></h3><p class="c242 c69"><span class="c8 c0">The transmission radius is also indicated to the underlying network layer when MQTT-SN gives this packet for transmission.</span></p><p class="c242 c69"><span class="c10 c0 c29 c57">A Client or a Gateway MUST NOT forward the SEARCHGW packet received if the Radius value is 0.</span></p><p class="c242 c69"><span class="c10 c0 c29 c57">If a Client or a Gateway forwards the SEARCHGW packet received, it MUST reduce the Radius value by 1.</span></p><h2 class="c66 c112 c56" id="h.3q5sasy"><span>3.3 </span><span class="c55 c15">GWINFO - Gateway Information</span></h2><p class="c3"><span class="c121 c119">Figure 3-3 &ndash; GWINFO Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 166.67px;"><img alt="" src="images/image20.png" style="width: 624.00px; height: 166.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 166.67px;"><img alt="" src="images/image15.png" style="width: 624.00px; height: 166.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">The GWINFO packet is sent as response to a SEARCHGW packet with the radius as indicated in the SEARCHGW packet. If sent by a </span><span class="c0 c4">Gateway</span><span class="c0">, it contains only the id of the sending </span><span class="c0 c4">Gateway</span><span class="c0">; otherwise, if sent by a client, it also includes the address of the </span><span class="c0 c4">Gateway</span><span class="c8 c0">.</span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span></p><p class="c95"><span class="c10 c0 c57 c147">If the Transport Layer supports multicast, like UDP/IP, the GWINFO packet is generally sent using a Multicast Address as destination.</span></p><h3 class="c21" id="h.25b2l0r"><span class="c38 c37">3.3.1 GWINFO Header</span></h3><p class="c69 c211"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.kgcv8k"><span class="c38 c37">3.3.2 Gateway Identifier</span></h3><p class="c143"><span class="c0">The </span><span class="c0 c119">Gateway Identifier </span><span class="c0">field is </span><span class="c0">1-byte long</span><sup><a href="#cmnt19" id="cmnt_ref19">[s]</a></sup><sup><a href="#cmnt20" id="cmnt_ref20">[t]</a></sup><span class="c0">&nbsp;and uniquely identifies a </span><span class="c0 c4">Gateway </span><span class="c8 c0">in the network.</span></p><h3 class="c21" id="h.34g0dwd"><span class="c38 c37">3.3.3 Gateway Address</span></h3><p class="c69 c294"><span class="c0">The </span><span class="c0 c119">Gateway Address </span><span class="c8 c0">field has a variable length and contains the address of a Gateway. Its length depends on the type of network over which MQTT-SN operates and is specified by the Length byte. Optional, only included if the packet is sent by a client.</span></p><hr style="page-break-before:always;display:none;"><h2 class="c66 c102 c56 c266" id="h.wa5w3xr5bj1"><span class="c55 c46 c37"></span></h2><h2 class="c66 c102 c56" id="h.1jlao46"><span>3.4 </span><span class="c55 c15">CONNECT - Connection Request</span></h2><p class="c3"><span class="c121 c119">Figure 3-4 &ndash; CONNECT Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 561.60px; height: 825.88px;"><img alt="" src="images/image26.png" style="width: 561.60px; height: 825.88px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">The CONNECT packet is sent from the Client to the </span><span class="c0 c4">Gateway </span><span class="c0">to request the creation of or continuation of a Session. </span></p><h3 class="c21" id="h.43ky6rz"><span class="c38 c37">3.4.1 CONNECT Header</span></h3><p class="c69 c211"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.2iq8gzs"><span class="c38 c37">3.4.2 Connect Flags</span></h3><p class="c3"><span class="c0 c4">The Connect Flags is 1 byte field which contains several parameters specifying the behavior of the MQTT-SN Virtual </span><span class="c0">C</span><span class="c10 c0 c4 c37">onnection. It also indicates the presence or absence of fields in the Packet.</span></p><p class="c155 c154 c148"><span class="c0 c29">The Gateway MUST validate that the reserved flags in the CONNECT packet are set to 0 </span><span class="c0 c42">[MQTT-SN-3.4.2-1]</span><span class="c0">. If any of the reserved flags is not 0 it is a Malformed Packet. Refer to </span><span class="c31 c0"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c0">&nbsp;for information about handling errors.</span></p><h4 class="c21" id="h.etqaie4ha8c7"><span class="c9">3.4.2.1 Clean Start</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bit 0 of the Connect Flags byte.</span></p><p class="c103"><span class="c0 c49 c4">This flag specifies whether the Virtual Connection starts a new Session or is a continuation of an existing Session. Refer to </span><span class="c31 c0 c49"><a class="c36" href="#h.21od6so">section 4.1</a></span><span class="c93 c0 c49 c4">&nbsp;for a definition of the Session State.</span></p><p class="c103"><span class="c0 c29 c49 c4">If a CONNECT packet is received with Clean Start is set to 1, the Client and Server MUST discard any existing Session and start a new Session</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.2.1-1]</span><span class="c93 c0 c49 c4">. Consequently, the Session Present flag in CONNACK is always set to 0 if Clean Start is set to 1.</span></p><p class="c103"><span class="c0 c29 c49 c4">If a CONNECT packet is received with Clean Start set to 0 and there is a Session associated with the Client Identifier, the Server MUST resume communications with the Client based on state from the existing Session</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.2.1-2]</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">If a CONNECT packet is received with Clean Start set to 0 and there is no Session associated with the Client Identifier, the Server MUST create a new Session</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-3.4.2.1-3]</span><span class="c93 c0 c49 c4">.</span></p><h4 class="c66 c12 c56" id="h.92dpq2f7xb81"><span class="c9">3.4.2.2 Will Flag</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bit 1 of the Connect Flags byte.</span></p><p class="c25"><span class="c0 c29 c49 c4">If the Will Flag is set to 1, the Will Flags, Will Topic, and Will Payload fields MUST be present in the &nbsp;Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.2.2-1]</span><span class="c0 c49 c4">. </span></p><p class="c154 c148 c215"><span class="c0 c29 c49 c4">If the Will Flag is set to 1 this indicates that a Will Message MUST be stored on the Server and associated with the Session</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.2.2-2]</span><span class="c0 c49 c4">. The Will Message consists of the Will Topic, and Will Payload fields in the CONNECT Packet. </span><span class="c0 c29 c49 c4">The Will Message MUST be published after the Virtual Connection is deleted or the Session ends, unless the Will Message has been deleted by the Server on receipt of a DISCONNECT packet with Reason Code 0x00 (Normal disconnection)</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.2.2-3]</span><span class="c20 c0 c4">.</span></p><p class="c25"><span class="c20 c0 c4">Situations in which the Will Message is published include, but are not limited to:</span></p><ul class="c137 lst-kix_f7m1wa373t12-0 start"><li class="c96 c103 li-bullet-0"><span class="c0 c49 c4">The Server deletes the Virtual Connection as a result of a</span><span class="c0 c49 c4">n I/O error or network failure</span><span class="c20 c0 c4">&nbsp;it has detected.</span></li><li class="c103 c96 li-bullet-0"><span class="c20 c0 c4">The Client fails to communicate within the Keep Alive time.</span></li><li class="c103 c96 li-bullet-0"><span class="c0 c49 c4">The Server deletes the Virtual Connection because of a protocol error.</span></li><li class="c103 c96 li-bullet-0"><span class="c20 c0 c4">The Server deletes the Virtual Connection because of a Retry timeout.</span></li></ul><p class="c25"><span class="c0 c29 c49 c4">The Will Message MUST be removed from the stored Session State in the Server once it has</span><span class="c0 c29 c49 c4">&nbsp;been published</span><span class="c0 c29 c49 c4">&nbsp;or the Server has received a DISCONNECT packet with a Reason Code of 0x00 (Normal disconnection) from the Client</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.2.2-4]</span><span class="c20 c0 c4">.</span></p><p class="c25"><span class="c0 c49 c4">The Server SHOULD publish Will Messages promptly after the Virtual Connection is deleted or the </span><span class="c0 c49 c4">Session</span><span class="c20 c0 c4">&nbsp;ends, whichever occurs first. In the case of a Server shutdown or failure, the Server MAY defer publication of Will Messages until a subsequent restart. If this happens, there might be a delay between the time the Server experienced failure and when the Will Message is published.</span></p><h4 class="c80 c149 c148 c56" id="h.26ppt98ru9i8"><span class="c9">3.4.2.3 Authentication Flag</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bit 2 of the Connect Flags byte. Labelled </span><span class="c119">Auth</span><span>&nbsp;in Figure 3-4.</span></p><p class="c25"><span class="c0 c29 c49 c4">If the Authentication Flag is set to 1, the Authentication Method and Authentication Data fields MUST be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.2.3-1]</span><span class="c20 c0 c4">. </span></p><h4 class="c80 c149 c148 c56" id="h.ntz1htjambvt"><span class="c9">3.4.2.4 Session Expiry Flag</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bit 3 of the Connect Flags byte. Labelled </span><span class="c119">Sess Exp</span><span class="c8 c32">&nbsp;in Figure 3-4.</span></p><p class="c25"><span class="c0 c29 c49 c4">If the Session Expiry Flag is set to 1, the Session Expiry Interval field MUST be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.2.4-1]</span><span class="c20 c0 c4">. </span></p><p class="c25"><span class="c0 c29 c49 c4">If the Session Expiry Flag is set to 0, the Session Expiry Interval field MUST NOT be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.2.4-2]</span><span class="c20 c0 c4">. </span></p><h4 class="c66 c12 c56" id="h.ynjlp937bzvf"><span class="c9">3.4.2.5 Default Number of Awake Messages</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bits 7 through 4 of the Connect Flags byte. Labelled </span><span class="c119">Default Awake Messages</span><span class="c8 c32">&nbsp;in Figure 3-4.</span></p><p class="c156 c154 c148"><span class="c93 c0 c49 c4">A value between 0-15 to indicate the maximum number of messages a Client shall receive during an AWAKE session. Specifying 0 will mean it is up to the Gateway to determine how many messages it will send, which </span><span class="c0">may be</span><span class="c93 c0 c49 c4">&nbsp;unbounded.</span></p><h3 class="c21" id="h.u38i2mpp332q"><span class="c0">3.4.3 </span><span>Will Flags</span><span class="c81 c15">&nbsp;</span></h3><p class="c3"><span class="c29">If the Will Flag is set to 0, the Will Flags MUST NOT be present in the Packet</span><span>&nbsp;</span><span class="c70">[MQTT-SN-3.4.3-1].</span></p><p class="c3"><span class="c0 c29">If the Will Flag is set to 1, the Will Flags MUST be present in the Packet</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.3-2].</span></p><p class="c3"><span class="c0">The </span><span class="c0 c119">Will Flags</span><span class="c8 c0">&nbsp;is 1 byte field which contains several parameters specifying the handling of the Will Message.</span></p><h4 class="c21" id="h.mbj87qvk8qy6"><span class="c9">3.4.3.1 Will Topic Type</span></h4><p class="c3"><span class="c63">Position:</span><span class="c8 c32">&nbsp;bits 1 and 0 of the Will Flags byte.</span></p><p class="c3"><span class="c0">This is a 2-bit field which determines the format of the topic value. Refer to </span><span class="c31 c0"><a class="c36" href="#h.2zbgiuw">section 2.4</a></span><span class="c8 c0">&nbsp;for the definition of the various topic types.</span></p><h4 class="c21" id="h.36sxt0949mi2"><span class="c9">3.4.3.2 Will QoS</span></h4><p class="c3"><span class="c63">Position:</span><span class="c8 c32">&nbsp;bits 3 and 2 of the Will Flags byte.</span></p><p class="c3"><span class="c8 c0">These two bits specify the QoS level to be used. The value of Will QoS can be 0 (0x00), 1 (0x01), or 2 (0x02). A value of 3 (0x03) is a Malformed Packet.</span></p><h4 class="c21" id="h.bnoytfwh08eh"><span class="c9">3.4.3.3 Will Retain</span></h4><p class="c3"><span class="c63">Position:</span><span class="c8 c32">&nbsp;bit 4 of the Will Flags byte.</span></p><p class="c3"><span class="c0 c49 c4">This specifies if the Will Message is to be </span><span class="c0 c49 c4">retained when it is published</span><span class="c0 c49 c4">. See </span><span class="c31 c0 c49"><a class="c36" href="#h.ly7c1y">section 4.16</a></span><span class="c20 c0 c4">&nbsp;for more information about Retained Messages.</span></p><p class="c3"><span class="c0 c29 c49 c4">If the Will Flag is set to 1 and Will Retain is set to 0, the Server MUST publish the Will Message as a non-retained message </span><span class="c0 c42">[MQTT-SN-3.4.3.3-1].</span></p><p class="c3"><span class="c0 c29 c49 c4">If the Will Flag is set to 1 and Will Retain is set to 1, the Server MUST publish the Will Message as a retained message</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.4.3.3-2]</span><span class="c0 c49 c4">.</span></p><h3 class="c21" id="h.kxsqte300p6i"><span class="c38 c37">3.4.4 Packet Identifier</span></h3><p class="c182 c154"><span class="c0">Used to identify the corresponding </span><span class="c0">CONNACK or AUTH </span><span class="c8 c0">packet. It should ideally be populated with a random integer value.</span></p><h3 class="c21" id="h.xvir7l"><span class="c38 c37">3.4.5 Protocol Version</span></h3><p class="c3" id="h.3hv69ve"><span class="c10 c0 c37 c4">The one-byte unsigned value that represents the revision level of the protocol used by the Client. </span></p><p class="c3"><span class="c121 c119">Figure 3-5 &ndash; Protocol Versions</span></p><table class="c152 c170"><tr class="c35"><td class="c52 c85" colspan="1" rowspan="1"><p class="c27"><span class="c40 c51 c4">Protocol Version</span></p></td><td class="c85 c52" colspan="1" rowspan="1"><p class="c27"><span class="c40 c51 c4">Value</span></p></td></tr><tr class="c35"><td class="c85" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c37 c4">Version 1.2</span></p></td><td class="c85" colspan="1" rowspan="1"><p class="c27"><span class="c40 c0 c37 c4">0x01</span></p></td></tr><tr class="c35"><td class="c85" colspan="1" rowspan="1"><p class="c3"><span class="c40 c15 c4">Version 2.0</span></p></td><td class="c85" colspan="1" rowspan="1"><p class="c27"><span class="c40 c15 c4">0x02</span></p></td></tr><tr class="c35"><td class="c85" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c37 c4">Reserved for future use</span></p></td><td class="c85" colspan="1" rowspan="1"><p class="c27 c56"><span class="c40 c0 c37 c4">0x03 &ndash; 0xFF</span></p></td></tr></table><p class="c3"><span class="c0 c29 c4">The value of the Protocol Version field for MQTT-SN version 2.0 </span><span class="c0 c29">MUST</span><span class="c0 c29 c4">&nbsp;be 2 (0x02).</span></p><p class="c3"><span class="c0">A Gateway which supports multiple versions of the MQTT-SN protocol uses the Protocol Version to determine which version of MQTT-SN the Client is using. </span><span class="c0 c29">If the Protocol Version is not 2 and the Gateway does not want to accept the CONNECT packet, the Server MAY send a CONNACK packet with Reason Code 0x84 (Unsupported Protocol Version).</span></p><h3 class="c21" id="h.4h042r0"><span class="c38 c37">3.4.6 Keep Alive</span></h3><p class="c3"><span class="c0 c4">The Keep Alive is a Two Byte Integer greater than 0 (1 - 65,535), which is a time interval measured in seconds. It is the maximum time interval that is permitted to elapse between the point at which the Client finishes transmitting one MQTT-SN Control Packet and the point it starts sending the next. It is the responsibility of the Client to ensure that the interval between MQTT-SN Control Packets being sent does not exceed the Keep Alive value.&nbsp;</span><span class="c0 c29 c4">In the absence of sending any other MQTT-SN Control Packets, the Client MUST send a PINGREQ packet</span><span class="c0 c4">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.6-1].</span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span></p><p class="c95"><span class="c0 c4 c147">The Client can send PINGREQ at any time, irrespective of the Keep Alive value, and check for a corresponding PINGRESP to determine that the network and the Gateway are available.</span></p><p class="c3"><span class="c0 c29">If the Gateway does not receive an MQTT-SN Control Packet from the Client within one and a half times the Keep Alive time period, it MUST delete the Virtual Connection and move the Client to the Disconnected state (</span><span class="c0 c29">see </span><span class="c14 c0"><a class="c36" href="#h.3mj2wkv">section 4.15</a></span><span class="c0 c29">)</span><span class="c0 c29">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.6-2].</span></p><p class="c3"><span class="c0 c29 c4">If a Client does not receive a PINGRESP packet within a </span><span class="c0 c29 c119">T</span><span class="c0 c29 c119 c223">retry</span><span class="c0 c29 c4">&nbsp;amount of time after it has sent a PINGREQ, it SHOULD retry the transmission according to </span><span class="c14 c0"><a class="c36" href="#h.17nz8yj">section 4.4.2</a></span><span class="c0 c29 c4">&nbsp;up to the maximum number of attempts. If a PINGRESP is still not received it </span><span class="c0 c29">MUST</span><span class="c0 c29 c4">&nbsp;delete the Virtual Connection to the Gateway by way of a DISCONNECT, with the</span><span class="c0 c29">&nbsp;understanding that the Gateway may no longer be reachable</span><span class="c0 c29 c4">.</span></p><p class="c3"><span class="c0 c29 c4">A Keep Alive must have a value greater than 0. It is a protocol error if a Keep Alive value of 0 or below is set. </span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span><span class="c0 c4 c147"><br>The Gateway may have other reasons to disconnect the Client, for instance because it is shutting down. Setting Keep Alive does not guarantee that the Client will remain connected.</span></p><p class="c95"><span class="c10 c63 c57 c147 c90">Informative comment</span></p><p class="c95"><span class="c10 c0 c4 c147">The actual value of the Keep Alive is application specific; typically, this is a few minutes. The maximum value of 65,535 is 18 hours 12 minutes and 15 seconds.</span></p><h3 class="c21" id="h.3vac5uf"><span class="c38 c37">3.4.7 Maximum Packet Size</span></h3><p class="c3"><span class="c10 c0 c37 c4">A Two Byte (16-bit) Integer representing the Maximum Packet Size the Client is willing to accept. If the Maximum Packet Size is set to 0, no limit on the packet size is imposed beyond the limitations in the protocol as a result of the remaining length encoding and the protocol header sizes.</span></p><p class="c95"><span class="c63 c90">Informative comment</span></p><p class="c95"><span class="c10 c0 c37 c4">It is the responsibility of the application to select a suitable Maximum Packet Size value if it chooses to restrict the Maximum Packet Size.</span></p><p class="c3"><span class="c0 c4">The packet size is the total number of bytes in an </span><span class="c0 c4">MQTT-SN Control Packet,</span><span class="c0 c4">&nbsp;as defined in </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c10 c0 c37 c4">. The Client uses the Maximum Packet Size to inform the Server that it will not process packets exceeding this limit.</span></p><p class="c3"><span class="c0 c29 c4">The Gateway MUST NOT send packets exceeding Maximum Packet Size to the Client.&nbsp;If a Client receives a packet whose size exceeds this limit, this is a Protocol Error, the Client uses DISCONNECT with Reason Code 0x95 (Packet too large).</span></p><p class="c3"><span class="c0 c29 c4">Where a Packet is too large to send, the Gateway MUST discard it without sending it and then behave as if it had completed sending that Application Message.</span></p><p class="c95" id="h.2afmg28"><span class="c63 c90">Informative comment</span></p><p class="c95"><span class="c0 c4">Where a packet is discarded without being sent, the Gateway could take some diagnostic action including alerting the Server administrator. Such actions are outside the scope of this specification.</span></p><h3 class="c21" id="h.1baon6m"><span class="c38 c37">3.4.8 Session Expiry Interval</span></h3><p class="c3"><span class="c8 c0">The Session Expiry Interval is a four-byte integer time interval measured in seconds. If the Session Expiry Interval is set to 0, the Session ends when a DISCONNECT packet is sent from either the client or gateway. </span></p><p class="c3"><span class="c8 c0">If the Session Expiry Interval is 0xFFFFFFFF (UINT_MAX), the Session does not expire. </span></p><p class="c3"><span class="c0 c29">The Client and </span><span class="c0 c29 c4">Gateway </span><span class="c0 c29">MUST store the Session State after a DISCONNECT is issued if the Session Expiry Interval is greater than 0.</span></p><p class="c154 c148 c209"><span class="c8 c46">Informative comment</span></p><p class="c156 c154 c148 c256"><span class="c8 c32">The clock in the Client or Gateway may not be running for part of the time interval, for instance because the Client or Gateway are not running. This might cause the deletion of the state to be delayed.</span></p><p class="c209 c154 c148"><span class="c8 c46">Informative comment</span></p><p class="c156 c154 c148 c256"><span class="c8 c32">The client and gateway between them should negotiate a reasonable and practical session expiry interval according to the network and infrastructure environment in which they are deployed. For example, it would not be practical to set a session expiry interval of many months on a gateway whose hardware is only capable of storing a few client sessions.</span></p><p class="c12 c106"><span class="c8 c46">Informative comment</span></p><p class="c106 c160"><span class="c8 c32">A Client that only wants to process messages while connected will set Clean Start to 1 and set the Session Expiry Interval to 0. It will not receive Application Messages published before it is connected and has to subscribe afresh to any topics that it is interested in each time it connects.</span></p><p class="c12 c106"><span class="c8 c46">Informative comment</span></p><p class="c103 c136"><span>The Client should always use the Session Present flag in the CONNACK to determine whether the Server has a Session State for this Client.</span></p><h3 class="c21" id="h.6mntinqaom6n"><span class="c81 c15">3.4.9 Will Topic Alias or Will Topic Name Length </span></h3><p class="c155 c154 c148"><span class="c8 c32">If the Will Flag is set to 1, the Will Topic Alias or Will Topic Name Length is the next field in the Packet. In both cases, this is two bytes.</span></p><p class="c233 c154 c148"><span class="c8 c0">In the case of Will Topic Type being b11 this field will refer to the length of data assigned to the &ldquo;Will Full Topic Name&rdquo;, in all other cases, this will be the value used as the Will topic alias or Will short topic name.</span></p><h3 class="c21" id="h.m1ydln779jbl"><span class="c81 c15">3.4.10 Will Topic Name</span></h3><p class="c3"><span>If the Will Flag is set to 1 and the Will Topic Type is set to Topic Name (0b11), the Will Topic Name is the next field in the Packet. </span><span class="c29">The Will Topic Name MUST be a UTF-8 Encoded String</span><span>&nbsp;as defined in</span><span class="c31"><a class="c36" href="#h.49x2ik5">&nbsp;section 1.7.4</a></span><span>&nbsp;</span><span class="c70">[MQTT-SN-3.4.10-1]</span><span>.</span></p><h3 class="c21" id="h.g5w1zpmaiace"><span class="c81 c15">3.4.11 Will Payload Length</span></h3><p class="c155 c154 c148"><span>If the Will Flag is set to 1, the Will Payload Length is the next field in the Packet. </span><span class="c0">It c</span><span class="c8 c0">ontains the length of the Will Payload field.</span></p><h3 class="c21" id="h.o88zms19c5d1"><span class="c81 c15">3.4.12 Will Payload</span></h3><p class="c3"><span class="c0">If the Will Flag is set to 1 the Will Payload is the next field in the Packet. The Will Payload defines the Application Message Payload that is to be published to the Will Topic as described in </span><span class="c31 c0"><a class="c36" href="#h.92dpq2f7xb81">section 3.4.2.2</a></span><span class="c8 c0">. This field consists of Binary Data.</span></p><h3 class="c21" id="h.mw1gvx9qi5t0"><span class="c81 c15">3.4.13 Authentication Method Length</span></h3><p class="c155 c154 c148"><span>If the Auth Flag is set to 1, the Authentication Method Length is the next field in the Packet. </span><span class="c0">It is a s</span><span class="c0">ingle byte value (max 0-255 bytes), representing the length of field used to specify the authentication method. Refer to </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c286">&nbsp;</span><span class="c8 c0">for more information about authentication.</span></p><h3 class="c21" id="h.4ydjyi9y5y20"><span class="c81 c15">3.4.14 Authentication Method</span></h3><p class="c155 c154 c148"><span>If the Auth Flag is set to 1, the Authentication Method is the next field in the Packet.</span><span class="c0">&nbsp;It is a </span><span class="c8 c0">UTF-8 Encoded String containing the name of the Authentication Method. </span></p><p class="c25 c107"><span class="c0">To support the equivalent of the MQTT User Name and Password fields in the CONNECT packet, see section </span><span class="c31 c0"><a class="c36" href="#h.nhp24wh46om4">4.11.1.2</a></span><span class="c8 c0">.</span></p><p class="c25 c107"><span class="c0">Refer to </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c286">&nbsp;</span><span class="c8 c0">for more information about authentication.</span></p><h3 class="c21" id="h.5hocu94eubqg"><span class="c15 c81">3.4.15 Authentication Data Length</span></h3><p class="c25 c107"><span>If the Auth Flag is set to 1, the Authentication Data Length is the next field in the Packet. </span><span class="c0">It is a t</span><span class="c0">wo byte value (max 0-65535 bytes), representing the length of the field used to specify the authentication data. Refer to </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c286">&nbsp;</span><span class="c8 c0">for more information about authentication.</span></p><h3 class="c21" id="h.g9mib2nvvlzy"><span class="c81 c15">3.4.16 Authentication Data</span></h3><p class="c25 c107"><span>If the Auth Flag is set to 1, the Authentication Data is the next field in the Packet. </span></p><p class="c25 c107"><span class="c8 c0">Binary Data containing authentication data. The contents of this data are defined by the authentication method. </span></p><p class="c25 c107"><span class="c0">To support the equivalent of the MQTT User Name and Password CONNECT packet fields, see section </span><span class="c31 c0"><a class="c36" href="#h.nhp24wh46om4">4.11.1.2</a></span><span class="c8 c0">.</span></p><p class="c25 c107"><span class="c0">Refer to </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c286">&nbsp;</span><span class="c8 c0">for more information about authentication.</span></p><h3 class="c21" id="h.pkwqa1"><span class="c38 c37">3.4.17 Client Identifier</span></h3><p class="c69 c169"><span class="c0 c4">The Client Identifier (ClientID) identifies the Client to the Gateway. Each Client connecting to the Gateway has a unique ClientID.&nbsp;</span><span class="c0 c29 c4">The ClientID MUST be used by Clients and by Gateway to </span><span class="c0 c29">identify the state</span><span class="c0 c29 c4">&nbsp;that they hold relating to this MQTT-SN Session between the Client and the Gateway</span><span class="c10 c0 c37 c4">. </span></p><p class="c95"><span class="c63 c90">Informative comment</span></p><p class="c95"><span class="c0 c4">A Client Identifier can be between 0 - </span><span class="c8 c0">65,521 bytes. It us recommended for practicality, ClientIDs are restricted to a reasonable size (less than 243 bytes to fit within a small CONNECT packet).</span></p><p class="c3"><span class="c0 c29">When the ClientID is present (greater than 0 bytes), t</span><span class="c0 c29 c4">he Gateway MUST allow </span><span class="c0 c29">values</span><span class="c10 c0 c29 c4">&nbsp;which are between 1 and 23 UTF-8 encoded bytes in length, and that contain only the characters &quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&rdquo;. </span></p><p class="c3"><span class="c0 c29 c4">The Gateway MAY choose to allow more than 23 bytes.</span></p><p class="c45 c100"><span class="c29 c4">The Client Identifier MUST be a </span><span class="c29 c57">UTF-8 Encoded String</span><span class="c4">.</span><span class="c10 c32 c29 c4">&nbsp;</span></p><h3 class="c45 c100" id="h.9wk6osa2rqp1"><span class="c38 c37">3.4.18 CONNECT Actions</span></h3><p class="c25"><span class="c8 c0">Note that a Server MAY support multiple protocols on the same network endpoint. If the Server determines that the protocol is MQTT-SN 2.0 then it validates the connection attempt as follows.</span></p><ol class="c137 lst-kix_ev3c1abzhvq-0 start" start="1"><li class="c25 c96 li-bullet-0"><span class="c0 c29">The Server MUST validate that the CONNECT packet matches the format described in</span><span class="c14 c0"><a class="c36" href="#h.1jlao46">&nbsp;section 3.4</a></span><span class="c0 c29">&nbsp;and MUST NOT create a Virtual Connection for this CONNECT if it does not match</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.18-1].</span><span class="c0 c4">&nbsp;The Server MAY send a CONNACK with a Reason Code of 0x80 or greater as described in </span><span class="c31 c0"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c10 c0 c37 c4">.</span></li><li class="c103 c96 li-bullet-0"><span class="c0 c29">The Server MAY check that the contents of the CONNECT packet meet any further restrictions and SHOULD perform authentication and authorization checks. If any of these checks fail, it MUST NOT create a Virtual Connection for this CONNECT</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.18-2]</span><span class="c0">. It MAY send an appropriate CONNACK response with a Reason Code of 0x80 or greater as described in </span><span class="c31 c0"><a class="c36" href="#h.39kk8xu">section 3.5</a></span><span class="c0">&nbsp;and </span><span class="c31 c0"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c0">.</span></li></ol><p class="c25"><span class="c8 c0">If validation is successful, the Server performs the following steps.</span></p><ol class="c137 lst-kix_lqfz53xxujmr-0 start" start="1"><li class="c25 c96 li-bullet-0"><span class="c0 c29">If the ClientID represents a Client already connected to the Server, the Server sends a DISCONNECT packet to the existing Client with Reason Code of 0x8E (Session taken over) as described in </span><span class="c14 c0"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c0 c29">&nbsp;and MUST delete the Virtual Connection of the existing Client</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.18-3]</span><span class="c0">. If the existing Client has a Will Message, that Will Message is published as described in</span><span class="c0">&nbsp;</span><span class="c31 c0"><a class="c36" href="#h.u38i2mpp332q">section 3.4.9</a></span><span class="c8 c0">. </span></li><li class="c25 c96 li-bullet-0"><span class="c0 c29">The Server MUST perform the processing of Clean Start</span><span class="c0">&nbsp;that is described in </span><span class="c31 c0"><a class="c36" href="#h.gtnh0h">section 4.15.2</a></span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.18-4]</span><span class="c8 c0">.</span></li><li class="c25 c96 li-bullet-0"><span class="c0 c29">The Server MUST acknowledge the CONNECT packet with a CONNACK packet containing a 0x00 (Success) Reason Code</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.18-5]</span><span class="c8 c0">.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c0">Start Application Message delivery and Keep Alive monitoring.</span></li></ol><p class="c25 c136"><span class="c63 c90">Informative comment</span></p><p class="c25 c136"><span class="c8 c0">It is recommended that authentication and authorization checks be performed if the Server is being used to process any form of business critical data. If these checks succeed, the Server responds by sending CONNACK with a 0x00 (Success) Reason Code. If they fail, it is suggested that the Server does not send a CONNACK at all, as this could alert a potential attacker to the presence of the MQTT-SN Server and encourage such an attacker to launch a denial of service or password-guessing attack.</span></p><p class="c25"><span class="c0 c29">A Client MUST</span><span class="c0 c29">&nbsp;wait for a CONNACK packet with a 0x00 (Success) Reason Code before sending any packet that needs a Virtual Connection</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.18-6]</span><span class="c8 c0">.</span></p><p class="c25"><span class="c0">T</span><span class="c0 c29">he Server MUST NOT process any data sent by the Client after the CONNECT packet except AUTH packets</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.4.18-7]</span><span class="c8 c0">.</span></p><h2 class="c66 c56 c102" id="h.39kk8xu"><span>3.5 </span><span class="c0">CONNACK - Connect Acknowledgement</span></h2><p class="c3"><span class="c121 c119">Figure 3-6 &ndash; CONNACK Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 632.00px;"><img alt="" src="images/image46.png" style="width: 624.00px; height: 632.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c69 c320"><span class="c0">The CONNACK packet is sent by the </span><span class="c0 c4">Gateway </span><span class="c8 c0">in response to a CONNECT request from a client.</span></p><h3 class="c21" id="h.2nusc19"><span class="c38 c37">3.5.1 CONNACK Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.3mzq4wv"><span class="c38 c37">3.5.2 CONNACK Flags</span></h3><p class="c3"><span class="c0 c4">The CONNACK Flags is a 1 byte field which contains flags specifying the behavior of the MQTT-SN </span><span class="c0">Virtual C</span><span class="c0 c4">onnection on the gateway</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">Bits 7-2 of the CONNACK Flags are reserved and MUST be set to 0</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c0 c29">The Client MUST validate that the reserved flags in the CONNACK packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c21" id="h.w3elb16r2ceb"><span class="c63">3.5.2.1 </span><span class="c63 c139">Session Present</span></h4><p class="c3"><span class="c63">Position</span><span>: bit 0 of the CONNACK Flags. Labelled </span><span class="c119">Sess Pres</span><span class="c8 c32">&nbsp;in Figure 3-6.</span></p><p class="c155 c154 c148"><span>S</span><span class="c139">pecifies whether an existing session was present on the gateway for the given client identifier</span><span class="c8 c32">. A value of 1 indicates a session was present, a value 0 indicates no session was present.</span></p><p class="c155 c154 c148"><span class="c29">If the Gateway accepts a CONNECT with Clean Start set to 1, the Gateway MUST set Session Present to 0 in the CONNACK Packet in addition to setting a 0x00 (Success) Reason Code in the CONNACK packet. </span></p><p class="c155 c154 c148"><span class="c29">If the Gateway accepts a CONNECT with Clean Start set to 0 and the Gateway has Session State for the client identifier it MUST set Session Present to 1 in the CONNACK packet, otherwise it MUST set Session Present to 0 in the CONNACK packet. In both cases it MUST set a 0x00 (Success) Reason Code in the CONNACK packet.</span><span class="c8 c32">&nbsp;</span></p><p class="c155 c154 c148"><span class="c8 c32">If the value of Session Present received by the Client from the Gateway is not as expected, the Client proceeds as follows:</span></p><p class="c189 c154 c148"><span class="c29">If the Client does not have Session State and receives Session Present set to 1 it MUST delete the Virtual Connection.</span><span>&nbsp;</span><span class="c29">If it wishes to restart with a new Session the Client can reconnect using Clean Start set to 1.</span></p><p class="c156 c154 c148"><span class="c10 c32 c29 c57">If the Client does have Session State and receives Session Present set to 0 it MUST discard its Session State if it continues with the Virtual Connection.</span></p><p class="c158 c12 c149 c154 c37"><span class="c10 c32 c29 c57">If a Gateway sends a CONNACK packet containing a non-zero Reason Code it MUST set Session Present to 0.</span></p><h4 class="c66 c12 c56" id="h.xzl3tg24tlhl"><span class="c9">3.5.2.2 Session Expiry Interval Flag (Sess Exp)</span></h4><p class="c3"><span class="c63">Position</span><span>: bit 1 of the CONNACK Flags. Labelled </span><span class="c119">Sess Exp</span><span class="c8 c32">&nbsp;in Figure 3-6.</span></p><p class="c12 c154 c148"><span class="c0 c49 c4">&#8203;&#8203;</span><span class="c0 c29 c49 c4">If the Session Expiry Interval Flag is set to 0, a Session Expiry Interval MUST NOT be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.5.2.2-1]</span><span class="c93 c0 c49 c4">. </span></p><p class="c160 c154 c148"><span class="c0 c29 c49 c4">If the Session Expiry Interval Flag is set to 1, a Session Expiry Interval MUST be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.5.2.2-2]</span><span class="c0 c49 c4">.</span></p><h4 class="c66 c12 c56" id="h.cjfdh2p7nklr"><span class="c9">3.5.2.3 Authentication Flag</span></h4><p class="c3"><span class="c63">Position</span><span>: bit 2 of the CONNACK Flags. Labelled </span><span class="c119">Auth</span><span class="c8 c32">&nbsp;in Figure 3-6.</span></p><p class="c189 c154 c148"><span class="c8 c0">Specifies whether the packet contains authentication material to be considered.</span></p><p class="c12 c154 c148"><span class="c0 c49 c4">&#8203;&#8203;</span><span class="c0 c29 c49 c4">If the Authentication Flag is set to 0, Authentication Method and Data MUST NOT be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.5.2.2-1]</span><span class="c93 c0 c49 c4">. </span></p><p class="c160 c154 c148"><span class="c0 c29 c49 c4">If the Authentication Flag is set to 1, Authentication Method and Data MUST be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.5.2.2-2]</span><span class="c0 c49 c4">.</span></p><h3 class="c21" id="h.lnmexuhpjkl8"><span class="c38 c37">3.5.3 Packet Identifier</span></h3><p class="c69 c292"><span class="c0">The same value as the Packet Identifier in the </span><span class="c0">CONNECT or AUTH </span><span class="c8 c0">Packet being acknowledged.</span></p><h3 class="c21" id="h.1302m92"><span class="c38 c37">3.5.4 Reason Code</span></h3><p class="c3"><span>The values for Reason Codes are shown in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span>. </span><span class="c29">The Server sending the CONNACK Packet MUST use one of the </span><span class="c29">Reason Codes applicable to CONNACK</span><span class="c29">.</span></p><p class="c3"><span class="c29">If a Server sends a CONNACK packet containing a Reason code of </span><span class="c29">128</span><span class="c29">&nbsp;or greater it MUST then delete the Virtual Connection.</span></p><h3 class="c21" id="h.2250f4o"><span class="c38 c37">3.5.5 Session Expiry Interval</span></h3><p class="c69 c12"><span class="c0 c4">If the Session Expiry Interval is absent the value of Session Expiry Interval in the CONNECT Packet is used. </span><span class="c0">The Server uses this field to inform the Client that it is using a value other than that sent by the Client in the CONNECT</span><span class="c10 c0 c37 c4">. </span></p><p class="c69 c12 c62"><span class="c10 c0 c37 c4"></span></p><p class="c69 c12"><span class="c0 c4">Refer to </span><span class="c31 c0"><a class="c36" href="#h.1baon6m">section 3.4.6</a></span><span class="c10 c0 c37 c4">&nbsp;for a description of the use of Session Expiry Interval.</span></p><h3 class="c21" id="h.3wmneavoet74"><span class="c81 c15">3.5.6 Authentication Method Length</span></h3><p class="c25 c148"><span class="c0">Single byte value (max 0-255 bytes), representing the length of field used to specify the authentication method. Refer to </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c286">&nbsp;</span><span class="c8 c0">for more information about authentication.</span></p><h3 class="c21" id="h.ydayklwjstjk"><span class="c81 c15">3.5.7 Authentication Method</span></h3><p class="c25 c107"><span class="c0">A UTF-8 Encoded String containing the name of the authentication method. Refer to </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c8 c0">&nbsp;for more information about authentication.</span></p><h3 class="c21" id="h.kvppk7yh36lv"><span class="c81 c15">3.5.8 Authentication Data Length</span></h3><p class="c25 c107"><span class="c0">Two byte value (max 0-65535 bytes), representing the length of field used to specify the authentication data. Refer to </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c286">&nbsp;</span><span class="c8 c0">for more information about authentication.</span></p><h3 class="c21" id="h.600ktmi3vm5o"><span class="c81 c15">3.5.9 Authentication Data</span></h3><p class="c25 c148"><span class="c0">Binary Data containing authentication data. The contents of this data are defined by the authentication method and the state of already exchanged authentication data. Refer to </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c0 c286">&nbsp;</span><span class="c8 c0">for more information about authentication.</span></p><h3 class="c21" id="h.haapch"><span class="c38 c37">3.5.10 Assigned Client Identifier</span></h3><p class="c3"><span class="c0">The Client Identifier assigned by the gateway when the associated CONNECT packet contained no Client Identifier. </span><span class="c0 c29">If the Client connects using a zero length Client Identifier, the Server MUST respond with a CONNACK containing an Assigned Client Identifier. The Assigned Client Identifier MUST be a new Client Identifier not used by any other Session currently in the Gateway</span><span class="c0">.</span></p><p class="c3"><span class="c0 c29 c4">The Assigned Client Identifier MUST be a </span><span class="c0 c29">UTF-8 Encoded String</span><span class="c0 c4">.</span></p><p class="c95"><span class="c63 c90">Informative comment</span></p><p class="c215 c106 c148"><span class="c10 c0 c37 c4">The length of Assigned Client Identifiers should take into account the maximum packet size allowed by the MQTT-SN implementation. For reference, RFC4122 describes Universally Unique IDentifiers (UUIDs) that are 128 bytes in size, 16 bytes or 32 hexadecimal digits. These UUIDs are commonly expressed in 36 characters, including 4 dashes as separators.</span></p><p class="c95"><span class="c63 c90">Informative comment</span></p><p class="c95"><span class="c0 c4">Where a transparent gateway obtains an Assigned Client Identifier which is deemed too large for a device, it should maintain a registry to map shorter gateway generated Client Identifiers with their versions returned from the broker.</span></p><h2 class="c66 c253 c56" id="h.184mhaj"><span>3.6 </span><span class="c0">AUTH</span><span class="c55 c15">&nbsp;- Authentication Exchange</span></h2><p class="c3"><span class="c121 c119">Figure 3-7 &ndash; AUTH Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 309.33px;"><img alt="" src="images/image34.png" style="width: 624.00px; height: 309.37px; margin-left: 0.00px; margin-top: -0.02px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 309.33px;"><img alt="" src="images/image12.png" style="width: 624.00px; height: 309.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0 c37">The authentication method and data is first sent by the Client as part of a CONNECT exchange.&nbsp;If the Server requires additional information to complete the authentication, it responds with an AUTH packet to </span><span class="c0 c37">signal</span><span class="c8 c0">&nbsp;that the Client generates and sends another AUTH packet with the required information and so on until the authentication is complete. The server then responds with a CONNACK message.</span></p><h3 class="c21" id="h.3s49zyc"><span class="c38 c37">3.6.1 AUTH Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.6cbjggtsyz0j"><span class="c38 c37">3.6.2 Packet Identifier</span></h3><p class="c154 c182"><span class="c0">Used to identify the corresponding </span><span class="c0">CONNECT or </span><span class="c0">AUTH packet. It should ideally be populated with a random integer value when sent from Client to Server. </span><span class="c0 c29">When sent from Server to Client, it MUST contain the packet identifier of the CONNECT or AUTH packet being responded to</span><span class="c8 c0">.</span></p><h3 class="c21" id="h.279ka65"><span class="c38 c37">3.6.2 Reason Code</span></h3><p class="c3"><span class="c0 c37">The values for the Authentication Reason Code field are shown in </span><span class="c31"><a class="c36" href="#h.46r0co2">Table 9: Reason Code Values</a></span><span>. </span><span class="c0 c37">The sender of the AUTH Packet MUST use one of the</span><span class="c0 c37">&nbsp;Reason Codes</span><span class="c0">&nbsp;shown as applicable to the AUTH packet in this table.</span></p><h3 class="c21" id="h.meukdy"><span class="c38 c37">3.6.3 Authentication Method Length</span></h3><p class="c3"><span class="c8 c0">The length of the Authentication Method string.</span></p><h3 class="c21" id="h.36ei31r"><span class="c38 c37">3.6.4 Authentication Method</span></h3><p class="c3"><span class="c8 c0">A UTF-8 Encoded String containing the name of the authentication method.</span></p><h3 class="c21" id="h.1ljsd9k"><span class="c38 c37">3.6.5 Authentication Data</span></h3><p class="c3"><span class="c0 c37">Binary Data containing authentication data. The contents of this data are defined by the authentication method.</span></p><h3 class="c21" id="h.psc1lxe4uzxw"><span class="c38 c37">3.6.6 AUTH Actions</span></h3><p class="c103"><span>Refer to </span><span class="c31"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c8 c32">&nbsp;for more information about authentication.</span></p><h2 class="c66 c253 c56" id="h.45jfvxd"><span>3.7 </span><span class="c55 c15">REGISTER - Register Topic Alias Request</span></h2><p class="c3"><span class="c121 c119">Figure 3-8 &ndash; REGISTER Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 234.67px;"><img alt="" src="images/image45.png" style="width: 624.00px; height: 234.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c155 c154 c185"><span class="c0">The REGISTER packet </span><span class="c8 c0">is sent by a Client to a Gateway to request a Topic Alias for the included topic name. It is also sent by a Gateway to inform a Client about the Topic Alias &nbsp;it has assigned to the included topic name.</span></p><p class="c155 c154 c185"><span class="c8 c0">Topic Aliases are always assigned by the Gateway, not the Client.</span></p><h3 class="c21" id="h.2koq656"><span class="c38 c37">3.7.1 REGISTER Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.3jtnz0s"><span class="c38 c37">3.7.2 Packet Identifier</span></h3><p class="c132 c154 c239 c210"><span class="c8 c0">Used to identify the corresponding REGACK packet. It should ideally be populated with a random integer value. </span></p><h3 class="c21" id="h.zu0gcz"><span class="c38 c37">3.7.3 Topic Alias</span></h3><p class="c132 c154 c210 c239"><span class="c8 c0">If sent by a client, it is coded 0x0000 and is not relevant; if sent by a Gateway, it contains the Topic Alias value assigned to the topic name included in the Topic Name field.</span></p><h3 class="c21" id="h.1yyy98l"><span class="c38 c37">3.7.4 Topic Name</span></h3><p class="c154 c210 c233"><span class="c8 c0">Fixed Length UTF-8 Encoded String Contains the fully qualified topic name.</span></p><h3 class="c80 c149 c56 c210" id="h.2jnkuws4c71i"><span class="c38 c37">3.7.5 REGISTER Actions</span></h3><p class="c154 c239 c210 c305"><span class="c0">As described in </span><span class="c31 c0"><a class="c36" href="#h.1fyl9w3">section 4.16</a></span><span class="c8 c0">.</span></p><h2 class="c66 c56 c112" id="h.4iylrwe"><span>3.8 </span><span class="c55 c15">REGACK - Register Topic Alias Acknowledgement</span></h2><p class="c3"><span class="c121 c119">Figure 3-9 &ndash; REGACK Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 249.33px;"><img alt="" src="images/image18.png" style="width: 624.00px; height: 249.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 249.33px;"><img alt="" src="images/image8.png" style="width: 624.00px; height: 249.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c8 c0">The REGACK packet is sent by a Client or by a Gateway as an acknowledgment to the receipt and processing of a REGISTER packet.</span></p><h3 class="c21" id="h.2y3w247"><span class="c38 c37">3.8.1 REGACK Header</span></h3><p class="c69 c211"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.1d96cc0"><span class="c38 c37">3.8.2 REGACK Flags</span></h3><p class="c3"><span class="c0 c4">The REGACK Flags is a 1 byte field which contains flags specifying the contents of the REGACK packet</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">Bits 7-2 of the REGACK Flags are reserved and MUST be set to 0</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c0 c29">The Client MUST validate that the reserved flags in the REGACK packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c66 c56 c177" id="h.9sc8qmlasy98"><span>3.8.2.1 </span><span class="c9">Topic Type</span></h4><p class="c3"><span class="c63">Position</span><span class="c8 c32">: bits 0 and 1 of the REGACK Flags.</span></p><p class="c265 c154 c148"><span class="c4">D</span><span class="c4 c139">etermines the format of the topic value. Refer to </span><span class="c31"><a class="c36" href="#h.2zbgiuw">Section 2.4</a></span><span class="c4 c139">&nbsp;for the definition of the various topic types.</span></p><p class="c265 c154 c148"><span class="c29 c4">The Topic Type in the REGACK packet MUST be Predefined Topic Alias or Session Topic Alias. </span><span class="c10 c32 c4">Any other value is a Protocol Error.</span></p><h3 class="c21" id="h.2ce457m"><span class="c38 c37">3.8.3 Packet Identifier</span></h3><p class="c168 c154 c148"><span class="c0">The same value as the Packet Identifier in the REGISTER packet being acknowledged.</span></p><h3 class="c21" id="h.3x8tuzt"><span>3.8.4</span><span>&nbsp;Topic Alias</span></h3><p class="c69 c211"><span class="c8 c0">A Topic Alias is an integer value that is used to identify the Topic instead of the Topic Name. This numeric value is used as the Topic Alias.</span></p><p class="c69 c211"><span class="c8 c0">If the REGACK is sent by a Gateway in response to a REGISTER request from a Client, the Topic Alias is that which has been assigned by the Gateway, and which the Client should use during the rest of the Session to refer to the Topic Name identified in the REGISTER packet.</span></p><p class="c69 c211"><span class="c0">If the REGACK is sent by a Client, it is in response to a REGISTER packet from a Gateway informing the Client which Topic Alias it should use. </span><span class="c10 c0 c29 c57">When sent by a Client the REGACK MUST contain the same Topic Alias that was sent in the REGISTER packet. </span></p><h3 class="c21" id="h.rjefff"><span>3.8.5 Reason Code</span></h3><p class="c3"><span>The values for Reason Codes are shown in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span>. </span><span class="c29">The sender of the REGACK Packet MUST use one of the </span><span class="c29">Reason Codes applicable to REGACK</span><span class="c29">.</span></p><h2 class="c21" id="h.3bj1y38"><span class="c55 c46 c37">3.9 Publish Variants</span></h2><p class="c3"><span>MQTT-SN is designed to be optimized for packet size. For this reason, the PUBLISH packet has been split into 3 variants; Variant 1 catering for PUBLISH WITHOUT SESSION where no session is required, Variant 2 catering for Quality of Service 0 where no response ACK is required and thus no packet identifier is required and Quality of Service 1 and 2 where a response is expected. The </span><span>table below</span><span class="c8 c32">&nbsp;breaks down the different versions of the PUBLISH packet and their respective type identifiers.</span></p><p class="c3"><span class="c121 c119">Figure 3-10 &ndash; Publish Packet Types</span></p><table class="c152 c240"><tr class="c267"><td class="c301 c52" colspan="1" rowspan="1"><p class="c154 c195"><span class="c10 c51 c57">Packet Type</span></p></td><td class="c108 c52" colspan="1" rowspan="1"><p class="c195 c154"><span class="c10 c51 c57">Type</span></p></td><td class="c271 c52" colspan="1" rowspan="1"><p class="c140"><span class="c10 c51 c57">Description</span></p></td></tr><tr class="c274"><td class="c301" colspan="1" rowspan="1"><p class="c44"><span class="c8 c63 c90">Publish</span></p></td><td class="c108" colspan="1" rowspan="1"><p class="c248 c154 c239 c255"><span class="c8 c0">0x0C</span></p></td><td class="c271" colspan="1" rowspan="1"><p class="c154 c207"><span class="c8 c0">A PUBLISH packet corresponding to Quality of Service (QoS) 0, 1 or 2</span></p></td></tr><tr class="c274"><td class="c301" colspan="1" rowspan="1"><p class="c44"><span class="c8 c63 c90">Publish Without Session</span></p></td><td class="c108" colspan="1" rowspan="1"><p class="c248 c154 c255 c239"><span class="c8 c0">0x11</span></p></td><td class="c271" colspan="1" rowspan="1"><p class="c248 c154 c239 c210"><span class="c8 c0">A PUBLISH Packet sent by a Client and does not need not to have an active Session</span></p></td></tr></table><h3 class="c66 c112 c56" id="h.j8sehv"><span>3.9.1 </span><span class="c0">PUB</span><span class="c38 c37">WOS - Publish Without Session</span></h3><p class="c3"><span class="c121 c119">Figure 3-11 &ndash; PUBWOS Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 257.33px;"><img alt="" src="images/image24.png" style="width: 625.27px; height: 257.33px; margin-left: -0.64px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 332.00px;"><img alt="" src="images/image7.png" style="width: 624.00px; height: 332.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">This packet is used by both clients and gateways to publish data for a certain topic.</span></p><p class="c155 c154 c148"><span class="c0">The </span><span class="c0">PUBWOS packet does not have a corresponding feature in MQTT. </span><span class="c0 c29">If forwarded to an MQTT connection, PUBWOS packets MUST have their MQTT Quality of Service level set to 0. </span><span class="c10 c0 c70 c37">[MQTT-SN-3.10-1]</span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span></p><p class="c95"><span class="c10 c0 c57 c147">If the Transport Layer supports multicast, like UDP/IP, the PUBWOS packet is generally sent to a Multicast Address.</span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span></p><p class="c95"><span class="c10 c0 c57 c147">PUBWOS packets received by a Gateway are not associated with a MQTT-SN Client Session and can be optionally discarded by the Gateway without being processed for onward delivery.</span></p><h4 class="c21" id="h.338fx5o"><span class="c15 c93 c117">3.9.1.1 PUBWOS Header</span></h4><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h4 class="c21" id="h.1idq7dh"><span class="c15 c93 c117">3.9.1.2 PUBWOS Flags</span></h4><p class="c3"><span class="c0 c4">The PUBWOS Flags is a 1 byte field which contains flags specifying the content of the packet and the Gateway behavior on receipt</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">Bits 7-5 and 3-2 of the PUBWOS FLAGS are reserved and MUST be set to 0</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c0 c29">The Client MUST validate that the reserved flags in the PUBWOS packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h5 class="c177 c149 c154 c201 c56" id="h.qfef1dqk26d9"><span class="c9">3.9.1.2.1 Topic Type</span></h5><p class="c3"><span class="c63">Position</span><span class="c8 c32">: bits 0 and 1 of the PUBWOS Flags.</span></p><p class="c188 c154 c201"><span class="c0">This determines the format of the topic data field. Refer to </span><span class="c31 c0"><a class="c36" href="#h.2zbgiuw">Section 2.4</a></span><span class="c0">&nbsp;for the definition of the topic types. </span><span class="c10 c0 c29 c57">The Topic Type in the PUBWOS packet MUST be Predefined Topic Alias or Topic Name.</span></p><h5 class="c229 c149 c154 c201 c56" id="h.kky57id4222a"><span class="c9">3.9.1.2.2 Retain</span></h5><p class="c3"><span class="c63">Position</span><span class="c8 c32">: bit 4 of the PUBWOS Flags.</span></p><p class="c229 c154 c201"><span class="c0">This</span><span class="c0">&nbsp;field signifies whether the existing Retained Message for this topic is replaced or kept. For a detailed description of Retained Messages see </span><span class="c31 c0"><a class="c36" href="#h.ly7c1y">section 4.16</a></span><span class="c8 c0">.</span></p><h4 class="c21" id="h.42ddq1a"><span class="c15 c93 c117">3.9.1.3 Topic Alias or Topic Name Length</span></h4><p class="c28"><span class="c0">This field is 2 bytes. It contains the Topic Name length if the Topic Type is Topic Name, or a predefined Topic Alias if the Topic Type is Predefined Topic Alias.</span><span class="c8 c0">&nbsp;Determines the topic which this payload will be published to.</span></p><h4 class="c21" id="h.vgc8jwcnscew"><span class="c15 c93 c117">3.9.1.4 Topic Name</span></h4><p class="c3"><span class="c29">If the Topic Type is Topic Name, the Topic Name field MUST be present in the PUBWOS packet.</span></p><p class="c3"><span class="c29">If the Topic Type is Predefined Topic Alias, the Topic Name field MUST NOT be present in the PUBWOS packet.</span></p><p class="c3"><span>If the Topic Type is Topic Name this field will be a UTF-8 encoded string value of length determined by the Topic Name Length field.</span></p><h4 class="c21" id="h.2hio093"><span class="c15 c93 c117">3.9.1.5 Payload</span></h4><p class="c3"><span class="c8 c0">The Payload contains the Application Message that is being published. The content and format of the data is application specific. It is valid for a PUBWOS packet to contain a zero length Payload.</span></p><h4 class="c66 c240 c56 c272" id="h.whhpchgpz502"><span class="c9">3.9.1.6 PUBWOS Actions</span></h4><p class="c25"><span class="c8 c0">The Client or Server uses a PUBWOS packet to send an Application Message to a Network Address, for possible receipt by a Server or another Client.</span></p><p class="c25"><span class="c0 c29">If received by a Client or Server, the PUBWOS packet MUST be treated as if its QoS were 0 </span><span class="c0 c70">[MQTT-SN-3.10.5-1] </span><span class="c0 c4">as described in </span><span class="c31 c0"><a class="c36" href="#h.3hu8nopr74va">section 3.12.7</a></span><span class="c10 c0 c37 c4">.</span></p><h3 class="c66 c112 c56" id="h.qdbg4wo1b88k"><span class="c38 c37">3.9.2 PUBLISH with QoS -1 (Informative)</span></h3><p class="c3"><span class="c121 c119">Figure 3-12 &ndash; PUBLISH Packet for QoS -1</span></p><table class="c152 c170"><tr class="c35"><td class="c108 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">Bit</span></p></td><td class="c52 c258" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">7</span></p></td><td class="c206 c52" colspan="2" rowspan="1"><p class="c27"><span class="c39 c51">6</span></p></td><td class="c234 c52" colspan="2" rowspan="1"><p class="c27"><span class="c39 c51">5</span></p></td><td class="c52 c234" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">4</span></p></td><td class="c52 c290" colspan="2" rowspan="1"><p class="c27"><span class="c39 c51">3</span></p></td><td class="c52 c324" colspan="2" rowspan="1"><p class="c27"><span class="c39 c51">2</span></p></td><td class="c206 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">1</span></p></td><td class="c30 c52" colspan="2" rowspan="1"><p class="c27"><span class="c39 c51">0</span></p></td></tr><tr class="c35"><td class="c108" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Byte 1</span></p></td><td class="c164" colspan="13" rowspan="1"><p class="c27"><span class="c39 c0 c37">Length</span></p></td></tr><tr class="c35"><td class="c108" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Byte 2</span></p></td><td class="c164" colspan="13" rowspan="1"><p class="c27"><span class="c39 c0 c37">Packet Type (0x0C)</span></p></td></tr><tr class="c173"><td class="c108" colspan="1" rowspan="2"><p class="c27 c62"><span class="c1 c0"></span></p></td><td class="c164 c109" colspan="13" rowspan="1"><p class="c27"><span class="c50 c63 c57 c119 c116 c90 c109 c139">FLAGS</span></p></td></tr><tr class="c173"><td class="c264" colspan="2" rowspan="1"><p class="c27"><span class="c1 c0">DUP</span></p><p class="c27 c62"><span class="c1 c0"></span></p></td><td class="c162" colspan="2" rowspan="1"><p class="c27"><span class="c1 c0">QoS</span></p><p class="c27 c62"><span class="c1 c0"></span></p></td><td class="c221" colspan="3" rowspan="1"><p class="c27"><span class="c1 c0">Retain</span></p></td><td class="c94" colspan="1" rowspan="1"><p class="c27"><span class="c1 c0">Reserved</span></p></td><td class="c214" colspan="1" rowspan="1"><p class="c27"><span class="c1 c0">Reserved</span></p></td><td class="c259" colspan="4" rowspan="1"><p class="c27"><span class="c1 c0">Topic Id Type</span></p><p class="c3 c62"><span class="c1 c0"></span></p></td></tr><tr class="c35"><td class="c108" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Byte 3</span></p></td><td class="c264" colspan="2" rowspan="1"><p class="c27"><span class="c1 c0">X</span></p></td><td class="c199" colspan="1" rowspan="1"><p class="c27"><span class="c1 c0">1</span></p></td><td class="c120" colspan="1" rowspan="1"><p class="c27"><span class="c1 c0">1</span></p></td><td class="c221" colspan="3" rowspan="1"><p class="c27"><span class="c1 c0">X</span></p></td><td class="c94" colspan="1" rowspan="1"><p class="c27"><span class="c0 c1">0</span></p></td><td class="c214" colspan="1" rowspan="1"><p class="c27"><span class="c1 c0">0</span></p></td><td class="c339" colspan="3" rowspan="1"><p class="c27"><span class="c1 c0">X</span></p></td><td class="c153" colspan="1" rowspan="1"><p class="c27"><span class="c1 c0">X</span></p></td></tr><tr class="c35"><td class="c108" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Byte 4</span></p></td><td class="c164" colspan="13" rowspan="1"><p class="c27 c56"><span class="c39 c0 c37">Topic Id MSB</span></p></td></tr><tr class="c35"><td class="c108" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Byte 5</span></p></td><td class="c164" colspan="13" rowspan="1"><p class="c27 c56"><span class="c39 c0 c37">Topic Id LSB</span></p></td></tr><tr class="c35"><td class="c108" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Byte 6</span></p></td><td class="c164" colspan="13" rowspan="1"><p class="c27 c56"><span class="c39 c0 c37">0x00 &ndash; Fixed Field Value</span></p></td></tr><tr class="c35"><td class="c108" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Byte 7</span></p></td><td class="c164" colspan="13" rowspan="1"><p class="c27 c56"><span class="c39 c0 c37">0x00 &ndash; Fixed Field Value</span></p></td></tr><tr class="c35"><td class="c108" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Byte 8 .. N</span></p></td><td class="c164" colspan="13" rowspan="1"><p class="c27 c56"><span class="c39 c0 c37">Data Or (Full Topic Name + Data)</span></p></td></tr></table><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 534.67px;"><img alt="" src="images/image54.png" style="width: 624.00px; height: 534.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c8 c0">This packet is the MQTT-SN 1.2 equivalent of PUBWOS. It may be supported by a Gateway if there are existing MQTT-SN 1.2 transmitters that the Gateway wants to listen to, or receivers it wants to send to. Implementation of this packet is optional.</span></p><p class="c3"><span class="c8 c0">This packet can be used by both Clients and Gateways to publish data to a topic without establishing a Virtual Connection or Session.</span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span></p><p class="c95"><span class="c0 c147">If the Transport Layer supports multicast, like UDP/IP, the PUBLISH QoS -1 packet is generally sent using the Multicast Address as destination.</span></p><h4 class="c21" id="h.d1955xpjj9qi"><span class="c15 c93 c117">3.9.2.1 PUBLISH Header</span></h4><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. </span><span class="c0">Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c0">&nbsp;for a detailed description.</span></p><h4 class="c21" id="h.z6s5szoqybu9"><span class="c15 c93 c117">3.9.2.2 PUBLISH Flags</span></h4><p class="c3"><span class="c0 c4">The PUBLISH Flags is a 1 byte field which contains flags specifying the content of the packet and the Gateway behavior</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">Bits &nbsp;3-2 of the PUBLISH Flags are reserved and MUST be set to 0</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c0 c29">The Client MUST validate that the reserved flags in the PUBLISH packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h5 class="c97 c56" id="h.k49fswnusgzd"><span class="c9">3.9.2.2.1 Topic Type</span></h5><p class="c3"><span class="c63">Position</span><span>: bits 0 and 1 of the PUBLISH Flags.</span></p><p class="c77"><span class="c8 c0">This determines the format of the Topic Data field. </span></p><p class="c77"><span class="c8 c0">The Topic Type in MQTT-SN 1.2 is different to that in MQTT-SN 2.0. The values applicable to QoS -1 are:</span></p><ul class="c137 lst-kix_732lanbzzsxs-0 start"><li class="c77 c96 li-bullet-0"><span class="c8 c0">0b00 - Long Topic Name. The Length is in the </span></li><li class="c77 c96 li-bullet-0"><span class="c8 c0">0b01 - Predefined Topic Alias.</span></li><li class="c77 c96 li-bullet-0"><span class="c8 c0">0b10 - short Topic Name. A two byte Topic Name, with the same syntax as a long Topic Name. However, some 1.2 implementations treated this as a binary field.</span></li></ul><h5 class="c56 c97" id="h.f8v6o4gdlqm1"><span>3.9.2.2.2 </span><span class="c9">QoS</span></h5><p class="c3"><span class="c63">Position</span><span>: bits 5 and 6 of the PUBLISH Flags.</span></p><p class="c77"><span class="c8 c0">Set this field to &ldquo;0b11&rdquo; for QoS -1. </span></p><h5 class="c97 c56" id="h.k1um9syapc89"><span class="c9">3.9.2.2.3 DUP</span></h5><p class="c3"><span class="c63">Position</span><span>: bit 7 of the PUBLISH Flags.</span></p><p class="c77"><span class="c8 c0">Set to 0.</span></p><h5 class="c246 c149 c154 c201 c56" id="h.fdqzktr96rsl"><span>3.9.2.2.4 </span><span class="c9">Retain</span></h5><p class="c3"><span class="c63">Position</span><span>: bit 4 of the PUBLISH Flags.</span></p><p class="c229 c154 c201"><span class="c0">This field </span><span class="c8 c0">has the same meaning as with MQTT. It signifies whether the existing retained message for this topic is replaced or kept.</span></p><h4 class="c21" id="h.vdd4u1anmq9"><span class="c15 c93 c117">3.9.3.3 Topic Alias </span></h4><p class="c28"><span class="c8 c0">Only present if the Topic Type is Predefined Topic Alias. Contain a Topic Alias which is preconfigured to be known to both the sender and receiver.</span></p><h4 class="c66 c186 c56" id="h.qpk20o16bg3e"><span>3.9.3.4 </span><span class="c9">Topic Short Name</span></h4><p class="c69 c186"><span class="c10 c32 c57">Only present if the Topic Type is Short Topic Name. </span></p><p class="c69 c186"><span>This is a two byte Topic Name.</span></p><h4 class="c21" id="h.n3kci6se3415"><span class="c0">3.9.3.5 </span><span class="c15 c93 c117">Topic Name Length</span></h4><p class="c69 c186"><span class="c10 c32 c57">Only present if the Topic Type is Long Topic Name.</span></p><p class="c69 c186"><span>The length of the Topic Name field.</span></p><h4 class="c21" id="h.fuo62t3iil3s"><span class="c15 c93 c117">3.9.3.6 Topic Name</span></h4><p class="c69 c186"><span class="c10 c32 c57">Only present if the Topic Type is Long Topic Name.</span></p><p class="c3"><span>Topic Name is a UTF-8 encoded string of length Topic Name Length.</span></p><h4 class="c21" id="h.krzmgvozyfdn"><span class="c15 c93 c117">3.9.2.7 Payload</span></h4><p class="c154 c148 c208"><span>The Payload contains the Application Message that is being published. The content and format of the data is application specific. It is valid for a PUBLISH packet to contain a zero length Payload.</span></p><h4 class="c66 c272 c240 c56" id="h.q6351elzwqpo"><span class="c9">3.9.2.8 PUBLISH QoS -1 Actions</span></h4><p class="c25"><span class="c8 c0">The Client or Server uses a PUBLISH QoS -1 packet to send an Application Message to a Network Address, for possible receipt by a Server or another Client.</span></p><p class="c25"><span class="c0">If received by a Client or Server, the PUBLISH QoS -1 packet is treated as if its QoS were 0</span><span class="c0 c70">&nbsp;</span><span class="c0 c4">as described in </span><span class="c31 c0"><a class="c36" href="#h.3hu8nopr74va">section 3.12.7</a></span><span class="c0 c4">.</span></p><h3 class="c66 c112 c56" id="h.wnyagw"><span>3.9.3</span><span>&nbsp;</span><span class="c81 c15">PUBLISH with QoS 0</span></h3><p class="c3"><span class="c121 c119">Figure 3-13 &ndash; PUBLISH Packet for QoS 0</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 257.33px;"><img alt="" src="images/image29.png" style="width: 625.27px; height: 257.33px; margin-left: -0.64px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 332.00px;"><img alt="" src="images/image27.png" style="width: 624.00px; height: 332.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c103"><span class="c8 c0">A PUBLISH packet is sent from a Client to a Server or from a Server to a Client to transport an Application Message.</span></p><p class="c3"><span class="c0 c29">PUBLISH packets with QoS equal to 0 received by a Client or Server </span><span class="c0 c29">MUST be associated with a Session</span><span class="c0 c29">&nbsp;</span><sup><a href="#cmnt21" id="cmnt_ref21">[u]</a></sup><span class="c10 c0 c70 c37">[MQTT-SN-3.9.3-1].</span></p><h4 class="c21" id="h.3gnlt4p"><span class="c0">3.9.3.1</span><span class="c15 c93 c117">&nbsp;PUBLISH Header</span></h4><p class="c69 c241"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h4 class="c21" id="h.1vsw3ci"><span class="c0">3.9.3.2 PUBLISH Flags</span></h4><p class="c3"><span class="c0 c4">The PUBLISH Flags is a 1 byte field which contains flags specifying the content of the packet and the Gateway behavior</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">Bits 7 and 3-2 of the PUBLISH Flags are reserved and MUST be set to 0</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c0 c29">The Client MUST validate that the reserved flags in the PUBLISH packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h5 class="c97 c56" id="h.fmrm4etlxug5"><span class="c9">3.9.3.2.1 Topic Type</span></h5><p class="c3"><span class="c63">Position</span><span>: bits 0 and 1 of the PUBLISH Flags.</span></p><p class="c77"><span class="c0">This determines the content of the Topic Alias and Topic Name fields. </span><span class="c0">Refer to </span><span class="c31 c0"><a class="c36" href="#h.2zbgiuw">section 2.4</a></span><span class="c8 c0">&nbsp;for the definition of the various topic types.</span></p><p class="c265 c154 c148"><span class="c0">The Topic Type may be Topic Name, Predefined Topic Alias or Session Topic Alias.</span></p><h5 class="c97 c56" id="h.hmaja4ei5dew"><span class="c9">3.9.3.2.2 QoS</span></h5><p class="c3"><span class="c63">Position</span><span>: bits 5 and 6 of the PUBLISH Flags.</span></p><p class="c77"><span class="c0 c49 c4">This field is set to &ldquo;0b00&rdquo; for QoS 0. For a detailed description of the various Quality Of Service levels refer to </span><span class="c31 c0 c49"><a class="c36" href="#h.2i9l8ns">section 4.3</a></span><span class="c0 c49 c4">.</span></p><h5 class="c149 c154 c201 c56 c246" id="h.ehxpc4g73qd3"><span class="c9">3.9.3.2.3 Retain</span></h5><p class="c3"><span class="c63">Position</span><span>: bit 4 of the PUBLISH Flags.</span></p><p class="c154 c201 c229"><span class="c0">This field has the same meaning as with MQTT. It signifies whether the existing retained message for this topic is replaced or kept.</span><span class="c0">&nbsp;For a detailed description of Retained Messages see </span><span class="c31 c0"><a class="c36" href="#h.ly7c1y">section 4.16</a></span><span class="c8 c0">.</span></p><h4 class="c21" id="h.prwby0o5psp7"><span class="c15 c93 c117">3.9.3.3 Topic Alias or Topic Name Length</span></h4><p class="c28"><span class="c8 c0">Contains 2 bytes of Topic Name Length if the Topic Type is Topic Name, or the Predefined or Session Topic Alias if the Topic Type is Predefined Topic Alias or Session Topic Alias respectively.</span></p><h4 class="c21" id="h.szyp1smih5mo"><span class="c15 c93 c117">3.9.3.4 Topic Name</span></h4><p class="c3"><span class="c10 c32 c29 c57">If the Topic Type is Topic Namer (0b11) the Topic Name field MUST be present in the PUBLISH packet.</span></p><p class="c69 c186"><span class="c0 c29">If the Topic Type is Predefined Topic Alias or Session Topic Alias, then the Topic Name field MUST NOT be present in the PUBLISH packet.</span></p><p class="c3"><span>Topic Name is a UTF-8 encoded string of length Topic Length.</span></p><h4 class="c21" id="h.gqkpss1ajssy"><span class="c15 c93 c117">3.9.3.5 Payload</span></h4><p class="c208 c154 c148"><span>The Payload contains the Application Message that is being published. The content and format of the data is application specific. It is valid for a PUBLISH packet to contain a zero length Payload</span></p><h4 class="c21" id="h.inu1col38lh0"><span>3.9.3.6 </span><span class="c9">PUBLISH - QoS 0 Actions</span></h4><p class="c3"><span class="c0">As described in </span><span class="c31 c0"><a class="c36" href="#h.3hu8nopr74va">section 3.12.7</a></span><span class="c0">.</span><hr style="page-break-before:always;display:none;"></p><h3 class="c66 c112 c56" id="h.1a346fx"><span>3.9.4 </span><span class="c81 c15">PUBLISH with QoS 1 and 2</span></h3><p class="c3"><span class="c121 c119">Figure 3-14 &ndash; PUBLISH Packet for QoS 1 and 2</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 301.33px;"><img alt="" src="images/image39.png" style="width: 624.00px; height: 301.86px; margin-left: 0.00px; margin-top: -0.26px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 377.33px;"><img alt="" src="images/image16.png" style="width: 624.00px; height: 377.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c103"><span class="c8 c0">A PUBLISH packet is sent from a Client to a Server or from a Server to a Client to transport an Application Message.</span></p><p class="c155 c154 c148"><span class="c0 c29">PUBLISH packets with QoS equals to 1 or 2 received by a Client or Server MUST be associated with a Session </span><span class="c10 c0 c70 c37">[MQTT-SN-3.9.4-1].</span></p><h4 class="c21" id="h.3u2rp3q"><span class="c0">3.9.4.</span><span class="c15 c93 c117">1 PUBLISH Header</span></h4><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h4 class="c21" id="h.2981zbj"><span class="c0">3.9.4.2 PUBLISH Flags</span></h4><p class="c3"><span class="c0 c4">The PUBLISH Flags is a 1 byte field which contains flags specifying the content of the packet and the Gateway behavior</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">Bits 7 and 3-2 of the PUBLISH Flags are reserved and MUST be set to 0</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c0 c29">The Client MUST validate that the reserved flags in the PUBLISH packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h5 class="c97 c56" id="h.kw46rfulitvm"><span class="c9">3.9.4.2.1 Topic Type</span></h5><p class="c3"><span class="c63">Position</span><span>: bits 0 and 1 of the PUBLISH Flags.</span></p><p class="c77"><span class="c0">This determines the format of the Topic Data field. </span><span class="c0">Refer to </span><span class="c31 c0"><a class="c36" href="#h.2zbgiuw">Section 2.4</a></span><span class="c8 c0">&nbsp;for the definition of Topic Types.</span></p><p class="c154 c148 c265"><span class="c0">The Topic Type may be Topic Name, Predefined Topic Alias or Session Topic Alias.</span></p><h5 class="c97 c56" id="h.vji0n7lr4z5x"><span class="c9">3.9.4.2.2 QoS</span></h5><p class="c3"><span class="c63">Position</span><span>: bits 5 and 6 of the PUBLISH Flags.</span></p><p class="c80 c201"><span class="c93 c0 c49 c4">QoS has the same meaning as with MQTT indicating the Quality of Service. The QoS levels are shown below:</span></p><p class="c3"><span class="c121 c119">Figure 3-15 &ndash; QoS Definitions</span></p><table class="c152 c170"><tr class="c138"><td class="c262" colspan="1" rowspan="1"><p class="c53"><span class="c93 c63 c49 c4 c90">QoS value</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c53"><span class="c93 c63 c49 c4 c90">Bit 6</span></p></td><td class="c191" colspan="1" rowspan="1"><p class="c53"><span class="c93 c63 c49 c4 c90">bit 5</span></p></td><td class="c296" colspan="1" rowspan="1"><p class="c53"><span class="c93 c63 c49 c4 c90">Description</span></p></td></tr><tr class="c138"><td class="c262" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">0</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">0</span></p></td><td class="c191" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">0</span></p></td><td class="c296" colspan="1" rowspan="1"><p class="c80"><span class="c93 c0 c49 c4">At most once delivery</span></p></td></tr><tr class="c138"><td class="c262" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">1</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">0</span></p></td><td class="c191" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">1</span></p></td><td class="c296" colspan="1" rowspan="1"><p class="c80"><span class="c93 c0 c49 c4">At least once delivery</span></p></td></tr><tr class="c138"><td class="c262" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">2</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">1</span></p></td><td class="c191" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">0</span></p></td><td class="c296" colspan="1" rowspan="1"><p class="c80"><span class="c93 c0 c49 c4">Exactly once delivery</span></p></td></tr><tr class="c138"><td class="c262" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">-</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">1</span></p></td><td class="c191" colspan="1" rowspan="1"><p class="c53"><span class="c93 c0 c49 c4">1</span></p></td><td class="c296" colspan="1" rowspan="1"><p class="c80"><span class="c93 c0 c49 c4">Reserved &ndash; must not be used</span></p></td></tr></table><p class="c77"><span class="c0 c49 c4">For a detailed description of the various Quality Of Service levels refer to </span><span class="c31 c0 c49"><a class="c36" href="#h.2i9l8ns">section 4.3</a></span><span class="c0 c49 c4">.</span></p><h5 class="c97 c56" id="h.rxf6r8qtkk4u"><span class="c9">3.9.4.2.3 DUP</span></h5><p class="c3"><span class="c63">Position</span><span>: bit 7 of the PUBLISH Flags.</span></p><p class="c177 c154 c201"><span class="c0 c49 c4">This has the same meaning as with MQTT. It notes the duplicate delivery of </span><span class="c0">packets</span><span class="c0 c49 c4">. </span><span class="c0 c49 c4">If the DUP flag </span><span class="c0">is set</span><span class="c0 c49 c4">&nbsp;to &ldquo;0&rdquo;, it signifies that the packet is sent for the first time. If the DUP flag is set to &ldquo;1&rdquo;, it signifies that the packet was retransmitted or retried.</span><span class="c0 c49 c4">&nbsp;</span></p><h5 class="c246 c149 c154 c201 c56" id="h.qucfg7kks10e"><span class="c9">3.9.4.2.4 Retain</span></h5><p class="c3"><span class="c63">Position</span><span>: bit 4 of the PUBLISH Flags.</span></p><p class="c229 c154 c201"><span class="c0">This field has the same meaning as with MQTT. It signifies whether the existing retained message for this topic is replaced or kept.</span><span class="c0">&nbsp;For a detailed description of Retained Messages see </span><span class="c31 c0"><a class="c36" href="#h.ly7c1y">section 4.16</a></span><span class="c8 c0">.</span></p><h4 class="c21" id="h.1nia2ey"><span class="c15 c93 c117">3.9.4.3 Packet Identifier</span></h4><p class="c69 c211"><span class="c8 c0">Used to identify the corresponding PUBACK packet in the case of QoS 1. Used to identify the corresponding PUBREC, PUBREL and PUBCOMP packets in the case of QoS 2. It should ideally be populated with a random integer value.</span></p><h4 class="c21" id="h.x2t78tr9icfe"><span class="c15 c93 c117">3.9.4.4 Topic Alias or Topic Name Length</span></h4><p class="c28"><span class="c0">Contains 2 bytes of Topic Name Length if the Topic Type is Topic Name, or the Predefined or Session Topic Alias if the Topic Type is Predefined Topic Alias or Session Topic Alias respectively.</span></p><h4 class="c21" id="h.2mn7vak"><span class="c15 c93 c117">3.9.4.5 Topic Name</span></h4><p class="c3"><span class="c10 c32 c29 c57">If the Topic Type is Topic Namer (0b11) the Topic Name field MUST be present in the PUBLISH packet.</span></p><p class="c69 c186"><span class="c0 c29">If the Topic Type is Predefined Topic Alias or Session Topic Alias, then the Topic Name field MUST NOT be present in the PUBLISH packet.</span></p><p class="c3"><span>Topic Name is a UTF-8 encoded string of length Topic Length.</span></p><h4 class="c21" id="h.imenmt69e82j"><span class="c15 c93 c117">3.9.4.6 Payload</span></h4><p class="c208 c154 c148"><span>The Payload contains the Application Message that is being published. The content and format of the data is application specific. It is valid for a PUBLISH packet to contain a zero length Payload.</span></p><h4 class="c66 c12 c240 c56" id="h.3hu8nopr74va"><span>3.9.4.7</span><span class="c9">&nbsp;PUBLISH Actions</span></h4><p class="c154 c295"><span class="c0 c29">The receiver of a PUBLISH packet MUST respond with the packet as determined by the QoS in the PUBLISH Packet. </span><span class="c0 c70">[MQTT-SN-3.12.7-1]</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c121 c119">Figure 3-16 &ndash; Expected PUBLISH packet responses</span></p><table class="c152 c170"><tr class="c138"><td class="c250" colspan="1" rowspan="1"><p class="c145 c154"><span class="c8 c63 c90">QoS Level</span></p></td><td class="c268" colspan="1" rowspan="1"><p class="c145 c154"><span class="c8 c63 c90">Expected Response</span></p></td></tr><tr class="c138"><td class="c250" colspan="1" rowspan="1"><p class="c12 c154"><span class="c8 c0">QoS 0</span></p></td><td class="c268" colspan="1" rowspan="1"><p class="c12 c154"><span class="c8 c0">None</span></p></td></tr><tr class="c138"><td class="c250" colspan="1" rowspan="1"><p class="c12 c154"><span class="c8 c0">QoS 1</span></p></td><td class="c268" colspan="1" rowspan="1"><p class="c12 c154"><span class="c8 c0">PUBACK packet</span></p></td></tr><tr class="c138"><td class="c250" colspan="1" rowspan="1"><p class="c12 c154"><span class="c8 c0">QoS 2</span></p></td><td class="c268" colspan="1" rowspan="1"><p class="c12 c154"><span class="c8 c0">PUBREC packet</span></p></td></tr></table><p class="c25"><span class="c8 c0">The Client uses a PUBLISH packet to send an Application Message to the Server, for distribution to Clients with matching subscriptions.</span></p><p class="c25"><span class="c8 c0">The Server uses a PUBLISH packet to send an Application Message to each Client which has a matching subscription.</span></p><p class="c25"><span class="c0">When Clients make subscriptions with Topic Filters that include wildcards, it is possible for a Client&rsquo;s subscriptions to overlap so that a published Application Message might match multiple filters. </span><span class="c0 c29">In this case the Server MUST deliver the Application Message to the Client respecting the maximum QoS of all the matching subscriptions</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.12.7-2]</span><span class="c8 c0">. In addition, the Server MAY deliver further copies of the Application Message, one for each additional matching subscription and respecting the subscription&rsquo;s QoS in each case. </span></p><p class="c25"><span class="c0">The action of the recipient when it receives a PUBLISH packet depends on the QoS level as described in </span><span class="c31 c0"><a class="c36" href="#h.2i9l8ns">section 4.3</a></span><span class="c0 c183">.</span></p><p class="c25 c330"><span class="c8 c63 c90">Informative Comment</span></p><p class="c25 c136"><span class="c8 c0">If the Server distributes Application Messages to Clients to different protocols and levels (such as MQTT V3.1.1) which do not support features provided by this specification, some information in the Application Message can be lost, and applications which depend on this information might not work correctly.</span></p><p class="c25"><span class="c0">No more than one QoS 1 or 2 PUBLISH requests MUST be outstanding for a Sender at any one time. Other packets are included in this constraint - r</span><span class="c0">efer to </span><span class="c31 c0"><a class="c36" href="#h.bfojn6tjnvgm">section 4.9</a></span><span class="c0">&nbsp;for more information about Flow Control.</span></p><p class="c25 c136"><span class="c8 c63 c90">Informative comment</span></p><p class="c25 c136"><span class="c8 c0">The Sender might choose to suspend the sending of QoS 0 PUBLISH packets when it suspends the sending of QoS 1 and QoS 2 PUBLISH packets for Flow Control reasons.</span></p><h3 class="c66 c112 c56" id="h.11si5id"><span>3.9.5 </span><span class="c81 c15">PUBACK &ndash; Publish Acknowledgement (QoS 1 delivery)</span></h3><p class="c3"><span class="c121 c119">Figure 3-17 &ndash; PUBACK Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 136.00px;"><img alt="" src="images/image9.png" style="width: 624.00px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">A PUBACK packet is the response to a PUBLISH packet with QoS 1.</span></p><h4 class="c21" id="h.3ls5o66"><span class="c15 c93 c117">3.9.5.1 PUBACK Header</span></h4><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h4 class="c21" id="h.20xfydz"><span class="c15 c93 c117">3.9.5.2 Packet Identifier</span></h4><p class="c69 c292"><span class="c8 c0">The same value as the Packet Identifier in the PUBLISH Packet being acknowledged.</span></p><h4 class="c66 c292 c56" id="h.6vzc3pa0vvfr"><span>3.9.5.3 Reason Code</span></h4><p class="c45"><span>The values for Reason Codes are shown in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span>. </span><span class="c29">The sender of the PUBACK Packet MUST use one of the </span><span class="c29">Reason Codes applicable to PUBACK</span><span class="c29">.</span></p><h4 class="c66 c132 c56" id="h.xgybvs5ktz8v"><span>3.9.5.4 </span><span class="c9">PUBACK Actions</span></h4><p class="c3"><span>As described in </span><span class="c31"><a class="c36" href="#h.1au1eum">section 4.3.3</a></span><span class="c8 c32">.</span></p><h3 class="c66 c300 c56" id="h.302dr9l"><span>3.9.6</span><span>&nbsp;</span><span class="c81 c15">PUBREC - Publish Received (QoS 2 delivery part 1)</span></h3><p class="c3"><span class="c121 c119">Figure 3-18 &ndash; PUBREC Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 136.00px;"><img alt="" src="images/image9.png" style="width: 624.00px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c8 c0">A PUBREC packet is the response to a PUBLISH packet with QoS 2. It is the second packet of the QoS 2 protocol exchange.</span></p><h4 class="c21" id="h.1f7o1he"><span class="c9">3.9.6.1 PUBREC Header</span></h4><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h4 class="c21" id="h.3z7bk57"><span class="c0">3.</span><span>9.6</span><span class="c15 c93 c117">.2 Packet Identifier</span></h4><p class="c69 c292"><span class="c8 c0">The same value as the Packet Identifier in the PUBLISH Packet being acknowledged.</span></p><h4 class="c66 c292 c56" id="h.r1l18glza5z5"><span class="c0">3.</span><span>9.6</span><span class="c15 c93 c117">.3 Reason Code</span></h4><p class="c45"><span>The values for Reason Codes are shown in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span>. </span><span class="c29">The sender of the PUBREC Packet MUST use one of the </span><span class="c29">Reason Codes applicable to PUBREC</span><span class="c29">.</span></p><h4 class="c66 c132 c56" id="h.kktb96s9v8sj"><span>3.</span><span>9.6</span><span>.4 </span><span class="c9">PUBREC Actions</span></h4><p class="c132 c69"><span class="c0">As described in </span><span class="c31 c0"><a class="c36" href="#h.1o97atn">section 4.3.4</a></span><span class="c0">.</span></p><h3 class="c66 c300 c56" id="h.2eclud0"><span>3.9.7 </span><span class="c81 c15">PUBREL - Publish Release (QoS 2 delivery part 2)</span></h3><p class="c3"><span class="c121 c119">Figure 3-19 &ndash; PUBREL Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 136.00px;"><img alt="" src="images/image9.png" style="width: 624.00px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c8 c0">A PUBREL packet is the response to a PUBREC packet. It is the third packet of the QoS 2 protocol exchange.</span></p><h4 class="c21" id="h.thw4kt"><span class="c0">3.</span><span>9.7</span><span class="c15 c93 c117">.1 PUBREL Header</span></h4><p class="c132 c154 c148"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h4 class="c21" id="h.3dhjn8m"><span class="c0">3.</span><span>9.7</span><span class="c15 c93 c117">.2 Packet Identifier</span></h4><p class="c69 c292"><span class="c8 c0">The same value as the Packet Identifier in the PUBLISH Packet being acknowledged.</span></p><h4 class="c66 c292 c56" id="h.93he5qdacswt"><span class="c0">3.</span><span class="c117 c63">9.7</span><span class="c15 c93 c117">.3 Reason Code</span></h4><p class="c45"><span>The values for Reason Codes are shown in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span>. </span><span class="c29">The sender of the PUBREL Packet MUST use one of the </span><span class="c29">Reason Codes applicable to PU</span><span class="c29">BREL.</span></p><h4 class="c66 c132 c56" id="h.nj4sqaal9xm4"><span class="c9">3.9.7.4 PUBREL Actions</span></h4><p class="c132 c69"><span class="c0">As described in </span><span class="c31 c0"><a class="c36" href="#h.1o97atn">section 4.3.4</a></span><span class="c8 c0">.</span></p><h3 class="c66 c56 c300" id="h.1smtxgf"><span>3.9.8 </span><span class="c81 c15">PUBCOMP - Publish Complete (QoS 2 delivery part 3)</span></h3><p class="c3"><span class="c121 c119">Figure 3-20 &ndash; PUBCOMP Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 136.00px;"><img alt="" src="images/image9.png" style="width: 624.00px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c8 c0">The PUBCOMP packet is the response to a PUBREL packet. It is the fourth and final packet of the QoS 2 protocol exchange.</span></p><h4 class="c21" id="h.4cmhg48"><span class="c15 c93 c117">3.9.8.1 PUBCOMP Header</span></h4><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h4 class="c21" id="h.2rrrqc1"><span class="c15 c93 c117">3.9.8.2 Packet Identifier</span></h4><p class="c69 c292"><span class="c8 c0">The same value as the Packet Identifier in the PUBLISH Packet being acknowledged.</span></p><h4 class="c21" id="h.j9ce9nedlrkd"><span class="c15 c93 c117">3.9.8.3 Reason Code</span></h4><p class="c45"><span>The values for Reason Codes are shown in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span>. </span><span class="c29">The sender of the PUBCOMP Packet MUST use one of the </span><span class="c29">Reason Codes applicable to PU</span><span class="c29">BCOMP.</span></p><h4 class="c66 c132 c56" id="h.wwlbpe629g7j"><span class="c9">3.9.8.4 PUBCOMP Actions</span></h4><p class="c132 c69"><span class="c0">As described in </span><span class="c31 c0"><a class="c36" href="#h.1o97atn">section 4.3.4</a></span><span class="c0">.</span><hr style="page-break-before:always;display:none;"></p><h2 class="c66 c56 c253" id="h.16x20ju"><span>3.10 </span><span class="c55 c15">SUBSCRIBE - Subscribe Request</span></h2><p class="c3"><span class="c121 c119">Figure 3-21 &ndash; SUBSCRIBE Packet with Topic Alias</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 226.67px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 226.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c8 c32">Or</span></p><p class="c3"><span class="c121 c119">Figure 3-22 &ndash; SUBSCRIBE Packet with Topic Filter</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 257.33px;"><img alt="" src="images/image30.png" style="width: 624.00px; height: 257.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c103"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 324.00px;"><img alt="" src="images/image11.png" style="width: 624.00px; height: 324.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c103"><span class="c8 c0">The SUBSCRIBE packet is sent from the Client to the Server a Subscription. A Subscription registers a Client&rsquo;s interest in one or more Topics. The Server sends PUBLISH packets to the Client to forward Application Messages that were published to Topics that match the Subscription. The SUBSCRIBE packet also specifies the maximum QoS with which the Server can send Application Messages to the Client.</span></p><h3 class="c21" id="h.3qwpj7n"><span class="c38 c37">3.10.1 SUBSCRIBE Header</span></h3><p class="c69 c211"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.261ztfg"><span class="c38 c37">3.10.2 SUBSCRIBE Flags</span></h3><p class="c3"><span class="c8 c0">The SUBSCRIBE Flags field is 1 byte and governs the behavior of subscriptions.</span></p><h4 class="c60 c56" id="h.o4chcds3950x"><span>3.10.2.1 </span><span>Topic Type</span></h4><p class="c3"><span class="c63">Position</span><span>: bits 0 and 1 of the SUBSCRIBE Flags.</span></p><p class="c265 c154 c148"><span class="c0">This field determines the content of the Topic Alias and Topic Filter fields. Refer to </span><span class="c31 c0"><a class="c36" href="#h.2zbgiuw">section 2.4</a></span><span class="c0">&nbsp;for the definition of the various topic types.</span></p><p class="c265 c154 c148"><span class="c8 c0">The Topic Type may be Topic Filter, Predefined Topic Alias or Session Topic Alias.</span></p><h4 class="c60 c56" id="h.cqknfyf6vt7z"><span class="c9">3.10.2.2 Retain handling</span></h4><p class="c3"><span class="c63">Position</span><span class="c8 c32">: bits 2 and 3 of the SUBSCRIBE Flags.</span></p><p class="c188 c154 c148"><span class="c10 c0 c4">This option specifies whether retained messages are sent when the subscription is established. This does not affect the sending of retained messages at any point after the subscribe. If there are no retained messages matching the Topic Filter, all these values act the same. The values are:</span></p><p class="c188 c106 c148"><span class="c10 c0 c4">0: Send retained messages at the time of the subscribe</span></p><p class="c106 c148 c188"><span class="c10 c0 c4">1: Send retained messages at subscribe only if the subscription does not currently exist</span></p><p class="c188 c106 c148"><span class="c0 c4">2: Do not send retained messages at the time </span><span class="c0">of the subscribe</span></p><p class="c186 c154 c148"><span class="c0 c4">It is a Protocol Error to send a Retain Handling value of 3.</span></p><h4 class="c60 c56" id="h.pzgz6pkwxml8"><span class="c9">3.10.2.3 Retain as Published</span></h4><p class="c3"><span class="c63">Position</span><span>: bit 4 of the SUBSCRIBE Flags. Labelled </span><span class="c119">RaP</span><span class="c8 c32">&nbsp;in Figure 3-21.</span></p><p class="c186 c154 c148"><span class="c10 c0 c4">If 1, Application Messages forwarded using this subscription keep the RETAIN flag they were published with. </span></p><p class="c186 c154 c148"><span class="c0 c4">If 0, Application Messages forwarded using this subscription have the RETAIN flag set to 0. </span><span class="c0 c4">Retained messages sent when the subscription is established have the RETAIN flag set to 1.</span></p><h4 class="c60 c56" id="h.pcycfor1m7ik"><span>3.10.2.4 </span><span class="c139">Qo</span><span class="c9">S</span></h4><p class="c3"><span class="c63">Position</span><span class="c8 c32">: bits 5 and 6 of the SUBSCRIBE Flags.</span></p><p class="c186 c154 c148"><span class="c0 c4">The</span><span class="c93 c0 c4">&nbsp;maximum QoS. This gives the maximum QoS level at which the Server can send Application Messages to the Client. It is a Protocol Error if the Maximum QoS field has the value 3.</span></p><h4 class="c56 c60" id="h.6uifx1r15uxd"><span>3.10.2.5 </span><span class="c9">No Local</span></h4><p class="c3"><span class="c63">Position</span><span class="c8 c32">: bit 7 of the SUBSCRIBE Flags.</span></p><p class="c186 c154 c148"><span class="c93 c0 c29 c4">if the value is 1, Application Messages MUST NOT be forwarded to a</span><span class="c93 c0 c29 c4">&nbsp;Virtual Connection with a Client Identi</span><span class="c0 c29 c4">fier</span><span class="c93 c0 c29 c4">&nbsp;equal to the Client Identif</span><span class="c0 c29 c4">ier</span><span class="c93 c0 c29 c4">&nbsp;of the publishing </span><span class="c0 c29">Virtual C</span><span class="c10 c0 c29 c4">onnection.</span></p><p class="c186 c133 c148"><span class="c10 c15 c4">Informative Comment</span></p><p class="c186 c106 c148"><span class="c10 c0 c37 c4">A Session is associated with a Client Identifier. A Virtual Connection is a link between Network Identity and a Session by means of the Client Identifier. So a Virtual Connection can be matched to a Client Identifier.</span></p><h3 class="c21" id="h.l7a3n9"><span class="c38 c37">3.10.3 Packet Identifier</span></h3><p class="c132 c154 c239 c210"><span class="c8 c0">Used to identify the corresponding SUBACK packet. It should ideally be populated with a random integer value.</span></p><h3 class="c21" id="h.356xmb2"><span class="c38 c37">3.10.4 Topic Alias</span></h3><p class="c69 c186"><span class="c10 c0 c29 c57">If the Topic Type is Predefined Topic Alias or Session Topic Alias, then the Topic Alias field MUST be present in the SUBSCRIBE packet.</span></p><p class="c45"><span class="c29">If the Topic Type is Topic Filter (0b11) the Topic Alias field MUST NOT be present in the SUBSCRIBE packet.</span></p><p class="c28"><span class="c0">Contains Fixed Length UTF-8 Encoded String topic filter, topic alias (predefined or </span><span class="c0">session topic alias</span><span class="c0">), or short topic name as indicated in the </span><span class="c0 c119">Topic Type </span><span class="c8 c0">field in flags. Determines the topic names which this subscription is interested in.</span></p><h3 class="c21" id="h.8j7xjui1oq1k"><span>3.10.5 </span><span>Topic Filter</span></h3><p class="c3"><span class="c10 c32 c29 c57">If the Topic Type is Topic Filter (0b11) the Topic Filter field MUST be present in the SUBSCRIBE packet.</span></p><p class="c69 c186"><span class="c0 c29">If the Topic Type is Predefined Topic Alias or Session Topic Alias, then the Topic Filter field MUST NOT be present in the SUBSCRIBE packet.</span></p><p class="c3"><span>The Topic Filter is a UTF-8 encoded string, which may contain wildcards. A SUBSCRIBE packet with a zero length Topic Filter is a Protocol Error. Refer to </span><span class="c31"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span>&nbsp;for information about handling errors. </span></p><h3 class="c69 c313 c100" id="h.8f4jncpi264u"><span class="c38 c37">3.10.6 SUBSCRIBE Actions</span></h3><p class="c135"><span class="c0 c29">When the Server receives a SUBSCRIBE packet from a Client, the Server MUST respond with a SUBACK packet</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.17.5-1]</span><span class="c0">. </span><span class="c0 c29">The SUBACK packet MUST have the same Packet Identifier as the SUBSCRIBE packet that it is acknowledging</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.17.5-2]</span><span class="c8 c0">.</span></p><p class="c135"><span class="c0 c29">If a Server receives a SUBSCRIBE packet containing a Topic Filter that is identical to a Subscription&rsquo;s Topic Filter for the current Session, then it MUST replace that existing Subscription with a new Subscription</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.17.5-3]</span><span class="c0">. The Topic Filter in the new Subscription will be identical to that in the previous Subscription, although its Subscription Options could be different. </span><span class="c0 c29">If the Retain Handling option is 0, any existing retained messages matching the Topic Filter MUST be re-sent, </span><span class="c0 c29">but Application Messages MUST NOT be lost due to replacing the Subscription</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.17.5-4]</span><span class="c8 c0">.</span></p><p class="c135"><span class="c0">If a Server receives a Topic Filter that is not identical to any Topic Filter for the current Session, a new Subscription is created. If the Retain Handling option is not 2, all matching retained messages are sent to the Client.</span></p><p class="c135"><span class="c0 c29">The SUBACK packet sent by the Server to the Client MUST contain a Reason Code</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.17.5-5]</span><span class="c0">. </span><span class="c0 c29">This Reason Code MUST either show the maximum QoS that was granted for that Subscription or indicate that the subscription failed</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.17.5-6]</span><span class="c0 c4">. The Server might grant a lower Maximum QoS than the subscriber requested. </span><span class="c0 c29">The QoS of Application Messages sent in response to a Subscription MUST be the minimum of the QoS of the originally published Application message and the Maximum QoS granted by the Server</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.17.5-7]</span><span class="c0">. The server is permitted to send duplicate copies of a </span><span class="c0">Application </span><span class="c0">message to a subscriber in the case where the original </span><span class="c0">Application </span><span class="c8 c0">message was published with QoS 1 and the maximum QoS granted was QoS 0.</span></p><p class="c135 c136"><span class="c63 c90">Informative comment<br></span><span class="c0">If a subscribing Client has been granted maximum QoS 1 for a particular Topic Filter, then a QoS 0 Application Message matching the filter is delivered to the Client at QoS 0. This means that at most one copy of the </span><span class="c0">Application M</span><span class="c0">essage is received by the Client. On the other hand, a QoS 2 </span><span class="c0">Application </span><span class="c0">Message published to the same topic is downgraded by the Server to QoS 1 for delivery to the Client, so that Client might receive duplicate copies of the </span><span class="c0">Application </span><span class="c8 c0">Message. </span></p><p class="c135 c136"><span class="c8 c63 c90">Informative comment</span></p><p class="c135 c136"><span class="c8 c0">If the subscribing Client has been granted maximum QoS 0, then an Application Message originally published as QoS 2 might get lost on the hop to the Client, but the Server should never send a duplicate of that Application Message. A QoS 1 Application Message published to the same topic might either get lost or duplicated on its transmission to that Client.</span></p><p class="c135 c136"><span class="c8 c63 c90">Informative comment</span></p><p class="c135 c136"><span class="c0">Subscribing to a Topic Filter at QoS 2 is equivalent to saying &quot;I would like to receive Application Messages matching this filter at the QoS with which they were published&quot;. This means a publisher is responsible for determining the maximum QoS an </span><span class="c0">Application </span><span class="c8 c0">Message can be delivered at, but a subscriber is able to require that the Server downgrades the QoS to one more suitable for its usage.</span></p><h2 class="c66 c112 c56" id="h.1kc7wiv"><span>3.11 </span><span class="c55 c15">SUBACK - Subscribe Acknowledgement</span></h2><p class="c3"><span class="c121 c119">Figure 3-22 &ndash; SUBACK Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 249.33px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 249.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 249.33px;"><img alt="" src="images/image35.png" style="width: 624.00px; height: 249.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c8 c0">The SUBACK packet is sent by a gateway to a client as an acknowledgment to the receipt and processing of a SUBSCRIBE packet.</span></p><h3 class="c21" id="h.44bvf6o"><span class="c38 c37">3.11.1 SUBACK Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.2jh5peh"><span>3.11.2 SUBACK Flags</span></h3><p class="c3"><span class="c0 c4">The SUBACK Flags is a 1 byte field which contains flags specifying the contents of the SUBACK packet</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">Bits 7-2 of the SUBACK Flags are reserved and MUST be set to 0</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c0 c29">The Client MUST validate that the reserved flags in the SUBACK packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c66 c177 c56" id="h.sjf79nlu0oyc"><span class="c9">3.11.2.1 Topic Type</span></h4><p class="c3"><span class="c63">Position</span><span class="c8 c32">: bits 0 and 1 of the SUBACK Flags.</span></p><p class="c265 c154 c148"><span class="c4">Determines the format of the topic value. Refer to </span><span class="c31"><a class="c36" href="#h.2zbgiuw">section 2.4</a></span><span class="c10 c32 c37 c4">&nbsp;for the definition of the various topic types. </span></p><p class="c265 c154 c148"><span class="c10 c32 c37 c4">The Topic Type in the SUBACK packet MUST be either Predefined Topic Alias or Session Topic Alias.</span></p><p class="c265 c154 c148"><span class="c10 c32 c37 c4">If there is no Topic Alias returned the Topic Type MUST be Predefined Topic Alias.</span></p><h3 class="c21" id="h.3im3ia3"><span class="c38 c37">3.11.3 Packet Identifier</span></h3><p class="c69 c276"><span class="c0">The same value as the Packet Identifier in the SUBSCRIBE Packet being acknowledged.</span></p><h3 class="c21" id="h.ymfzma"><span>3.11.4 Topic Alias</span></h3><p class="c69 c244"><span class="c0 c29">If a Topic Alias is returned, </span><span class="c0 c29">it MUST be used instead of the Topic Name by the Gateway when sending PUBLISH packets to the client. </span></p><p class="c69 c244"><span class="c0 c29">If no Topic Alias is returned, the Topic Alias field in the SUBACK MUST be 0x000.</span><span class="c8 c0">&nbsp;This will be the case when subscribing to a Topic Filter containing wildcards, as Topic Aliases can only be applied to Topic Names.</span></p><h3 class="c21" id="h.1xrdshw"><span class="c38 c37">3.11.5 Reason Code</span></h3><p class="c45"><span>The values for Reason Codes are shown in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span>. </span><span class="c29">The sender of the SUBACK Packet MUST use one of the </span><span class="c29">Reason Codes applicable to SUBACK</span><span class="c29">.</span></p><h2 class="c66 c253 c56" id="h.4hr1b5p"><span>3.12 </span><span class="c55 c15">UNSUBSCRIBE - Unsubscribe Request</span></h2><p class="c3"><span class="c121 c119">Figure 3-23 &ndash; UNSUBSCRIBE Packet with Topic Alias</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 226.67px;"><img alt="" src="images/image13.png" style="width: 624.00px; height: 226.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c8 c32">Or:</span></p><p class="c3"><span class="c121 c119">Figure 3-24 &ndash; UNSUBSCRIBE Packet with Topic Filter</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 257.33px;"><img alt="" src="images/image37.png" style="width: 625.27px; height: 257.33px; margin-left: -0.64px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c123" id="h.baa1uug2ww09"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 324.00px;"><img alt="" src="images/image41.png" style="width: 624.00px; height: 324.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c123" id="h.2wwbldi"><span class="c0">An UNSUBSCRIBE packet </span><span class="c8 c0">is sent by the Client to the Gateway to remove subscriptions to topics.</span></p><h3 class="c21" id="h.1c1lvlb"><span class="c38 c37">3.12.1 UNSUBSCRIBE Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.3w19e94"><span>3.12.2 UNSUBSCRIBE Flags</span></h3><p class="c3"><span class="c0 c4">The UNSUBSCRIBE Flags is a 1 byte field which contains flags specifying the contents of the UNSUBSCRIBE packet</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">Bits 7-2 of the UNSUBSCRIBE Flags are reserved and MUST be set to 0</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c0 c29">The Client MUST validate that the reserved flags in the UNSUBSCRIBE packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c80 c148 c56 c149" id="h.35jl7go284h2"><span class="c9">3.12.2.1 Topic Type</span></h4><p class="c3"><span class="c63">Position</span><span class="c8 c32">: bits 0 and 1 of the UNSUBSCRIBE Flags.</span></p><p class="c265 c154 c148"><span class="c4">Determines the existence of the Topic Alias or Topic Filter. Refer to </span><span class="c31"><a class="c36" href="#h.2zbgiuw">section 2.4</a></span><span class="c4">&nbsp;for the definition of the various topic types.</span></p><h3 class="c21" id="h.2b6jogx"><span class="c38 c37">3.12.3 Packet Identifier</span></h3><p class="c132 c154 c239 c210"><span class="c8 c0">Used to identify the corresponding UNSUBACK packet. It should ideally be populated with a random integer value.</span></p><h3 class="c21" id="h.qbtyoq"><span class="c38 c37">3.12.4 Topic Alias</span></h3><p class="c69 c186"><span class="c10 c0 c29 c57">A Topic Alias MUST be present in the UNSUBSCRIBE packet if the Topic Type is Predefined or Session Topic Alias.</span></p><p class="c69 c186"><span class="c10 c0 c29 c57">A Topic Alias MUST NOT be present in the UNSUBSCRIBE packet if the Topic Type is Topic Name.</span></p><p class="c28"><span class="c0">Predefined or Session T</span><span class="c0">opic Alias as indicated by the </span><span class="c0 c119">Topic Type</span><span class="c8 c0">. Determines the topic names which this subscription is interested in.</span></p><h3 class="c21" id="h.ftxkv4ci99pj"><span class="c38 c37">3.12.5 Topic Filter</span></h3><p class="c69 c186"><span class="c10 c0 c29 c57">A Topic Filter MUST be present in the UNSUBSCRIBE packet if the Topic Type is Topic Name.</span></p><p class="c69 c186"><span class="c10 c0 c29 c57">A Topic Filter MUST NOT be present in the UNSUBSCRIBE packet if the Topic Type is Predefined or Session Topic Alias.</span></p><p class="c28"><span class="c0">Contains a UTF-8 Encoded String Topic Filter occupying the rest of the packet, bounded by the packet length. </span></p><h3 class="c69 c100 c313" id="h.yu0e4zurjnhj"><span class="c38 c37">3.12.6 UNSUBSCRIBE Actions</span></h3><p class="c135"><span class="c10 c0 c29 c57">If a Topic Alias is used in an UNSUBSCRIBE request, it MUST be translated to its equivalent Topic Name before any other action takes place.</span></p><p class="c135"><span class="c0 c29">The </span><span class="c0 c29">Topic Filter</span><sup><a href="#cmnt22" id="cmnt_ref22">[v]</a></sup><sup><a href="#cmnt23" id="cmnt_ref23">[w]</a></sup><span class="c0 c29">&nbsp;(whether it contains wildcards or not) supplied in an UNSUBSCRIBE packet MUST be compared character-by-character with the current set of Topic Filters held by the Server for the Client. If any filter matches exactly then its owning Subscription MUST be deleted</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.19.4-1]</span><span class="c8 c0">, otherwise no additional processing occurs. </span></p><p class="c135"><span class="c0 c29">When a Server receives UNSUBSCRIBE </span><span class="c8 c0">:</span></p><ul class="c137 lst-kix_qhy0wju04c4n-0 start"><li class="c192 c106 c187 li-bullet-0"><span class="c0 c29">It MUST stop adding any new Application Messages which match the </span><span class="c0 c29">Topic Filters</span><span class="c0 c29">, for delivery to the Client</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.19.4-2]</span><span class="c8 c0">.</span></li><li class="c106 c187 c192 li-bullet-0"><span class="c0 c29">It MUST complete the delivery of any QoS 1 or QoS 2 Application Messages which match the </span><span class="c0 c29">Topic Filters</span><span class="c0 c29">&nbsp;and it has started to send to the Client</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.19.4-3]</span><span class="c8 c0">.</span></li><li class="c192 c106 c187 li-bullet-0"><span class="c0">It MAY continue to deliver any existing </span><span class="c0 c29">Application </span><span class="c0">M</span><span class="c0">essages </span><span class="c0 c29">which match the </span><span class="c0 c29">Topic Filters </span><span class="c8 c0">buffered for delivery to the Client.</span></li></ul><p class="c192 c154"><span class="c0 c29">The Server MUST respond to an UNSUBSCRIBE request by sending an UNSUBACK packet</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-3.19.4-4]</span><span class="c0">. </span><span class="c0 c29">The UNSUBACK packet MUST have the same Packet Identifier as the UNSUBSCRIBE packet. Even where no Topic Subscriptions are deleted, the Server MUST respond with an UNSUBACK</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-3.19.4-5]</span><span class="c8 c0">.</span></p><h2 class="c66 c56 c316" id="h.3abhhcj"><span>3.13 </span><span class="c55 c15">UNSUBACK - Unsubscribe Acknowledgement</span></h2><p class="c3"><span class="c121 c119">Figure 3-25 &ndash; UNSUBACK Packet</span></p><p class="c69 c181"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 136.00px;"><img alt="" src="images/image9.png" style="width: 624.00px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c69 c181"><span class="c8 c0">An UNSUBACK packet is sent by a Gateway to acknowledge the receipt and processing of an UNSUBSCRIBE packet.</span></p><h3 class="c21" id="h.1pgrrkc"><span class="c38 c37">3.13.1 UNSUBACK Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.49gfa85"><span class="c38 c37">3.13.2 Packet Identifier</span></h3><p class="c168 c69"><span class="c8 c0">The same value as the Packet Identifier in the UNSUBSCRIBE packet being acknowledged.</span></p><h3 class="c21" id="h.2olpkfy"><span class="c38 c37">3.13.3 Reason Code</span></h3><p class="c132 c69"><span class="c0">The UNSUBACK Reason Codes are shown in </span><span>Table 9: Reason Code Values. </span><span class="c0">The server sending the UNSUBACK packet MUST use one of the UNSUBACK Reason Codes.</span></p><h2 class="c66 c112 c56" id="h.13qzunr"><span>3.14 </span><span class="c55 c15">PINGREQ - Ping Request</span></h2><p class="c3"><span class="c121 c119">Figure 3-26 &ndash; PINGREQ Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 189.33px;"><img alt="" src="images/image33.png" style="width: 624.00px; height: 189.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c25"><span class="c8 c0">When the PINGREQ packet is sent from a Client to the Server, it can be used to:</span></p><ul class="c137 lst-kix_63oqrsr2ial6-0 start"><li class="c25 c96 li-bullet-0"><span class="c0">Indicate to the Server that the Client is alive in the absence of any other MQTT Control Packets being sent from the Client to the Server.</span></li><li class="c25 c96 li-bullet-0"><span class="c0">Request that the Server responds to confirm that it is alive.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c0">Exercise the network to indicate that communications is active.</span></li></ul><p class="c25"><span class="c0">This packet is used in Keep Alive processing. Refer to </span><span class="c31 c0"><a class="c36" href="#h.4h042r0">section 3.4.6</a></span><span class="c8 c0">&nbsp;for more details.</span></p><p class="c25"><span class="c8 c0">The PINGREQ packet can also be sent from the Server to a Client. </span></p><h3 class="c21" id="h.3nqndbk"><span class="c38 c37">3.14.1 PINGREQ Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.sqbpplpqb01e"><span class="c38 c37">3.14.2 Packet Identifier</span></h3><p class="c132 c154 c239 c210"><span class="c8 c0">Used to identify the corresponding PINGRESP packet. It should ideally be set to a random integer value.</span></p><h3 class="c21" id="h.22vxnjd"><span>3.14.3</span><span>&nbsp;Session Identifier</span><sup><a href="#cmnt24" id="cmnt_ref24">[x]</a></sup><sup><a href="#cmnt25" id="cmnt_ref25">[y]</a></sup><sup><a href="#cmnt26" id="cmnt_ref26">[z]</a></sup><sup><a href="#cmnt27" id="cmnt_ref27">[aa]</a></sup></h3><p class="c69 c237"><span class="c0">An optional field which contains an identifier to help the Server link the sender to an existing Session. It can co</span><span class="c0">ntain a Client Identifier or other information. This field is included by a sleeping client when it goes to the Awake state and is waiting for packets to be sent by the Gateway.</span></p><h3 class="c45 c100" id="h.1bpzu4dgtzqz"><span class="c38 c37">3.14.4 PINGREQ Actions</span></h3><p class="c25"><span class="c0 c29 c4">The Server MUST send a PINGRESP packet in response to a PINGREQ packet </span><span class="c0 c70">[MQTT-SN-3.21.4-1]</span><span class="c10 c0 c37 c4">.</span></p><p class="c25"><span class="c0 c29 c4">The Client MAY send a PINGRESP packet in response to a PINGREQ packet </span><span class="c0 c70">[MQTT-SN-3.21.4-2]</span><span class="c10 c0 c37 c4">. </span></p><h2 class="c66 c112 c56" id="h.i17xr6"><span>3.15 </span><span class="c55 c15">PINGRESP - Ping Response</span></h2><p class="c3"><span class="c121 c119">Figure 3-27 &ndash; PINGRESP Packet</span></p><p class="c48"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 136.00px;"><img alt="" src="images/image23.png" style="width: 624.00px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c48"><span class="c8 c0">A PINGRESP packet is the response to a PINGREQ packet and means &rdquo;yes I am alive&rdquo;. PINGREQ packets flow in either direction, sent either by a connected client or the gateway. it has only a header and no variable part.</span></p><p class="c69 c242"><span class="c8 c0">A PINGRESP packet is also sent by a Gateway to inform a sleeping Client that it has no more buffered packets for that Client.</span></p><h3 class="c21" id="h.320vgez"><span class="c38 c37">3.15.1 PINGRESP Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.fodwg3l5deju"><span class="c38 c37">3.15.2 Packet Identifier</span></h3><p class="c69 c168"><span class="c8 c0">The same value as the Packet Identifier in the PINGREQ Packet being acknowledged.</span></p><h3 class="c21" id="h.1h65qms"><span class="c38 c37">3.15.3 Application Messages Remaining</span></h3><p class="c242 c69"><span class="c0">The number of Application Messages still queued for delivery at the Server </span><span class="c0">when the PINGRESP is sent to send the Client back to sleep</span><span class="c8 c0">. It is optional, intended as useful information for the Client. Values can be:</span></p><p class="c3"><span class="c121 c119">Figure 3-28 &ndash; PINGRESP continuation values</span></p><table class="c146"><tr class="c263"><td class="c236 c52" colspan="1" rowspan="1"><p class="c335 c154 c239"><span class="c39 c15">Allowed Values</span></p></td><td class="c83 c52" colspan="1" rowspan="1"><p class="c154 c239 c335"><span class="c39 c15">Description</span></p></td></tr><tr class="c263"><td class="c236 c142" colspan="1" rowspan="1"><p class="c202 c154"><span class="c39 c0 c37">0</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c155 c154 c307"><span class="c0">No </span><span class="c0 c29 c275">Application </span><span class="c0">M</span><span class="c39 c0 c37">essages are waiting to be delivered</span></p></td></tr><tr class="c263"><td class="c236 c142" colspan="1" rowspan="1"><p class="c202 c154"><span class="c39 c0 c37">1 &ndash; 254 (incl.)</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c155 c154 c307"><span class="c0">The number of </span><span class="c0 c29 c275">Application </span><span class="c0">M</span><span class="c39 c0 c37">essages waiting to be delivered</span></p></td></tr><tr class="c263"><td class="c142 c236" colspan="1" rowspan="1"><p class="c154 c202"><span class="c39 c0 c37">255 (0xFF)</span></p></td><td class="c83" colspan="1" rowspan="1"><p class="c155 c154 c56 c307"><span class="c0">An unspecified positive number of </span><span class="c0 c29 c275">Application </span><span class="c0">M</span><span class="c39 c0 c37">essages waiting to be delivered greater than 0.</span></p></td></tr></table><h2 class="c66 c112 c56 c266" id="h.4ol3rnlyteol"><span class="c55 c46 c37"></span></h2><h2 class="c66 c112 c56" id="h.415t9al"><span>3.16 </span><span class="c55 c15">DISCONNECT - Disconnect Notification</span></h2><p class="c3"><span class="c121 c119">Figure 3-29 &ndash; DISCONNECT Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 437.33px;"><img alt="" src="images/image44.png" style="width: 624.00px; height: 437.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c69 c291"><span class="c0">The DISCONNECT packet is sent by a Client to indicate that it is going to delete</span><span class="c0">&nbsp;</span><span class="c8 c0">the Virtual connection and go to the Disconnected state.</span></p><p class="c69 c291"><span class="c8 c0">DISCONNECT may be sent by a Server to indicate that it cannot continue with the Virtual Connection and is deleting it - for instance the Server might be shutting down. It should use an appropriate and allowed Reason Code - 0x8B for Server shutting down, for instance.</span></p><p class="c69 c291"><span class="c0">If a Client or Server receives a packet which requires a Virtual Connection (all packets except CONNECT, ADVERTISE, GWINFO, SEARCHGW and PUBWOS), and no Virtual Connection exists, it MAY send a D</span><span class="c0">ISCONNECT in response to the originator with Reason Code 0xF4 - No Virtual Connection exists. </span></p><h3 class="c21" id="h.2gb3jie"><span class="c38 c37">3.16.1 DISCONNECT Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.vgdtq7"><span class="c38 c37">3.16.2 DISCONNECT Flags</span></h3><p class="c3"><span class="c0 c4">The DISCONNECT Flags is a 1 byte field which contains flags specifying the contents of the DISCONNECT packet</span><span class="c0 c49 c4">. </span><span class="c0 c29 c49 c4">Bits 7-5 of the DISCONNECT Flags are reserved and MUST be set to 0</span><span class="c10 c0 c37 c4">.</span></p><p class="c3"><span class="c10 c0 c29 c57">The receiver MUST validate that the reserved flags in the DISCONNECT packet are set to 0. If any of the reserved flags is not 0 it is a Malformed Packet.</span></p><h4 class="c66 c12 c56" id="h.2he2fw8unuaw"><span class="c9">3.16.2.1 Retain Registrations</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bit 0 of the DISCONNECT Flags.</span></p><p class="c160 c154 c148"><span class="c93 c0 c49 c4">Specifies whether Topic registrations should be retained by the Gateway during the Asleep state. &ldquo;0&rdquo; indicates registrations should be removed during the sleeping period and renegotiated when Awake or Active. &ldquo;1&rdquo; indicates registrations should be retained during the Asleep period, and therefore not nrenegotiated when Awake or Active.</span></p><h4 class="c66 c12 c56" id="h.xf6mk8ar6hod"><span class="c9">3.16.2.2 Packet Identifier Flag </span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bit 1 of the DISCONNECT Flags. Labelled </span><span class="c119">PacketId</span><span class="c8 c32">&nbsp;in Figure 3-39.</span></p><p class="c12 c154 c148"><span class="c0 c49 c4">&#8203;&#8203;</span><span class="c0 c29 c49 c4">If the Packet Identifier Flag is set to 0, a Packet Identifier MUST NOT be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.16.2.2-1]</span><span class="c93 c0 c49 c4">. </span></p><p class="c12 c154 c148"><span class="c0 c29 c49 c4">If the Packet Identifier Flag is set to 1, a Packet Identifier MUST be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.16.2.2-2]</span><span class="c93 c0 c49 c4">.</span></p><h4 class="c66 c12 c56" id="h.vf25roqqpxsl"><span>3.16.2.3 Session Exp</span><span class="c9">iry Interval Flag</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bit 2 of the DISCONNECT Flags. Labelled </span><span class="c119">Sess Exp</span><span class="c8 c32">&nbsp;in Figure 3-39.</span></p><p class="c12 c154 c148"><span class="c0 c49 c4">&#8203;&#8203;</span><span class="c0 c29 c49 c4">If the Session Expiry Interval Flag is set to 0, a Session Expiry Interval MUST NOT be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.16.2.3-1]</span><span class="c93 c0 c49 c4">. </span></p><p class="c160 c154 c148"><span class="c0 c29 c49 c4">If the Session Expiry Interval Flag is set to 1, a Session Expiry Interval MUST be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.16.2.3-2]</span><span class="c93 c0 c49 c4">.</span></p><h4 class="c12 c56 c66" id="h.qy3p3qqdmadq"><span class="c9">3.16.2.4 Reason Code Flag</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bit 3 of the DISCONNECT Flags. Labelled </span><span class="c119">Reason C</span><span>&nbsp;in Figure 3-39.</span></p><p class="c12 c154 c148"><span class="c0 c49 c4">&#8203;&#8203;</span><span class="c0 c29 c49 c4">If the Reason Code Flag is set to 0, a Reason Code MUST NOT be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.16.2.4-1]</span><span class="c93 c0 c49 c4">. </span></p><p class="c160 c154 c148"><span class="c0 c29 c49 c4">If the Reason Code Flag is set to 1, a Reason Code MUST be present in the Packet</span><span class="c0 c49 c4">&nbsp;</span><span class="c0 c42">[MQTT-SN-3.16.2.4-2]</span><span class="c0 c49 c4">.</span></p><h3 class="c21" id="h.rjljjibf9dws"><span class="c38 c37">3.16.3 Packet Identifier</span></h3><p class="c69 c328"><span class="c0">Optional. This can be used by a Gateway when responding to a Client packet for which there is no current Virtual Connection. In this case, the DISCONNECT packet can be sent by the Gateway, setting the Reason Code to 0xF4 (No Virtual Connection Exists) and including the Packet Identifier of the erroneous packet, to help with problem diagnosis.</span></p><h3 class="c21" id="h.3fg1ce0"><span class="c38 c37">3.16.4 Reason Code</span></h3><p class="c69 c211"><span class="c8 c0">The Reason Code for the DISCONNECT packet is optional. If not provided, 0x00 (Normal disconnection) is assumed. </span></p><p class="c69 c211"><span>The values for Reason Codes are shown in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span>. </span><span class="c0 c29">The sender of the DISCONNECT packet MUST use one of the Reason Code values applicable to DISCONNECT </span><span class="c10 c0 c70 c37">[MQTT-SN-3.23.3-1].</span></p><h3 class="c21" id="h.1ulbmlt"><span>3.16.5</span><span>&nbsp;Session Expiry Interval</span></h3><p class="c3"><span class="c0">The Session Expiry Interval is a four-byte integer time interval measured in seconds. </span><span class="c8 c0">If the Session Expiry Interval is absent, the Session Expiry Interval in the CONNECT packet is used.</span></p><p class="c3"><span class="c0 c29 c4">The Session Expiry Interval MUST NOT be sent on a DISCONNECT by the Server </span><span class="c10 c0 c70 c37">[MQTT&ndash;SN-3.23.4-1].</span></p><p class="c103"><span class="c0 c4">If the Session Expiry Interval in the CONNECT packet was zero, then it is a Protocol Error to set a non-zero Session Expiry Interval in the DISCONNECT packet sent by the Client. If such a non-zero Session Expiry Interval is received by the Server, it does not treat it as a valid DISCONNECT packet. The Server uses DISCONNECT with Reason Code 0x82 (Protocol Error) as described in </span><span class="c31 c0"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c10 c0 c37 c4">.</span></p><h3 class="c21" id="h.4ekz59m"><span>3.16.6 </span><span>Reason String</span></h3><p class="c3"><span class="c8 c0">Fixed Length UTF-8 Encoded String representing a clear text description of disconnection.</span></p><h3 class="c45 c100" id="h.wsl51zt8cr34"><span class="c38 c37">3.16.7 DISCONNECT Actions</span></h3><p class="c25"><span class="c0 c29">After sending a DISCONNECT packet the sender</span><span class="c8 c0">:</span></p><ul class="c137 lst-kix_ovy3fm37rmlj-0 start"><li class="c103 c96 li-bullet-0"><span class="c0 c29">MUST NOT send any more MQTT-SN Control Packets on that Virtual Connection</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.23.6-1]</span><span class="c8 c0">.</span></li><li class="c103 c96 li-bullet-0"><span class="c0 c29">MUST delete the Virtual Connection</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.23.6-2]</span><span class="c8 c0">.</span></li></ul><p class="c103"><span class="c0 c29">On receipt of DISCONNECT with a Reason Code of 0x00 (Success) the Server</span><span class="c8 c0">:</span></p><ul class="c137 lst-kix_cxi9sli2kvlp-0 start"><li class="c103 c96 li-bullet-0"><span class="c0 c29">MUST discard any Will Message associated with the current Connection without publishing it</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-3.23.6-3]</span><span class="c0">, as described in </span><span class="c31 c0"><a class="c36" href="#h.u38i2mpp332q">section 3.4.9</a></span><span class="c8 c0">.</span></li></ul><p class="c103"><span class="c8 c0">On receipt of DISCONNECT, the receiver:</span></p><ul class="c137 lst-kix_b6e1441h2g8b-0 start"><li class="c103 c96 li-bullet-0"><span class="c0 c29">MUST NOT send any more MQTT-SN Control Packets on the Virtual Connection, if one exists.</span><span class="c8 c0">&nbsp;</span></li><li class="c103 c96 li-bullet-0"><span class="c8 c0">SHOULD delete any existing Virtual Connection.</span></li></ul><p class="c103"><span class="c8 c0">After receiving a DISCONNECT, a Client can make a new Virtual Connection by sending a CONNECT Packet to the Server.</span></p><h2 class="c66 c112 c56" id="h.elrc49qsiunp"><span>3.17 </span><span class="c55 c15">WAKEUP - Wake up request</span></h2><p class="c3"><span class="c121 c119">Figure 3-30 &ndash; WAKEUP Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 69.33px;"><img alt="" src="images/image25.png" style="width: 624.00px; height: 69.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">The wakeup packet is a signal sent from the gateway to a client. It is an indication from the gateway that the client should wake up. The client is not obliged to honor this request, nor may it even receive the packet. It can choose to ignore the request, or undertake one of the sequences outlined in </span><span class="c31 c0"><a class="c36" href="#h.pj8yyjomhafn">Section 4.15.3</a></span><span class="c0">. The client need not respond to this packet.</span></p><h3 class="c21" id="h.lrkcmnrrlwx6"><span class="c38 c37">3.17.1 WAKEUP Header</span></h3><p class="c69 c211"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.google.com/document/d/1Q_l-TOttOqktQmnupRv7Un1Y8KzULIxc/edit?pli%3D1%23heading%3Dh.23ckvvd&amp;sa=D&amp;source=editors&amp;ust=1743262498516101&amp;usg=AOvVaw1cVZRCefYUWlC1L3fB3LXm">section 2.1</a></span><span class="c0">&nbsp;for a detailed description.</span></p><h3 class="c45 c100" id="h.2sa95hk6sfa3"><span>3.17.2 </span><span class="c0 c269">WAKEUP</span><span>&nbsp;Actions</span><sup><a href="#cmnt28" id="cmnt_ref28">[ab]</a></sup><sup><a href="#cmnt29" id="cmnt_ref29">[ac]</a></sup></h3><p class="c25"><span class="c0 c29 c4">The Client MAY choose to follow the AWAKE procedure in response to receiving a WAKEUP packet </span><span class="c0 c70">[MQTT-SN-3.21.4-2]</span><span class="c10 c0 c37 c4">. </span></p><h2 class="c66 c112 c56" id="h.y0yzf1b41yjh"><span>3.18 SLEEPREQ</span><span class="c55 c15">&nbsp;- Sleep request</span></h2><p class="c3"><span class="c121 c119">Figure 3-31 &ndash; SLEEPREQ Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 204.00px;"><img alt="" src="images/image42.png" style="width: 624.00px; height: 204.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c155 c154 c148"><span class="c8 c32">The SLEEPREQ packet is sent from the Client to the Server to indicate that it is going to sleep (that is, transitioning to the Asleep state).</span></p><h3 class="c21" id="h.ae58qknvrf2w"><span class="c38 c37">3.18.1 SLEEPREQ Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.r9l470czcfcd"><span>3.18.2 </span><sup><a href="#cmnt30" id="cmnt_ref30">[ad]</a></sup><span class="c38 c37">Packet Identifier</span></h3><p class="c182 c154"><span class="c0">Used to identify the corresponding SLEEPRESP packet. It should ideally be set to a random integer value.</span></p><h3 class="c21" id="h.lmowugbak9ff"><span>3.18.3 </span><sup><a href="#cmnt31" id="cmnt_ref31">[ae]</a></sup><span class="c38 c37">Sleep Duration</span></h3><p class="c3"><span class="c0">The Sleep Duration is a four-byte integer time interval measured in seconds. It is the maximum amount of time that a client may stay asleep without being disconnected by the Gateway. For more information on sleeping clients, and the purpose of Sleep Duration, see section </span><span class="c31 c0"><a class="c36" href="#h.pj8yyjomhafn">4.15.3</a></span><span>.</span></p><h3 class="c21" id="h.1za85wfbb30f"><span>3.18.4 </span><sup><a href="#cmnt32" id="cmnt_ref32">[af]</a></sup><span class="c38 c37">SLEEPREQ Actions</span></h3><p class="c25"><span class="c0 c29 c4">The Server MUST send a SLEEPRESP packet in response to a SLEEPREQ packet </span><span class="c0 c70">[MQTT-SN-3.24.4-1]</span><span class="c10 c0 c37 c4">.</span></p><p class="c25"><span class="c10 c0 c57">After sending a SLEEPREQ packet the Client:</span></p><ul class="c137 lst-kix_fna9vqak6p7f-0 start"><li class="c103 c96 li-bullet-0"><span class="c0">MAY</span><span class="c0">&nbsp;wait for a SLEEPRESP packet in response from the Server</span><span class="c0">.</span></li></ul><p class="c25"><span class="c8 c0">A Client will wait for a response if it wishes to ascertain that the Server has received and processed its sleep request. By doing so it will avoid having to:</span></p><ol class="c137 lst-kix_9y7u4ra6nu2f-0 start" start="1"><li class="c25 c96 li-bullet-0"><span class="c8 c0">reestablish a Virtual Connection on wakening if the Server did not receive the SLEEPREQ, or </span></li><li class="c25 c96 li-bullet-0"><span class="c8 c0">retransmit the SLEEPREQ if it does not receive a SLEEPRESP from the server.</span></li></ol><p class="c25"><span class="c8 c0">It is important for the Client to verify that the Server recognizes that the Client is going to sleep by waiting for a SLEEPRESP response.</span></p><p class="c25"><span class="c0">A Client will not wait, or stop waiting, if it is concerned that it will use excess power to determine that the Server has received the SLEEPREQ.</span></p><h2 class="c66 c112 c56" id="h.jym8s7ogwu9n"><span>3.19 SLEEPRESP</span><span class="c55 c15">&nbsp;- Sleep response</span></h2><p class="c3"><span class="c121 c119">Figure 3-32 &ndash; SLEEPRESP Packet</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 114.67px;"><img alt="" src="images/image2.png" style="width: 624.00px; height: 114.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c21" id="h.lhdh9flvorts"><span class="c38 c37">3.19.1 SLEEPRESP Header</span></h3><p class="c69 c211"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.ts4rruwfri54"><span>3.19.2 </span><sup><a href="#cmnt33" id="cmnt_ref33">[ag]</a></sup><span class="c38 c37">Packet Identifier</span></h3><p class="c168 c69"><span class="c0">The same value as the Packet Identifier in the SLEEPREQ Packet being acknowledged.</span></p><h2 class="c21" id="h.1e03kqp"><span>3.20 </span><span class="c55 c15">Forwarder Encapsulation</span></h2><p class="c3"><span class="c121 c119">Figure 3-33 &ndash; Format of an Forwarder Encapsulated MQTT-SN Packet</span></p><p class="c248 c154 c185"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 286.67px;"><img alt="" src="images/image10.png" style="width: 624.00px; height: 286.84px; margin-left: 0.00px; margin-top: -0.09px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><sup><a href="#cmnt34" id="cmnt_ref34">[ah]</a></sup></p><p class="c154 c185 c248"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 286.67px;"><img alt="" src="images/image43.png" style="width: 624.00px; height: 286.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c248 c154 c148 c240"><span class="c0">MQTT-SN clients can also access a Gateway via a forwarder in case the gateway is not directly attached to their WSNs. The forwarder simply encapsulates the MQTT-SN Packets it receives from the Clients</span><span class="c0">&nbsp;</span><span class="c0">and forwards them unchanged to the Gateway. In the opposite direction, it decapsulates the</span><span class="c0">&nbsp;Packets</span><span class="c0">&nbsp;it receives from the Gateway and sends them unchanged to the Clients. Refer to </span><span class="c31 c0"><a class="c36" href="#h.1vpy4wyrild2">section 4.13</a></span><span class="c8 c0">&nbsp;for more information.</span></p><h3 class="c21" id="h.3xzr3ei"><span class="c37 c38">3.20.1 Forwarder Encapsulation Header</span></h3><p class="c69 c211"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.google.com/document/d/1Q_l-TOttOqktQmnupRv7Un1Y8KzULIxc/edit?pli%3D1%23heading%3Dh.23ckvvd&amp;sa=D&amp;source=editors&amp;ust=1743262498522475&amp;usg=AOvVaw2OOOq-6s4-_pc2qIVcXYX8">section 2.1</a></span><span class="c8 c0">&nbsp;for a detailed description.</span></p><p class="c69 c211"><span class="c0">The Length field specifies the number of bytes up to the end of the Wireless Node Identifier field, including the Length field itself.</span></p><h3 class="c21" id="h.sabnu4"><span class="c38 c37">3.20.2 Control Flags</span></h3><p class="c69 c211"><span class="c8 c0">The Control flags contain control information exchanged between the Gsteway and the forwarder. </span></p><h4 class="c21" id="h.3c9z6hx"><span class="c9">3.20.2.1 Radius</span></h4><sup><a href="#cmnt35" id="cmnt_ref35">[ai]</a></sup><p class="c3"><span class="c63">Position:</span><span>&nbsp;bits 0 and 1 of the Control byte.</span></p><p class="c3"><span class="c0">Transmission radius - only relevant in direction Gateway to Forwarder</span><sup><a href="#cmnt36" id="cmnt_ref36">[aj]</a></sup><span class="c8 c0">.</span></p><h3 class="c21" id="h.1rf9gpq"><span class="c38 c37">3.20.3 Wireless Node Identifier</span></h3><p class="c69 c132"><span class="c8 c0">Identifies the wireless node which has sent or should receive the encapsulated MQTT-SN packet. The mapping between this Id and the address of the wireless node is implemented by the forwarder, if needed.</span></p><h3 class="c21" id="h.4bewzdj"><span class="c38 c37">3.20.4 MQTT-SN Packet</span></h3><p class="c69 c144"><span class="c8 c0">The MQTT-SN packet, encoded according to the packet type.</span></p><hr style="page-break-before:always;display:none;"><h2 class="c21 c266" id="h.20g8pmrelzu7"><span class="c55 c46 c37"></span></h2><h2 class="c21" id="h.15cqrsoyxc87"><span class="c55 c46 c37">3.21 Protection Encapsulation</span></h2><p class="c3"><span class="c121 c119">Figure 3-35 &ndash; Format of an Protection Encapsulated MQTT-SN Packet</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 550.67px;"><img alt="" src="images/image53.png" style="width: 624.59px; height: 550.67px; margin-left: -0.29px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 609.33px;"><img alt="" src="images/image31.png" style="width: 624.00px; height: 609.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c248 c154 c148 c240"><span class="c0">Protection encapsulation provides a secure envelope for any MQTT-SN packet (with the exception of the Forward Encapsulation packet). The fields provided by the Protection Encapsulation provide a means by which the sender is identified and the</span><span class="c0">&nbsp;packet is protected</span><span class="c8 c0">, using a number of prescribed protection schemes. </span></p><p class="c248 c154 c148 c240"><span class="c8 c0">The sender is the originator of the &ldquo;Protected MQTT-SN Packet&rdquo; and responsible for its protection. This responsibility MUST NOT &nbsp;be delegated to a third entity like a Forwarder. </span></p><p class="c248 c154 c148 c240"><span class="c0">The sender identification is required as the sender and the receiver of the protected packet must have access to the same shared key to be used directly or after derivation.</span><sup><a href="#cmnt37" id="cmnt_ref37">[ak]</a></sup><sup><a href="#cmnt38" id="cmnt_ref38">[al]</a></sup><span class="c8 c0">&nbsp;The authentication of the sender and the receiver, their authorizations and the provisioning of the shared keys used to protect integrity and optionally confidentiality of the protected packet content are out of scope.</span></p><p class="c248 c154 c148 c240"><span class="c8 c0">A protected packet, like any other one, can be the payload of a Forwarder Encapsulated packet.</span></p><p class="c248 c154 c62 c148 c240"><span class="c8 c0"></span></p><p class="c248 c154 c148 c240"><span class="c8 c63 c90">//TODO - Break out the conformance aspects of this paragraph from recommendations.</span></p><p class="c3"><span class="c10 c0 c29 c57">When the PROTECTION packet is handled by a gateway, it is mandatory to use it to protect all MQTT-SN packets exchanged with a Client for which a shared key (indexed by its Sender Id) is available.</span></p><p class="c3"><span class="c10 c0 c29 c57">If the client is not enrolled to the gateway (so the gateway has no access to a key shared with it on the basis of its Sender Id) and the Client and gateway are not in a private network, it is recommended for the gateway to process only MQTT-SN packets received over a DTLS session initiated with mutual authentication by the client.</span></p><p class="c3"><span class="c0 c29">When the PROTECTION packet is handled by a Client, it is mandatory to use it to protect all MQTT-SN packets exchanged with a Gateway for which a shared key (indexed by its </span><span class="c0 c29 c74">GwId</span><span class="c10 c0 c29 c57">) is available.</span></p><p class="c3"><span class="c0 c29">If the Gateway is not enrolled to the Client (so the Client has no access to a key shared with it on the basis of its GwId) and the Client and Gateway are not in a private network, it is recommended for the Client to open a DTLS session and process only MQTT-SN packets received over it.</span><sup><a href="#cmnt39" id="cmnt_ref39">[am]</a></sup><sup><a href="#cmnt40" id="cmnt_ref40">[an]</a></sup></p><h3 class="c21" id="h.j9tutdzg8gdj"><span class="c38 c37">3.21.1 Protection Encapsulation Header</span></h3><p class="c132 c69"><span class="c0">The first 2 or 4 bytes of the packet are encoded according to the variable length packet header format. Refer to </span><span class="c31 c0"><a class="c36" href="#h.23ckvvd">section 2.1</a></span><span class="c0">&nbsp;for a detailed description.</span></p><h3 class="c21" id="h.g1mmf1c4lvqh"><span class="c38 c37">3.21.2 Protection Flags</span></h3><p class="c69 c151"><span class="c8 c0">The Protection Flags is a 1 byte field specifying the properties of the Protection Encapsulation. </span></p><h4 class="c66 c12 c56" id="h.dgr37fcn70h7"><span class="c9">3.21.2.1 Monotonic Counter Length</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bits 0 and 1 of the Protection Flags. Labelled </span><span class="c119">Counter Length</span><span class="c8 c32">&nbsp;in Figure 3-35.</span></p><p class="c12 c154 c148"><span class="c0 c74">Specifies </span><span class="c0 c74">the number of bytes forming the monotonic counter in big-endian order. Only 3 of the 4 possible values are allowed:</span></p><ul class="c137 lst-kix_list_4-0 start"><li class="c2 li-bullet-0"><span class="c0 c74">the value 0x3 is Reserved;</span></li><li class="c2 li-bullet-0"><span class="c0 c74">if 0x2, a monotonic counter field of 32 bits (4 bytes) is present;</span></li><li class="c2 li-bullet-0"><span class="c0 c74">if 0x1, a monotonic counter field of 16 bits (2 bytes) is present;</span></li><li class="c2 li-bullet-0"><span class="c6 c0">if 0x0, the monotonic counter field is not present.</span></li></ul><h4 class="c66 c12 c56" id="h.ur276rc44plv"><span class="c9">3.21.2.2 Cryptographic Material Length</span></h4><p class="c3"><span class="c63">Position:</span><span>&nbsp;bits 2 and 3 of the Protection Flags. Labelled </span><span class="c119">Crypto Length</span><span class="c8 c32">&nbsp;in Figure 3-35.</span></p><p class="c12 c154 c148"><span class="c0 c74">Specifies</span><span class="c63 c74 c90">&nbsp;</span><span class="c0 c74">the number of 16 bit groups forming the cryptographic material in big-endian order. Below the meaning of each possible value:</span></p><ul class="c137 lst-kix_list_4-0"><li class="c2 li-bullet-0"><span class="c0 c74">if 0x3, a cryptographic material field of 96 bits (12 bytes) is present</span></li><li class="c2 li-bullet-0"><span class="c0 c74">if 0x2, a cryptographic material field of 32 bits (4 bytes) is present</span></li><li class="c2 li-bullet-0"><span class="c0 c74">if 0x1, a cryptographic material field of 16 bits (2 bytes) is present</span></li><li class="c2 li-bullet-0"><span class="c6 c0">if 0x0, the cryptographic material field is not present.</span></li></ul><p class="c12 c154 c62 c148 c227"><span class="c6 c0"></span></p><h4 class="c66 c56 c151" id="h.dvegbdq024g"><span class="c9">3.21.2.3 Authentication Tag Length</span></h4><p class="c3"><span class="c63">Position:</span><span class="c8 c32">&nbsp;bits 4 through 7 of the Protection Flags.</span></p><p class="c151 c154 c148"><span class="c0 c74">D</span><span class="c0 c74">efines the size of the authentication tag.</span></p><ul class="c137 lst-kix_list_4-0"><li class="c2 li-bullet-0"><span class="c0 c74">Only 14 of the 16 possible values are allowed:</span></li></ul><ul class="c137 lst-kix_list_4-1 start"><li class="c12 c154 c129 c148 li-bullet-0"><span class="c0 c74">i</span><span class="c0 c74">f 0x00, the authentication tag length is provider defined;</span></li><li class="c12 c154 c129 c148 li-bullet-0"><span class="c6 c0">if 0x01, the authentication tag length is defined by the protection scheme nominal tag length and this is the only value allowed if the protection scheme is not &ldquo;Authentication Only&rdquo;;</span></li><li class="c12 c154 c129 c148 li-bullet-0"><span class="c0 c74">the values from 0x2 to 0x3 are Reserved;</span></li><li class="c12 c154 c129 c148 li-bullet-0"><span class="c0 c74">any other value 0xZ, so between 0x4 and 0xF, is allowed only for the truncation of &ldquo;Authentication Only&rdquo; protection schemes and the authentication tag length will be (0xZ)*16 bits; for example</span></li></ul><ul class="c137 lst-kix_list_4-2 start"><li class="c12 c154 c187 c148 c194 li-bullet-0"><span class="c0 c74">if the value is 0xF, the Authentication tag length will be (0xF)*16=240 bits;</span></li><li class="c12 c154 c187 c148 c194 li-bullet-0"><span class="c0 c74">if the value is 0x3, the Authentication tag length will be (0x4)*16=64 bits.</span></li></ul><ul class="c137 lst-kix_list_4-0"><li class="c2 li-bullet-0"><span class="c0 c74">If a truncation of the output of the authentication algorithm is required, it has to be taken in most significant bits first order (leftmost bits).</span></li><li class="c2 li-bullet-0"><span class="c0 c74">Some 0xZ values are not allowed for some &ldquo;Authentication Only&rdquo; protection schemes because they define a tag size bigger than the nominal tag size. For example, values from 0x09 (144 bits) to 0x0F (240 bits) are not allowed for &ldquo;Authentication Only&rdquo; protection schemes with a nominal tag size less than 144 bits, such as CMAC-128, CMAC-192, CMAC-256.</span></li></ul><h3 class="c21" id="h.m1zk7agco355"><span class="c38 c37">3.21.3 Protection Scheme</span></h3><p class="c160 c154 c148 c346"><span class="c0 c74">A (1 byte) field should contain one of the not Reserved indexes in the following table. In general two types of protection scheme are considered: </span><span class="c63 c74 c90">Authentication only</span><span class="c0 c74">&nbsp;(like HMAC or CMAC) and </span><span class="c63 c74 c90">AEAD</span><span class="c6 c0">&nbsp;(Authenticated Encryption with Associated Data, like GCM, CCM or ChaCha20/Poly1305).</span></p><p class="c3"><span class="c121 c119">Figure 3-36 &ndash; Protection Schemes</span></p><table class="c146"><tr class="c35"><td class="c228 c52" colspan="1" rowspan="1"><p class="c69 c145"><span class="c39 c51">Index</span></p></td><td class="c71 c52" colspan="1" rowspan="1"><p class="c69 c145"><span class="c39 c51">Name</span></p></td><td class="c47 c52" colspan="1" rowspan="1"><p class="c69 c145"><span class="c39 c51">Authentication</span></p><p class="c69 c145"><span class="c39 c51">Only</span></p></td><td class="c47 c52" colspan="1" rowspan="1"><p class="c69 c145"><span class="c39 c51">Key Size</span></p></td><td class="c47 c52" colspan="1" rowspan="1"><p class="c69 c145"><span class="c39 c51">Nominal Tag Size</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x00</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c74">HMAC-SHA256</span><span class="c0 c74 c76">&nbsp;(Note 1)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">Yes</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c0 c74">Any size</span><span class="c0 c74 c76">&nbsp;(Note 2)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">256 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x01</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c74">HMAC-SHA3_256</span><span class="c0 c74 c76">&nbsp;(Note 1)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c0 c11">Yes</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c0 c74">Any size</span><span class="c0 c74 c76">&nbsp;(Note 2)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">256 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x02</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c74">CMAC-128</span><span class="c0 c74 c76">&nbsp;(Note 3)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">Yes</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x03</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c74">CMAC-192</span><span class="c0 c74 c76">&nbsp;(Note 3)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">Yes</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">192 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x04</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c74">CMAC-256</span><span class="c0 c74 c76">&nbsp;(Note 3)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">Yes</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">256 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x05-0x3B</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">RESERVED</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">&nbsp;</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12 c62"><span class="c11 c0"></span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12 c62"><span class="c11 c0"></span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x3C-0x3F</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">Provider defined</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">Yes</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">Provider defined</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">Provider defined</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x40</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3 c37"><span class="c0 c101">AES-CCM-64-128</span><span class="c0 c74 c76">&nbsp;(Notes 4,5)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">64 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x41</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c101">AES-CCM-64-192</span><span class="c0 c74 c76">&nbsp;(Notes 4,5)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">192 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">64 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x42</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c101">AES-CCM-64-256</span><span class="c0 c74 c76">&nbsp;(Notes 4,5)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">256 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">64 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x43</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c101">AES-CCM-128-128</span><span class="c0 c74 c76">&nbsp;(Notes 4,5)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x44</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c101">AES-CCM-128-192</span><span class="c0 c74 c76">&nbsp;(Notes 4,5)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c12 c69"><span class="c11 c0">192 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x45</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c101">AES-CCM-128-256</span><span class="c0 c74 c76">&nbsp;(Notes 4,5)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">256 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x46</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c101">AES-GCM-128-128</span><span class="c0 c74 c76">&nbsp;(Notes 6,7)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x47</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c101">AES-GCM-128-192</span><span class="c0 c74 c76">&nbsp;(Notes 6,7)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">192 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x48</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c101">AES-GCM-128-256</span><span class="c0 c74 c76">&nbsp;(Notes 6,7)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">256 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x49</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c0 c101">ChaCha20/Poly1305</span><span class="c0 c74 c76">&nbsp;(Notes 8,9)</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">256 bits</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">128 bits</span></p></td></tr><tr class="c35"><td class="c142 c228" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0x4A-0xEF</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">RESERVED</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">&nbsp;</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12 c62"><span class="c11 c0"></span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12 c62"><span class="c11 c0"></span></p></td></tr><tr class="c35"><td class="c228 c142" colspan="1" rowspan="1"><p class="c3"><span class="c40 c0 c74 c142">0xF0-0xFF</span></p></td><td class="c71" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">Provider defined</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c3"><span class="c11 c0">No</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">Provider defined</span></p></td><td class="c47" colspan="1" rowspan="1"><p class="c69 c12"><span class="c11 c0">Provider defined</span></p></td></tr></table><p class="c69 c270"><span class="c6 c63 c90">Note(s):</span></p><ol class="c137 lst-kix_list_2-0 start" start="1"><li class="c2 li-bullet-0"><span class="c0 c74">Reference </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://www.rfc-editor.org/rfc/rfc2104&amp;sa=D&amp;source=editors&amp;ust=1743262498553742&amp;usg=AOvVaw3fgvxLtqnlsazhAWzETyT_">https://www.rfc-editor.org/rfc/rfc2104</a></span></li><li class="c2 li-bullet-0"><span class="c0">Reference </span><span class="c0"><a class="c36" href="https://www.google.com/url?q=https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.198-1.pdf&amp;sa=D&amp;source=editors&amp;ust=1743262498554052&amp;usg=AOvVaw3tHMldgzFLOmyqe1KvEI6L">https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.198-1.pdf</a></span></li><li class="c2 li-bullet-0"><span class="c0">Reference </span><span class="c0"><a class="c36" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc4493%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3Dxugq2R3JL90RCv%252BzdnQqW7rtztg1MF6xtBAYnqa1K8s%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1743262498554401&amp;usg=AOvVaw26N3UHsRLA5HbdwqgYAdNl">https://www.rfc-editor.org/rfc/rfc4493</a></span><span class="c0">&nbsp;and </span><span class="c0"><a class="c36" href="https://www.google.com/url?q=https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38b.pdf&amp;sa=D&amp;source=editors&amp;ust=1743262498554599&amp;usg=AOvVaw1NbJ89f063FnDk3Hqhsz3u">https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38b.pdf</a></span><span class="c0">&nbsp;and https://csrc.nist.gov/CSRC/media/Projects/Cryptographic-Standards-and-Guidelines/documents/examples/AES_CMAC.pdf</span></li><li class="c2 li-bullet-0"><span class="c0">Reference</span><span class="c0"><a class="c36" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc3610%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3DvMkxcRTrFVbOOc6NEcSe9b4WVfyCOwnuV7Bj4tDb03s%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1743262498555032&amp;usg=AOvVaw1H5fNtRBxUdZdrnn_Fhmmf">&nbsp;</a></span><span class="c0"><a class="c36" href="https://www.google.com/url?q=https://www.rfc-editor.org/rfc/rfc3610&amp;sa=D&amp;source=editors&amp;ust=1743262498555125&amp;usg=AOvVaw25dAFDGj8qx1c_4FRwdKOo">https://www.rfc-editor.org/rfc/rfc3610</a></span><span class="c0">&nbsp;and security considerations on </span><span class="c0"><a class="c36" href="https://www.google.com/url?q=https://eur02.safelinks.protection.outlook.com/?url%3Dhttps%253A%252F%252Fwww.rfc-editor.org%252Frfc%252Frfc8152%2523section-10.2.1%26data%3D05%257C01%257Cdavide.lenzarini%2540u-blox.com%257C4c9137c28d464ec349b908db260113dd%257C80c4ffa675114bba9f03e5872a660c9b%257C0%257C0%257C638145558306431211%257CUnknown%257CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%253D%257C3000%257C%257C%257C%26sdata%3DDTxkXC3J%252B8Wj2l7qn6U5cFUExdZVFXPv2Ss3M2%252B1VLY%253D%26reserved%3D0&amp;sa=D&amp;source=editors&amp;ust=1743262498555426&amp;usg=AOvVaw2Kr4HRuMXCE7InSmN0See-">https://www.rfc-editor.org/rfc/rfc8152#section-10.2.1</a></span></li><li class="c2 li-bullet-0"><span class="c0">AES CCM requires a 13 bytes nonce as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.2 and the nonce is obtained by performing SHA256, truncated to the leftmost 104 bits, of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span></li><li class="c2 li-bullet-0"><span class="c0 c101">Reference https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf</span><span class="c0">&nbsp;and security considerations on https://www.rfc-editor.org/rfc/rfc8152#section-10.1.1</span></li><li class="c2 li-bullet-0"><span class="c0">AES GCM requires a </span><span class="c0 c74">12 bytes IV as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.1 and the IV is obtained by performing SHA256, truncated to the leftmost 96 bits, of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span></li><li class="c2 li-bullet-0"><span class="c0 c101">Reference: https://www.rfc-editor.org/rfc/rfc7539 and security considerations on https://www.rfc-editor.org/rfc/rfc8152#section-10.3.1</span></li><li class="c2 li-bullet-0"><span class="c0 c101">ChaCha20/Poly1305 requires a </span><span class="c0 c74">12 bytes nonce as indicated in https://www.rfc-editor.org/rfc/rfc8152#section-10.3 obtained by performing SHA256 truncated to 96 bit of the sequence Byte 1 to Byte R (all packet fields until Protected MQTT-SN Packet)</span><sup><a href="#cmnt41" id="cmnt_ref41">[ao]</a></sup></li></ol><h3 class="c21" id="h.jo2d2fngx6hj"><span class="c38 c37">3.21.4 Sender Identifier</span></h3><p class="c12 c148 c154"><span class="c0 c74">T</span><span class="c0 c6">he Sender Id field (8 bytes) should contain:</span></p><p class="c12 c133 c148"><span class="c0 c74">If the message is originated by the </span><span class="c63 c119 c74 c90">Gateway</span><span class="c6 c0">:</span></p><ul class="c137 lst-kix_list_19-0 start"><li class="c12 c154 c129 c148 li-bullet-0"><span class="c6 c0">The SHA256 of the GwId truncated to the leftmost 64 bits (8 bytes); </span></li></ul><p class="c12 c106 c148"><span class="c0 c74">If the message is originated by the </span><span class="c63 c119 c74 c90">Client</span><span class="c6 c0">:</span></p><ul class="c137 lst-kix_list_9-0 start"><li class="c12 c154 c129 c148 li-bullet-0"><span class="c63 c74 c90">If a session is available</span><span class="c0 c74">: the SHA256 of the [Client Identifier] truncated to the leftmost 64 bits (8 bytes);</span></li><li class="c12 c154 c129 c148 li-bullet-0"><span class="c63 c74 c90">If a session is not available</span><span class="c0 c74">: a unique value per sender over 8 bytes (like a MAC address, or other identifying characteristics). </span><span class="c8 c0">The methods to guarantee the uniqueness of the Sender Id in this case are out of scope.</span></li></ul><p class="c135 c136 c148"><span class="c260 c63 c147 c90">Informative comment</span></p><p class="c132 c106 c148"><span class="c0 c119 c74 c147">8 bytes for the &ldquo;Sender Id&rdquo; field seems enough as it is calculated with a cryptographic hash, so the probability of collision is 1/2^64=5.42x10</span><span class="c24 c0">-20</span><span class="c0 c119 c116 c74 c147 c139 c275">. </span></p><p class="c12 c106 c148"><span class="c63 c119 c74 c147 c90 c139 c193">Client Behavior</span></p><p class="c12 c106 c148"><span class="c0 c119 c74 c147">In order to create a whitelist of authorized senders, the Client should store a map of GwId </span><span class="c0 c74 c147">and SHA256(GwId) </span><span class="c0 c119 c74 c147">truncated to the leftmost 64 bits. GwId can be obtained from pre-configuration, from an ADVERTISE packet or from a GWINFO packet</span><span class="c10 c0 c74 c147">.</span></p><p class="c12 c106 c62 c148"><span class="c10 c0 c74 c147"></span></p><p class="c12 c106 c148"><span class="c193 c63 c119 c74 c147 c90 c139">Gateway Behavior</span></p><p class="c12 c106 c148"><span class="c0 c119 c74 c147">In order to create a whitelist of authorized senders, the MQTT-SN Gateway should store a map of ClientID and SHA256(ClientID) truncated to the leftmost 64 bits (8 bytes for each registered ClientID) for the clients having an active session and store a list of authorized Sender Ids for the clients not capable to establish sessions. </span><sup><a href="#cmnt42" id="cmnt_ref42">[ap]</a></sup></p><p class="c132 c69 c62"><span class="c193 c15 c57 c180 c139"></span></p><h3 class="c21" id="h.vjl219ghlhvi"><span class="c38 c37">3.21.5 Random</span></h3><p class="c12 c154 c148"><span class="c260 c0 c74">T</span><span class="c0 c74">he 4 byte Random field should contain a random number which is not guessable, generated at the time of Protection Encapsulation packet creation.</span></p><ul class="c137 lst-kix_list_14-0 start"><li class="c135 c96 c148 li-bullet-0"><span class="c260 c63 c147 c90">Informative comment</span></li></ul><p class="c12 c106 c148"><span class="c0 c119 c74 c147">In case of CCM, in the worst case scenario where the &ldquo;Cryptographic Material&rdquo; and the &ldquo;Monotonic Counter&rdquo; optional fields are not present, the recommended nonce on 13 bytes will be calculated as SHA256 truncated to 104 bits of the sequence Byte 1 to Byte 16 (all packet fields until Protected MQTT-SN Packet). So considering the same Sender Id, the same nonce can be generated with a probability of 1/2^32=2.33x10</span><span class="c0 c24">-10</span><span class="c0 c119 c74 c147">. With a shorter Random field of 2 bytes, the same nonce would be calculated with a probability of only 1/2^16=1.53x10</span><span class="c24 c0">-5</span><span class="c0 c119 c74 c147">. As CCM is a derivation of CTR (see </span><span class="c31 c0 c119 c147"><a class="c36" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/CCM_mode&amp;sa=D&amp;source=editors&amp;ust=1743262498558117&amp;usg=AOvVaw0DXBTmtV-xC_v4eKhlPzcE">https://en.wikipedia.org/wiki/CCM_mode</a></span><span class="c0 c119 c74 c147">), the nonce should never be reused for the same key so the probability to generate two identical nonces should be kept as low as possible. Same for GCM and ChaCha20/Poly1305, the security depends on choosing a unique IV of 12 bytes for every encryption performed with the same key (</span><span class="c31 c0 c119 c147"><a class="c36" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Galois/Counter_Mode&amp;sa=D&amp;source=editors&amp;ust=1743262498558243&amp;usg=AOvVaw0o5qgt9S30xIr84GLtLZes">https://en.wikipedia.org/wiki/Galois/Counter_Mode</a></span><span class="c0 c119 c74 c147">).</span></p><h3 class="c21" id="h.q30yx1mc4rc1"><span class="c38 c37">3.21.6 Cryptographic Material</span></h3><p class="c12 c154 c148"><span>T</span><span class="c0 c74">he optional field Cryptographic Material contains </span><span class="c6 c0">0, 2, 4 or 12 bytes of cryptographic material that when defined it can be used to derive, from a shared master secret, the same keys on the two endpoints and/or, when filled partially or totally with a random value, to further reduce the probability of IV/nonce reuse for CCM or GCM or ChaCha20/Poly1305. For instance when the Cryptographic material length is set to 0x03, the Cryptographic Material field can be partially filled with a random value of 9 bytes (the remaining 3 bytes can be set to 0 if not used) in order to reach the 13 bytes used only once recommended for the nonce used by CCM or it can be partially filled with a random value of 8 bytes in order to reach the 12 bytes used only once recommended for the IV/nonce used by GCM or ChaCha20/Poly1305 .</span></p><h3 class="c21" id="h.3y6o9vhqakro"><span class="c38 c37">3.21.7 Monotonic Counter</span></h3><p class="c12 c154 c148"><span class="c0">T</span><span class="c0 c74">he optional field Monotonic Counter contains a </span><span class="c0 c37 c74">0, 2 or 4 byte number that when defined, is increased by the Client or G</span><span class="c0 c74">ateway</span><span class="c0 c37 c74">&nbsp;for every packet sent. The counters should be considered independent of session or destination. E.g. The UE will keep a counter independently from the G</span><span class="c0 c74">ateway</span><span class="c6 c0">.</span></p><h3 class="c21" id="h.dovnwl46a7is"><span class="c38 c37">3.21.8 Protected MQTT-SN Packet</span></h3><p class="c12 c154 c148"><span class="c0">T</span><span class="c6 c0">he field Protected MQTT-SN Packet contains the MQTT-SN packet that is being secured, encoded as per its packet type.</span></p><p class="c270 c154 c148"><span class="c0 c29 c74">The Protected MQTT-SN Packet MUST NOT be a Forwarder Encapsulated Packet </span><span class="c6 c0">as the shared key used directly or after derivation for the protection must belong to the originator of the content and not to a Forwarder that, in general, is not able to securely identify the originator.</span></p><h3 class="c21" id="h.j75p96o6vesm"><span class="c38 c37">3.21.9 Authentication Tag</span></h3><p class="c155 c154 c148"><span class="c0">The field</span><span class="c0 c74">&nbsp;Authentication Tag field has a length depending on the Authentication Tag Length flag and it is calculated, on the basis of the Protection Scheme selected in Byte 4, on ALL the preceding fields.</span></p><h1 class="c247 c154 c148 c56 c281" id="h.2qk79lc"><span class="c15 c93 c128 c178">4 Operational behavior</span></h1><p class="c143"><span class="c8 c0">An important design point of MQTT-SN is to be as close as possible to MQTT. Therefore, all protocol semantics should remain, as far as possible, the same as those defined by MQTT.</span></p><h2 class="c43" id="h.21od6so"><span class="c0">4.1 </span><span class="c0">Session state</span></h2><p class="c103"><span class="c8 c32">In order to implement QoS 1 and QoS 2 protocol flows the Client and Server need to associate state with the Client Identifier, this is referred to as the Session State. The Server also stores the subscriptions as part of the Session State.</span></p><p class="c25"><span class="c8 c32">The Session can continue across a sequence of Virtual Connections. It lasts as long as the latest Virtual Connection plus the Session Expiry Interval.</span></p><p class="c25"><span>The Session State in the Client consists of:</span></p><ul class="c137 lst-kix_w4fcba4ygfgj-0 start"><li class="c25 c96 li-bullet-0"><span class="c8 c32">QoS 1 and QoS 2 PUBLISH Packets which have been sent to the Server, but have not been completely acknowledged.</span></li><li class="c25 c96 li-bullet-0"><span>QoS 2 PUBLISH Packets which have been received from the Server, but have not been </span><span>completely </span><span class="c8 c32">acknowledged.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">Session Topic Alias mappings.</span></li></ul><p class="c25"><span>The Session State in the Server consists of:</span></p><ul class="c137 lst-kix_1fioxjrj066s-0 start"><li class="c25 c96 li-bullet-0"><span class="c8 c32">The existence of a Session, even if the rest of the Session State is empty.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">The Client&rsquo;s subscriptions.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">QoS 1 and QoS 2 PUBLISH Packets which have been sent to the Client, but have not been completely acknowledged.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">QoS 1 and QoS 2 PUBLISH Packets pending transmission to the Client and OPTIONALLY QoS 0 PUBLISH Packets pending transmission to the Client.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">QoS 2 PUBLISH Packets which have been received from the Client, but have not been completely acknowledged.</span></li><li class="c25 c96 li-bullet-0"><span>The Will </span><span class="c8 c32">Message and associated Will data.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">If the Session is currently not connected, the time at which the Session will end and Session State will be discarded.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">Session Topic Alias mappings.</span></li></ul><p class="c25"><span class="c8 c32">Retained messages do not form part of the Session State in the Server, they are not deleted as a result of a Session ending.</span></p><h3 class="c156 c100 c154" id="h.nasxg3iedd75"><span class="c38 c37">4.1.1 Storing Session State</span></h3><p class="c25"><span class="c29">The Server </span><span class="c29">MUST NOT discard</span><span class="c29">&nbsp;the Session State while the Virtual Connection exists</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.1.1-1]</span><span class="c8 c32">. </span></p><p class="c25"><span class="c29">The Client </span><span class="c29">MUST NOT discard</span><span class="c29">&nbsp;the Session State while the Virtual Connection exists</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.1.1-2]</span><span>. </span></p><p class="c25"><span class="c29">The Server MUST discard the Session State when the Virtual Connection is deleted</span><span class="c29">&nbsp;</span><span class="c29">and </span><span class="c29">the Session Expiry Interval has passed</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.1.1-3]</span><span class="c8 c32">. A Session Expiry Interval of 0xFFFFFFFF is an infinite amount of time, so never passes.</span></p><p class="c25"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c8 c46">Informative comment</span></p><p class="c25 c136"><span class="c8 c32">The storage capabilities of Client and Server implementations will of course have limits in terms of capacity and may be subject to administrative policies. Stored Session State can be discarded as a result of an administrator action, including an automated response to defined conditions. This has the effect of terminating the Session. These actions might be prompted by resource constraints or for other operational reasons. It is possible that hardware or software failures may result in loss or corruption of Session State stored by the Client or Server. It is prudent to evaluate the storage capabilities of the Client and Server to ensure that they are sufficient.</span></p><h3 class="c43" id="h.434ayfz"><span class="c38 c37">4.1.2 Session Establishment</span></h3><p class="c154 c148 c240 c289"><span class="c8 c0">As with MQTT, an MQTT-SN client needs to set up a session on the server, unless it is publishing ONLY using PUBLISH WITHOUT SESSION packets. The procedure for setting up a session with a server is illustrated in Fig. 3a and 3b. </span></p><p class="c3"><span class="c8 c0">The CONNECT packet contains flags to communicate to the gateway that Auth interactions should take place.</span></p><p class="c3"><span class="c121 c119">Figure 4-1 &ndash; Connect Procedure (without Auth flag set, or no further authentication data required)</span></p><p class="c154 c148 c240 c326"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 321.10px; height: 232.06px;"><img alt="" src="images/image21.png" style="width: 321.10px; height: 232.06px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c121 c119">Figure 4-2 &ndash; Connect Procedure (with Auth flag set and further authentication data required)</span></p><p class="c69 c334"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 321.14px; height: 284.50px;"><img alt="" src="images/image38.png" style="width: 321.14px; height: 284.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c69 c231"><span class="c8 c0">In case the gateway could not accept the CONNECT request (e.g. because of congestion or it does not support a feature indicated in the CONNECT packet), the gateway returns a CONNACK packet with the rejection reason.</span></p><p class="c69 c231"><span class="c8 c0">In the case where the client provides no client identifier, the Server MUST respond with a CONNACK containing an Assigned Client Identifier. </span></p><p class="c69 c231"><span class="c0 c29">The Assigned Client Identifier MUST be a new Client Identifier </span><span class="c0 c29">not used by</span><span class="c0 c29">&nbsp;any other Session currently in the Gateway.</span></p><h2 class="c43" id="h.fc1j1f7dq6oy"><span class="c55 c15">4.2 Networks and Virtual Connections</span></h2><p class="c25 c107"><span>The MQTT-SN protocol requires an Underlying Network to create a Virtual Connection. This carries Packets from a Client to a Gateway and from a Gateway to a Client. The Underlying Network may also </span><span class="c0">multicast </span><span class="c8 c32">Packets from a Client to more than one Gateway, and from a Gateway to more than one Client.</span></p><p class="c25 c107"><span>MQTT-SN Packets which are received must be unaltered and complete.</span></p><ul class="c137 lst-kix_list_15-0 start"><li class="c106 c187 c148 c297 li-bullet-0"><span class="c8 c32">The Underlying Network does not need to be reliable, it is expected that Packets can be lost or delivered out of order.</span></li><li class="c2 li-bullet-0"><span>If the Underlying Network might deliver a Packet more than once, for connection-oriented communications (CONNECT, DISCONNECT and other packets in between) the PROTECTION ENCAPSULATION Monotonic Counter MUST be used to eliminate duplicates</span><span class="c8 c32">. (In the case that a protected packet is duplicated, the Monotonic Counter will be the same on all the duplicates of a packet).</span></li><li class="c2 li-bullet-0"><span>The MQTT-SN protocol will tolerate out of order Packets and it will retransmit lost Packets in the case that an expected </span><span>acknowledgement</span><span class="c8 c32">&nbsp;has not been received.</span></li><li class="c2 li-bullet-0"><span class="c8 c32">There is no packet error correction in MQTT-SN. If a corrupted or partial packet is received it will cause a protocol error.</span></li><li class="c2 li-bullet-0"><span>The MQTT-SN implementation may use the origin network address, the DTLS connection identifier, the sender identifier in the </span><span>PROTECTION ENCAPSULATION</span><span class="c8 c32">, or some other identifier in the Underlying Network to determine the identity of the Virtual Connection.</span></li><li class="c2 li-bullet-0"><span class="c8 c32">The Underlying Network may be connectionless. Virtual Connections do not need to have an Underlying Network event that signals their creation or deletion.</span></li><li class="c103 c96 c148 li-bullet-0"><span class="c8 c32">The Underlying Network may be a radio network.</span></li></ul><p class="c25 c136 c148"><span class="c10 c46 c57">Informative comment</span></p><p class="c25 c136 c148"><span>UDP as defined in [RFC0768] can be used for MQTT-SN if the Maximum Transmission Unit is configured to be more </span><span>than the maximum MQTT-SN Packet size</span><span class="c10 c32 c57">&nbsp;used and no Packet fragmentation occurs. Depending on the network configuration, UDP can duplicate Packets. If this can happen, the PROTECTION ENCAPSULATION monotonic counter should be used.</span></p><p class="c25 c136 c148"><span class="c10 c32 c57">Examples of possible consequences of allowing duplicate Packets are:<br> &ndash; DISCONNECT Packet applied to the wrong Virtual Connection<br> &ndash; SUBSCRIBE and UNSUBSCRIBE Packets applied to the wrong Virtual Connection<br> &ndash; PUBLISH QOS=2 published more than once</span></p><p class="c25 c136 c148"><span class="c10 c32 c57">The following transport protocols are also suitable but if not capable of multicast the implementation of the optional ADVERTISE, SEARCHGW, GWINFO packets may not be possible:</span></p><ul class="c137 lst-kix_list_10-0 start"><li class="c297 c154 c129 c148 li-bullet-0"><span class="c10 c32 c57">DTLS v1.2 [RFC6347]</span></li><li class="c12 c154 c129 c148 li-bullet-0"><span class="c10 c32 c57">DTLS v1.3 [RFC9147]</span></li><li class="c12 c154 c129 c148 li-bullet-0"><span class="c10 c32 c57">QUIC [RFC9000]</span></li><li class="c12 c154 c129 c148 li-bullet-0"><span>Non-IP protocols</span></li></ul><p class="c12 c106 c62 c148"><span class="c40 c0 c4"></span></p><ul class="c137 lst-kix_list_10-0"><li class="c12 c154 c129 c148 li-bullet-0"><span class="c10 c32 c57">TCP/IP [RFC0793]</span></li><li class="c12 c154 c129 c148 li-bullet-0"><span class="c10 c32 c57">TLS [RFC5246]</span></li><li class="c103 c129 c148 li-bullet-0"><span class="c10 c32 c57">WebSocket [RFC6455].</span></li></ul><p class="c25 c136 c148"><span class="c10 c46 c57">Informative comment</span></p><p class="c25 c136 c148"><span>Both </span><span>TCP and UDP ports 1883 and 8883 are registered with IANA for MQTT and secure communication respectively.</span><sup><a href="#cmnt43" id="cmnt_ref43">[aq]</a></sup><sup><a href="#cmnt44" id="cmnt_ref44">[ar]</a></sup></p><p class="c18"><span class="c40 c0 c4">A Virtual Connection, which associates a Network Address with a Session, is:</span></p><ul class="c137 lst-kix_2q63dbptak0x-0 start"><li class="c18 c96 li-bullet-0"><span class="c0 c50 c4">created </span><span class="c40 c0 c4">with a CONNECT packet</span></li><li class="c18 c96 li-bullet-0"><span class="c0 c50 c4">deleted </span><span class="c40 c0 c4">by any of:</span></li></ul><ul class="c137 lst-kix_2q63dbptak0x-1 start"><li class="c18 c129 li-bullet-0"><span class="c40 c0 c4">a retry timeout</span></li><li class="c18 c129 li-bullet-0"><span class="c40 c0 c4">DISCONNECT packet</span></li><li class="c18 c129 li-bullet-0"><span class="c40 c0 c4">protocol error</span></li></ul><ul class="c137 lst-kix_2q63dbptak0x-0"><li class="c18 c96 li-bullet-0"><span class="c40 c0 c4">required for any MQTT-SN packet to be sent between MQTT-SN clients and servers, except any of the following Packets, including if they are Protection or Forwarder Encapsulated:</span></li></ul><ul class="c137 lst-kix_2q63dbptak0x-1 start"><li class="c18 c129 li-bullet-0"><span class="c40 c0 c4">CONNECT, which creates a Virtual Connection</span></li><li class="c18 c129 li-bullet-0"><span class="c0 c50 c4">PUB</span><span class="c0 c50 c4">WOS</span><span class="c40 c0 c4">&nbsp;(and PUBLISH QoS -1 if implemented)</span></li><li class="c18 c129 li-bullet-0"><span class="c40 c0 c4">ADVERTISE, SEARCHGW, GWINFO</span></li></ul><h2 class="c43" id="h.2i9l8ns"><span class="c0">4.3 Quality of Service levels and protocol flows</span></h2><p class="c3"><span class="c8 c0">MQTT-SN delivers Application Messages according to the Quality of Service (QoS) levels defined in the following sections. The delivery protocol is symmetric, in the description below the Client and Server can each take the role of either sender or receiver. When the Gateway is delivering an Application Message to more than one Client, each Client is treated independently. The QoS level used to deliver an Application Message outbound to the Client could differ from that of the inbound Application Message.</span></p><h3 class="c21" id="h.be76rdrlcegt"><span>4.3.1 Publish without session</span></h3><p class="c3"><span>No Session or Virtual Connection is required to send a message. The message is delivered according to the capabilities of the underlying network. </span><span class="c0">No response is sent by the receiver and no retry is performed by the sender. The message arrives at the receiver either once or</span><span class="c0">&nbsp;</span><span class="c8 c0">not at all..</span></p><p class="c3"><span class="c8 c0">The sender:</span></p><ul class="c137 lst-kix_tysnzt61ui6p-0 start"><li class="c95 c187 li-bullet-0"><span class="c8 c0">MUST send a PUBWOS packet.</span></li></ul><p class="c155 c154 c148"><span class="c8 c0">The receiver:</span></p><ul class="c137 lst-kix_cpfx7gaecdgo-0 start"><li class="c95 c187 li-bullet-0"><span class="c8 c0">MAY decide to accept ownership of the message when it receives a PUBWOS packet.</span></li><li class="c95 c187 li-bullet-0"><span class="c8 c0">MUST treat any accepted messages as QoS 0.</span></li></ul><p class="c155 c133 c148"><span class="c8 c63 c90">Informative Comment:</span></p><p class="c155 c133 c148"><span class="c8 c0">PUBWOS packets may be Multicast or Unicast.</span></p><h3 class="c21" id="h.xevivl"><span>4.3.2 </span><span class="c81 c15">QoS 0: At most once delivery</span></h3><p class="c3"><span class="c8 c0">The message is delivered according to the capabilities of the underlying network. No response is sent by the receiver and no retry is performed by the sender. The message arrives at the receiver either once or not at all. </span></p><p class="c3" id="h.3hej1je"><span class="c0 c29">In the QoS 0 delivery protocol, the sender</span></p><ul class="c137 lst-kix_list_20-0 start"><li class="c155 c154 c187 c148 c217 li-bullet-0"><span class="c0 c29">MUST send a PUBLISH packet with QoS 0</span><span class="c0 c70">.</span></li></ul><p class="c3" id="h.1wjtbr7"><span class="c8 c0">In the QoS 0 delivery protocol, the receiver</span></p><ul class="c137 lst-kix_list_20-0"><li class="c155 c154 c187 c148 c217 li-bullet-0"><span class="c8 c0">Accepts ownership of the message when it receives the PUBLISH packet.</span></li></ul><p class="c3"><span class="c121 c119">Figure 4-3 &ndash; QoS 0 protocol flow, informative example</span></p><table class="c152 c136"><tr class="c35"><td class="c52 c59" colspan="1" rowspan="1"><p class="c27"><span class="c39 c15">Sender Action</span></p></td><td class="c23 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c15">Control Packet</span></p></td><td class="c64 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c15">Receiver Action</span></p></td></tr><tr class="c35"><td class="c59" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">PUBLISH QoS 0</span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c27 c62"><span class="c39 c0 c37"></span></p></td><td class="c64" colspan="1" rowspan="1"><p class="c3 c62"><span class="c39 c0 c37"></span></p></td></tr><tr class="c35"><td class="c59" colspan="1" rowspan="1"><p class="c27 c62"><span class="c39 c0 c37"></span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">----------&gt;</span></p></td><td class="c64" colspan="1" rowspan="1"><p class="c27 c62"><span class="c39 c15"></span></p></td></tr><tr class="c35"><td class="c59" colspan="1" rowspan="1"><p class="c27 c62"><span class="c39 c0 c37"></span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c27 c62"><span class="c39 c0 c37"></span></p></td><td class="c64" colspan="1" rowspan="1"><p class="c27"><span class="c0">Deliver Application Message to appropriate onward recipient(s) </span></p></td></tr></table><h3 class="c21" id="h.1au1eum"><span>4.3.3 </span><span class="c81 c15">QoS 1: At least once delivery</span></h3><p class="c69 c169"><span class="c8 c0">This Quality of Service level ensures that the message arrives at the receiver at least once. A QoS 1 PUBLISH packet has a Packet Identifier in its Variable Header and is acknowledged by a PUBACK packet.</span></p><p class="c3" id="h.3utoxif"><span class="c0 c29">In the QoS 1 delivery protocol, the sender</span></p><ul class="c137 lst-kix_list_20-0"><li class="c155 c154 c187 c148 c217 li-bullet-0"><span class="c0 c29">MUST assign an unused Packet Identifier each time it has a new Application Message to publish</span><span class="c0">&nbsp;</span><span class="c10 c0 c70 c37">[MQTT-SN-4.3.3-1].</span></li><li class="c155 c154 c187 c148 c217 li-bullet-0"><span class="c0 c29">MUST send a PUBLISH packet containing this Packet Identifier with QoS 1 </span><span class="c0 c29">and DUP flag set to 0</span><span class="c0">&nbsp;</span><span class="c10 c0 c70 c37">[MQTT-SN-4.3.3-2]. </span></li><li class="c155 c154 c187 c148 c217 li-bullet-0"><span class="c0 c29">MUST treat the PUBLISH packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBACK packet from the receiver</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.3.3-3].</span></li></ul><p class="c3" id="h.29yz7q8"><span class="c0">The Packet Identifier becomes available for reuse once the sender has received the PUBACK packet. </span></p><p class="c3"><span class="c0">The sender is NOT permitted to send further packets with different Packet Identifiers while it is waiting to receive acknowledgements.</span><span class="c0 c29">&nbsp;</span><span class="c0 c29">At all times a Sender MUST have a maximum of one unacknowledged packet.</span></p><p class="c3" id="h.p49hy1"><span class="c0 c29">In the QoS 1 delivery protocol, the receiver</span></p><ul class="c137 lst-kix_list_21-0 start"><li class="c95 c187 li-bullet-0"><span class="c0 c29">MUST respond with a PUBACK packet containing the Packet Identifier from the incoming PUBLISH packet, having accepted ownership of the Application Message</span><span class="c0">.</span></li><li class="c95 c187 li-bullet-0"><span class="c10 c0 c29 c57">After it has sent a PUBACK packet the receiver MUST treat any incoming PUBLISH packet that contains the same Packet Identifier as being a new Application Message.</span></li></ul><p class="c95 c62"><span class="c10 c0 c29 c57"></span></p><p class="c3"><span class="c121 c119">Figure 4-4 &ndash; QoS 1 protocol flow, informative example</span></p><table class="c136 c152"><tr class="c35"><td class="c59 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c15">Sender Action</span></p></td><td class="c23 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c15">MQTT Control Packet</span></p></td><td class="c64 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c15">Receiver action</span></p></td></tr><tr class="c35"><td class="c59" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Store message</span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c27 c62"><span class="c39 c0 c37"></span></p></td><td class="c64" colspan="1" rowspan="1"><p class="c3 c62"><span class="c39 c0 c37"></span></p></td></tr><tr class="c35"><td class="c59" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">Send PUBLISH QoS 1, DUP=0, &lt;Packet Identifier&gt;</span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">----------&gt;</span></p></td><td class="c64" colspan="1" rowspan="1"><p class="c3 c62"><span class="c39 c15"></span></p></td></tr><tr class="c35"><td class="c59" colspan="1" rowspan="1"><p class="c3 c62"><span class="c39 c0 c37"></span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c3 c62"><span class="c39 c0 c37"></span></p></td><td class="c64" colspan="1" rowspan="1"><p class="c3"><span class="c0">Initiate onward delivery of the Application Message</span><span class="c0 c204">1</span></p></td></tr><tr class="c35"><td class="c59" colspan="1" rowspan="1"><p class="c3 c62"><span class="c39 c0 c37"></span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">&lt;----------</span></p></td><td class="c64" colspan="1" rowspan="1"><p class="c27"><span class="c39 c0 c37">Send PUBACK &lt;Packet Identifier&gt;</span></p></td></tr><tr class="c35"><td class="c59" colspan="1" rowspan="1"><p class="c3"><span class="c0">Discard message</span></p></td><td class="c23" colspan="1" rowspan="1"><p class="c27 c62"><span class="c39 c0 c37"></span></p></td><td class="c64" colspan="1" rowspan="1"><p class="c27 c62"><span class="c39 c15"></span></p></td></tr></table><p class="c95"><span class="c204 c74 c174 c298">1</span><span>The receiver does not need to complete delivery of the Application Message before sending the PUBACK</span><span class="c8 c32">. When its original sender receives the PUBACK packet, ownership of the Application Message is transferred to the receiver.</span></p><h3 class="c21" id="h.1o97atn"><span>4.3.4 </span><span class="c81 c15">QoS 2: Exactly once delivery</span></h3><p class="c3"><span class="c8 c0">This is the highest Quality of Service level, for use when neither loss nor duplication of Application Messages are acceptable. There is an increased overhead associated with QoS 2.</span></p><p class="c3" id="h.488uthg"><span class="c0 c29">In the QoS 2 delivery protocol, the sender</span><span class="c8 c0">:</span></p><ul class="c137 lst-kix_list_22-0 start"><li class="c95 c187 li-bullet-0"><span class="c0 c29">MUST assign an unused Packet Identifier when it has a new Application Message to publish</span><span class="c0 c70">&nbsp;</span></li><li class="c95 c187 li-bullet-0"><span class="c0 c29">MUST send a PUBLISH packet containing this Packet Identifier with QoS 2 and DUP flag set to 0</span><span class="c8 c0">&nbsp;</span></li><li class="c95 c187 li-bullet-0"><span class="c0 c29">MUST treat the PUBLISH packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBREC packet from the receiver</span><span class="c8 c0">&nbsp;</span></li><li class="c95 c187 li-bullet-0"><span class="c0 c29">MUST send a PUBREL packet when it receives a PUBREC packet from the receiver with a Reason Code value less than 0x80. This PUBREL packet MUST contain the same Packet Identifier as the original PUBLISH packet</span></li><li class="c95 c187 li-bullet-0"><span class="c0 c29">MUST treat the PUBREL packet as &ldquo;unacknowledged&rdquo; until it has received the corresponding PUBCOMP packet from the receiver</span></li><li class="c95 c187 li-bullet-0"><span class="c0 c29">MUST NOT resend the PUBLISH once it has sent the corresponding PUBREL packe</span><span class="c0">t</span></li></ul><p class="c69 c169"><span class="c8 c0">The Packet Identifier becomes available for reuse once the sender has received the PUBCOMP packet or a PUBREC with a Reason Code of 0x80 or greater. </span></p><p class="c3" id="h.2ne53p9"><span class="c0 c29">In the QoS 2 delivery protocol, the receiver</span><span class="c0">:</span></p><ul class="c137 lst-kix_list_24-0 start"><li class="c95 c187 li-bullet-0"><span class="c0 c29">MUST respond with a PUBREC containing the Packet Identifier from the incoming PUBLISH packet, having accepted ownership of the Application Message</span></li><li class="c95 c187 li-bullet-0"><span class="c0 c29">If it has sent a PUBREC with a Reason Code of 0x80 or greater, the receiver MUST treat any subsequent PUBLISH packet that contains that Packet Identifier as being a new Application Message</span><span class="c8 c0">&nbsp;</span></li><li class="c95 c187 li-bullet-0"><span class="c0 c29">Until it has received the corresponding PUBREL packet, </span><span class="c0 c29">the receiver MUST acknowledge any subsequent PUBLISH packet with the same Packet Identifier by sending a PUBREC</span><span class="c0 c29">. It MUST NOT cause duplicate messages to be delivered to any onward recipients in this case</span><span class="c8 c0">&nbsp;</span></li><li class="c95 c187 li-bullet-0"><span class="c0 c29">MUST respond to a PUBREL packet by sending a PUBCOMP packet containing the same Packet Identifier as the PUBREL</span></li><li class="c95 c187 li-bullet-0"><span class="c0 c29">After it has sent a PUBCOMP, the receiver MUST treat any subsequent PUBLISH packet that contains that Packet Identifier as being a new Application Message</span><span class="c0 c29">, irrespective of the setting of its DUP flag</span></li></ul><p class="c3"><span class="c121 c119">Figure 4-5 &ndash; QoS 2 protocol flow, informative example</span></p><table class="c152 c170"><tr class="c345"><td class="c113" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c46">Sender Action</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c46">MQTT Control Packet</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c46">Receiver Action</span></p></td></tr><tr class="c138"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">Store message</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td></tr><tr class="c310"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">PUBLISH QoS 2, DUP=0<br> &nbsp;&lt;Packet Identifier&gt;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c46">&nbsp;</span></p></td></tr><tr class="c92"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">----------&gt;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c46">&nbsp;</span></p></td></tr><tr class="c336"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span>Store &lt;Packet Identifier&gt; then Initiate onward delivery of the Application Message</span><span class="c32 c57 c204 c180 c37 c116 c275">1</span></p></td></tr><tr class="c310"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">PUBREC &lt;Packet Identifier&gt;&lt;Reason Code&gt;</span></p></td></tr><tr class="c138"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">&lt;----------</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td></tr><tr class="c333"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">Discard message, Store PUBREC received &lt;Packet Identifier&gt;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td></tr><tr class="c293"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">PUBREL &lt;Packet Identifier&gt;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c46">&nbsp;</span></p></td></tr><tr class="c92"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">----------&gt;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c46">&nbsp;</span></p></td></tr><tr class="c293"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">Discard &lt;Packet Identifier&gt;</span></p></td></tr><tr class="c293"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c46">&nbsp;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">Send PUBCOMP &lt;Packet Identifier&gt;</span></p></td></tr><tr class="c92"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c46">&nbsp;</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">&lt;----------</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td></tr><tr class="c138"><td class="c113" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">Discard stored state</span></p></td><td class="c98" colspan="1" rowspan="1"><p class="c145 c75"><span class="c8 c32">&nbsp;</span></p></td><td class="c157" colspan="1" rowspan="1"><p class="c12 c75"><span class="c8 c32">&nbsp;</span></p></td></tr></table><p class="c25 c136"><span class="c204">1 </span><span>T</span><span>he receiver does not need to complete delivery of the Application Message before sending the </span><span>PUBREC or</span><span>&nbsp;PUBCOMP.</span><span>&nbsp;When its original sender receives the PUBREC packet, ownership of the Application Message is transferred to the receiver. However, the receiver needs to perform all checks for conditions which might result in a forwarding failure (e.g. quota exceeded, authorization, etc.) before accepting ownership. The receiver indicates success or failure using the appropriate Reason Code in the PUBREC.</span></p><h2 class="c21" id="h.6udnv5yl5cv5"><span class="c55 c46 c37">4.4 Packet delivery retry</span></h2><p class="c3"><span class="c8 c32">There are two situations when packets that require acknowledgement are resent by the sender:</span></p><ol class="c137 lst-kix_462e54846fbo-0 start" start="1"><li class="c95 c187 li-bullet-0"><span>when a Virtual Connection is deleted before the acknowledgement is received by the requester (and Clean Start is 0)</span></li><li class="c95 c187 li-bullet-0"><span class="c8 c32">when no acknowledgment is received by the requester within a configured timeout period during the existence of a Virtual Connection</span></li></ol><p class="c155 c154 c148"><span class="c8 c32">These two situations are described in the following two sections.</span></p><h3 class="c21" id="h.kc8msbstg9e"><span class="c38 c37">4.4.1 Virtual Connection End</span></h3><p class="c25"><span class="c50 c29">When a Client reconnects with Clean Start set to 0 and a Session is present, both the Client and Server MUST resend any </span><span class="c50 c29">unacknowledged PUBLISH packets</span><sup><a href="#cmnt45" id="cmnt_ref45">[as]</a></sup><sup><a href="#cmnt46" id="cmnt_ref46">[at]</a></sup><span class="c50 c29">&nbsp;(where QoS &gt; 0) and PUBREL packets using their original Packet Identifiers</span><span class="c70 c50 c29">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.4-1].</span></p><p class="c25"><span class="c50 c29">If PUBACK or PUBREC is received containing a Reason Code of 0x80 or greater the corresponding PUBLISH packet is treated as acknowledged, and MUST NOT be retransmitted</span><span class="c50">&nbsp;</span><span class="c70 c50">[MQTT-SN-4.4-2]</span><span class="c39 c32 c37">. </span></p><p class="c25"><span class="c50 c29">The DUP flag MUST be set to 1 by the Client or Server when it attempts to re-deliver or retransmit a PUBLISH QoS 2 packet.</span><span class="c50">&nbsp;</span><span class="c70 c50">[MQTT-SN-4.4-3].</span><sup><a href="#cmnt47" id="cmnt_ref47">[au]</a></sup></p><h3 class="c43" id="h.17nz8yj"><span class="c38 c37">4.4.2 Unacknowledged Packets</span></h3><p class="c158 c12 c149 c154 c37"><span class="c0">The Client or Gateway will start a retransmission retry timer, T</span><span class="c0 c161">retry</span><span class="c0">, when </span><span class="c0">one of the following Packets is sent</span><span class="c8 c0">.</span></p><p class="c12 c149 c154 c37 c158"><span class="c0 c29">A Client MUST retransmit AUTH, REGISTER, PUBLISH (QoS 1 or 2, not 0), PUBREL, SLEEPREQ, SUBSCRIBE,</span><span class="c0 c29">&nbsp;</span><span class="c0 c29">UNSUBSCRIBE </span><span class="c0 c29">Packets</span><sup><a href="#cmnt48" id="cmnt_ref48">[av]</a></sup><span class="c0 c29">, including a PROTECTION encapsulation if there is one, after T</span><span class="c0 c161 c29">retry</span><span class="c10 c0 c29 c57">&nbsp;has passed or the Virtual Connection deleted.</span></p><p class="c158 c12 c149 c154 c37"><span class="c0 c29">A Gateway MUST retransmit PUBLISH (QoS 1 or 2, not 0), </span><span class="c0 c29">PUBREL </span><span class="c0 c29">Packets</span><sup><a href="#cmnt49" id="cmnt_ref49">[aw]</a></sup><span class="c0 c29">, including a PROTECTION encapsulation if there is one, after T</span><span class="c0 c161 c29">retry</span><span class="c0 c29">&nbsp;has passed </span><span class="c0 c29">or the Virtual Connection deleted</span><sup><a href="#cmnt50" id="cmnt_ref50">[ax]</a></sup><span class="c10 c0 c29 c57">.</span></p><p class="c158 c12 c149 c154 c37"><span class="c0 c29">The timer is canceled if the corresponding acknowledgement packet is received. The Client or Gateway MUST retransmit the Packet after T</span><span class="c0 c161 c29">retry</span><span class="c10 c0 c29 c57">&nbsp;has passed or delete the Virtual Connection.</span></p><p class="c158 c12 c149 c154 c37"><span class="c10 c0 c29 c57">If a Packet is retransmitted it MUST be identical to the previously transmitted Packet, the PROTECTION encapsulation need not be identical.</span></p><p class="c158 c12 c149 c154 c37"><span class="c0 c29">PUBLISH (used for QoS 0) and PUBLISH WITHOUT SESSION Packets MUST NOT be retransmitted.</span></p><p class="c158 c12 c106 c149 c37"><span class="c8 c63 c90">Informative comment</span></p><p class="c158 c12 c106 c149 c37"><span class="c0">The value of the retry interval T</span><span class="c0 c161">retry</span><span class="c8 c0">&nbsp;is not specified by the protocol, however, to be useful it ought to be longer than the network round trip time. If it is excessively long, the time taken to detect and retransmit lost Packets will also be excessively long. Implementers need to take care not to use a retry interval that might cause the network to become congested with retried Packets.</span></p><p class="c158 c12 c149 c154 c37"><span class="c0">The PINGREQ Packet described in </span><span class="c31 c0"><a class="c36" href="#h.13qzunr">section 3.14</a></span><span class="c0">&nbsp;can </span><span class="c0">also </span><sup><a href="#cmnt51" id="cmnt_ref51">[ay]</a></sup><span class="c0">be used to determine whether the </span><span class="c0">Virtual Connection </span><span class="c8 c0">exists.</span></p><h3 class="c21" id="h.1csj400"><span class="c0">4.4.3 </span><span class="c183"><a class="c36" href="#h.1csj400">Exponential Backoff</a></span><span class="c38 c37">&nbsp;(informative)</span></h3><p class="c69 c166"><span class="c10 c0 c37 c54">The following error handling strategy should be used for networked devices to avoid overwhelming recipient network entities whilst providing for efficient reestablishment handling. The client shall periodically retry a failed packet with increasing delays between attempts, constrained by a max retry time and interleaved with a suitable seed of randomness.</span></p><p class="c69 c166"><span class="c10 c15 c54">Algorithm:</span></p><p class="c69 c166"><span class="c10 c0 c37 c54">An exponential backoff algorithm retries requests exponentially, increasing the waiting time between retries up to a maximum backoff time. For example:</span></p><ol class="c137 lst-kix_list_18-0 start" start="1"><li class="c106 c187 c148 c343 li-bullet-0"><span class="c10 c0 c37 c54">Initial packet sent.</span></li><li class="c2 li-bullet-0"><span class="c10 c0 c37 c54">If the operation fails, wait 1000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c2 li-bullet-0"><span class="c10 c0 c37 c54">If the operation fails, wait 2000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c2 li-bullet-0"><span class="c10 c0 c37 c54">If the operation fails, wait 4000 + (random number) milliseconds (ran) and retry the operation.</span></li><li class="c2 li-bullet-0"><span class="c0 c54">Continued, up to a maximum backoff </span><span class="c0 c50 c119">M</span><span class="c0 c16 c50">BACKOFF</span><span class="c10 c0 c37 c54">.</span></li><li class="c106 c187 c148 c252 li-bullet-0"><span class="c0 c54">Continue waiting and retrying up to some maximum number of retries,</span><sup><a href="#cmnt52" id="cmnt_ref52">[az]</a></sup><span class="c10 c0 c37 c54">&nbsp;but do not increase the wait period between retries.</span></li></ol><p class="c69 c166"><span class="c0 c54">The wait time </span><span class="c0 c4">is </span><span class="c283">min(((2^n * sf) + ran), max)</span><span class="c0 c4">&nbsp;</span><span class="c10 c0 c37 c54">with n incremented by 1 for each iteration (or operation) and the scaling factor (sf) being set to some reasonable value (suggested 1000 as in the example above). </span></p><p class="c69 c166"><span class="c0 c54">The random number helps to avoid cases where many clients are synchronized by some situation, and all retry at once. The value of the random number ran is recalculated after each retry. The random number (ran) should be no larger than the scaling factor (sf).</span></p><h2 class="c21" id="h.xoc2pfhnyfst"><span class="c55 c46 c37">4.5 Application Message receipt</span></h2><p class="c25"><span class="c29">When a Server takes ownership of an incoming Application Message it MUST add it to the Session State for those Clients that have matching Subscriptions</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.5-1]</span><span>. Matching rules are defined in </span><span class="c31"><a class="c36" href="#h.g7vjj8m1vj3z">section 4.7</a></span><span class="c31 c32 c37 c122">.</span></p><p class="c25"><span>Under normal circumstances Clients receive </span><span class="c0 c29">Application </span><span>M</span><span>essages in response to Subscriptions they have created. A Client could also receive </span><span class="c0 c29">Application </span><span>M</span><span>essages that do not match any of its explicit Subscriptions. This can happen if the Server automatically assigned a subscription to the Client. A Client could also receive </span><span class="c0 c29">Application </span><span>M</span><span>essages while an UNSUBSCRIBE operation is in progress. </span><span class="c29">The Client MUST acknowledge any Publish packet it receives according to the applicable QoS rules regardless of whether it elects to process the Application Message that it contains</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.5-2]</span><span class="c8 c32">.</span></p><h2 class="c21" id="h.rrfw7sclv8s"><span class="c55 c46 c37">4.6 Application Message ordering</span></h2><p class="c25"><span>An Ordered Topic is a Topic where the Client can be certain that the Application Messages in that Topic from the same Client and at the same QoS are received in the order they were published. </span><span class="c29">When a Server processes a </span><span class="c0 c29">Application </span><span class="c29">M</span><span class="c29">essage that has been published to an Ordered Topic, it MUST send PUBLISH packets to consumers (for the same Topic and QoS) in the order that they were received from any given Client </span><span class="c70">[MQTT-SN-4.6-1]</span><span class="c8 c32">.</span></p><p class="c25"><span class="c29">By default, a Server MUST treat every Topic as an Ordered Topic when it is forwarding </span><span class="c0 c29">Application </span><span class="c29">M</span><span class="c29">essages</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.6-2]</span><span class="c8 c32">. A Server MAY provide an administrative or other mechanism to allow one or more Topics to not be treated as an Ordered Topic.</span></p><p class="c25 c136"><span class="c8 c46">Informative comment</span></p><p class="c25 c136"><span class="c8 c32">When a stream of messages is published and subscribed to an Ordered Topic with QoS 1, the final copy of each message received by the subscribers will be in the order that they were published.</span></p><p class="c25 c136"><span>As no more than one message is &ldquo;in-flight&rdquo; at any one time, no QoS 1 message will be received after any later one even on re-connection. For example a subscriber might receive them in the order 1,2,3,3,4 but not 1,2,3,2,3,</span><span class="c8 c32">4. </span></p><h2 class="c156 c149 c154 c210" id="h.sznt7pux1885"><span class="c55 c46 c37">4.7 Topics</span></h2><h3 class="c156 c149 c154 c210" id="h.g7vjj8m1vj3z"><span>4.7.1 Topic Names and Topic </span><span>Filters</span></h3><p class="c155 c154 c148"><span>T</span><span class="c8 c32">opic Names are a label for a message, consisting of a series of topic levels, each level separated by the topic level separator. </span></p><p class="c155 c154 c148"><span class="c8 c32">Topic Filters can match several Topic Names by replacing the topic levels with wildcards.</span></p><h4 class="c21" id="h.q0s32id4lv9p"><span class="c9">4.7.1.1 Topic wildcards</span></h4><p class="c25 c107"><span class="c0">The topic level separator is used to introduce structure into the Topic Name. If present, it divides the Topic Name into multiple &ldquo;topic levels&rdquo;.</span></p><p class="c25 c107"><span class="c8 c0">A subscription&rsquo;s Topic Filter can contain special wildcard characters, which allow a Client to subscribe to multiple topics at once.</span></p><p class="c25 c107"><span class="c0 c29">A Topic Name, the target of a PUBLISH packet, MUST NOT contain special </span><span class="c0 c29">wildcard characters. </span><span class="c0 c70">[MQTT-SN-4.7.1-1]</span><span class="c8 c0">. </span></p><h5 class="c21" id="h.3kbulner4ob4"><span class="c9">4.7.1.1.1 Topic level separator</span></h5><p class="c25 c107"><span class="c0">The forward slash (&lsquo;/&rsquo; U+002F) is used to separate each level within a topic tree and provide a hierarchical structure to the Topic Names. </span><span class="c8 c0">The use of the topic level separator is significant when either of the two wildcard characters is encountered in Topic Filters specified by subscribing Clients. Topic level separators can appear anywhere in a Topic Filter or Topic Name. Adjacent Topic level separators indicate a zero-length topic level.</span></p><h5 class="c21" id="h.ychcrpqsu69r"><span class="c9">4.7.1.1.2 Multi-level wildcard</span></h5><p class="c25 c107"><span class="c0">The number sign (&lsquo;#&rsquo; U+0023) is a wildcard character that matches any number of levels within a topic. The multi-level wildcard represents the parent and any number of child levels. </span><span class="c0 c29">The multi-level wildcard character MUST be specified either on its own or following a topic level separator. In either case it MUST be the last character specified in the Topic Filter</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.7.1.2-1]</span><span class="c8 c0">.</span></p><p class="c25 c136 c148"><span class="c8 c63 c90">Informative comment</span></p><p class="c25 c136 c148"><span class="c0">For example, if a Client subscribes to &ldquo;sport/tennis/player1/#&rdquo;, it would receive </span><span class="c0 c29">Application </span><span class="c0">M</span><span class="c8 c0">essages published using these Topic Names:</span></p><ul class="c137 lst-kix_25zuex9fsrpn-0 start"><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;sport/tennis/player1&rdquo;</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;sport/tennis/player1/ranking</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c150">&nbsp;</span><span class="c8 c0">&ldquo;sport/tennis/player1/score/wimbledon&rdquo;</span></li></ul><p class="c25 c136 c148"><span class="c8 c63 c90">Informative comment</span></p><ul class="c137 lst-kix_3lachvmklkpr-0 start"><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;sport/#&rdquo; also matches the singular &ldquo;sport&rdquo;, since # includes the parent level.</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;#&rdquo; is valid and will receive every Application Message</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;sport/tennis/#&rdquo; is valid</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;sport/tennis#&rdquo; is not valid</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;sport/tennis/#/ranking&rdquo; is not valid</span></li></ul><h5 class="c21" id="h.x4yye38w41vd"><span class="c9">4.7.1.1.3 Single-level wildcard</span></h5><p class="c25 c107"><span class="c8 c0">The plus sign (&lsquo;+&rsquo; U+002B) is a wildcard character that matches only one topic level. </span></p><p class="c25 c107"><span class="c0 c29">The single-level wildcard can be used at any level in the Topic Filter, including first and last levels. Where it is used, it MUST occupy an entire level of the filter</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.7.1.3-1]</span><span class="c8 c0">. It can be used at more than one level in the Topic Filter and can be used in conjunction with the multi-level wildcard.</span></p><p class="c25 c136 c148"><span class="c8 c63 c90">Informative comment</span></p><p class="c25 c136 c148"><span class="c8 c0">For example, &ldquo;sport/tennis/+&rdquo; matches &ldquo;sport/tennis/player1&rdquo; and &ldquo;sport/tennis/player2&rdquo;, but not &ldquo;sport/tennis/player1/ranking&rdquo;. Also, because the single-level wildcard matches only a single level, &ldquo;sport/+&rdquo; does not match &ldquo;sport&rdquo; but it does match &ldquo;sport/&rdquo;.</span></p><ul class="c137 lst-kix_g0hqdl2at9s-0 start"><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;+&rdquo; is valid</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;+/tennis/#&rdquo; is valid</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;sport+&rdquo; is not valid</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;sport/+/player1&rdquo; is valid</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;/finance&rdquo; matches &ldquo;+/+&rdquo; and &ldquo;/+&rdquo;, but not &ldquo;+&rdquo; </span></li></ul><h4 class="c21" id="h.p61p07rh2x26"><span class="c9">4.7.1.2 &nbsp;Topics beginning with $</span></h4><p class="c25 c107"><span class="c0 c29">The Server MUST NOT match Topic Filters starting with a wildcard character (# or +) with Topic Names beginning with a $ character</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.7.2-1]</span><span class="c8 c0">. The Server SHOULD prevent Clients from using such Topic Names to exchange messages with other Clients. Server implementations MAY use Topic Names that start with a leading $ character for other purposes.</span></p><p class="c25 c136 c148"><span class="c8 c63 c90">Informative comment</span></p><ul class="c137 lst-kix_9xfwu95yhj84-0 start"><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">$SYS/ has been widely adopted as a prefix to topics that contain Server-specific information or control APIs</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c150">&nbsp;</span><span class="c8 c0">Applications cannot use a topic with a leading $ character for their own purposes</span></li></ul><p class="c25 c136 c148"><span class="c8 c63 c90">Informative comment</span></p><ul class="c137 lst-kix_xx0koyk92fk7-0 start"><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">A subscription to &ldquo;#&rdquo; will not receive any messages published to a topic beginning with a $</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">A subscription to &ldquo;+/monitor/Clients&rdquo; will not receive any messages published to &ldquo;$SYS/monitor/Clients&rdquo;</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">A subscription to &ldquo;$SYS/#&rdquo; will receive messages published to topics beginning with &ldquo;$SYS/&rdquo;</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">A subscription to &ldquo;$SYS/monitor/+&rdquo; will receive messages published to &ldquo;$SYS/monitor/Clients&rdquo;</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">For a Client to receive messages from topics that begin with $SYS/ and from topics that don&rsquo;t begin with a $, it has to subscribe to both &ldquo;#&rdquo; and &ldquo;$SYS/#&rdquo;</span></li></ul><h4 class="c21" id="h.rvcur5x0am"><span class="c9">4.7.1.3 Topic semantic and usage</span></h4><p class="c25 c107"><span class="c8 c0">The following rules apply to Topic Names and Topic Filters:</span></p><ul class="c137 lst-kix_dh16vo1krifc-0 start"><li class="c25 c96 c148 li-bullet-0"><span class="c0 c29">All Topic Names and Topic Filters MUST be at least one character long</span><span class="c0">&nbsp;</span><span class="c10 c0 c70 c37">[MQTT-SN-4.7.3-1]</span></li><li class="c25 c96 c148 li-bullet-0"><span class="c8 c0">Topic Names and Topic Filters are case sensitive</span></li><li class="c25 c96 c148 li-bullet-0"><span class="c8 c0">Topic Names and Topic Filters can include the space character</span></li><li class="c25 c96 c148 li-bullet-0"><span class="c8 c0">A leading or trailing &lsquo;/&rsquo; creates a distinct Topic Name or Topic Filter</span></li><li class="c25 c96 c148 li-bullet-0"><span class="c8 c0">A Topic Name or Topic Filter consisting only of the &lsquo;/&rsquo; character is valid</span></li><li class="c25 c96 c148 li-bullet-0"><span class="c0 c29">Topic Names and Topic Filters MUST NOT include the null character (Unicode U+0000)</span><span class="c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1743262498592635&amp;usg=AOvVaw2HBxMF73SNJoUBoWD3uShm">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html%23Unicode&amp;sa=D&amp;source=editors&amp;ust=1743262498592753&amp;usg=AOvVaw2A7ofYtDIsHZ1yXB9utKiH">[Unicode]</a></span><span class="c0">&nbsp;</span><span class="c10 c0 c70 c37">[MQTT-SN-4.7.3-2]</span></li><li class="c25 c96 c148 li-bullet-0"><span class="c0 c29">Topic Names and Topic Filters are UTF-8 Encoded Strings; they MUST NOT encode to more than 65,535 bytes</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.7.3-4]</span><span class="c0">. Refer to </span><span class="c31 c0"><a class="c36" href="#h.49x2ik5">section 1.7.4</a></span><span class="c8 c0">.</span></li></ul><p class="c25 c107"><span class="c8 c0">There is no limit to the number of levels in a Topic Name or Topic Filter, other than that imposed by the overall length of a UTF-8 Encoded String.</span></p><p class="c25 c107"><span class="c0 c29">When it performs subscription matching the Server MUST NOT perform any normalization of Topic Names or Topic Filters, or any modification or substitution of unrecognized characters</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.7.3-4]</span><span class="c8 c0">. Each non-wildcarded level in the Topic Filter has to match the corresponding level in the Topic Name character for character for the match to succeed.</span></p><p class="c25 c107"><span class="c0 c223">&nbsp;</span><span class="c8 c63 c90">Informative comment</span></p><p class="c25 c136 c148"><span class="c0">The UTF-8 encoding rules mean that the comparison of Topic Filter and Topic Name could be performed either by comparing the encoded UTF-8 bytes, or by comparing decoded Unicode </span><span class="c0">characters</span><span class="c8 c0">.</span></p><p class="c25 c107"><span class="c0">&nbsp;</span><span class="c8 c63 c90">Informative comment</span></p><ul class="c137 lst-kix_mu44woos9jdi-0 start"><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;ACCOUNTS&rdquo; and &ldquo;Accounts&rdquo; are two different Topic Names</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c8 c0">&ldquo;Accounts payable&rdquo; is a valid Topic Name</span></li><li class="c25 c129 c148 li-bullet-0"><span class="c0">&ldquo;/finance&rdquo; is different from &ldquo;finance&rdquo;</span><span class="c8 c63 c90">&nbsp;</span></li></ul><p class="c25 c107"><span class="c8 c0">An Application Message is sent to each Client Subscription whose Topic Filter matches the Topic Name attached to an Application Message. The topic resource MAY be either predefined in the Server by an administrator or it MAY be dynamically created by the Server when it receives the first subscription or an Application Message with that Topic Name. The Server MAY also use a security component to authorize particular actions on the topic resource for a given Client.</span></p><h3 class="c43" id="h.1fyl9w3"><span class="c38 c37">4.7.2 Topic Aliases</span></h3><p class="c3"><span class="c0">A Topic Alias is an integer value that is used to identify the Topic instead of using the Topic Name. This reduces the size of the PUBLISH packet, and is useful when the Topic Names are long and the same Topic Names are used repetitively within a Virtual Connection.</span></p><h4 class="c21" id="h.9in506fc1wsl"><span class="c9">4.7.2.1 Topic Registration</span></h4><p class="c143"><span class="c8 c0">A Topic Alias is a two-byte long replacement of the string-based topic name. A client needs to use the REGISTER procedure to inform the gateway about the topic name it wants to employ and gets the corresponding topic alias from the gateway. It then will use this topic alias in the PUBLISH packets it sends to the gateway. In the opposite direction, the PUBLISH packets also contain a 2-byte topic alias (instead of the string-based topic name). The client is informed about the relation between topic alias and topic name by means of either a former SUBSCRIBE procedure, or a REGISTER procedure started by the gateway.</span></p><p class="c3"><span class="c0">To register a topic name a client sends a REGISTER packet to the Server. If the registration could be accepted, the gateway assigns a </span><span class="c0 c119">topic alias </span><span class="c8 c0">to the received topic name and returns it with a REGACK packet to the client. </span></p><p class="c3"><span class="c0">If the client initiates a REGISTER against a topic which is known by the Server to have a predefined topic alias associated with it,</span><span class="c0">&nbsp;it is an error case</span><span class="c0">, </span><span class="c0">but one which should not be terminal to the session since gateway updates could lead to this scenario.</span><sup><a href="#cmnt53" id="cmnt_ref53">[ba]</a></sup><sup><a href="#cmnt54" id="cmnt_ref54">[bb]</a></sup><sup><a href="#cmnt55" id="cmnt_ref55">[bc]</a></sup><span class="c0">&nbsp;The gateway will specify in the REGACK its topic alias type to be predefined and set the topic alias value to match that predefined on the gateway in the REGACK, </span><span class="c0">it will also set a reason code on the REGACK to indicate the issue</span><sup><a href="#cmnt56" id="cmnt_ref56">[bd]</a></sup><span class="c8 c0">. The client can then choose to update its registry of predefined topic aliases if it so wishes. </span></p><p class="c3"><span class="c0 c29">If a Client sends a PUBLISH to a predefined topic alias, which is not defined on the Server, this is considered a protocol error. </span><span>&nbsp;</span><span class="c70">[MQTT-SN-???]</span></p><p class="c3"><span class="c0">If there are no predefined topic aliases, the gateway will pass back a Session topic alias type. If the registration can not be accepted, a REGACK is also returned to the client with the failure reason encoded in the </span><span class="c0 c119">ReasonCode</span><span class="c0">&nbsp;field.</span><sup><a href="#cmnt57" id="cmnt_ref57">[be]</a></sup></p><p class="c3"><span class="c0">After having received the REGACK packet with </span><span class="c0 c119">ReasonCode =&ldquo;accepted&rdquo;</span><sup><a href="#cmnt58" id="cmnt_ref58">[bf]</a></sup><span class="c0">, the client shall use the assigned </span><span class="c0 c119">topic alias </span><span class="c0">to publish data of the corresponding topic name. If, however, the REGACK contains a rejection code, the client may try to register later again. If the Reason Code was </span><span class="c0 c119">&ldquo;Congestion&rdquo;</span><span class="c0">, the client should wait for a time </span><span class="c0 c119">T</span><span class="c0 c16">WAIT </span><span class="c8 c0">before restarting the registration procedure.</span></p><p class="c3"><span class="c8 c0">At any point in time a client may have only one REGISTER packet outstanding, i.e., it must wait for a REGACK packet before it can register another topic name.</span></p><p class="c3"><span class="c8 c0">A gateway sends a REGISTER packet to a client if it wants to inform that client about the topic name and the assigned topic alias that it will use later when sending PUBLISH packets of the corresponding topic name. This happens for example when no prior registrations exists, or when the client has DISCONNECTED with retain registration false, or the client re-connects without having set the &ldquo;CleanStart&rdquo; flag or the client has subscribed to topic names that contain wildcard characters such as # or +. </span></p><p class="c95"><span class="c8 c63 c90">Informative comment</span></p><p class="c95"><span class="c0 c4">The Gateway should attempt to make the best effort to reuse the same topic alias mappings that existed during any initial associated ACTIVE states.</span><span class="c10 c0 c37 c4">&nbsp;</span></p><h4 class="c21" id="h.3zy8sjw"><span class="c9">4.7.2.2 Topic Mapping and Aliasing</span></h4><p class="c3"><span class="c0 c29">On the Gateway the mapping table between registered session Topic Aliases and topic names MUST be implemented per client (and not by a single shared pool between all clients), to reduce the risk of an incorrect topic alias from a client matching another client&rsquo;s valid topic.</span></p><p class="c3"><span class="c8 c0">For performance and efficiency reasons the broker may choose to align topic aliases for registered session topic aliases between multiple clients. The mapping table of predefined topic aliases is separate from session normal registered aliases. It is global and shared between all clients and gateways and may overlap with session registered aliases, since it is in a different pool.</span></p><h4 class="c43" id="h.2f3j2rp"><span class="c0">4</span><span>.</span><span class="c15 c93 c117">7.2.3 Predefined topic aliases and short topic names</span></h4><p class="c48"><span class="c0">A &ldquo;predefined&rdquo; topic alias is a topic alias whose mapping to a topic name is known in advance by both the client&rsquo; application and the gateway. This is indicated in the </span><span class="c0 c119">Flags </span><span class="c0">field of the packet. When using pre-defined topic aliases, both sides can start immediately with the sending of PUBLISH packets; there is no need for the REGISTER procedure as in the case of Session&rdquo;normal&rdquo; topic aliases. When receiving a PUBLISH packet with a predefined topic alias, of which the mapping to a topic name is unknown, the receiver should return a PUBACK with the </span><span class="c0 c119">ReasonCode= &ldquo;</span><span class="c0">Unknown Topic Alias</span><span class="c0 c119">&rdquo;</span><span class="c8 c0">.</span></p><p class="c48"><span class="c0 c29">The presence of a pre-defined topic alias does not imply any other meaning onto the topic name / topic filter itself. All lifecycle operations, for example SUBSCRIBE / UNSUBSCRIBE may still be used in the use of these aliases except for REGISTER.</span></p><p class="c69 c306"><span class="c8 c0">A &ldquo;short&rdquo; topic name is a topic name that has a fixed length of two bytes. It could be carried together with the data within a PUBLISH packet, thus no REGISTER procedure is needed for a short topic name. Otherwise, all rules that apply to session normal topic names also apply to short topic names. Note however that it does not make sense to do wildcarding in subscriptions to short topic names, because it is not possible to define a meaningful name hierarchy with only two characters.</span></p><h4 class="c43" id="h.u8tczi"><span class="c9">4.7.2.4 Client Topic Subscribe/Unsubscribe Procedure</span></h4><p class="c220 c154 c148 c240"><span class="c0">To subscribe to a topic name, a client sends a SUBSCRIBE packet to the gateway with the Topic Filter included in that packet. If the gateway is able accept the subscription, it assigns a topic alias to the received topic name and returns it within a SUBACK packet to the client. If the subscription cannot be accepted, then a SUBACK packet is also returned to the client with the rejection cause encoded in the </span><span class="c0 c119">ReasonCode </span><span class="c0">field. </span><span class="c0">If the rejection cause is </span><span class="c0 c119">&ldquo;Congestion&rdquo;</span><sup><a href="#cmnt59" id="cmnt_ref59">[bg]</a></sup><span class="c0">, the client should wait for the time </span><span class="c0 c119">T</span><span class="c0 c16">WAIT </span><span class="c8 c0">before resending the SUBSCRIBE packet to the gateway.</span></p><p class="c48"><span class="c8 c0">If the client subscribes to a Topic Filter which contains a wildcard character, the returning SUBACK packet will contain the topic data alias value 0x0000. The gateway will use the REGISTER packet to inform the client about the to-be-used topic alias value when it has the first PUBLISH packet with a matching topic name to be sent to the client.</span></p><p class="c48"><span class="c8 c0">Similar to the client&rsquo;s PUBLISH procedure, Topic Aliases may also be predefined for certain topic names. Short topic names may be used as well. In those two cases the client still needs to subscribe to those predefined topic aliases or short topic names.</span></p><p class="c48"><span class="c8 c0">To unsubscribe, a client sends an UNSUBSCRIBE packet to the gateway, which will then be answered by means of an UNSUBACK packet.</span></p><p class="c3"><span class="c8 c0">As for the REGISTER procedure, a client may have only one SUBSCRIBE or one UNSUBSCRIBE transaction open at a time.</span></p><h3 class="c43" id="h.3e8gvnb"><span class="c38 c37">4.7.2.5 Client Publish Procedure</span></h3><p class="c134"><span class="c0">After having registered successfully a topic name with the gateway, the client can start publishing data relating to the registered topic name by sending PUBLISH packets to the gateway. </span><span class="c0">The PUBLISH packets contain the assigned topic alias.</span><sup><a href="#cmnt60" id="cmnt_ref60">[bh]</a></sup></p><p class="c48"><span class="c8 c0">All three QoS levels and their corresponding packet flows are supported as defined in MQTT. The only difference is the use of topic alias instead of topic names in the PUBLISH packets.</span></p><p class="c3"><span class="c0">For QoS 1 or 2 PUBLISH packets the client may receive in response to its </span><span class="c0">PUBLISH an error reason code</span><span class="c8 c0">:</span></p><ul class="c137 lst-kix_list_5-0 start"><li class="c132 c154 c148 c225 li-bullet-3"><span class="c0">The </span><span class="c0 c119">ReasonCode= &ldquo;</span><span class="c0">Unknown Topic Alias</span><span class="c0 c119">&rdquo;</span><span class="c8 c0">: in this case the client needs to register the topic name again before it can publish data related to that topic name; or</span></li><li class="c154 c225 c148 c311 li-bullet-4"><span class="c0">The </span><span class="c0 c119">ReasonCode= &ldquo;Congestion&rdquo;</span><span class="c0">: in this the client shall stop publishing toward the gateway for at least the time </span><span class="c0 c119">T</span><span class="c0 c16">WAIT</span><span class="c8 c0">.</span></li></ul><p class="c3"><span class="c0">A Client or Gateway processes a single outbound QoS 1 or QoS 2 message at a time</span><span class="c8 c0">. This prevents retransmitted Qos 1 and Qos 2 messages from being received out of order. </span></p><p class="c110"><span class="c8 c63 c90">Informative Comment</span></p><p class="c110"><span class="c8 c0">It is possible to publish QoS 0 or PUBWOS packets in the middle of a QoS 1 or QoS 2 exchange, because neither of those packets include a Packet Identifier.</span></p><p class="c3"><span class="c0 c29">A Client MUST NOT send a Qos 1 or Qos 2 PUBLISH packet with a new Application Message until it has received a PUBACK or PUBCOMP Packet with the Packet Identifier corresponding to the PUBLISH packet previously sent </span><span class="c10 c0 c70 c37">[MQTT-SN-4.21-1].</span></p><h3 class="c43" id="h.1tdr5v4"><span class="c38 c37">4.7.2.6 Gateway Publish Procedure</span></h3><p class="c134"><span class="c0">Like the client publish procedure described in </span><span class="c31 c0"><a class="c36" href="#h.3e8gvnb">Section 4.7.2.5</a></span><span class="c8 c0">, the gateway sends PUBLISH packets with the topic alias value that was returned in the SUBACK packet to the client.</span></p><p class="c48"><span class="c8 c0">Preceding the PUBLISH packet the gateway may send a REGISTER packet to inform the client about the topic name and its assigned topic alias value. This will happen for example when the client re-connects without a clean start or has subscribed to topic names with wildcard characters. Upon receiving a REGISTER packet the client replies with a REGACK packet. The gateway will wait for the REGACK packet before it sends the PUBLISH packet to the client.</span></p><p class="c48"><span class="c8 c0">The client could reject the REGISTER packet with a REGACK packet indicating the rejection reason; this corresponds to an unsubscribe to the topic name indicated in the REGISTER packet. Note that unsubscribe to a topic name with wildcard characters can only be done with the unsubscribe procedure and not with the rejection of a REGISTER packet, since a REGISTER packet never contains a topic name with wildcard characters.</span></p><p class="c69 c220"><span class="c0">If the client receives a PUBLISH packet with an unknown topic alias value, it shall respond with a PUBACK packet with the </span><span class="c0 c119">ReasonCode=&ldquo;</span><span class="c0">Unknown Topic Alias</span><span class="c0 c119">&rdquo;</span><span class="c8 c0">. This will trigger the gateway to delete or correct the wrong topic alias assignment.</span></p><p class="c48"><span class="c8 c0">Note that in case either the topic name or the data is too long to fit into a REGISTER or a PUBLISH packet, the gateway silently aborts the publish procedure, i.e. no warning is sent to the affected subscribers.</span></p><p class="c104 c69"><span class="c0 c29">A Gateway MUST NOT send a Qos 1 or Qos 2 PUBLISH packet with a new Application Message until it has received a PUBACK or PUBCOMP Packet with the Packet Identifier corresponding to the PUBLISH packet previously sent.</span></p><h2 class="c21" id="h.zh9mgr3i86c2"><span class="c55 c46 c37">4.8 Subscriptions</span></h2><p class="c25"><span class="c8 c32">A Subscription is associated only with the Session that created it. Each Subscription includes a Topic Filter, indicating the topic(s) for which messages are to be delivered on that Session, and Subscription Options. The Server is responsible for collecting messages that match the subscription and transmitting them on the Session&#39;s Virtual Connection if and when that Virtual Connection exists.</span></p><p class="c25"><span class="c8 c32">A Session cannot have more than one Subscription with the same Topic Filter, so the Topic Filter can be used as a key to identify the subscription within that Session.</span></p><p class="c25"><span class="c8 c32">If there are multiple Clients, each with its own Subscription to the same Topic, each Client gets its own copy of the Application Messages that are published on that Topic. This means that the Subscriptions cannot be used to load-balance Application Messages across multiple consuming Clients as in such cases every message is delivered to every subscribing Client.</span></p><h2 class="c66 c156 c56" id="h.bfojn6tjnvgm"><span class="c46 c37 c55">4.9 Flow Control</span></h2><p class="c216 c154"><span>The maximum number of unacknowledged MQTT-SN requests in one direction within a Virtual Connection for both Clients and Servers is 1. The packets </span><span>which need acknowledgement </span><span class="c8 c32">and are included in this constraint are:</span></p><ul class="c137 lst-kix_q0297iomcqw0-0 start"><li class="c216 c106 c187 li-bullet-0"><span class="c8 c32">PUBLISH (QoS 1 and 2), PUBREC and PUBREL</span></li><li class="c216 c106 c187 li-bullet-0"><span class="c8 c32">REGISTER</span></li><li class="c216 c106 c187 li-bullet-0"><span class="c8 c32">SUBSCRIBE</span></li><li class="c216 c106 c187 li-bullet-0"><span class="c8 c32">UNSUBSCRIBE</span></li><li class="c106 c187 c216 li-bullet-0"><span class="c8 c32">PINGREQ</span></li><li class="c216 c106 c187 li-bullet-0"><span class="c8 c32">SLEEPREQ</span></li><li class="c216 c106 c187 li-bullet-0"><span class="c8 c32">AUTH</span></li></ul><p class="c216 c154"><span>I</span><span class="c29">f a Client or Server receives an MQTT-SN request (from the above list) and there is already a request outstanding from the other party within the same Virtual Connection and a different Packet Identifier, then it MUST issue a DISCONNECT with Reason Code 147 (Receive Maximum Exceeded) and delete the Virtual Connection</span><span>&nbsp;</span><span class="c10 c32 c70 c37">[MQTT-SN-4.9-1].</span></p><p class="c25"><span class="c0 c29">A</span><span class="c0 c29">&nbsp;Server or Client MUST NOT send a new Packet of a type from the above list, when it has an acknowledgement outstanding for another Packet for which it has not received an acknowledgement </span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-3.3.4-7]</span><span class="c0">. </span></p><p class="c25"><span class="c0">A sender MAY retry a request (send the same Packet) when it is expecting an acknowledgement and none has been received. See </span><span class="c31 c0"><a class="c36" href="#h.6udnv5yl5cv5">section 4.4</a></span><span class="c8 c0">&nbsp;for more information on Packet retries.</span></p><p class="c25 c136"><span class="c8 c63 c90">Informative comment</span></p><p class="c25 c136"><span class="c8 c0">The Sender might choose to suspend the sending of QoS 0 PUBLISH packets when it suspends the sending of QoS 1 and QoS 2 PUBLISH packets because a request is outstanding.</span></p><p class="c216 c154"><span>Refer to </span><span class="c31"><a class="c36" href="#h.3hu8nopr74va">section 3.12.7</a></span><span class="c8 c32">&nbsp;for a description of how Clients and Servers react if they are sent more than one unacknowledged packet.</span></p><h2 class="c21" id="h.k5nujtaz6h05"><span class="c55 c46 c37">4.10 Server redirection</span></h2><p class="c25"><span>A Server can request that the Client uses another Server by sending a CONNACK or DISCONNECT packet with Reason Codes 0x9C (Use another server), or 0x9D (Server moved) </span><span>as described in</span><span class="c31"><a class="c36" href="#h.v8vlgf6xm72a">&nbsp;section 4.12</a></span><span class="c8 c32">. </span></p><p class="c25"><span class="c8 c32">The Reason Code 0x9C (Use another server) specifies that the Client SHOULD temporarily switch to using another Server. The other Server is already known to the Client.</span></p><p class="c25"><span class="c8 c32">The Reason Code 0x9D (Server moved) specifies that the Client SHOULD permanently switch to using another Server. The other Server is already known to the Client.</span></p><h2 class="c21" id="h.n3l7hni8c3ae"><span class="c55 c46 c37">4.11 Authentication</span></h2><p class="c155 c154 c148"><span class="c8 c32">The MQTT-SN CONNECT and AUTH packets contain Authentication Method and Data fields for use in authentication. </span></p><p class="c155 c154 c148"><span>Authentication in MQTT-SN is equivalent to Enhanced Authentication in MQTT 5.0. For an implementation of MQTT 3.1.1 Authentication or MQTT 5.0 Basic Authentication (User Name and Password), refer to </span><span class="c31"><a class="c36" href="#h.nhp24wh46om4">section 4.11.1.2</a></span><span class="c8 c32">.</span></p><p class="c155 c154 c148"><span class="c8 c32">Alternatively, the Underlying Network may support authentication technology, such as DTLS in the case that the Underlying Network is UDP. </span></p><h3 class="c21" id="h.wz7zobqrpqj8"><span class="c38 c37">4.11.1 CONNECT and AUTH packets</span></h3><p class="c25"><span>The a</span><span class="c8 c32">uthentication information in MQTT-SN CONNECT and AUTH packets allows a range of options from username and password to challenge / response style authentication. It might involve the exchange of AUTH packets between the Client and the Server after the CONNECT and before the CONNACK packets.</span></p><p class="c25"><span>To begin authentication, </span><span class="c0">the Client sets the AUTH flag in the CONNECT packet and</span><span>&nbsp;includes an Authentication Method and optionally Data, depending on the Authentication Method, used in the CONNECT packet. This specifies the authentication method to use and its parameters. </span><span class="c29">If the Server does not support the Authentication Method supplied by the Client, it MAY send a CONNACK with a Reason Code of 0x8C (Bad authentication method) or 0x87 (Not Authorized) as described in </span><span class="c14"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span class="c29">&nbsp;and MUST delet</span><span class="c29">e </span><span class="c29">the Virtual Connection </span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.10-1]</span><span class="c8 c32">.</span></p><p class="c25"><span>The Authentication Method is an agreement between the Client and Server about the meaning of the data sent in the Authentication Data </span><span>and optionally the Client Identifier</span><span class="c8 c32">, and the exchanges and processing needed by the Client and Server to complete the authentication.</span></p><p class="c25 c136"><span class="c8 c46">Informative comment</span></p><p class="c25 c136"><span>The Authentication Method is commonly a </span><span class="c31"><a class="c36" href="https://www.google.com/url?q=https://datatracker.ietf.org/doc/html/rfc4422&amp;sa=D&amp;source=editors&amp;ust=1743262498603426&amp;usg=AOvVaw0JH18DG-8MUln429Qvy_qx">SASL</a></span><span class="c8 c32">&nbsp;mechanism, and using such a registered name aids interchange. However, the Authentication Method is not constrained to using registered SASL mechanisms.</span></p><p class="c25"><span class="c8 c32">If the Authentication Method selected by the Client specifies that the Client sends data first, the Client SHOULD include the Authentication Data in the CONNECT packet. The contents of the Authentication Data are defined by the authentication method.</span></p><p class="c25"><span class="c29">If the Server requires additional information to complete the authentication, it can send an AUTH packet to the Client. This packet MUST contain a Reason Code of 0x18 (Continue authentication)</span><span>&nbsp;</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.10-2]</span><span class="c8 c32">. If the authentication method requires the Server to send authentication data to the Client, it is sent in the Authentication Data field of the AUTH packet.</span></p><p class="c25"><span class="c29">The Client responds to an AUTH packet from the Server by sending a further AUTH packet. This packet MUST contain a Reason Code of 0x18 (Continue authentication)</span><span>&nbsp;</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.10-3]</span><span class="c8 c32">. If the authentication method requires the Client to send authentication data for the Server, it is sent in the Authentication Data field of the AUTH packet.</span></p><p class="c25"><span class="c8 c32">The Client and Server exchange AUTH packets as needed until the Server accepts the authentication by sending a CONNACK with a Reason Code of 0. If the acceptance of the authentication requires data to be sent to the Client, it is sent in the Authentication Data field of the CONNACK packet.</span></p><p class="c25"><span>The Client can terminate</span><span>&nbsp;</span><span>the Virtual Connection at any point in this process by sending a DISCONNECT packet. </span><span class="c29">The Server can reject the authentication at any point in this process. It MUST send a CONNACK with a Reason Code of 0x80 or above as described in </span><span class="c14"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c70">&nbsp;</span><span class="c70">[MQTT-SN-4.10-4]</span><span class="c8 c32">.</span></p><p class="c25"><span class="c29">If the initial CONNECT packet included an Authentication Method then all AUTH packets, and any successful CONNACK packet MUST include an Authentication Method with the same value as in the CONNECT packet</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.10-5]</span><span class="c8 c32">.</span></p><p class="c25"><span class="c29">If the Client does not include an Authentication Method in the CONNECT, the Server MUST NOT send an AUTH packet, and it MUST NOT send an Authentication Method in the CONNACK packet</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.10-6]</span><span>. </span><span class="c29">If the Client does not include an Authentication Method in the CONNECT, the Client MUST NOT send an AUTH packet to the Server</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.10-7]</span><span class="c8 c32">.</span></p><p class="c25"><span>If the Client does not include an Authentication Method in the CONNECT packet, the Server SHOULD authenticate using some or all of the information in the CONNECT packet </span><span class="c0 c147">in conjunction with the underlying transport layer or alternatively use the Protection Encapsulation</span><span>.</span></p><p class="c25 c163"><span class="c8 c46">Informative example showing a SCRAM challenge</span></p><ul class="c137 lst-kix_swkzokqpq63-0 start"><li class="c25 c129 li-bullet-0"><span class="c8 c32">Client to Server: CONNECT Authentication Method=&quot;SCRAM-SHA-1&quot; Authentication Data=client-first-data</span></li><li class="c25 c129 li-bullet-0"><span class="c8 c32">Server to Client: AUTH rc=0x18 Authentication Method=&quot;SCRAM-SHA-1&quot; Authentication Data=server-first-data</span></li><li class="c25 c129 li-bullet-0"><span class="c8 c32">Client to Server AUTH rc=0x18 Authentication Method=&quot;SCRAM-SHA-1&quot; Authentication Data=client-final-data</span></li><li class="c25 c129 li-bullet-0"><span class="c8 c32">Server to Client CONNACK rc=0 Authentication Method=&quot;SCRAM-SHA-1&quot; Authentication Data=server-final-data</span></li></ul><p class="c25 c163"><span class="c8 c46">Informative example showing a Kerberos challenge</span></p><ul class="c137 lst-kix_16cnflin03zc-0 start"><li class="c25 c129 li-bullet-0"><span class="c8 c32">Client to Server CONNECT Authentication Method=&quot;GS2-KRB5&quot;</span></li><li class="c25 c129 li-bullet-0"><span class="c8 c32">Server to Client AUTH rc=0x18 Authentication Method=&quot;GS2-KRB5&quot;</span></li><li class="c25 c129 li-bullet-0"><span class="c8 c32">Client to Server AUTH rc=0x18 Authentication Method=&quot;GS2-KRB5&quot; Authentication Data=initial context token</span></li><li class="c25 c129 li-bullet-0"><span class="c8 c32">Server to Client AUTH rc=0x18 Authentication Method=&quot;GS2-KRB5&quot; Authentication Data=reply context token</span></li><li class="c25 c129 li-bullet-0"><span class="c8 c32">Client to Server AUTH rc=0x18 Authentication Method=&quot;GS2-KRB5&quot;</span></li><li class="c25 c129 li-bullet-0"><span class="c8 c32">Server to Client CONNACK rc=0 Authentication Method=&quot;GS2-KRB5&quot; Authentication Data=outcome of authentication</span></li></ul><h4 class="c21" id="h.ut22r1f7l7us"><span class="c9">4.11.1.1 Re-authentication</span></h4><p class="c25"><span class="c29">If the Client supplied an Authentication Method in the CONNECT packet, it can initiate a re-authentication at any time after receiving a CONNACK. It does this by sending an AUTH packet with a Reason Code of 0x19 (Re-authentication). The Client MUST set the Authentication Method to the same value as the Authentication Method originally used to authenticate the Virtual Connection</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.10.1-1]</span><span class="c8 c32">. If the authentication method requires Client data first, this AUTH packet contains the first piece of authentication data in the Authentication Data field.</span></p><p class="c25"><span class="c8 c32">The Server responds to this re-authentication request by sending an AUTH packet to the Client with a Reason Code of 0x00 (Success) to indicate that the re-authentication is complete, or a Reason Code of 0x18 (Continue authentication) to indicate that more authentication data is needed. The Client can respond with additional authentication data by sending an AUTH packet with a Reason Code of 0x18 (Continue authentication). This flow continues as with the original authentication until the re-authentication is complete or the re-authentication fails.</span></p><p class="c25"><span class="c29">If the re-authentication fails, the Client or Server MUST send DISCONNECT with an appropriate Reason Code as described in </span><span class="c14"><a class="c36" href="#h.v8vlgf6xm72a">section 4.12</a></span><span class="c29">, and MUST delete the Virtual Connection</span><span>&nbsp;</span><span class="c70">[MQTT-SN-4.10.1-2]</span><span class="c8 c32">.</span></p><p class="c25"><span>During this re-authentication sequence, the flow of other packets between the Client and Server is paused, pending the new authentication outcome.</span></p><p class="c25"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c8 c46">Informative comment</span></p><p class="c25 c136"><span class="c8 c32">The Server might limit the scope of the changes the Client can attempt in a re-authentication by rejecting the re-authentication. For instance, if the Server does not allow the User Name to be changed it can fail any re-authentication attempt which changes the User Name.</span></p><h4 class="c21" id="h.nhp24wh46om4"><span>4.11.1.2 MQTT </span><span>User Name</span><span class="c9">&nbsp;and Password Support</span></h4><p class="c155 c154 c148"><span>To support the equivalent of the MQTT </span><span>User Name</span><span class="c8 c32">&nbsp;and Password fields in the CONNECT packet, do the following:</span></p><ul class="c137 lst-kix_gsmtg2n7sdcx-0 start"><li class="c95 c187 li-bullet-0"><span>Set the </span><span class="c31"><a class="c36" href="#h.4ydjyi9y5y20">Authentication Method</a></span><span class="c8 c32">&nbsp;field to MQTT-BASIC.</span></li><li class="c95 c187 li-bullet-0"><span>Set the </span><span class="c31"><a class="c36" href="#h.g9mib2nvvlzy">Authentication Data</a></span><span class="c8 c32">&nbsp;field to to:</span></li></ul><ol class="c137 lst-kix_wn531e46f4wx-0 start" start="1"><li class="c115 li-bullet-0"><span>MQTT User Name: a Two Byte Integer length followed by </span><span>a UTF-8 Encoded String</span><span>&nbsp;as defined in </span><span class="c31"><a class="c36" href="#h.49x2ik5">section 1.7.4</a></span><span class="c8 c32">.</span></li><li class="c115 li-bullet-0"><span>MQTT Password: a Two Byte Integer length followed by binary data.</span></li></ol><p class="c25 c148"><span class="c8 c0">The User Name string and Password binary data must have the same length as the values in their corresponding preceding length fields.</span></p><p class="c25 c148"><span class="c8 c0">This is a one-way transfer of information - the response MUST be a CONNACK, not an AUTH packet.</span></p><p class="c25 c136 c148"><span class="c8 c63 c90">Informative comment</span></p><p class="c25 c136 c148"><span class="c8 c0">The length field in front of the password is not strictly necessary as the Authentication Data field length is known, but including it makes the transfer to and from the MQTT Connect packet simpler.</span></p><hr style="page-break-before:always;display:none;"><p class="c3 c62"><span class="c32 c57 c121 c37 c119 c116 c139"></span></p><p class="c3"><span class="c121 c119">Figure 4-6 &ndash; CONNECT with MQTT User Name and Password, informative example</span></p><p class="c25 c148"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 713.33px;"><img alt="" src="images/image28.png" style="width: 624.00px; height: 713.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c154 c148 c155"><span>To support the equivalent of the MQTT </span><span>User Name</span><span class="c8 c32">&nbsp;and Password together with MQTT Enhanced Authentication, in the CONNECT packet do the following:</span></p><ul class="c137 lst-kix_3yg2urdru3ev-0 start"><li class="c95 c187 li-bullet-0"><span>Set the </span><span class="c31"><a class="c36" href="#h.4ydjyi9y5y20">Authentication Method</a></span><span class="c8 c32">&nbsp;field to MQTT-ENHANCED.</span></li><li class="c95 c187 li-bullet-0"><span>Set the </span><span class="c31"><a class="c36" href="#h.g9mib2nvvlzy">Authentication Data</a></span><span class="c8 c32">&nbsp;field to:</span></li></ul><ol class="c137 lst-kix_3yg2urdru3ev-1 start" start="1"><li class="c115 li-bullet-0"><span>MQTT User Name: a Two Byte Integer length followed by a UTF-8 Encoded String as defined in </span><span class="c31"><a class="c36" href="#h.49x2ik5">section 1.7.4</a></span><span class="c8 c32">.</span></li><li class="c115 li-bullet-0"><span>MQTT </span><span class="c8 c32">Password: a Two Byte Integer length followed by binary data.</span></li><li class="c115 li-bullet-0"><span>MQTT Authentication Method: a Two Byte Integer length followed by a UTF-8 Encoded String as defined in </span><span class="c31"><a class="c36" href="#h.49x2ik5">section 1.7.4</a></span><span class="c8 c32">&nbsp;.</span></li><li class="c115 li-bullet-0"><span class="c8 c32">MQTT Authentication Data: a Two Byte Integer length followed by binary data.</span></li></ol><p class="c155 c154 c148"><span class="c8 c32">In any subsequent AUTH and CONNACK packets of the authentication exchange:</span></p><ol class="c137 lst-kix_jnzb1kcqssni-0 start" start="1"><li class="c95 c187 li-bullet-0"><span class="c8 c32">The MQTT User Name and MQTT Password fields MUST not be included.</span></li><li class="c95 c187 li-bullet-0"><span>The Authentication Method MUST remain MQTT-ENHANCED throughout.</span></li></ol><h2 class="c21" id="h.v8vlgf6xm72a"><span class="c55 c46 c37">4.12 Handling errors</span></h2><h3 class="c21" id="h.kbby30dtgah8"><span class="c38 c37">4.12.1 Malformed Packet and Protocol Errors</span></h3><p class="c25"><span>Definitions of Malformed Packet and Protocol Errors are contained in </span><span class="c31"><a class="c36" href="#h.17dp8vu">section 1.3</a></span><span class="c8 c32">, some but not all of these error cases are noted throughout the specification. The rigor with which a Client or Server checks an MQTT-SN Control Packet it has received will be a compromise between:</span></p><ul class="c137 lst-kix_wcx7cglfpdrv-0 start"><li class="c25 c96 li-bullet-0"><span class="c8 c32">The size of the Client or Server implementation.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">The capabilities that the implementation supports.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">The degree to which the receiver trusts the sender to send correct Control Packets.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">The degree to which the receiver trusts the network to deliver Control Packets correctly.</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">The consequences of continuing to process a packet that is incorrect.</span></li></ul><p class="c25"><span>If the sender is compliant with this specification it will not send Malformed Packets or cause Protocol Errors. </span><span>The Reason Codes used for Malformed Packet and Protocol Errors include:</span></p><ul class="c137 lst-kix_2nzowzum4fkx-0 start"><li class="c25 c96 li-bullet-0"><span class="c8 c32">0x81 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Malformed Packet</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">0x82 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Protocol Error</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">0x93 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive Maximum exceeded</span></li><li class="c25 c96 li-bullet-0"><span class="c8 c32">0x95 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Packet too large</span></li></ul><p class="c25"><span class="c29">When a Client detects a Malformed Packet or Protocol Error associated with a Virtual Connection it SHOULD send a DISCONNECT packet containing an appropriate Reason Code and MUST delete the associated Virtual Connection.</span><span>&nbsp;Use Reason Code 0x81 (Malformed Packet) or 0x82 (Protocol Error) unless a more specific Reason Code has been defined in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span class="c8 c32">.</span></p><p class="c25"><span class="c29">When a Server detects a Malformed Packet or Protocol Error for any packet except ADVERTISE, SEARCHGW, GWINFO, </span><span class="c29">PUBWOS </span><sup><a href="#cmnt61" id="cmnt_ref61">[bi]</a></sup><sup><a href="#cmnt62" id="cmnt_ref62">[bj]</a></sup><span class="c29">and CONNECT, the Server MAY</span><span class="c29">&nbsp;</span><span class="c29">send a DISCONNECT packet with an appropriate Reason Code</span><span class="c29">&nbsp;and MUST delete the associated Virtual Connection if one exists.</span><span>&nbsp;</span><span class="c70">[MQTT-4.13.1-1]</span><span>&nbsp;In the case of an error in a CONNECT packet it MAY send a CONNACK packet containing the Reason Code. Use Reason Code 0x81 (Malformed Packet) or 0x82 (Protocol Error) unless a more specific Reason Code has been defined in </span><span class="c31"><a class="c36" href="#h.46r0co2">section 2.3</a></span><span>.</span><span class="c8 c32">&nbsp;There are no consequences for other Sessions.</span></p><p class="c25"><span class="c8 c32">If either the Server or Client omits to check some feature of a Control Packet, it might fail to detect an error, consequently it might allow data to be damaged.</span></p><h3 class="c21" id="h.j0ufrffgt029"><span class="c38 c37">4.12.2 Other errors</span></h3><p class="c25"><span class="c8 c32">Errors other than Malformed Packet and Protocol Errors cannot be anticipated by the sender because the receiver might have constraints which it has not communicated to the sender. A receiving Client or Server might encounter a transient error, such as a shortage of memory, that prevents successful processing of an individual Control Packet.</span></p><p class="c25"><span class="c8 c32">Acknowledgment packets PUBACK, PUBREC, PUBREL, PUBCOMP, REGACK, SUBACK, UNSUBACK with a Reason Code of 0x80 or greater indicate that the received packet, identified by a Packet Identifier, was in error. There are no consequences for other Sessions or other Packets flowing on the same Session.</span></p><p class="c25"><span class="c29">The </span><span class="c29">CONNACK</span><span class="c29">&nbsp;and DISCONNECT packets allow a Reason Code of 0x80 or greater to indicate that the Virtual Connection will be delete</span><span class="c29">d</span><span class="c29">. If a Reason Code of 0x80 or greater is specified, then the Virtual Connection MUST be delete</span><span class="c29">d </span><span class="c29">whether or not the </span><span class="c29">CONNACK</span><span class="c29">&nbsp;or DISCONNECT is sent</span><span>&nbsp;</span><span class="c70">[MQTT-4.13.2-1]</span><span class="c8 c32">. Sending one of these Reason Codes has no consequences for any other Session.</span></p><p class="c25"><span class="c8 c32">If the Control Packet contains multiple errors the receiver of the Packet can validate the Packet in any order and take the appropriate action for any of the errors found.</span></p><p class="c25"><span>Refer to </span><span class="c31"><a class="c36" href="#h.wh4qb21u9cfo">section </a></span><span class="c31"><a class="c36" href="#h.wh4qb21u9cfo">5.4.9</a></span><span class="c8 c32">&nbsp;for information about handling Disallowed Unicode code points.</span></p><h2 class="c103 c149 c56" id="h.1vpy4wyrild2"><span class="c55 c15">4.13 Example MQTT-SN Architectures</span></h2><p class="c48"><span class="c0">There are three kinds of MQTT-SN components, MQTT-SN </span><span class="c0 c119">clients</span><span class="c0">, MQTT-SN </span><span class="c0 c119">gateways</span><span class="c0">, and MQTT-SN </span><span class="c0 c119">forwarders</span><span class="c0">. MQTT-SN clients connect to an </span><span class="c0">MQTT-SN Gateway or to an </span><span class="c8 c0">MQTT server via an MQTT-SN Gateway using the MQTT-SN protocol. An MQTT-SN Gateway may or may not be integrated with a MQTT server. Where an MQTT broker is involved, the MQTT protocol is used between the MQTT broker and the MQTT-SN Gateway. Its main function is the translation between MQTT and MQTT-SN.</span></p><p class="c69 c308"><span class="c8 c0">MQTT-SN clients can also access a Gateway via a forwarder in case the Gateway is not directly attached to their network. The forwarder simply encapsulates the MQTT-SN frames it receives on the wireless side and forwards them unchanged to the Gateway; in the opposite direction, it decapsulates the frames it receives from the gateway and sends them to the clients, unchanged too.</span></p><p class="c95"><span class="c63 c147 c90">Informative comment</span></p><p class="c95"><span class="c0 c147">The architectures described below are meant as examples and are not exhaustive.</span></p><h3 class="c21" id="h.3pp52gy"><span>4.13.1 </span><span class="c81 c15">Transparent Gateway</span></h3><p class="c134"><span class="c0">For each connected MQTT-SN client a transparent </span><span class="c0 c4">Gateway</span><span class="c0">&nbsp;will set up and maintain a MQTT connection to the MQTT server. This MQTT connection is reserved exclusively for the end-to-end and almost transparent packet exchange between the client and the server. There will be as many MQTT connections between the </span><span class="c0 c4">Gateway</span><span class="c0">&nbsp;and the MQTT Broker as MQTT-SN clients connected to the </span><span class="c0 c4">Gateway</span><span class="c0">. The transparent </span><span class="c0 c4">Gateway</span><span class="c8 c0">&nbsp;will perform a &ldquo;syntax&rdquo; translation between the two protocols. Since all packet exchanges are end-to-end between the MQTT-SN client and the MQTT Server, all functions and features that are implemented by the server can be offered to the client.</span></p><p class="c48"><span class="c0">Although the implementation of the transparent </span><span class="c0 c4">Gateway</span><span class="c0">&nbsp;is simpler when compared to the one of an aggregating </span><span class="c0 c4">Gateway</span><span class="c8 c0">, it requires the MQTT server to support a separate connection for each active client. Some MQTT server implementations might impose a limitation on the number of concurrent connections that they support.</span></p><p class="c3"><span class="c121 c119">Figure 4-7 &ndash; Transparent Gateway</span></p><p class="c203 c154 c148"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 383.50px; height: 255.95px;"><img alt="" src="images/image49.png" style="width: 383.50px; height: 255.95px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c155 c133 c148"><span class="c8 c46">Informative comment</span></p><p class="c104 c154 c148 c230"><span class="c0">Because PUBLISH WITHOUT SESSION could be sent at any time by clients (even with no Virtual Connection setup) a transparent Gateway needs to maintain for those packets a dedicated MQTT connection with the MQTT Server. An aggregating or hybrid Gateway may use any aggregating MQTT connection to forward those packets to the MQTT Server. </span></p><h3 class="c21" id="h.24ufcor"><span>4.13.2 </span><span class="c81 c15">Aggregating Gateway</span></h3><p class="c189 c154 c148 c240"><span class="c0">Instead of having one MQTT connection for each connected MQTT-SN client, an aggregating</span><span class="c0 c4">&nbsp;Gateway</span><span class="c0">&nbsp;will have only one MQTT connection to the Server. All packet exchanges between an MQTT-SN client and an aggregating </span><span class="c0 c4">Gateway </span><span class="c0">end at the </span><span class="c0 c4">Gateway</span><span class="c0">. The </span><span class="c0 c4">Gateway</span><span class="c0">&nbsp;then decides which information will be given further to the MQTT Broker. Although its implementation is more complex than the one of a transparent </span><span class="c0 c4">Gateway</span><span class="c0">, an aggregating </span><span class="c0 c4">Gateway</span><span class="c0">&nbsp;may be helpful in case of WSNs with a very large number of devices because it reduces the number of MQTT connections that the </span><span class="c0 c4">Gateway </span><span class="c8 c0">must support concurrently.</span></p><p class="c69 c12"><span class="c121 c119">Figure 4-8 &ndash; Aggregating Gateway</span></p><p class="c154 c148 c240 c323"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 439.50px; height: 293.31px;"><img alt="" src="images/image48.png" style="width: 439.50px; height: 293.31px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c43" id="h.jzpmwk"><span class="c38 c37">4.11.3 Forwarder encapsulator</span></h3><p class="c69 c12"><span class="c121 c119">Figure 4-9 &ndash; Forwarder with Transparent Gateway</span></p><p class="c69 c219"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 451.66px; height: 268.46px;"><img alt="" src="images/image51.png" style="width: 451.66px; height: 268.46px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c69 c12"><span class="c121 c119">Figure 4-10 &ndash; Forwarder with Aggregating Gateway</span></p><p class="c69 c219"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 470.43px; height: 271.72px;"><img alt="" src="images/image50.png" style="width: 470.43px; height: 271.72px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c43" id="h.1ypnvbsijucn"><span class="c38 c37">4.13.4 MQTT-SN broker</span></h3><p class="c69 c12"><span class="c121 c119">Figure 4-11 &ndash; MQTT-SN Broker</span></p><p class="c69 c219"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 274.52px; height: 286.46px;"><img alt="" src="images/image52.png" style="width: 274.52px; height: 286.46px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c43" id="h.1j4nfs6"><span class="c55 c15">4.14 Gateway Advertisement and Discovery</span></h2><p class="c48"><span class="c0">A Gateway may announce its presence by periodically sending an ADVERTISE packet to some or all devices that are currently parts of the network. </span><span class="c0">A Gateway should only advertise its presence if it is able to accept Subscriptions and forward messages.</span><span class="c8 c0">&nbsp;For instance, a simple Transparent Gateway which is not currently connected to an MQTT Broker, should not advertise.</span></p><p class="c48"><span class="c0">Multiple Gateways may be active at the same time in the same network. In this case they will have different identifiers. It is up to the Client to decide to which Gateway it wants to connect. </span><span class="c0 c29">At any point in time a Client is allowed to have a Virtual Connection to only one Gateway on the same network.</span><sup><a href="#cmnt63" id="cmnt_ref63">[bk]</a></sup><sup><a href="#cmnt64" id="cmnt_ref64">[bl]</a></sup><sup><a href="#cmnt65" id="cmnt_ref65">[bm]</a></sup></p><p class="c69 c329"><span class="c0">A client </span><span class="c0">should</span><sup><a href="#cmnt66" id="cmnt_ref66">[bn]</a></sup><span class="c8 c0">&nbsp;maintain a list of active gateways together with their network addresses. This list is populated by means of the ADVERTISE and GWINFO packets received.</span></p><p class="c69 c299"><span class="c0">The time duration</span><sup><a href="#cmnt67" id="cmnt_ref67">[bo]</a></sup><span class="c0">&nbsp;</span><span class="c0 c119">T</span><span class="c0 c16">ADV</span><sup><a href="#cmnt68" id="cmnt_ref68">[bp]</a></sup><span class="c0 c16">&nbsp;</span><span class="c0">until the gateway sends the next ADVERTISE packet is indicated in the </span><span class="c0 c119">Duration </span><span class="c0">field of the ADVERTISE packets. A client may use this information to monitor the availability of a gateway. For example, if it does not receive ADVERTISE packets from a gateway for </span><span class="c0 c119">N</span><span class="c0 c16">ADV </span><span class="c8 c0">consecutive times, it may assume that the gateway is down and remove it from its list of active gateways. Similarly, gateways in stand-by mode will become active (i.e. start sending ADVERTISE packets) if they miss successively a couple of times advertisements from a certain gateway.</span></p><p class="c69 c288"><span class="c0">Since the ADVERTISE packets are transmitted into the whole wireless network, the time interval </span><span class="c0 c119">T</span><span class="c0 c16">ADV </span><span class="c8 c0">between two ADVERTISE packets sent by a gateway should be large enough (e.g. greater than 15 min) to avoid bandwidth congestion in the network.</span></p><p class="c69 c299"><span class="c0">The large value of </span><span class="c0 c119">T</span><span class="c0 c16">ADV </span><span class="c0">will lead to a long waiting time for new clients which are looking for a gateway. To shorten this waiting time a client may send a SEARCHGW packet. To prevent network flooding when multiple clients start searching for gateway almost at the same time, </span><span class="c0">the sending of the SEARCHGW packet is delayed by a random time between 0 and </span><span class="c0 c119">T</span><span class="c0 c16">SEARCHGW</span><sup><a href="#cmnt69" id="cmnt_ref69">[bq]</a></sup><span class="c8 c0">. A client will cancel its transmission of the SEARCHGW packet if it receives during this delay time a SEARCHGW packet sent by another client and identical to the one it wants to send, and behaves as if the SEARCHGW packet was sent by itself.</span></p><p class="c48"><span class="c0">The transmission radius </span><span class="c0 c119">R</span><span class="c0 c16">b </span><span class="c0">of the SEARCHGW packet is limited, e.g. to a single hop in case of a dense deployment of MQTT-SN clients.</span><sup><a href="#cmnt70" id="cmnt_ref70">[br]</a></sup></p><p class="c69 c277"><span class="c8 c0">Upon receiving a SEARCHGW packet a gateway replies with a GWINFO packet containing its id. Similarly, a client answers with a GWINFO packet if it has at least one active gateway in its list of active gateways. If the client has multiple gateways in its list, it selects one gateway out of its list and includes that information into the GWINFO packet.</span></p><p class="c69 c340"><span class="c0">Like the SEARCHGW packet, the GWINFO packet is transmitted with the same radius </span><span class="c0 c119">R</span><span class="c0 c16">b</span><span class="c0">, which is indicated in the SEARCHGW packet. </span><sup><a href="#cmnt71" id="cmnt_ref71">[bs]</a></sup><sup><a href="#cmnt72" id="cmnt_ref72">[bt]</a></sup><span class="c0">The radius </span><span class="c0 c119">R</span><span class="c0 c16">b </span><span class="c8 c0">is also given to the underlying layer when these two packets are passed down for transmission.</span></p><p class="c69 c197"><span class="c0">To give priority to the gateways a client will delay its sending of the GWINFO packet for a random time</span><span class="c0 c119">&nbsp;</span><span class="c0 c119">T</span><span class="c0 c16">GWINFO</span><span class="c8 c0">. If during this delay time the client receives a GWINFO packet it will cancel the transmission of its GWINFO packet.</span></p><p class="c104 c69"><span class="c0">In case of no response the SEARCHGW packet may be retransmitted. In this case the time intervals between consecutive SEARCHGW packets should be increased by the exponential backoff algorithm described in </span><span class="c31 c0"><a class="c36" href="#h.1csj400">A</a></span><span class="c31 c0"><a class="c36" href="#h.1csj400">ppendix</a></span><span class="c31 c0"><a class="c36" href="#h.1csj400">&nbsp;F.4</a></span><span class="c0">.</span></p><hr style="page-break-before:always;display:none;"><h2 class="c43 c266" id="h.juxnj3lbnsy6"><span class="c55 c15"></span></h2><h2 class="c43" id="h.3mj2wkv"><span class="c55 c15">4.15 Client states</span></h2><p class="c69 c12"><span class="c121 c119">Figure 4-12 &ndash; Server View of Client States</span></p><p class="c69 c331"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 645.33px;"><img alt="" src="images/image3.png" style="width: 624.00px; height: 645.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c0">At any given point in time, a Client may be in one of 4</span><span class="c63 c90">&nbsp;</span><span class="c0">states</span><span class="c0">&nbsp;from the perspective of the Gateway</span><span class="c0">. Transition through these states is governed by a sequence of packets between Client and Gateway and mediated by timers resident on the gateway. A Client is in the Active</span><span class="c0 c119">&nbsp;</span><span class="c0">state when the Gateway receives a CONNECT packet from that Client. This state is supervised by the gateway with the Keep Alive timer. If the gateway does not receive any packet from the client for a time longer than the keep alive interval (set in the CONNECT packet) plus grace period of 50%, the Gateway will consider that client as Disconnected</span><span class="c0 c119">&nbsp;</span><span class="c0">and activate for example the Will feature for that client. The Disconnected &nbsp;state is governed by the Session Expiry timer - on expiry the Gateway is free to remove the Client session and delete the Client from its records (no state, or None). A client moves into the Asleep state by issuing a SLEEPREQ packet, and confirming that request by waiting for a SLEEPRESP packet. For more information on the sleep state, please refer to </span><span class="c31 c0"><a class="c36" href="#h.pj8yyjomhafn">section 4.15.3</a></span><span class="c8 c0">.</span></p><p class="c69 c12"><span class="c121 c119">Figure 4-13 &ndash; Client View of Client States</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 520.00px;"><img alt="" src="images/image14.png" style="width: 624.00px; height: 520.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c197 c154 c148 c256"><span class="c8 c63 c90">Informative Comment</span></p><p class="c154 c148 c203"><span class="c8 c0">In the previous version of MQTT-SN there existed the idea of a Lost state, which was identical to the Disconnected state, except that it was reached by a timer expiry on the Gateway rather than an explicit Disconnect request from the Client. As the Lost state was not really different from Disconnected except for the history of Client events, similar information may be kept by the Gateway, in for instance its administrative logs.</span></p><p class="c154 c148 c322"><span class="c8 c0">Here follows a summary of the Client states and transitions set out in a table.</span></p><p class="c69 c12"><span class="c121 c119">Figure 4-14 &ndash; Client States</span></p><table class="c152 c170"><tr class="c35"><td class="c52 c243" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">State</span></p></td><td class="c52 c232" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">State Description</span></p></td><td class="c200 c52" colspan="1" rowspan="1"><p class="c27"><span class="c39 c51">Possible Transitions</span></p></td></tr><tr class="c35"><td class="c243 c142" colspan="1" rowspan="1"><p class="c3"><span class="c39 c86 c63">None</span></p></td><td class="c232" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">The Client is unknown to the Gateway. There is no Session State nor Virtual Connection.</span></p></td><td class="c200" colspan="1" rowspan="1"><p class="c3"><span class="c39 c15">Active</span></p></td></tr><tr class="c35"><td class="c243 c142" colspan="1" rowspan="1"><p class="c3"><span class="c39 c86 c63">Disconnected</span></p></td><td class="c232" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">The Client is considered offline and not able to receive packets until it has re-established a session with the Gateway by way of a CONNECT. The Gateway has Session state for this Client, but there is no Virtual Connection.</span></p><p class="c3"><span class="c0">The Gateway </span><span class="c63 c90">must not</span><span class="c0">&nbsp;attempt to send packets to a Disconnected client</span><span class="c39 c15">. </span></p><p class="c3"><span class="c0">Any packet received from a Disconnected Client should not be processed and a DISCONNECT with error should be sent in response, unless the packet received is PUBWOS.</span></p><p class="c3"><span class="c0">From here a Client may transition to </span><span class="c63 c90">Active</span><span class="c0">&nbsp;with a CONNECT, or to </span><span class="c63 c90">None</span><span class="c0">&nbsp;on Session expiry.</span></p></td><td class="c200" colspan="1" rowspan="1"><p class="c3"><span class="c39 c15">Active</span></p><p class="c3"><span class="c39 c15">None</span></p></td></tr><tr class="c35"><td class="c243 c142" colspan="1" rowspan="1"><p class="c3"><span class="c39 c86 c63">Active</span></p></td><td class="c232" colspan="1" rowspan="1"><p class="c3"><span class="c39 c0 c37">The Client is actively engaged in the Session. A Virtual Connection exists. It should be able to send and receive packets. Its state is supervised by the gateway with the associated Keep Alive timer.</span></p><p class="c3"><span class="c0">From here the client may transition to </span><span class="c63 c90">Asleep</span><span class="c0">&nbsp;by way of a SLEEPREQ or </span><span class="c63 c90">Disconnected</span><span class="c0">&nbsp;by way of a DISCONNECT, Keep Alive timeout or Retry timeout</span><span class="c63 c90">.</span></p></td><td class="c200" colspan="1" rowspan="1"><p class="c3"><span class="c39 c15">Asleep</span></p><p class="c3"><span class="c39 c15">Disconnected</span></p></td></tr><tr class="c35"><td class="c243 c142" colspan="1" rowspan="1"><p class="c3"><span class="c39 c86 c63">Asleep</span></p></td><td class="c232" colspan="1" rowspan="1"><p class="c3"><span class="c0">The Client is engaged in an ongoing Session, and a Virtual Connection exists. The Client cannot receive packets; it can send packets. The Gateway should not expect a response from the client in this state until further packets are received from the client. From here the client may transition to </span><span class="c63 c90">Awake </span><span class="c0">(by way of PINGREQ), </span><span class="c63 c90">Active</span><span class="c0">&nbsp;by way of CONNECT, </span><span class="c63 c90">Disconnected</span><span class="c39 c0 c37">&nbsp;(by way of DISCONNECT, Sleep timeout or Retry timeout). </span></p></td><td class="c200" colspan="1" rowspan="1"><p class="c3"><span class="c39 c15">Awake</span></p><p class="c3"><span class="c39 c15">Active</span></p><p class="c3"><span class="c39 c15">Disconnected</span></p></td></tr><tr class="c35"><td class="c243 c142" colspan="1" rowspan="1"><p class="c3"><span class="c39 c63 c86">Awake</span></p></td><td class="c232" colspan="1" rowspan="1"><p class="c3"><span class="c0">The Client is partially engaged in an ongoing session and a Virtual Connection exists. </span><span class="c0 c29">The Client MUST not send ANY packets other than those involved in the receipt of PUBLISH packets (PUBACK, PUBREC, PUBCOMP, REGACK) or a DISCONNECT to transition to </span><span class="c63 c29 c90">Disconnected</span><span class="c0">. The client transitions back to the </span><span class="c63 c90">Asleep</span><span class="c0">&nbsp;state on receipt of a PINGRESP packet or </span><span class="c63 c90">Disconnected</span><span class="c39 c0 c37">&nbsp;(on Keep Alive or Retry timeout for the possible PUBACK, PUBREL, PUBREC, PUBCOMP or REGACK packets to be received from the Client).</span></p></td><td class="c200" colspan="1" rowspan="1"><p class="c3"><span class="c39 c15">Asleep</span></p><p class="c3"><span class="c39 c15">Disconnected</span></p><p class="c3 c62"><span class="c39 c15"></span></p></td></tr></table><h3 class="c21" id="h.qfa0p4gzzbmu"><span class="c38 c37">4.15.1 Gateway timers</span></h3><p class="c3"><span class="c8 c32">The following timers are managed by a Gateway per Client to handle the Client states:</span></p><p class="c69 c12"><span class="c121 c119">Figure 4-15 &ndash; Gateway Timers</span></p><table class="c152 c170"><tr class="c35"><td class="c52 c118" colspan="1" rowspan="1"><p class="c145"><span class="c10 c46 c52 c57">Timer Name</span></p></td><td class="c118 c52" colspan="1" rowspan="1"><p class="c145"><span class="c10 c46 c57 c52">State(s)</span></p></td><td class="c118 c52" colspan="1" rowspan="1"><p class="c145"><span class="c10 c46 c57 c52">Resulting State</span></p></td><td class="c118 c52" colspan="1" rowspan="1"><p class="c145"><span class="c10 c46 c57 c52">Defined in</span></p></td><td class="c118 c52" colspan="1" rowspan="1"><p class="c145"><span class="c10 c46 c57 c52">Information</span></p></td></tr><tr class="c35"><td class="c118 c142" colspan="1" rowspan="1"><p class="c12"><span class="c10 c32 c57 c142">Keep Alive</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">Active</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">Disconnected</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">CONNECT</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c31"><a class="c36" href="#h.4ddeoix">section 4.15.4</a></span></p></td></tr><tr class="c35"><td class="c118 c142" colspan="1" rowspan="1"><p class="c12"><span class="c10 c32 c57 c142">Sleep Duration</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">Asleep</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">Disconnected</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">SLEEPREQ</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c31"><a class="c36" href="#h.pj8yyjomhafn">section 4.15.3</a></span></p></td></tr><tr class="c35"><td class="c118 c142" colspan="1" rowspan="1"><p class="c12"><span class="c10 c32 c57 c142">Session Expiry</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">Disconnected</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">None</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">CONNECT, DISCONNECT</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c31"><a class="c36" href="#h.nasxg3iedd75">section 4.1.1</a></span></p></td></tr><tr class="c35"><td class="c118 c142" colspan="1" rowspan="1"><p class="c12"><span class="c10 c32 c57 c142">Retry</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">Active, Awake,</span></p><p class="c12"><span class="c8 c32">Asleep</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">Disconnected</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c8 c32">Sender</span></p><p class="c12"><span class="c8 c32">configuration</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c12"><span class="c31"><a class="c36" href="#h.6udnv5yl5cv5">section 4.4</a></span></p></td></tr></table><h4 class="c21" id="h.4ihyjke"><span class="c9">4.15.1.1 Timer and Counter Values (Informative)</span></h4><p class="c248 c154 c148 c240"><span class="c0">Figure 4-16</span><span class="c8 c0">&nbsp;shows the &ldquo;best practice&rdquo; values for the timers and counters defined in this specification.</span></p><p class="c69 c12"><span class="c121 c119">Figure 4-16 &ndash; Best practice values for timers and counters</span></p><table class="c152 c198"><tr class="c205"><td class="c190 c287" colspan="1" rowspan="1"><p class="c69 c179"><span class="c39 c63 c90 c285">Timer/Counter</span></p></td><td class="c33 c287" colspan="1" rowspan="1"><p class="c69 c179"><span class="c39 c15">Recommended value</span></p></td></tr><tr class="c279"><td class="c190" colspan="1" rowspan="1"><sup><a href="#cmnt73" id="cmnt_ref73">[bu]</a></sup><p class="c69 c197"><span class="c0 c49 c119">T</span><span class="c5 c0">ADV</span></p></td><td class="c33" colspan="1" rowspan="1"><p class="c69 c197"><span class="c20 c0 c57">Greater than 15 minutes</span></p></td></tr><tr class="c205"><td class="c190" colspan="1" rowspan="1"><p class="c69 c197"><span class="c0 c49 c119">N</span><span class="c5 c0">ADV</span></p></td><td class="c33" colspan="1" rowspan="1"><p class="c69 c197"><span class="c20 c0 c57">2 -3</span></p></td></tr><tr class="c205"><td class="c190" colspan="1" rowspan="1"><p class="c69 c197"><span class="c0 c49 c119">T</span><span class="c5 c0">SEARCHGW</span></p></td><td class="c33" colspan="1" rowspan="1"><p class="c69 c197"><span class="c20 c0 c57">5 seconds</span></p></td></tr><tr class="c302"><td class="c190" colspan="1" rowspan="1"><p class="c69 c197"><span class="c0 c49 c119">T</span><span class="c5 c0">GWINFO</span></p></td><td class="c33" colspan="1" rowspan="1"><p class="c69 c197"><span class="c20 c0 c57">5 seconds</span></p></td></tr><tr class="c205"><td class="c190" colspan="1" rowspan="1"><p class="c69 c197"><span class="c0 c49 c119">T</span><span class="c5 c0">WAIT</span></p></td><td class="c33" colspan="1" rowspan="1"><p class="c197 c154 c148"><span class="c20 c0 c57">Greater than 5 minutes</span></p></td></tr><tr class="c205"><td class="c190" colspan="1" rowspan="1"><p class="c69 c197"><span class="c0 c49 c119">T</span><span class="c0 c5">RETRY</span></p></td><td class="c33" colspan="1" rowspan="1"><p class="c69 c197"><span class="c0 c49">Implement </span><span class="c31 c0 c49"><a class="c36" href="#h.1csj400">section F.</a></span><span class="c31 c0 c49"><a class="c36" href="#h.1csj400">4</a></span><span class="c20 c0 c57">&nbsp;with a starting value of 1 second after an initial wait period of 5 seconds. So the first retry will be ~6 seconds.</span></p></td></tr><tr class="c205"><td class="c190" colspan="1" rowspan="1"><p class="c69 c197"><span class="c0 c49 c119">N</span><span class="c5 c0">RETRY</span></p></td><td class="c33" colspan="1" rowspan="1"><p class="c69 c197"><span class="c20 c0 c57">3 &ndash; 5</span></p></td></tr><tr class="c205"><td class="c190" colspan="1" rowspan="1"><p class="c69 c197"><span class="c0 c49 c119">M</span><span class="c5 c0 c57 c37 c116">BACKOFF</span></p></td><td class="c33" colspan="1" rowspan="1"><p class="c69 c197"><span class="c20 c0 c57">60 seconds</span></p></td></tr></table><p class="c69 c278"><span class="c0">The &ldquo;tolerance&rdquo; of the sleep and keep-alive timers at the server/gateway depends on the values indicated by the clients. For example, the timer values should be 10% higher than the indicated values for periods larger than 1 minute, and 50% higher if less.</span></p><h3 class="c43" id="h.gtnh0h"><span class="c38 c37">4.15.2 Clean start</span></h3><p class="c215 c154 c240 c254"><span class="c8 c0">When a client disconnects, its session state is retained for no less than the session expiration interval. The session state is persistent and valid for new (non clean start) sessions, until the client establishes a new session with the &ldquo;clean start&rdquo; flag set or the idle time exceeds the session expiry interval associated with the session.</span></p><p class="c69 c342"><span class="c8 c0">The two flags &ldquo;CleanStart&rdquo; and &ldquo;Will&rdquo; in the CONNECT Packet have the following meanings:</span></p><ul class="c137 lst-kix_list_12-0 start"><li class="c211 c154 c225 c210 li-bullet-5"><span class="c8 c0">CleanStart=true, Will=true: The Gateway will delete all session state data related to the client, including Will data if present, and it will set the Will data in the Session state with the content of the CONNECT Will fields and will return CONNACK.</span></li><li class="c211 c154 c225 c210 li-bullet-3"><span class="c0">CleanStart=true, Will=false: The gateway will delete all </span><span class="c0">subscriptions </span><span class="c8 c0">and Will data, if present, related to the client and it will return CONNACK.</span></li><li class="c211 c154 c225 c210 li-bullet-3"><span class="c0">CleanStart=false, Will=true: The gateway will keep all the client&rsquo;s </span><span class="c8 c0">data and it will overwrite, if present, or add the Will data related to the client with the content of the CONNECT Will optional fields and it will return CONNACK.</span></li><li class="c61 li-bullet-3"><span class="c0">CleanStart=false, Will=false: The Gateway will keep all the client&rsquo;s </span><span class="c0">subscriptions </span><span class="c8 c0">and it will delete any Will data, if present, and it will return CONNACK.</span></li></ul><p class="c69 c231"><span class="c8 c0">Note that if a client wants to delete only its Will data at Virtual Connection creation, it could send a CONNECT packet with &ldquo;CleanStart=false&rdquo; and &ldquo;Will=false&rdquo;.</span></p><h3 class="c66 c56 c284" id="h.pj8yyjomhafn"><span class="c38 c37">4.15.3 Sleeping clients</span></h3><p class="c3"><span class="c0 c119">Sleeping </span><span class="c8 c0">Clients are Clients residing on (battery-operated) devices that want to save as much energy as possible. These devices need to enter a sleep mode whenever they are not active and will wake up whenever they have data to send or to receive. The Gateway needs to be aware of the sleeping state of these Clients and will buffer messages destined to them for later delivery when they wake up. </span></p><p class="c3"><span class="c0">If a Client wants to sleep, it sends a SLEEPREQ packet which contains a sleep duration in seconds. </span><span class="c0">The gateway acknowledges that packet with a SLEEPRESP packet and considers the client to be Asleep. </span><span class="c0">The Asleep</span><span class="c0 c119">&nbsp;</span><span class="c0">state is supervised by the gateway with the indicated sleep duration. If the gateway does not receive any packet from the client for a period longer than the sleep duration, the Gateway will consider that client Disconnected</span><span class="c0 c119">&nbsp;</span><span class="c0">and - as with the keep alive procedure - will </span><span class="c0">activate for example the Will feature</span><sup><a href="#cmnt74" id="cmnt_ref74">[bv]</a></sup><span class="c8 c0">. </span></p><p class="c3"><span class="c0 c29">During the Asleep</span><span class="c0 c29 c119">&nbsp;</span><span class="c0 c29">state, packets that need to be sent to the client are buffered at the Gateway. The Gateway MUST buffer application messages of quality-of-service 1 and 2.</span><span class="c0">&nbsp;</span></p><p class="c95"><span class="c8 c63 c90">Informative comment</span></p><p class="c95"><span class="c0">The gateway may </span><span class="c0 c119">choose</span><span class="c8 c0">&nbsp;to buffer messages of QoS 0, while the client is sleeping and is within its sleep duration.</span></p><p class="c3"><span class="c0 c4">The sleep duration timer is stopped when the Gateway receives a PINGREQ from the client. </span><span class="c0 c4">Like the CONNECT </span><span class="c0">packet</span><span class="c0 c4">, this PINGREQ </span><span class="c0">packet</span><span class="c0 c4">&nbsp;contains the </span><span class="c0 c119 c4">Client Id</span><span class="c0 c4">.</span><sup><a href="#cmnt75" id="cmnt_ref75">[bw]</a></sup><span class="c0 c4">&nbsp;The identified client is then in the </span><span class="c0 c119 c4">awake </span><span class="c0 c4">state. If the Gateway has buffered </span><span class="c0">packet</span><span class="c0 c4">s for the client, it will send these </span><span class="c0">packet</span><span class="c0 c4">s to the client, acknowledging the </span><span class="c0">Default Awake Messages</span><span class="c0 c4">&nbsp;value sent in the </span><span class="c0">CONNECT </span><span class="c0 c4">packet. If the number of messages buffered on the gateway waiting to be sent exceeds the value specified by the client in the </span><span class="c0">Default Awake Messages</span><span class="c0 c4">&nbsp;field, the gateway shall send only the </span><span class="c0">Default Awake Messages</span><span class="c10 c0 c37 c4">&nbsp;value number of messages, and cut short the AWAKE cycle, responding with a PINGRESP with a messages-left value of either the number of messages remaining in the gateway buffer or 0xFFFF (meaning undetermined number of messages greater than 0 remaining).</span></p><p class="c3"><span class="c0 c29 c4">During the AWAKE state, for each </span><span class="c0 c29">packet</span><span class="c0 c29 c4">&nbsp;the gateway sends to the client, the </span><span class="c0 c29">application messages&rsquo;</span><span class="c0 c29 c4">&nbsp;quality of service shall be </span><span class="c0 c29">honored</span><span class="c0 c29 c4">, and a full </span><span class="c0 c29">packet</span><span class="c0 c29 c4">&nbsp;interaction shall take place including all normative phases of acknowledgement, including any associated retransmission logic.</span><span class="c0 c4">&nbsp;If, during the delivery of application messages from the gateway to the client, </span><span class="c0 c4">the gateway detects a timeout in the delivery,</span><sup><a href="#cmnt76" id="cmnt_ref76">[bx]</a></sup><span class="c0 c4">&nbsp;it should transition the client state to LOST and a DISCONNECT packet with error sent to the device.</span><sup><a href="#cmnt77" id="cmnt_ref77">[by]</a></sup></p><p class="c3"><span class="c0 c4">The transfer of </span><span class="c0">packet</span><span class="c0 c4">s to the client is closed by the gateway by means of a PINGRESP </span><span class="c0">packet</span><span class="c0 c4">, i.e. the gateway will consider the client as </span><span class="c0 c119 c4">asleep </span><span class="c0 c4">and restart the sleep timer again after having sent the PINGRESP </span><span class="c0">packet</span><span class="c0 c4">. If the gateway does not have any </span><span class="c0">packet</span><span class="c0 c4">s buffered for the client, it answers immediately with a PINGRESP </span><span class="c0">packet</span><span class="c0 c4">, returns the client back to the </span><span class="c0 c119 c4">asleep </span><span class="c10 c0 c37 c4">state, and restarts the sleep timer for that client. </span></p><p class="c3"><span class="c0 c4">After having sent the PINGREQ to the gateway, the client uses the retransmission procedure of </span><span class="c31 c0"><a class="c36" href="#h.6udnv5yl5cv5">section 4.4</a></span><span class="c0 c4">&nbsp;to supervise the arrival of </span><span class="c0">packet</span><span class="c0 c4">s sent by the server/gateway, i.e. it restarts timer T</span><span class="c0 c161 c4">retry</span><span class="c0 c4">&nbsp;when it </span><span class="c0 c4">receives </span><sup><a href="#cmnt78" id="cmnt_ref78">[bz]</a></sup><span class="c0 c4">a </span><span class="c0">packet</span><span class="c0 c4">&nbsp;other than a PINGRESP, and stops it when it receives a </span><span class="c0 c4">PINGRESP</span><sup><a href="#cmnt79" id="cmnt_ref79">[ca]</a></sup><span class="c0 c4">. The PINGREQ </span><span class="c0">packet</span><span class="c0 c4">&nbsp;is retransmitted, and timer T</span><span class="c0 c161 c4">retry</span><span class="c0 c4">&nbsp;restarted when timer T</span><span class="c0 c161 c4">retry</span><span class="c0 c4">&nbsp;times out. To avoid a flattening of its battery due to excessive retransmission of the PINGREQ </span><span class="c0">packet</span><span class="c0 c4">&nbsp;(e.g. if it loses the gateway), the client should limit the retransmission of the PINGREQ </span><span class="c0">packet</span><span class="c0 c4">&nbsp;(e.g. by a retry counter) and go back to sleep when the limit is reached and it still does not receive a PINGRESP </span><span class="c0">packet</span><span class="c10 c0 c37 c4">. </span></p><p class="c3"><span class="c0 c4">From the </span><span class="c0 c119 c4">asleep</span><span class="c0 c119">&nbsp;</span><span class="c0 c4">state, a client can return either to the </span><span class="c0 c119 c4">active </span><span class="c0 c4">state by sending a CONNECT </span><span class="c0">packet</span><span class="c0 c4">&nbsp;or to the </span><span class="c0 c119 c4">disconnected </span><span class="c0 c4">state by sending a normal DISCONNECT </span><span class="c0">packet</span><span class="c0 c4">&nbsp;(i.e. without </span><span class="c0">session expiry interval </span><span class="c0 c4">field). </span><span class="c0 c4">The client can also modify its sleep configuration by sending a DISCONNECT </span><span class="c0">packet</span><span class="c0 c4">&nbsp;with a new value of the </span><span class="c0">session expiry interval</span><span class="c0 c4">.</span><span class="c10 c0 c37 c4">&nbsp;</span></p><p class="c3"><span class="c0 c4">Note that a sleeping client should go to the </span><span class="c0 c119 c4">awake </span><span class="c0 c4">state only if it just wants to check whether the server/gateway has any </span><span class="c0">messages</span><span class="c0 c4">&nbsp;buffered for it and return as soon as possible to the </span><span class="c0 c119 c4">asleep </span><span class="c0 c4">state without sending any </span><span class="c0">packet</span><span class="c0 c4">s to the server/gateway. Otherwise, it should return to the </span><span class="c0 c119 c4">active </span><span class="c0 c4">state by sending a CONNECT </span><span class="c0">packet</span><span class="c10 c0 c37 c4">&nbsp;to the server/gateway. </span></p><p class="c3"><span class="c10 c15 c4">//TODO SIMON &ndash; add some worlds around retain registration behavior</span></p><p class="c3"><span class="c0 c29 c4">Session </span><span class="c0 c29 c4">Topic Alias mappings last for the duration of a Session which exists throughout the sleep cycle, re-registration is not necessary. </span></p><hr style="page-break-before:always;display:none;"><p class="c69 c12 c62"><span class="c32 c57 c121 c37 c119 c116 c139"></span></p><p class="c69 c12"><span class="c121 c119">Figure 4-17 &ndash; Awake PINGRESP Packet flush</span></p><p class="c12 c154 c148 c315"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 443.11px; height: 715.50px;"><img alt="" src="images/image4.png" style="width: 443.11px; height: 715.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c43" id="h.4ddeoix"><span class="c38 c37">4.15.4 Keep Alive</span></h3><p class="c134"><span class="c8 c0">As with MQTT, the value of the Keep Alive timer is indicated in the CONNECT packet. The Client should send at least one packet within each Keep Alive interval. If no other packet is sent within this time, the Client should send a PINGREQ, which the gateway acknowledges with a PINGRESP. </span></p><p class="c134"><span class="c8 c0">Unlike MQTT, the MQTT-SN Keep Alive timeout can not be turned off (by setting a value of 0). This is because there is no other indication in MQTT-SN of a connection failure, as there is in MQTT with the underlying TCP/IP connection.</span></p><p class="c48"><span class="c0">A client answers with a PINGRESP packet when it receives a PINGREQ packet from the Gateway to which it is Virtually Connected. </span><span class="c0">Otherwise, the received PINGREQ packet is ignored.</span></p><p class="c69 c189"><span class="c8 c0">Clients should use this procedure to supervise the liveliness of the Gateway to which they are connected. If a client does not receive a PINGRESP from the gateway even after multiple retransmissions of the PINGREQ packet, it might try to connect to another Gateway before trying to reconnect to this Gateway. Note that because the client Keep Alive timers are not synchronized with each other, in case of a Gateway failure there is a low risk of a storm of CONNECT packets sent almost at the same time by all affected clients towards a new Gateway.</span></p><p class="c160 c154 c148"><span class="c0">See also </span><span class="c31 c0"><a class="c36" href="#h.4h042r0">section 3.4.5</a></span><span class="c8 c0">.</span></p><h3 class="c43" id="h.2sioyqq"><span class="c38 c37">4.15.5 Client Disconnect</span></h3><p class="c134"><span class="c8 c0">A Client sends a DISCONNECT packet to the gateway to indicate that it is about to delete its Virtual Connection. After this point, the Client is then required to create a new Virtual Connection with the Gateway before it can exchange information with that Gateway again. </span></p><p class="c134"><span class="c0">S</span><span class="c0">ending the DISCONNECT packet does not necessarily affect the Client Session data. It is persistent until it is either expired or explicitly deleted, or modified by the Client, or if the Client creates a new Virtual Connection with the CleanStart flag set. If the Session Expiry value on the DISCONNECT packet from the Client is 0, or the Session Expiry was 0 on the CONNECT and was not overridden in the DISCONNECT, then the Session state data will expire immediately the DISCONNECT is received by the Gateway and may be deleted. </span></p><p class="c3"><span class="c8 c0">A client may receive an unsolicited DISCONNECT sent by the gateway. This may happen for example when the gateway, due to an error, cannot identify the client to which a received packet belongs. Upon receiving such a DISCONNECT packet a client should try to create another Virtual Connection by sending a CONNECT packet to the gateway.</span></p><h2 class="c21" id="h.ly7c1y"><span class="c55 c15">4.16 Retained Messages</span></h2><p class="c103"><span class="c0 c29">If the RETAIN flag is set to 1 in a PUBLISH or PUBWOS packet received by a Server, the Server MUST replace any existing Retained Message for this topic and store the Application Message</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.26-1]</span><span class="c0">, so that it can be delivered to future subscribers whose subscriptions match its Topic Name. </span><span class="c0 c29">If the Publish Data contains zero bytes it is processed normally by the Server but any retained message with the same topic name MUST be removed and any future subscribers for the topic will not receive a retained message</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.26-2]</span><span class="c0">. </span><span class="c0 c29">A Retained Message with a Publish Data containing zero bytes MUST NOT be stored as a Retained Message on the Server</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.26-3]</span><span class="c8 c0">.</span></p><p class="c25"><span class="c0 c29">If the RETAIN flag is 0 in a PUBLISH packet sent by a Client to a Server, the Server MUST NOT store the message as a Retained Message and MUST NOT remove or replace any existing Retained Message</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.26-4]</span><span class="c8 c0">.</span></p><p class="c25"><span class="c8 c0">When a new Subscription is made, the last retained message, if any, on each matching topic name is sent to the Client as directed by the Retain Handling Subscribe Flag. These messages are sent with the RETAIN flag set to 1. Which retained messages are sent is controlled by the Retain Handling Subscribe Flag. At the time of the Subscription:</span></p><ul class="c137 lst-kix_xfrwmyc5vjsr-0 start"><li class="c25 c96 li-bullet-0"><span class="c0 c29">If Retain Handling is set to 0 the Server MUST send the retained messages matching the Topic Filter of the subscription to the Client</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.26-5]</span><span class="c8 c0">.</span></li><li class="c25 c96 li-bullet-0"><span class="c0 c29">If Retain Handling is set to 1 then if the subscription did not already exist, the Server MUST send all retained messages matching the Topic Filter of the subscription to the Client, and if the subscription did exist the Server MUST NOT send the retained messages.</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.26-6]</span><span class="c8 c0">.</span></li><li class="c25 c96 li-bullet-0"><span class="c150">&nbsp;</span><span class="c0 c29">If Retain Handling is set to 2, the Server MUST NOT send the retained messages</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.26-7]</span><span class="c8 c0">.</span></li></ul><p class="c25"><span class="c0">Refer to </span><span class="c31 c0"><a class="c36" href="#h.261ztfg">section 3.17.2</a></span><span class="c8 c0">&nbsp;for a definition of the Subscription Flags.</span></p><p class="c25"><span class="c8 c0">If the Server receives a PUBLISH packet with the RETAIN flag set to 1, and QoS 0 it SHOULD store the new QoS 0 message as the new retained message for that topic, but MAY choose to discard it at any time. If this happens there will be no retained message for that topic.</span></p><p class="c25"><span class="c0">The setting of the RETAIN flag in an Application Message forwarded by the Server from an established Virtual Connection is controlled by the Retain As Published subscription option. Refer to </span><span class="c31 c0"><a class="c36" href="#h.261ztfg">section 3.17.2</a></span><span class="c8 c0">&nbsp;for a definition of the Subscription Flags.</span></p><ul class="c137 lst-kix_oy8s3o2zwdoj-0 start"><li class="c25 c96 li-bullet-0"><span class="c0 c29">If the value of Retain As Published subscription option is set to 0, the Server MUST set the RETAIN flag to 0 when forwarding an Application Message regardless of how the RETAIN flag was set in the received PUBLISH packet</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.26-8]</span><span class="c8 c0">.</span></li><li class="c25 c96 li-bullet-0"><span class="c0 c29">If the value of Retain As Published subscription option is set to 1, the Server MUST set the RETAIN flag equal to the RETAIN flag in the received PUBLISH packet</span><span class="c0">&nbsp;</span><span class="c0 c70">[MQTT-SN-4.26-9]</span><span class="c8 c0">.</span></li></ul><p class="c25 c136"><span class="c8 c63 c90">Informative comment</span></p><p class="c110 c167"><span class="c8 c0">Retained messages are useful where publishers send state messages on an irregular basis. A new subscriber will receive the most recent state.</span></p><p class="c25 c136"><span class="c8 c63 c90">Informative comment</span></p><p class="c110 c167"><span class="c0">As in MQTT 3.1.1 there is no notion of message expiry in MQTT-SN, including expiry of &nbsp;Retained Messages. It is an administrative decision under what conditions to remove Retained Messages, if at all. They should be kept long enough to support the expectations of the applications that will use the Server, at a minimum. </span></p><h2 class="c21" id="h.mo7ahow0t2fa"><span class="c55 c15">4.17 Optional Features</span></h2><p class="c3"><span class="c8 c0">Support for the ADVERTISE, SEARCHGW, GWINFO and PUBWOS packet types is optional. </span></p><p class="c3"><span class="c8 c0">The Forwarder Encapsulation packet type support is optional. For instance, it is not required if the MQTT-SN Clients are able to directly reach a MQTT-SN Gateway.</span></p><p class="c3"><span class="c8 c0">The Protection Encapsulation packet type support is optional. For instance, it is not required if the MQTT-SN Gateway and the MQTT-SN Clients interact over a secure communication channel, such as DTLS or any communication channel assuring the authenticity and optionally the confidentiality protection. </span></p><h1 class="c281 c247 c154 c148 c56" id="h.ao41zqqg0txn"><span class="c0">5 Security (Informative)</span></h1><h2 class="c21" id="h.2w9qaq2wvr46"><span class="c55 c46 c37">5.1 Introduction</span></h2><p class="c18"><span class="c10 c0 c4">MQTT-SN is a transport protocol specification for message transmission, allowing implementers a choice of network, privacy, authentication and authorization technologies. Since the exact security technologies chosen will be context specific, it is the implementer&#39;s responsibility to include the appropriate features as part of their design.</span></p><p class="c18"><span class="c0 c4">MQTT-SN solutions are likely to also include MQTT communications - this section should be read alongside the Security chapters in the MQTT standards: </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html&amp;sa=D&amp;source=editors&amp;ust=1743262498641758&amp;usg=AOvVaw3svGrRffGQcoX56mnRi7UU">MQTT 3.1.1</a></span><span class="c0 c4">&nbsp;and </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html&amp;sa=D&amp;source=editors&amp;ust=1743262498641963&amp;usg=AOvVaw2CK1DcEOyiET0UIhZVX6QI">MQTT 5.0</a></span><span class="c10 c0 c4">.</span></p><p class="c18"><span class="c10 c0 c4">MQTT-SN implementations will likely need to keep pace with an evolving security landscape. This Chapter provides general implementation guidance so as not to restrict choices available. Examples of threats that solution providers should consider are:</span></p><ul class="c137 lst-kix_en1lryfxcqe9-0 start"><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Devices could be compromised</span></li><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Data at rest in Clients and Servers might be accessible</span></li><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Protocol behaviors could have side effects (e.g. &ldquo;timing attacks&rdquo;)</span></li><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Denial of Service (DoS) attacks</span></li><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Communications could be intercepted, altered, re-routed or disclosed</span></li><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Injection of spoofed MQTT-SN Control Packets</span></li></ul><p class="c18"><span class="c10 c0 c4">When MQTT-SN solutions are deployed in hostile communication environments, implementations will often need to provide mechanisms for:</span></p><ul class="c137 lst-kix_umfqnlwbso66-0 start"><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Authentication of users and devices</span></li><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Authorization of access to Server resources</span></li><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Integrity of MQTT-SN Control Packets and application data contained therein</span></li><li class="c176 c106 c187 li-bullet-0"><span class="c10 c0 c4">Privacy of MQTT-SN Control Packets and application data contained therein </span></li></ul><p class="c18"><span class="c0 c4">In addition to technical security issues there could also be geographic (e.g. U.S.-EU Privacy Shield Framework</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23USEUPRIVSH&amp;sa=D&amp;source=editors&amp;ust=1743262498642722&amp;usg=AOvVaw2Odvf8T_j1SDNkkB819dqI">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23USEUPRIVSH&amp;sa=D&amp;source=editors&amp;ust=1743262498642827&amp;usg=AOvVaw1_0G_aR1zo3e2Pzoesl6rr">[USEUPRIVSH]</a></span><span class="c0 c4">), industry specific (e.g. PCI DSS</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23PCIDSS&amp;sa=D&amp;source=editors&amp;ust=1743262498642933&amp;usg=AOvVaw1eribS7c-PtHiMbskJUkBU">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23PCIDSS&amp;sa=D&amp;source=editors&amp;ust=1743262498643023&amp;usg=AOvVaw0G1XMO4WCyVvm-11Ety0TV">[PCIDSS]</a></span><span class="c0 c4">) and regulatory considerations (e.g. Sarbanes-Oxley</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23SARBANES&amp;sa=D&amp;source=editors&amp;ust=1743262498643125&amp;usg=AOvVaw15j76irhAfKVuQe4Pali44">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23SARBANES&amp;sa=D&amp;source=editors&amp;ust=1743262498643204&amp;usg=AOvVaw1xTPRoStfpuxILPezMG3Px">[SARBANES]</a></span><span class="c10 c0 c4">).</span></p><h2 class="c21" id="h.igt8todq2le2"><span class="c55 c46 c37">5.2 MQTT-SN solutions: security and certification</span></h2><p class="c18"><span class="c0 c4">An implementation might want to provide conformance with specific industry security standards such as NIST Cyber Security Framework</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23NISTCSF&amp;sa=D&amp;source=editors&amp;ust=1743262498643516&amp;usg=AOvVaw1Lx8lOwUDR4OTLFggJU_0M">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23NISTCSF&amp;sa=D&amp;source=editors&amp;ust=1743262498643601&amp;usg=AOvVaw3-TX59TNQIpdiKb63eucVs">[NISTCSF]</a></span><span class="c0 c4">, PCI-DSS</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23PCIDSS&amp;sa=D&amp;source=editors&amp;ust=1743262498643692&amp;usg=AOvVaw12vLeIYePY_sYt9Nd5ZZ-Z">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23PCIDSS&amp;sa=D&amp;source=editors&amp;ust=1743262498643758&amp;usg=AOvVaw3qg0uYP-zR3uxivZ1hFwaP">[PCIDSS]</a></span><span class="c0 c4">), FIPS-140-3</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23FIPS1402&amp;sa=D&amp;source=editors&amp;ust=1743262498643853&amp;usg=AOvVaw3XY9nYQhxcBckoqtDEI3hy">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23FIPS1402&amp;sa=D&amp;source=editors&amp;ust=1743262498643927&amp;usg=AOvVaw0Snrho4LsF33xNMk7f8cad">[FIPS1403]</a></span><span class="c0 c4">&nbsp;and Commercial National Security Algorithm Suite (CNSA) 2.0 </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://media.defense.gov/2022/Sep/07/2003071834/-1/-1/0/CSA_CNSA_2.0_ALGORITHMS_.PDF&amp;sa=D&amp;source=editors&amp;ust=1743262498644026&amp;usg=AOvVaw00wySJSgY7TsEBhZ8mp5J4">[CNSA20]</a></span><span class="c10 c0 c4">. The use of industry proven, independently verified and certified technologies will help meet compliance requirements.</span></p><h2 class="c21" id="h.t81ayj7ar2ac"><span class="c55 c46 c37">5.3 Lightweight cryptography and constrained devices</span></h2><p class="c18"><span class="c0 c4">MQTT-SN is targeted at the most power saving and constrained devices. In contrast to MQTT where there is principally one underlying network technology - TCP/IP - MQTT-SN is intended to be agnostic to the underlying network as long as it conforms to the requirements outlined in </span><span class="c31 c0"><a class="c36" href="#h.fc1j1f7dq6oy">Section 4.2</a></span><span class="c10 c0 c4">. </span></p><p class="c18"><span class="c0 c4">Previous versions of MQTT-SN did not include specific security and integrity features, preferring to leave that to the underlying network. That approach is still supported, but to aid interoperability the Protection Encapsulation is introduced, in </span><span class="c31 c0"><a class="c36" href="#h.15cqrsoyxc87">Section 3.26</a></span><span class="c10 c0 c4">. In order to disassociate the security model from the rest of the MQTT-SN specification, the Protection Encapsulation allows all the packet types, including CONNECT, to be wrapped in a security envelope. Furthermore the security material is self-contained in each Protection Encapsulation envelope, so it is completely decoupled from the Virtual Connection.</span></p><p class="c18"><span class="c10 c0 c4">The schemes defined by the Protection Encapsulation are especially suited for implementation by constrained devices: </span></p><ul class="c137 lst-kix_a9v8vu6eq4jw-0 start"><li class="c18 c96 li-bullet-0"><span class="c10 c0 c4">HMAC and AES CMAC are widely adopted authentication only standard schemes.</span></li><li class="c18 c96 li-bullet-0"><span class="c0 c4">The Advanced Encryption Standard</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23AES&amp;sa=D&amp;source=editors&amp;ust=1743262498644640&amp;usg=AOvVaw1-3zaY3E8Yq9L4fJukYdFp">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23AES&amp;sa=D&amp;source=editors&amp;ust=1743262498644756&amp;usg=AOvVaw1fHc8LXINeMVp16Fw-tjsR">[AES]</a></span><span class="c10 c0 c4">&nbsp;is the most widely adopted encryption algorithm. There is hardware support for AES in many processors, but not commonly for embedded processors. </span></li><li class="c18 c96 li-bullet-0"><span class="c0 c4">The encryption algorithm ChaCha20 [</span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23CHACHA20&amp;sa=D&amp;source=editors&amp;ust=1743262498644927&amp;usg=AOvVaw28RABc1HFB52qdT3ljoDC8">CHACHA20</a></span><span class="c10 c0 c4">] encrypts and decrypts much faster in software, but is not as widely available as AES.</span></li></ul><p class="c18"><span class="c0 c4">The Protection Encapsulation approach is informed by the OSCORE [RFC 8613] standard and CBOR Initial Algorithms [RFC 9053] informational document. The ISO 29192</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23ISO29192&amp;sa=D&amp;source=editors&amp;ust=1743262498645094&amp;usg=AOvVaw3BBGAM_qdLZK_fMsqRFXRE">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23ISO29192&amp;sa=D&amp;source=editors&amp;ust=1743262498645175&amp;usg=AOvVaw2MVzNeYNiGF5h1Xaj3Nq4p">[ISO29192]</a></span><span class="c10 c0 c4">&nbsp;standard makes recommendations for cryptographic primitives specifically tuned to perform on constrained, low end, devices.</span></p><p class="c18"><span class="c10 c0 c4">The MQTT-SN Protection Encapsulation also allows for user defined protection schemes, although these will of necessity have lower interoperability compared to the built-in schemes, as implementations of both Client and Server will have to be aware of them.</span></p><h2 class="c21" id="h.g0bezd2bi3zn"><span class="c55 c46 c37">5.4 Implementation notes</span></h2><p class="c18"><span class="c10 c0 c4">When the underlying network layer for MQTT-SN is UDP, DTLS [RFC9147] can be used to secure MQTT-SN communications instead of or in conjunction with the Protection Encapsulation. It is recommended that Server implementations that offer DTLS use UDP port 8883 (IANA service name: secure-mqtt).</span></p><p class="c18"><span class="c0 c4">For other underlying network technologies, a security solution particular to that technology must be found, which could involve using the MQTT-SN </span><span class="c31 c0"><a class="c36" href="#h.15cqrsoyxc87">Protection Encapsulation</a></span><span class="c0 c4">&nbsp;and/or &nbsp;</span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">Authentication</a></span><span class="c10 c0 c4">.</span></p><p class="c18"><span class="c10 c0 c4">There are many security concerns to consider when implementing or using MQTT-SN. The following section should not be considered a comprehensive checklist.</span></p><p class="c18"><span class="c10 c0 c4">An implementation might want to achieve some, or all, of the following:</span></p><h3 class="c21" id="h.h5vxo4k0bdpo"><span class="c38 c37">5.4.1 Authentication of Clients by the Server</span></h3><p class="c18"><span class="c0 c4">The CONNECT packet contains an Authentication Data field which can contain a user name and password if the Authentication Method is SASL PLAIN (see </span><span class="c31 c0"><a class="c36" href="#h.nhp24wh46om4">section 4.11.1.2</a></span><span class="c0 c4">). Implementations can choose how to make use of the content of these fields. They may provide their own authentication mechanism, use an external authentication system such as LDAP</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC4511&amp;sa=D&amp;source=editors&amp;ust=1743262498645855&amp;usg=AOvVaw2RoMenQJl7fFHm0f88KeQ5">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC4511&amp;sa=D&amp;source=editors&amp;ust=1743262498645980&amp;usg=AOvVaw3-1yZxj4d3dnLJ7ruTE-jU">[RFC4511]</a></span><span class="c0 c4">&nbsp;or OAuth</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC6749&amp;sa=D&amp;source=editors&amp;ust=1743262498646130&amp;usg=AOvVaw2MgrMwkE67PAKpuA9rQwsu">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC6749&amp;sa=D&amp;source=editors&amp;ust=1743262498646211&amp;usg=AOvVaw0eTtyTrWtZSUQZgVMzSh60">[RFC6749]</a></span><span class="c10 c0 c4">&nbsp;tokens, or leverage operating system authentication mechanisms.</span></p><p class="c18"><span class="c0 c4">MQTT-SN provides an Authentication mechanism as described in </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c10 c0 c4">. Using this requires support for it in both the Client and Server.</span></p><p class="c18"><span class="c0 c4">Implementations passing authentication data in clear text, obfuscating such data elements or requiring no authentication data should be aware this can give rise to Man-in-the-Middle and replay attacks. </span><span class="c31 c0"><a class="c36" href="#h.zdgt1oam65sj">Section 5.4.5</a></span><span class="c10 c0 c4">&nbsp;introduces approaches to ensure data privacy.</span></p><p class="c18"><span class="c10 c0 c4">A Virtual Private Network (VPN) between the Clients and Servers can provide confidence that data is only being received from authorized Clients.</span></p><p class="c18"><span class="c0 c4">Where DTLS </span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://datatracker.ietf.org/doc/rfc9147/&amp;sa=D&amp;source=editors&amp;ust=1743262498646570&amp;usg=AOvVaw0j1sXCLX37sAZarBfH7Ta_">[RFC9147]</a></span><span class="c10 c0 c4">&nbsp;is used, X.509 Certificates sent from the Client can be used by the Server to authenticate the Client to achieve mutual authentication.</span></p><h3 class="c21" id="h.lexe5j11rq4v"><span class="c38 c37">5.4.2 Authorization of Clients by the Server</span></h3><p class="c18"><span class="c10 c0 c4">If a Client has been successfully authenticated, a Server implementation should check that it is authorized before accepting its connection.</span></p><p class="c18"><span class="c10 c0 c4">Authorization may be based on information provided by the Client such as User Name, the hostname/network address of the Client, or the outcome of authentication mechanisms.</span></p><p class="c18"><span class="c0 c4">In particular, the implementation should check that the Client is authorized to use the Client Identifier as this gives access to the MQTT-SN Session State (described in </span><span class="c31 c0"><a class="c36" href="#h.21od6so">section 4.1</a></span><span class="c10 c0 c4">). This authorization check is to protect against the case where one Client, accidentally or maliciously, provides a Client Identifier that is already being used by some other Client.</span></p><p class="c18"><span class="c10 c0 c4">An implementation should provide access controls that take place after CONNECT to restrict the Client&#39;s ability to publish to particular Topics or to subscribe using particular Topic Filters. An implementation should consider limiting access to Topic Filters that have broad scope, such as the # Topic Filter.</span></p><h3 class="c21" id="h.jysh3cxpsb6d"><span class="c38 c37">5.4.3 Authentication of the Server by the Client</span></h3><p class="c18"><span class="c10 c0 c4">The MQTT-SN protocol is not trust symmetrical. When using basic Username and Password authentication, there is no mechanism for the Client to authenticate the Server. Some forms of authentication do allow for mutual authentication.</span></p><p class="c18"><span class="c0 c4">Where DTLS</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC5246&amp;sa=D&amp;source=editors&amp;ust=1743262498647262&amp;usg=AOvVaw0cnsk_M-kvYN2h5s00ysd9">&nbsp;</a></span><span class="c10 c0 c4">is used, X.509 Certificates sent from the Server can be used by the Client to authenticate the Server. </span></p><p class="c18"><span class="c0 c4">MQTT-SN provides an Authentication mechanism as described in </span><span class="c31 c0"><a class="c36" href="#h.n3l7hni8c3ae">section 4.11</a></span><span class="c10 c0 c4">, which can be used to authenticate the Server to the Client. Using this requires support for it in both the Client and Server.</span></p><p class="c18"><span class="c10 c0 c4">A VPN between Clients and Servers can provide confidence that Clients are connecting to the intended Server.</span></p><h3 class="c21" id="h.ot7sd3b9qzjh"><span class="c38 c37">5.4.4 Integrity of Application Messages and MQTT-SN Control Packets</span></h3><p class="c18"><span class="c10 c0 c4">Applications can independently include hash values in their Application Messages. This can provide integrity of the contents of Publish packets across the network and at rest.</span></p><p class="c18"><span class="c0 c4">DTLS and the Protection Encapsulation</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC5246&amp;sa=D&amp;source=editors&amp;ust=1743262498647681&amp;usg=AOvVaw1MU8EvYhyOWREo7tPW3j8Y">&nbsp;</a></span><span class="c10 c0 c4">provide hash algorithms to verify the integrity of data sent over the network.</span></p><p class="c18"><span class="c10 c0 c4">The use of VPNs to connect Clients and Servers can provide integrity of data across the section of the network covered by a VPN.</span></p><h3 class="c21" id="h.zdgt1oam65sj"><span class="c38 c37">5.4.5 Privacy of Application Messages and MQTT-SN Control Packets</span></h3><p class="c18"><span class="c0 c4">DTLS</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC5246&amp;sa=D&amp;source=editors&amp;ust=1743262498647951&amp;usg=AOvVaw1EnkexlQE2dY2Z0LEM9cTT">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://datatracker.ietf.org/doc/rfc9147/&amp;sa=D&amp;source=editors&amp;ust=1743262498648013&amp;usg=AOvVaw2aFf9JCDU39GAp0_MiaAWn">[RFC9147]</a></span><span class="c10 c0 c4">&nbsp;can provide encryption of data sent over the network. There are valid DTLS cipher suites that include a NULL encryption algorithm that does not encrypt data. To ensure privacy Clients and Servers should avoid these cipher suites.</span></p><p class="c18"><span class="c10 c0 c4">An application might independently encrypt the contents of its Application Messages. This could provide privacy of the Application Message both over the network and at rest. This would not provide privacy for other Properties of the Application Message such as Topic Name.</span></p><p class="c18"><span class="c10 c0 c4">Client and Server implementations can provide encrypted storage for data at rest such as Application Messages stored as part of a Session.</span></p><p class="c18"><span class="c10 c0 c4">The use of VPNs to connect Clients and Servers can provide privacy of data across the section of the network covered by a VPN.</span></p><h3 class="c21" id="h.xh57vyfcv2nk"><span class="c38 c37">5.4.6 Non-repudiation of message transmission</span></h3><p class="c18"><span class="c10 c0 c4">Application designers might need to consider appropriate strategies to achieve end to end non-repudiation.</span></p><h3 class="c21" id="h.e8wrqxkc3xaj"><span class="c38 c37">5.4.7 Detecting compromise of Clients and Servers</span></h3><p class="c18"><span class="c0 c4">Client and Server implementations using DTLS</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC5246&amp;sa=D&amp;source=editors&amp;ust=1743262498648698&amp;usg=AOvVaw3qtT_cxMvtXaZcQuBqWIi_">&nbsp;</a></span><span class="c10 c0 c4">should provide capabilities to ensure that any X.509 certificates provided when initiating a DTLS session are associated with the hostname of the Client connecting or Server being connected to.</span></p><p class="c18"><span class="c0 c4">Client and Server implementations using DTLS can choose to provide capabilities to check Certificate Revocation Lists (CRLs</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC5280&amp;sa=D&amp;source=editors&amp;ust=1743262498648877&amp;usg=AOvVaw0DcY4x6G7F3doJxs0AZk0p">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC5280&amp;sa=D&amp;source=editors&amp;ust=1743262498648951&amp;usg=AOvVaw0OL_6OPO_q3Qf9n2cyqnW2">[RFC5280]</a></span><span class="c0 c4">) and Online Certificate Status Protocol (OSCP)</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC6960&amp;sa=D&amp;source=editors&amp;ust=1743262498649053&amp;usg=AOvVaw0-gKdhE0ZTC0Al2-yseGLr">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC6960&amp;sa=D&amp;source=editors&amp;ust=1743262498649125&amp;usg=AOvVaw1kIbdkXWuKeo5jtPqdMe4e">[RFC6960]</a></span><span class="c10 c0 c4">&nbsp;to prevent revoked certificates from being used.</span></p><p class="c18"><span class="c0 c4">Physical deployments might combine tamper-proof hardware with the transmission of specific data in Application Messages. For example, a meter might have an embedded GPS to ensure it is not used in an unauthorized location.</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23IEEE8021AR&amp;sa=D&amp;source=editors&amp;ust=1743262498649298&amp;usg=AOvVaw33NgET8SjvC31HvDwRtPS7">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23IEEE8021AR&amp;sa=D&amp;source=editors&amp;ust=1743262498649374&amp;usg=AOvVaw1LcZLConNMyMWOsGJiq6q-">[IEEE8021AR]</a></span><span class="c10 c0 c4">&nbsp;is a standard for implementing mechanisms to authenticate a device&rsquo;s identity using a cryptographically bound identifier.</span></p><h3 class="c21" id="h.z4zuc51rmam1"><span class="c38 c37">5.4.8 Detecting abnormal behaviors</span></h3><p class="c18"><span class="c10 c0 c4">Server implementations might monitor Client behavior to detect potential security incidents. For example:</span></p><ul class="c137 lst-kix_44n6p7c33ui3-0 start"><li class="c18 c96 li-bullet-0"><span class="c10 c0 c4">Repeated connection attempts</span></li><li class="c18 c96 li-bullet-0"><span class="c10 c0 c4">Repeated authentication attempts</span></li><li class="c18 c96 li-bullet-0"><span class="c10 c0 c4">Abnormal termination of connections</span></li><li class="c18 c96 li-bullet-0"><span class="c10 c0 c4">Topic scanning (attempts to send or subscribe to many topics)</span></li><li class="c18 c96 li-bullet-0"><span class="c10 c0 c4">Sending undeliverable messages (no subscribers to the topics)</span></li><li class="c18 c96 li-bullet-0"><span class="c10 c0 c4">Clients that connect but do not send data</span></li></ul><p class="c18"><span class="c10 c0 c4">Server implementations might delete the Virtual Connection of Clients that breach its security rules.</span></p><p class="c18"><span class="c10 c0 c4">Server implementations detecting unwelcome behavior might implement a dynamic block list based on identifiers such as IP address or Client Identifier.</span></p><p class="c18"><span class="c10 c0 c4">Deployments might use network-level controls (where available) to implement rate limiting or blocking based on IP address or other information.</span></p><h3 class="c21" id="h.wh4qb21u9cfo"><span class="c38 c37">5.4.9 Handling of Disallowed Unicode code points</span></h3><p class="c18"><span class="c31 c0"><a class="c36" href="#h.49x2ik5">Section 1.7.4</a></span><span class="c10 c0 c4">&nbsp;describes the Disallowed Unicode code points, which should not be included in a UTF-8 Encoded String. A Client or Server implementation can choose whether to validate that these code points are not used in UTF-8 Encoded Strings such as the Topic Name or Properties.</span></p><p class="c18"><span class="c10 c0 c4">If the Server does not validate the code points in a UTF-8 Encoded String but a subscribing Client does, then a second Client might be able to cause the subscribing Client to delete the Virtual Connection by publishing on a Topic Name or using Properties that contain a Disallowed Unicode code point. This section recommends some steps that can be taken to prevent this problem.</span></p><p class="c18"><span class="c10 c0 c4">A similar problem can occur when the Client validates that the payload matches the Payload Format Indicator and the Server does not. The considerations and remedies for this are similar to those for handling Disallowed Unicode code points.</span></p><h4 class="c21" id="h.nz5eemy59ri"><span class="c9">5.4.9.1 Considerations for the use of Disallowed Unicode code points</span></h4><p class="c18"><span class="c10 c0 c4">An implementation would normally choose to validate UTF-8 Encoded strings, checking that the Disallowed Unicode code points are not used. This avoids implementation difficulties such as the use of libraries that are sensitive to these code points, it also protects applications from having to process them.</span></p><p class="c18"><span class="c10 c0 c4">Validating that these code points are not used removes some security exposures. There are possible security exploits which use control characters in log files to mask entries in the logs or confuse the tools which process log files. The Unicode Noncharacters are commonly used as special markers and allowing them into UTF-8 Encoded Strings could permit such exploits. </span></p><h4 class="c21" id="h.bynx7fjpvxum"><span class="c9">5.4.9.2 Interactions between Publishers and Subscribers</span></h4><p class="c18"><span class="c10 c0 c4">The publisher of an Application Message normally expects that the Servers will forward the message to subscribers, and that these subscribers are capable of processing the messages.</span></p><p class="c18"><span class="c10 c0 c4">These are some conditions under which a publishing Client can cause the subscribing Client to delete the Virtual Connection. Consider a situation where:</span></p><ul class="c137 lst-kix_vnhktty4hd60-0 start"><li class="c218 c106 c187 li-bullet-0"><span class="c10 c0 c4">A Client publishes an Application Message using a Topic Name containing one of the Disallowed Unicode code points.</span></li><li class="c218 c106 c187 li-bullet-0"><span class="c10 c0 c4">The publishing Client library allows the Disallowed Unicode code point to be used in a Topic Name rather than rejecting it.</span></li><li class="c218 c106 c187 li-bullet-0"><span class="c10 c0 c4">The publishing Client is authorized to send the publication.</span></li><li class="c106 c187 c218 li-bullet-0"><span class="c10 c0 c4">A subscribing Client is authorized to use a Topic Filter which matches the Topic Name. Note that the Disallowed Unicode code point might occur in a part of the Topic Name matching a wildcard character in the Topic Filter.</span></li><li class="c218 c106 c187 li-bullet-0"><span class="c10 c0 c4">The Server forwards the message to the matching subscriber rather than disconnecting the publisher.</span></li><li class="c218 c106 c187 li-bullet-0"><span class="c10 c0 c4">In this case the subscribing Client might:</span></li></ul><ul class="c137 lst-kix_vnhktty4hd60-1 start"><li class="c218 c154 c129 li-bullet-0"><span class="c10 c0 c4">Delete the Virtual Connection because it does not allow the use of Disallowed Unicode code points, possibly sending a DISCONNECT before doing so. &nbsp;For QoS 1 and QoS 2 messages this might cause the Server to send the message again, causing the Client to delete the Virtual Connection again.</span></li><li class="c218 c154 c129 li-bullet-0"><span class="c10 c0 c4">Reject the Application Message by sending a Reason Code greater than or equal to 0x80 in a PUBACK (QoS 1) or PUBREC (QoS 2).</span></li><li class="c218 c154 c129 li-bullet-0"><span class="c10 c0 c4">Accept the Application Message but fail to process it because it contains one of the Disallowed Unicode code points.</span></li><li class="c218 c154 c129 li-bullet-0"><span class="c10 c0 c4">Successfully process the Application Message.</span></li></ul><p class="c18"><span class="c10 c0 c4">The potential for the Client to delete the Virtual Connection might go unnoticed until a publisher uses one of the Disallowed Unicode code points.</span></p><h4 class="c21" id="h.d4dvwf8lgj0z"><span class="c9">5.4.9.3 Remedies</span></h4><p class="c18"><span class="c10 c0 c4">If there is a possibility that a Disallowed Unicode code point could be included in a Topic Name or other Properties delivered to a Client, the solution owner can adopt one of the following suggestions:</span></p><ol class="c137 lst-kix_om3956un8kc0-0 start" start="1"><li class="c218 c106 c187 li-bullet-0"><span class="c10 c0 c4">Change the Server implementation to one that rejects UTF-8 Encoded Strings containing a Disallowed Unicode code point either by sending a Reason Code greater than or equal to 0x80 or deleting the Virtual Connection.</span></li><li class="c218 c106 c187 li-bullet-0"><span class="c10 c0 c4">Change the Client library used by the subscribers to one that tolerates the use of Disallowed Code points. The client can either process or discard messages with UTF-8 Encoded Strings that contain Disallowed Unicode code points so long as it continues the protocol.</span></li></ol><h3 class="c21" id="h.tdlqgir6zrnb"><span class="c38 c37">5.4.10 Other security considerations</span></h3><p class="c18"><span class="c0 c4">If Client or Server X.509 certificates are lost or it is considered that they might be compromised they should be revoked (using CRLs</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC5280&amp;sa=D&amp;source=editors&amp;ust=1743262498651755&amp;usg=AOvVaw1nTgM3To1x_K8VmzAmaieU">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC5280&amp;sa=D&amp;source=editors&amp;ust=1743262498651856&amp;usg=AOvVaw29-EjQPwBnR6pKIVp-zcWZ">[RFC5280]</a></span><span class="c0 c4">&nbsp;and/or OSCP</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC6960&amp;sa=D&amp;source=editors&amp;ust=1743262498651961&amp;usg=AOvVaw0tBTgaPQfOMARpn6BoNQEv">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC6960&amp;sa=D&amp;source=editors&amp;ust=1743262498652047&amp;usg=AOvVaw0DndHQOLpoJjH2SeXJzYbG">[RFC6960]</a></span><span class="c10 c0 c4">).</span></p><p class="c18"><span class="c10 c0 c4">Client or Server authentication credentials, such as User Name and Password, that are lost or considered compromised should be revoked and/or reissued.</span></p><p class="c18"><span class="c10 c0 c4">In the case of long lasting connections:</span></p><ul class="c137 lst-kix_laomlx24l8ol-0 start"><li class="c18 c96 li-bullet-0"><span class="c10 c0 c4">Where applicable, Client and Server implementations should allow for session renegotiation to establish new cryptographic parameters (replace session keys, change cipher suites, change authentication credentials).</span></li><li class="c18 c96 li-bullet-0"><span class="c10 c0 c4">Servers may close the Virtual Connection of Clients and require them to re-authenticate with new credentials.</span></li><li class="c18 c96 li-bullet-0"><span class="c0 c4">Servers may require their Client to reauthenticate periodically using the mechanism described in </span><span class="c31 c0"><a class="c36" href="#h.ut22r1f7l7us">section 4.11.1</a></span><span class="c10 c0 c4">.</span></li></ul><p class="c18"><span class="c10 c0 c4">Clients connected to a Server have a transitive trust relationship with other Clients connected to the same Server and who have authority to publish data on the same topics.</span></p><h3 class="c21" id="h.ndkmfsfe6rvr"><span class="c38 c37">5.4.11 Use of SOCKS</span></h3><p class="c18"><span class="c0 c4">Implementations of Clients should be aware that some environments will require the use of SOCKSv5</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC1928&amp;sa=D&amp;source=editors&amp;ust=1743262498652762&amp;usg=AOvVaw0vyMVNzL2REohS996FoWrl">&nbsp;</a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC1928&amp;sa=D&amp;source=editors&amp;ust=1743262498652881&amp;usg=AOvVaw3WPOZ2yVQrEh7qwqz7bgMf">[RFC1928]</a></span><span class="c10 c0 c4">&nbsp;proxies to transmit data. Some MQTT-SN implementations could make use of alternative secured tunnels through the use of SOCKS. Where implementations choose to use SOCKS, they should support both anonymous and User Name, Password authenticating SOCKS proxies. In the latter case, implementations should be aware that SOCKS authentication might occur in plain-text and so should avoid using the same credentials for connection to an MQTT-SN Server.</span></p><h3 class="c21" id="h.3e16slc3oya2"><span class="c38 c37">5.4.12 Security profiles</span></h3><p class="c18"><span class="c10 c0 c4">Implementers and solution designers might wish to consider security as a set of profiles which can be applied to the MQTT-SN protocol. An example of a layered security hierarchy is presented below.</span></p><h4 class="c21" id="h.mkfs4hgl2fw9"><span class="c9">5.4.12.1 Clear communication profile</span></h4><p class="c18"><span class="c10 c0 c4">When using the clear communication profile, the MQTT-SN protocol runs over an open network with no additional secure communication mechanisms in place.</span></p><h4 class="c21" id="h.z2enj073z0k8"><span class="c9">5.4.12.2 Secured network communication profile</span></h4><p class="c18"><span class="c10 c0 c4">When using the secured network communication profile, the MQTT-SN protocol runs over a physical or virtual network which has security controls e.g., VPNs or physically secure network.</span></p><h4 class="c21" id="h.uimbujrr2hqo"><span class="c9">5.4.12.3 Secured transport profile</span></h4><p class="c18"><span class="c10 c0 c4">When using the secured transport profile, the MQTT-SN protocol runs over a physical or virtual network and uses MQTT-SN Authentication, Protection Encapsulation, DTLS and/or other technologies to provide authentication, integrity and privacy.</span></p><p class="c18"><span class="c0 c4">DTLS</span><span class="c0 c4"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23RFC5246&amp;sa=D&amp;source=editors&amp;ust=1743262498653616&amp;usg=AOvVaw3N-aeDwD7aMdRKh10IiIVE">&nbsp;</a></span><span class="c10 c0 c4">Client authentication can be used in addition to &ndash; or in place of &ndash; MQTT-SN Client authentication as provided by the Authentication Method and Data fields.</span></p><h4 class="c21" id="h.5h0rls4zwxer"><span class="c9">5.4.12.4 Industry specific security profiles</span></h4><p class="c18"><span class="c10 c0 c4">It is anticipated that the MQTT-SN (and MQTT) protocols will be designed into industry specific application profiles, each defining a threat model and the specific security mechanisms to be used to address these threats. Recommendations for specific security mechanisms will often be taken from existing works including:</span></p><p class="c154 c332"><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/mqtt/mqtt/v5.0/cos02/mqtt-v5.0-cos02.html%23NSAB&amp;sa=D&amp;source=editors&amp;ust=1743262498654033&amp;usg=AOvVaw1pBfp_UZ1XCoIYScBX-a1X">[NISTCSF] NIST Cyber Security Framework<br> [NIST7628] NISTIR 7628 Guidelines for Smart Grid Cyber Security<br> [FIPS1403] Security Requirements for Cryptographic Modules (FIPS PUB 140-3)<br> [PCIDSS] PCI-DSS Payment Card Industry Data Security Standard<br></a></span><span class="c31 c0"><a class="c36" href="https://www.google.com/url?q=https://media.defense.gov/2022/Sep/07/2003071834/-1/-1/0/CSA_CNSA_2.0_ALGORITHMS_.PDF&amp;sa=D&amp;source=editors&amp;ust=1743262498654128&amp;usg=AOvVaw3A_zANNaR67pKuf2TeCJJv">[CNSA20]</a></span><span class="c10 c0 c4">&nbsp;Commercial National Security Algorithm Suite (CNSA) 2.0 </span></p><p class="c45"><span class="c0 c286"><a class="c36" href="#id.is565v">[NSAB]</a></span><span class="c63 c90">&nbsp;</span><span class="c0">NSA Suite B Cryptography</span></p><h1 class="c281 c247 c154 c148 c56" id="h.2k82xt6"><span class="c15 c93 c128 c178">6 Conformance</span></h1><p class="c3"><span class="c0 c29">(</span><span class="c63 c29 c90">Note</span><span class="c0 c29">: The </span><span class="c0 c286 c29 c116"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/tc-process%23wpComponentsConfClause&amp;sa=D&amp;source=editors&amp;ust=1743262498654546&amp;usg=AOvVaw0RNzu9B_LfsRmG55KstJpj">OASIS TC Process</a></span><span class="c10 c0 c29 c57">&nbsp;requires that a specification approved by the TC at the Committee Specification Public Review Draft, Committee Specification or OASIS Standard level must include a separate section, listing a set of numbered conformance clauses, to which any implementation of the specification must adhere in order to claim conformance to the specification (or any optional portion thereof). This is done by listing the conformance clauses here.</span></p><p class="c3"><span class="c0 c29">For the definition of &quot;conformance clause,&quot; see </span><span class="c0 c286 c29 c116"><a class="c36" href="https://www.google.com/url?q=https://www.oasis-open.org/policies-guidelines/oasis-defined-terms-2017-05-26%23dConformanceClause&amp;sa=D&amp;source=editors&amp;ust=1743262498654842&amp;usg=AOvVaw2FWFDVh0L1lj7MbD6vpooB">OASIS Defined Terms</a></span><span class="c10 c0 c29 c57">.</span></p><p class="c3"><span class="c0 c29">See &quot;Guidelines to Writing Conformance Clauses&quot;: <br></span><span class="c0 c286 c29 c116"><a class="c36" href="https://www.google.com/url?q=https://docs.oasis-open.org/templates/TCHandbook/ConformanceGuidelines.html&amp;sa=D&amp;source=editors&amp;ust=1743262498655065&amp;usg=AOvVaw2BvBxu0MBeQMid40h1cLoT">https://docs.oasis-open.org/templates/TCHandbook/ConformanceGuidelines.html</a></span><span class="c10 c0 c29 c57">.</span></p><p class="c3"><span class="c0 c29">Remove this note before submitting for publication.)</span></p><h1 class="c249 c247 c154 c148 c56" id="h.bc8w7ov5oli4"><span class="c93 c46 c128 c37 c178">Appendix A. Acknowledgments</span></h1><p class="c3"><span class="c0">[</span><span class="c0 c29">Required section.</span><span class="c8 c0">]</span></p><p class="c3"><span class="c10 c0 c29 c57">Note: A Work Product approved by the TC must include a list of people who participated in the development of the Work Product. This is generally done by collecting the list of names in this appendix. This list shall be initially compiled by the Chair, and any Member of the TC may add or remove their names from the list by request.</span></p><p class="c3"><span class="c10 c0 c29 c57">Remove these yellow notes before submitting for publication.</span></p><h2 class="c21" id="h.glow6i83isd5"><span class="c55 c46 c37">A.1 Special Thanks</span></h2><p class="c3"><span class="c10 c0 c29 c57">Note: This is an optional subsection to call out contributions from TC members. If a TC wants to thank non-TC members then they should avoid using the term &quot;contribution&quot; and instead thank them for their &quot;expertise&quot; or &quot;assistance&quot;. </span></p><p class="c3"><span class="c0">Substantial contributions to this document from the following individuals are gratefully acknowledged:</span></p><p class="c3"><span class="c8 c0">[Participant Name, Affiliation | Individual Member]</span></p><h2 class="c21" id="h.tdeowwajj1wf"><span class="c55 c46 c37">A.2 Participants</span></h2><p class="c3"><span class="c10 c0 c29 c57">Note: A TC can determine who they list here, however, Observers must not be listed. It is common practice for TCs to list everyone that was part of the TC during the creation of the document, but this is ultimately a TC decision on who they want to list and not list. </span></p><p class="c3"><span class="c8 c0">The following individuals were members of this Technical Committee during the creation of this document and their contributions are gratefully acknowledged:</span></p><p class="c3"><span class="c0">[Participant Name, Affiliation | Individual Member]</span></p><h1 class="c114 c56 c247" id="h.v94r25kxc2gv"><span class="c0">Appendix B.</span><span class="c150">&nbsp;</span><span class="c15 c93 c128 c178">Mandatory normative statements (informative)</span></h1><h1 class="c247 c154 c148 c56 c249" id="h.ewpzaw2f211a"><span class="c93 c128 c63 c29 c178 c90">Appendix C. Revision History (informative)</span></h1><p class="c3"><span class="c10 c0 c29 c57">[Optional section.]</span></p><p class="c3"><span class="c10 c0 c29 c57">Revisions made since the initial stage of this numbered Version of this document may be tracked here.</span></p><p class="c3"><span class="c0 c29">Note: If revision tracking is handled in another system like github, provide a link to it instead of using this table, if desired. &nbsp;Remove this note before submitting for publication.</span><sup><a href="#cmnt80" id="cmnt_ref80">[cb]</a></sup></p><table class="c152 c170"><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c27"><span class="c13 c0">Revision</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c27"><span class="c13 c0">Date</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c27"><span class="c13 c0">Editor</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Changes Made</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-01</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[27th February 2020]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Andrew Banks]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Merge Initial Document and Input Specification]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-02</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[4th April 2020]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Andrew Banks]</span></p><p class="c3"><span class="c13 c0">[Rahul Gupta]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Terminology, DataTypes, CONNECT packet]</span></p><p class="c3"><span class="c13 c0">[Specification Diagrams]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-05</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[21st February 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Packet Diagrams, Bit Tables, Field Definitions]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-06</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[10th March 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Sleeping client operational behavior, Terminology changes, 13 JIRA resolutions added to specification, Section numbering changes]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-07</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[15th March 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Added 4 byte (32 bit) integer description]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-08</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[26th March 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Added max packet size to CONNECT, Added Session Expiry Interval to CONNACK, Removed ZigBee references, Removed capabilities flag from CONNECT, AUTH packet added along with Authentication operational behavior. Standardized page margins]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-09</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[05th May 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Added long topic type to topicIdTypes, updated PUBLISH to accommodate new topic type, added topic type matrix]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-10</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[October 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Document format aligned with core specification, removal of introduction, addition of packet ID table, adding error code]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-11</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[October 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[MQTT-SN Architecture moved into operational behavior, removal of variable integer definition, addition of session state section, normative comments added to sleeping client operational behaviour]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-12</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[November 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Andrew Banks]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Rework 1.5 Background</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-13</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[November 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Move Authentication and Retained messages into operational behavior, rationalized tables and figures, separated packet definitions of similar structures into distinct sections.]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-14</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Decmeber 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[First implementation attempt, Fixed table references, Fixed PingResp packet]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-15</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[December 2021]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Tara added as editor, return code additions]</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-15</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[February 2022]</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Tara Walker]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Changed Return Code nomenclature to be more consistent w/5.0. Added Reason Codes to each control packet type</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-16</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">March 2022</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Tara Walker]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Updated WILL*Types to correct Packet Type. Added Global Flags Table to Section 2. Updated each Control Packet Flags in Section 3 adding missing Flag Sections. Formatting: Auto update of Table numbering, Auto update of WD Revision numbering for footer.</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-17</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">April 2022</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Updated use of topic name and topic filter to be aligned with MQTT 5. Topic alias becomes topic alias type. Added quality of service protocol flow as it differed to MQTT 5 (inflight). Conformance references removed as these will need to be wholly owned OR externally referenced.</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-18 </span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">June 2022</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Tara E. Walker]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Updated items based upon the feedback from Alex Kritikos.</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-19</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">August 2022</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Remove change tracking as document was becoming unworkable.</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-20</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">September 2022</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Integrate feedback from committee meeting relating to the work by Miroslav Prymek. Added resolution of CONNACK session present per MQTT 585</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-21</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">October 2022</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Client States section added to describe the 5 states.</span></p><p class="c3"><span class="c13 c0">Updated the state transition diagram to accommodate new disconnect field and new transitions between Awake -&gt; Lost and Asleep -&gt; Disconnected.</span></p><p class="c3"><span class="c13 c0">Security section added.</span></p><p class="c3"><span class="c13 c0">Figure 2 &ndash; MQTT-SN Architecture diagram updated.</span></p><p class="c3"><span class="c13 c0">Font updated to Arial from bespoke font.</span></p><p class="c3"><span class="c13 c0">QoS -1 &ndash; Section added to the QoS chapter (NOTE: updated text to allow for bi-directional -1 PUBLISHING).</span></p><p class="c3"><span class="c13 c0">Introduction of Exponential backoff algorithm.</span></p><p class="c3"><span class="c13 c0">Applied issue issue 587 (max messages set in CONNECT flags).</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-22</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">November 2022</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Integrate MQTT 591 (sleep behavior)</span></p><p class="c3"><span class="c13 c0">Replace instances of &ldquo;return code&rdquo; to &ldquo;reason code&rdquo;</span></p><p class="c3"><span class="c13 c0">PINGREQ timeout aligned with Tretry (15 seconds) from the ill defined &ldquo;reasonable amount of time&rdquo;</span></p><p class="c3"><span class="c13 c0">Exponential Algo fix (using the factor n assuming it was the product!)</span></p><p class="c3"><span class="c13 c0">Client Identifier size clarification.</span></p><p class="c3"><span class="c13 c0">Publish variants added; distinguish variant based on QoS field to save 2 bytes for single flight PUBLISH packets.</span></p><p class="c3"><span class="c13 c0">Incorporated B4. Into retry timer.</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-23</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">December 2022</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">CONNECT Client Identifier Informative and Normative d&eacute;finition update.</span></p><p class="c3"><span class="c13 c0">CONNACK Client Identifier Informative and Normative d&eacute;finition update.</span></p><p class="c3"><span class="c13 c0">CONNACK reason codes updated.</span></p><p class="c3"><span class="c13 c0">KeepAlive boundary specified removing 0 as an option per the committee call.</span></p><p class="c3"><span class="c13 c0">Added Session Expiry &ldquo;reasonable&rdquo; setting statement.</span></p><p class="c3"><span class="c13 c0">Added sequence diagrams for CONNECT, CONNECT with WILL, CONNECT with AUTH.</span></p><p class="c3"><span class="c13 c0">Network Connection Section (IANA Omitted but we need to add this to agenda)</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-24</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">December 2022</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson, Davide Lenzarini, Ian Craggs]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Removal of Network Connection references.</span></p><p class="c69 c12"><span class="c13 c0">Modified PUBLISH -1 &amp; 0 tables to remove topic length field</span></p><p class="c69 c12"><span class="c13 c0">Modified PUBLISH 1 &amp; 2 tables to remove topic length field</span></p><p class="c3"><span class="c13 c0">Changed Data field description on the above</span></p><p class="c3"><span class="c13 c0">Updated sleeping device section</span></p><p class="c3"><span class="c13 c0">Ensured the references to the Packet Length and type section was consistent in all packet types.</span></p><p class="c3 c62"><span class="c13 c0"></span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-25</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">January 2023</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Broken out PUBLISH -1 into its own packet type</span></p><p class="c3"><span class="c13 c0">Disconnect flags field moved and added existence flags for optional fields</span></p><p class="c3"><span class="c13 c0">Introduction titles changed to better sign post where the information resides in the document</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-26</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">May 2023</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c0 c13">[Simon Johnson, Davide Lenzarini]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Backwards compatible PUBLISH -1, new OOS Publish message to repace it. Removal of security section to allow to rewrite.</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-27</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">November 2023</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">[Simon Johnson, Davide Lenzarini]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">Network Transport Layer chapter updated to define the impact of lower layers features on the MQTT-SN protocol.</span></p><p class="c3"><span class="c13 c0">Replaced the term MQTT-SN &ldquo;connection&rdquo; with the term &ldquo;Virtual Connection&rdquo;.</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-28</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">December 2023</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c125 c29">[Davide Lenzarini, Stefan Hagen]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c125 c29">Ensured document structure is intact and replaced table footnotes with simple text tags and a subsequent notes listing.</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3 c62"><span class="c13 c0"></span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">February 2024</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c125 c93 c29 c57">[Ian Craggs, Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c125 c93 c29 c57">Issue 560 resolution - full reason code table and add reason code fields to PUBREC, PUBREL and PUBCOMP. Duplicate reason code tables removed from packet descriptions.</span></p><p class="c3"><span class="c125 c93 c29 c57">Will Data Sent in CONNECT</span></p><p class="c3"><span class="c125 c93 c29 c57">Auth Data Sent in CONNECT &amp; CONNACK</span></p><p class="c3"><span class="c125 c93 c29 c57">Suback granted QoS 0,1,2 now reason codes not flags.</span></p><p class="c3"><span class="c125 c93 c29 c57">Moved PUBLISH -1 to new Backward compatibility appendix</span></p></td></tr><tr class="c35"><td class="c41" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">WD-29</span></p></td><td class="c99" colspan="1" rowspan="1"><p class="c3"><span class="c13 c0">March 2024</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c3"><span class="c93 c29 c57 c125">[Ian Craggs, Davide Lenzarini, Simon Johnson]</span></p></td><td class="c105" colspan="1" rowspan="1"><p class="c3"><span class="c125 c93 c29 c57">Update Terminology section. Add Operational Behavior sections from MQTT 5.0. Workshop revisions to Operational Behavior responding to Davide&rsquo;s review.</span></p></td></tr></table><h1 class="c247 c154 c148 c56 c280" id="h.3jd0qos"><span class="c93 c0 c128 c178 c37"></span></h1><div><p class="c114"><span class="c93 c32 c76 c4">mqtt-sn-v2.0-wd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c76">Committee Specification </span><span class="c93 c32 c76 c4">Draft </span><span class="c76">01</span><span class="c93 c32 c76 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c76">01</span><span class="c93 c32 c76 c4">&nbsp;</span><span class="c76">August</span><span class="c93 c32 c76 c4">&nbsp;202</span><span class="c76 c4">4</span></p><p class="c12 c154"><span class="c93 c32 c76 c4">Standards Track Draft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright &copy; OASIS Open 202</span><span class="c76">4</span><span class="c93 c32 c76 c4">. All Rights Reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page </span><span class="c93 c32 c76 c4">&nbsp;of </span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref1" id="cmnt1">[a]</a><span class="c40 c0 c4">Paul or Stefan can fill it</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref2" id="cmnt2">[b]</a><span class="c40 c0 c4">Links not yet working. They will be created once the files will be uploaded for final comments</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref3" id="cmnt3">[c]</a><span class="c40 c0 c4">It has to be filled with the differences between 2.0 and 1.2</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref4" id="cmnt4">[d]</a><span class="c40 c0 c4">It has to be fixed</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref5" id="cmnt5">[e]</a><span class="c40 c0 c4">The character encoding of the document does not seem to support the CJK chars.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref6" id="cmnt6">[f]</a><span class="c40 c0 c4">Should this be testable as a conformance clause i.e., you must be able to do this...</span></p><p class="c12 c62"><span class="c40 c0 c4"></span></p><p class="c12"><span class="c40 c0 c4">In discussion in face-to-face, this seems wrong and Packed IDs should be unique so this CANNOT happen. This is part of the reasoning to remove the need for a correl-id</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref7" id="cmnt7">[g]</a><span class="c40 c0 c4">The statement seems correct to me - perhaps it would be better as informative?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref8" id="cmnt8">[h]</a><span class="c40 c0 c4">This statement is taken directly from MQTT 5. I believe it to be accurate.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref9" id="cmnt9">[i]</a><span class="c40 c0 c4">How the client can request a specific MQTT version?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref10" id="cmnt10">[j]</a><span class="c40 c0 c4">The connect packet has a protocol version number field</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref11" id="cmnt11">[k]</a><span class="c40 c0 c4">In the CONNECT packet the protocol version is for MQTT-SN. How the client can request a specific MQTT version?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref12" id="cmnt12">[l]</a><span class="c40 c0 c4">it&#39;s for the case of a transparent gateway</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref13" id="cmnt13">[m]</a><span class="c40 c0 c4">Sorry, it is unclear to me. How in MQTT-SN I can request a specific MQTT version?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref14" id="cmnt14">[n]</a><span class="c40 c0 c4">The Gateway in this case is acting as the MQTT client when it is a transparent Gateway. So this would help the MQTT-SN client diagnose what was wrong.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref15" id="cmnt15">[o]</a><span class="c40 c0 c4">Ian to verify if this reservation is possible and confirmed</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref16" id="cmnt16">[p]</a><span class="c40 c0 c4">I&#39;m wondering if it would be better for MQTT-SN specific reason codes to start from 255 and work backwards? In any case, we need to take the proposal to the full MQTT TC for discussion and approval.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref17" id="cmnt17">[q]</a><span class="c40 c0 c4">OK for me</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref18" id="cmnt18">[r]</a><span class="c40 c0 c4">1-hop is referenced here, but not defined</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref19" id="cmnt19">[s]</a><span class="c40 c0 c4">It is inconsistent with the ADVERTISE packet. If it send from a Client, that get the GwId from ADVERTISE over 6 bytes (a MAC address) what is the content of the GwId field in the GWINFO packet?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref20" id="cmnt20">[t]</a><span class="c40 c0 c4">issue 640</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref21" id="cmnt21">[u]</a><span class="c40 c0 c4">What about the PUBLISH packets received by a Client?</span></p><p class="c12"><span class="c40 c0 c4">Can we provide an example on how to associate a PUBLISH received by a GW with a session handled by the same GW?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref22" id="cmnt22">[v]</a><span class="c40 c0 c4">Topic Data, right?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref23" id="cmnt23">[w]</a><span class="c40 c0 c4">No. I&#39;ve clarified that Topic Aliases are converted to Topic Names (Filters) before being added to the subscription table.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref24" id="cmnt24">[x]</a><span class="c40 c0 c4">If required here, it is required also for all other packets. I think we can remove it. Otherwise we should add also to WAKEUP and SLEEPREQ</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref25" id="cmnt25">[y]</a><span class="c40 c0 c4">It&#39;s only used for sleeping clients on waking. So no to adding it elsewhere. WAKEUP is sent by the server, and for SLEEPREQ the client hasn&#39;t been sleeping at that point.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref26" id="cmnt26">[z]</a><span class="c40 c0 c4">See https://issues.oasis-open.org/browse/MQTT-631</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref27" id="cmnt27">[aa]</a><span class="c40 c0 c4">I think the &quot;Client ID&quot; must be optional also in WAKEUP and in SLEEPREQ to facilitate the implementation</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref28" id="cmnt28">[ab]</a><span class="c40 c0 c4">Considering chapter 4.15 (client states), in which state the Client should be to be waked up? In the SLEEP state it is clearly stated that &quot;it cannot receive packets&quot;. Do we need to adapt chapter 4.15 for that, at least for the SLEEP state?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref29" id="cmnt29">[ac]</a><span class="c40 c0 c4">Yes I think we should. The idea is that the WAKEUP packet is sent out of band (whatever that means for a particular networking technology) so in some sense the statement &quot;cannot receive packets&quot; still holds.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref30" id="cmnt30">[ad]</a><span class="c40 c0 c4">This is not aligned with the image. Is the Radius a field different from CTRL?</span></p><p class="c12"><span class="c40 c0 c4">What are the possible values for radius?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref31" id="cmnt31">[ae]</a><span class="c40 c0 c4">This is not aligned with the image. Is the Radius a field different from CTRL?</span></p><p class="c12"><span class="c40 c0 c4">What are the possible values for radius?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref32" id="cmnt32">[af]</a><span class="c40 c0 c4">This is not aligned with the image. Is the Radius a field different from CTRL?</span></p><p class="c12"><span class="c40 c0 c4">What are the possible values for radius?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref33" id="cmnt33">[ag]</a><span class="c40 c0 c4">This is not aligned with the image. Is the Radius a field different from CTRL?</span></p><p class="c12"><span class="c40 c0 c4">What are the possible values for radius?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref34" id="cmnt34">[ah]</a><span class="c40 c0 c4">Right of &quot;WirelessnodeId&quot; and &quot;mqtt sn packet&quot; we should have &quot;(N)&quot; to be consistent with the other images</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref35" id="cmnt35">[ai]</a><span class="c40 c0 c4">This is not aligned with the image. Is the Radius a field different from CTRL?</span></p><p class="c12"><span class="c40 c0 c4">What are the possible values for radius?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref36" id="cmnt36">[aj]</a><span class="c40 c0 c4">This is not aligned with the image. Is the Radius a field different from CTRL?</span></p><p class="c12"><span class="c40 c0 c4">What are the possible values for radius?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref37" id="cmnt37">[ak]</a><span class="c40 c0 c4">The Sender Id maps to clientId but is not related to&nbsp; the Network Address of the sender?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref38" id="cmnt38">[al]</a><span class="c40 c0 c4">No, it is independent from the network address used</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref39" id="cmnt39">[am]</a><span class="c40 c0 c4">Break the conformance clauses out, and move&nbsp;the non-normative sections to the secutiry chapter (maybe)</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref40" id="cmnt40">[an]</a><span class="c40 c0 c4">Let us also ensure we use the title case with reason and benefit for the reader (maybe Client -&gt; client?).&nbsp;</span></p><p class="c12"><span class="c40 c0 c4">Or, did we define an actor/role &quot;Client&quot; (as a short form for &quot;MQTT-SN Client&quot; so that we can later collect conformance clauses with such a role participating to enable compliance tests?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref41" id="cmnt41">[ao]</a><span class="c40 c0 c4">All references in these table notes should correspond to informal reference entries</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref42" id="cmnt42">[ap]</a><span class="c40 c0 c4">Question: Scope of informative also includes these two behavior descriptions?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref43" id="cmnt43">[aq]</a><span class="c40 c0 c4">From https://issues.oasis-open.org/browse/MQTT-604: MQTT reserved both the UDP and TCP ports but prohibits the use of UDP,</span></p><p class="c12"><span class="c40 c0 c4">We should approach the MQTT TC to get this redesignated as MQTT/MQTT-SN.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref44" id="cmnt44">[ar]</a><span class="c40 c0 c4">IANA 8883 and 1883 for both TCP and UDP are already registered to &ldquo;Secure MQTT&rdquo; and &ldquo;MQTT&rdquo; since 2015, so I suppose the UDP ports we can be reused for MQTT-SN</span></p><p class="c12"><span class="c40 c0 c4">Furthermore in MQTT 5 specs on chapter 4.2: &ldquo;Connectionless network transports such as User Datagram Protocol (UDP) are not suitable on their own because they might lose or reorder data.&rdquo;. So there is no risk of impacting any MQTT service over UDP.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref45" id="cmnt45">[as]</a><span class="c40 c0 c4">What about the other messages like&nbsp; REGISTER, SUBSCRIBE, UNSUBSCRIBE?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref46" id="cmnt46">[at]</a><span class="c40 c0 c4">Those are not needed. The Client can do so if it wishes, but it is not mandated. This is the same as MQTT.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref47" id="cmnt47">[au]</a><span class="c40 c0 c4">Davide points out that this clause does not come from MQTT 5.0. It&#39;s probably correct for MQTT-SN, but we need to correct the previous conformance clauses which say the DUP flag is always set to 0.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref48" id="cmnt48">[av]</a><span class="c40 c0 c4">Do we miss the PINGREQ?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref49" id="cmnt49">[aw]</a><span class="c40 c0 c4">Do we miss REGISTER and PINGREQ (as on the basis of 4.22 it can be sent also by the Server)?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref50" id="cmnt50">[ax]</a><span class="c40 c0 c4">The Virtual connection is initiated by the client so how the server can retransmit something in case the Virtual Connection is deleted?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref51" id="cmnt51">[ay]</a><span class="c40 c0 c4">&quot;also&quot;? Can we specify all the use cases for the PINGREQ in its chapter or here or both?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref52" id="cmnt52">[az]</a><span class="c40 c0 c4">What happens after the N_RETRY has been reached?&nbsp;</span></p><p class="c12"><span class="c40 c0 c4">Should the client attempt a new CONNECT, so a new Virtual Connection?</span></p><p class="c12"><span class="c40 c0 c4">Should the server consider the Client in DISCONNECTED state and send the will message if any?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref53" id="cmnt53">[ba]</a><span class="c40 c0 c4">What does it mean?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref54" id="cmnt54">[bb]</a><span class="c40 c0 c4">A gateway update should not impact the devices in fields for years</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref55" id="cmnt55">[bc]</a><span class="c40 c0 c4">TODO define the reason for this</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref56" id="cmnt56">[bd]</a><span class="c40 c0 c4">What is the &quot;Reason code&quot; in this case?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref57" id="cmnt57">[be]</a><span class="c40 c0 c4">This sentence is not clear or wrong. A REGACK can&#39;t be sent in reply to a PUBLISH.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref58" id="cmnt58">[bf]</a><span class="c40 c0 c4">In chapter 2.3.3 this reason code is not listed</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref59" id="cmnt59">[bg]</a><span class="c40 c0 c4">Should we have something similar also for the CONNECT?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref60" id="cmnt60">[bh]</a><span class="c40 c0 c4">It can contain also a full topic name or a predefined topic alias or a short topic alias, right?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref61" id="cmnt61">[bi]</a><span class="c40 c0 c4">Should we add here Publish Q0S-1?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref62" id="cmnt62">[bj]</a><span class="c40 c0 c4">I don&#39;t think so. It&#39;s not part of this specification - I don&#39;t think we should mention it except in its own informative section.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref63" id="cmnt63">[bk]</a><span class="c40 c0 c4">Do these yellow&nbsp;highlights indicate content/rules and form equally to need work? I guess so.</span></p><p class="c12 c62"><span class="c40 c0 c4"></span></p><p class="c12"><span class="c40 c0 c4">Depending on the underlying &quot;rules&quot; from enforcement per either hoping, convention, or enforcement I am sure we can write this statement shorter and to the point.</span></p><p class="c12 c62"><span class="c40 c0 c4"></span></p><p class="c12"><span class="c40 c0 c4">Eg. assuming the gateways may not sync their client lists between each other, enforcement seems to be out. But is it a MUST, SHOULD or even a painful The client MAY connect to multiple same network gateways at the same time ... and then what? When we know, we can phrase.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref64" id="cmnt64">[bl]</a><span class="c40 c0 c4">The highlight indicates it should be considered a conformance clause</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref65" id="cmnt65">[bm]</a><span class="c40 c0 c4">Lets discuss the wording</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref66" id="cmnt66">[bn]</a><span class="c40 c0 c4">Either &quot;SHOULD&quot; (RFC special term) or reword</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref67" id="cmnt67">[bo]</a><span class="c40 c0 c4">The dimension is a duration which might be better memorized by readers as dT than T (which could be a specific time).</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref68" id="cmnt68">[bp]</a><span class="c40 c0 c4">I find this notation rather distracting. In mathematical displays I use subscripts mostly in complicated equation displays, but rarely with so long names (as further below T_SEARCHGW).</span></p><p class="c12"><span class="c40 c0 c4">Proposal: Let us use a function notation like T(ADVERTISE) instead of T_ADV.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref69" id="cmnt69">[bq]</a><span class="c40 c0 c4">What about writing the following instead:</span></p><p class="c12"><span class="c40 c0 c4">[...] the delay of sending the SEARCHGW packet is randomly&nbsp;picked within the closed interval [0, dT(SEARCHGW)].</span></p><p class="c12"><span class="c40 c0 c4">Question: who chooses the delay? ... and: clients receiving packets from other clients - doesn&#39;t that &quot;smear&quot; the client, server, broker roles concept without benefits?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref70" id="cmnt70">[br]</a><span class="c40 c0 c4">Is it helpful to introduce the radius term, when counting hops, which only network topologies decide upon the distance related to the number of hops? Is this radius an established term - esp. when we use it here to describe a discrete next neigbour distance.?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref71" id="cmnt71">[bs]</a><span class="c40 c0 c4">There is not a Radius field in the GWINFO packet. Is the sentence correct?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref72" id="cmnt72">[bt]</a><span class="c40 c0 c4">It means the Radius field in the SEARCHGW packet that was received before sending the GWINFO response.</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref73" id="cmnt73">[bu]</a><span class="c40 c0 c4">It should be be consistent with the Connect &quot;Keep Alive Timer&quot; chapter where we have &ldquo;If the Gateway does not receive an MQTT-SN Control Packet from the Client within one and a half times the Keep Alive time period, it MUST close the Network Connection and consider the Connection &lsquo;LOST&rsquo;.&rdquo;</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref74" id="cmnt74">[bv]</a><span class="c40 c0 c4">This is not one of the conditions indicated in 3.1.4.9 to trigger the WIll message sending</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref75" id="cmnt75">[bw]</a><span class="c40 c0 c4">We don&#39;t need this as the Virtual Connection is active?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref76" id="cmnt76">[bx]</a><span class="c40 c0 c4">It is unclear to me. Which timer is used to detect this timeout?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref77" id="cmnt77">[by]</a><span class="c40 c0 c4">So basically from the Server standpoint the LOST and DISCONNECTED Client states are identical</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref78" id="cmnt78">[bz]</a><span class="c40 c0 c4">It should reset Tretry when it sends something, right?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref79" id="cmnt79">[ca]</a><span class="c40 c0 c4">or any ack, right?</span></p></div><div class="c19"><p class="c12"><a href="#cmnt_ref80" id="cmnt80">[cb]</a><span class="c40 c0 c4">In MQTT 5 this section is a list of changes from the previous version, rather than a revision history of this document. What would we like to see here?</span></p></div></body></html>